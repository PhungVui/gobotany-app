{% extends "gobotany/_edit_base.html" %}

{% block js_require %}
    require(['editor/cv'], function (edit) {
        /* edit.setup_pile_character_page(); */
    });
{% endblock %}

{% block body_content %}

<p>← return to pile <a href="..">{{ pile.slug }}</a></p>

<h1>{{ taxon.scientific_name }}</h1>

<p>
  <span class="save-button">SAVE CHANGES</span>
</p>

<form>

<h2>Common characters</h2>

<div class="pile-character-grid taxon-character-grid">
  {% for character in common_characters %}
  <div class="charactername">{{ character.name }}</div>
  {% for value in character.values %}
  <div>
    <input id="b{{ value.id }}" type="checkbox" value="{{ value.value_str }}"
           {% if value.checked %}checked{% endif %}>
    <label for="b{{ value.id }}">
      {{ value.value_str }}
      {% if value.friendly_text %}— {{ value.friendly_text }}{% endif %}
    </label>
  </div>
  {% endfor %}
  {% endfor %}
</div>

<h2>Pile-specific characters</h2>

<div class="pile-character-grid taxon-character-grid">
  {% for character in pile_characters %}
  <div class="charactername">{{ character.name }}</div>
  {% for value in character.values %}
  <div>
    <input id="b{{ value.id }}" type="checkbox" value="{{ value.value_str }}"
           {% if value.checked %}checked{% endif %}>
    <label for="b{{ value.id }}">
      {{ value.value_str }}
      {% if value.friendly_text %}— {{ value.friendly_text }}{% endif %}
    </label>
  </div>
  {% endfor %}
  {% endfor %}
</div>

</form>

<script>
  character_values = {{ values_json|safe }};
  grid_data = {{ grid|safe }};
</script>

{% csrf_token %}

{% endblock %}
