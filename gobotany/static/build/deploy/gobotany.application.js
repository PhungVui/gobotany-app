//>>built
/*
 Color animation jQuery-plugin
 http://www.bitstorm.org/jquery/color-animation/
 Copyright 2011 Edwin Martin <edwin@bitstorm.org>
 Released under the MIT and GPL licenses.

 ==========================================================================
 Ember
 Copyright ©2006-2011, Strobe Inc. and contributors.
 Portions copyright ©2008-2011 Apple Inc. All rights reserved.

 Permission is hereby granted, free of charge, to any person obtaining a
 copy of this software and associated documentation files (the "Software"),
 to deal in the Software without restriction, including without limitation
 the rights to use, copy, modify, merge, publish, distribute, sublicense,
 and/or sell copies of the Software, and to permit persons to whom the
 Software is furnished to do so, subject to the following conditions:

 The above copyright notice and this permission notice shall be included in
 all copies or substantial portions of the Software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
 DEALINGS IN THE SOFTWARE.

 For more information about Ember, visit http://www.emberjs.com

 ==========================================================================
*/
require({cache:{"simplekey/index":function(){require(["util/activate_search_suggest","util/fade"],function(c,e){setInterval(e,6E3)})},"util/activate_search_suggest":function(){require(["dojo/ready","bridge/jquery","simplekey/resources","gobotany/sk/SearchSuggest"],function(c,e,f,b){return c(function(){var a=e("#search input").val();b(a).setup()})})},"bridge/jquery":function(){define("bridge/jquery",["jquery/jquery.tools.min"],function(c){window.$&&(c=window.$);return c})},"jquery/jquery.tools.min":function(){define(["dojo",
"dijit","dojox"],function(){(function(c,e){function f(a){return l.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}function b(a){if(!Pa[a]){var b=y.body,d=l("<"+a+">").appendTo(b),c=d.css("display");d.remove();if("none"===c||""===c){ua||(ua=y.createElement("iframe"),ua.frameBorder=ua.width=ua.height=0);b.appendChild(ua);if(!Ea||!ua.createElement)Ea=(ua.contentWindow||ua.contentDocument).document,Ea.write(("CSS1Compat"===y.compatMode?"<!doctype html>":"")+"<html><body>"),Ea.close();d=
Ea.createElement(a);Ea.body.appendChild(d);c=l.css(d,"display");b.removeChild(ua)}Pa[a]=c}return Pa[a]}function a(a,b){var d={};l.each(Ta.concat.apply([],Ta.slice(0,b)),function(){d[this]=a});return d}function g(){Ma=e}function j(){setTimeout(g,0);return Ma=l.now()}function k(){try{return new c.XMLHttpRequest}catch(a){}}function h(a,b,d,c){if(l.isArray(b))l.each(b,function(b,g){d||Qa.test(a)?c(a,g):h(a+"["+("object"==typeof g||l.isArray(g)?b:"")+"]",g,d,c)});else if(!d&&null!=b&&"object"==typeof b)for(var g in b)h(a+
"["+g+"]",b[g],d,c);else c(a,b)}function d(a,b){var d,c,g=l.ajaxSettings.flatOptions||{};for(d in b)b[d]!==e&&((g[d]?a:c||(c={}))[d]=b[d]);c&&l.extend(!0,a,c)}function m(a,b,d,c,g,h){g=g||b.dataTypes[0];h=h||{};h[g]=!0;for(var g=a[g],f=0,j=g?g.length:0,l=a===Ra,k;f<j&&(l||!k);f++)k=g[f](b,d,c),"string"==typeof k&&(!l||h[k]?k=e:(b.dataTypes.unshift(k),k=m(a,b,d,c,k,h)));(l||!k)&&!h["*"]&&(k=m(a,b,d,c,"*",h));return k}function p(a){return function(b,d){"string"!=typeof b&&(d=b,b="*");if(l.isFunction(d))for(var c=
b.toLowerCase().split(Ua),g=0,e=c.length,h,f;g<e;g++)h=c[g],(f=/^\+/.test(h))&&(h=h.substr(1)||"*"),h=a[h]=a[h]||[],h[f?"unshift":"push"](d)}}function o(a,b,d){var c="width"===b?a.offsetWidth:a.offsetHeight,g="width"===b?cb:db;if(0<c)return"border"!==d&&l.each(g,function(){d||(c-=parseFloat(l.css(a,"padding"+this))||0);"margin"===d?c+=parseFloat(l.css(a,d+this))||0:c-=parseFloat(l.css(a,"border"+this+"Width"))||0}),c+"px";c=Fa(a,b,b);if(0>c||null==c)c=a.style[b]||0;c=parseFloat(c)||0;d&&l.each(g,
function(){c+=parseFloat(l.css(a,"padding"+this))||0;"padding"!==d&&(c+=parseFloat(l.css(a,"border"+this+"Width"))||0);"margin"===d&&(c+=parseFloat(l.css(a,d+this))||0)});return c+"px"}function q(a,b){b.src?l.ajax({url:b.src,async:!1,dataType:"script"}):l.globalEval((b.text||b.textContent||b.innerHTML||"").replace(Ga,"/*$0*/"));b.parentNode&&b.parentNode.removeChild(b)}function s(a){l.nodeName(a,"input")?u(a):"getElementsByTagName"in a&&l.grep(a.getElementsByTagName("input"),u)}function u(a){if("checkbox"===
a.type||"radio"===a.type)a.defaultChecked=a.checked}function t(a){return"getElementsByTagName"in a?a.getElementsByTagName("*"):"querySelectorAll"in a?a.querySelectorAll("*"):[]}function v(a,b){var d;if(1===b.nodeType){b.clearAttributes&&b.clearAttributes();b.mergeAttributes&&b.mergeAttributes(a);d=b.nodeName.toLowerCase();if("object"===d)b.outerHTML=a.outerHTML;else if("input"!==d||"checkbox"!==a.type&&"radio"!==a.type)if("option"===d)b.selected=a.defaultSelected;else{if("input"===d||"textarea"===
d)b.defaultValue=a.defaultValue}else a.checked&&(b.defaultChecked=b.checked=a.checked),b.value!==a.value&&(b.value=a.value);b.removeAttribute(l.expando)}}function z(a,b){if(1===b.nodeType&&l.hasData(a)){var d=l.expando,c=l.data(a),g=l.data(b,c);if(c=c[d]){var e=c.events,g=g[d]=l.extend({},c);if(e){delete g.handle;g.events={};for(var h in e){d=0;for(c=e[h].length;d<c;d++)l.event.add(b,h+(e[h][d].namespace?".":"")+e[h][d].namespace,e[h][d],e[h][d].data)}}}}}function w(a,b,d){b=b||0;if(l.isFunction(b))return l.grep(a,
function(a,c){return!!b.call(a,c,a)===d});if(b.nodeType)return l.grep(a,function(a){return a===b===d});if("string"==typeof b){var c=l.grep(a,function(a){return 1===a.nodeType});if(qa.test(b))return l.filter(b,c,!d);b=l.filter(b,c)}return l.grep(a,function(a){return 0<=l.inArray(a,b)===d})}function x(a,b){return(a&&"*"!==a?a+".":"")+b.replace(V,"`").replace(ga,"&")}function r(a){var b,d,c,g,e,h,f,j,k,m,p,o=[];g=[];e=l._data(this,"events");if(!(a.liveFired===this||!e||!e.live||a.target.disabled||a.button&&
"click"===a.type)){a.namespace&&(p=RegExp("(^|\\.)"+a.namespace.split(".").join("\\.(?:.*\\.)?")+"(\\.|$)"));a.liveFired=this;var q=e.live.slice(0);for(f=0;f<q.length;f++)e=q[f],e.origType.replace(va,"")===a.type?g.push(e.selector):q.splice(f--,1);g=l(a.target).closest(g,a.currentTarget);j=0;for(k=g.length;j<k;j++){m=g[j];for(f=0;f<q.length;f++)if(e=q[f],m.selector===e.selector&&(!p||p.test(e.namespace))&&!m.elem.disabled){h=m.elem;c=null;if("mouseenter"===e.preType||"mouseleave"===e.preType)a.type=
e.preType,(c=l(a.relatedTarget).closest(e.selector)[0])&&l.contains(h,c)&&(c=h);(!c||c!==h)&&o.push({elem:h,handleObj:e,level:m.level})}}j=0;for(k=o.length;j<k;j++){g=o[j];if(d&&g.level>d)break;a.currentTarget=g.elem;a.data=g.handleObj.data;a.handleObj=g.handleObj;p=g.handleObj.origHandler.apply(g.elem,arguments);if(!1===p||a.isPropagationStopped())if(d=g.level,!1===p&&(b=!1),a.isImmediatePropagationStopped())break}return b}}function B(a,b,d){var c=l.extend({},d[0]);c.type=a;c.originalEvent={};c.liveFired=
e;l.event.handle.call(b,c);c.isDefaultPrevented()&&d[0].preventDefault()}function A(){return!0}function C(){return!1}function D(a,b,d){var c=b+"defer",g=b+"queue",h=b+"mark",f=l.data(a,c,e,!0);f&&("queue"===d||!l.data(a,g,e,!0))&&("mark"===d||!l.data(a,h,e,!0))&&setTimeout(function(){!l.data(a,g,e,!0)&&!l.data(a,h,e,!0)&&(l.removeData(a,c,!0),f.resolve())},0)}function F(a){for(var b in a)if("toJSON"!==b)return!1;return!0}function E(a,b,d){if(d===e&&1===a.nodeType)if(d="data-"+b.replace(ma,"-$1").toLowerCase(),
d=a.getAttribute(d),"string"==typeof d){try{d="true"===d?!0:"false"===d?!1:"null"===d?null:l.isNaN(d)?N.test(d)?l.parseJSON(d):d:parseFloat(d)}catch(c){}l.data(a,b,d)}else d=e;return d}var y=c.document,J=c.navigator,H=c.location,l=function(){function a(){if(!b.isReady){try{y.documentElement.doScroll("left")}catch(d){setTimeout(a,1);return}b.ready()}}var b=function(a,d){return new b.fn.init(a,d,h)},d=c.jQuery,g=c.$,h,f=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,j=/\S/,l=/^\s+/,k=/\s+$/,m=/\d/,p=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,
o=/^[\],:{}\s]*$/,q=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,t=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,s=/(?:^|:|,)(?:\s*\[)+/g,u=/(webkit)[ \/]([\w.]+)/,n=/(opera)(?:.*version)?[ \/]([\w.]+)/,v=/(msie) ([\w.]+)/,r=/(mozilla)(?:.*? rv:([\w.]+))?/,z=/-([a-z]|[0-9])/ig,w=/^-ms-/,E=function(a,b){return(b+"").toUpperCase()},aa=J.userAgent,x,fa,A=Object.prototype.toString,G=Object.prototype.hasOwnProperty,B=Array.prototype.push,ca=Array.prototype.slice,K=String.prototype.trim,xa=
Array.prototype.indexOf,za={};b.fn=b.prototype={constructor:b,init:function(a,d,c){var g,h;if(!a)return this;if(a.nodeType)return this.context=this[0]=a,this.length=1,this;if("body"===a&&!d&&y.body)return this.context=y,this[0]=y.body,this.selector=a,this.length=1,this;if("string"==typeof a){"<"!==a.charAt(0)||">"!==a.charAt(a.length-1)||3>a.length?g=f.exec(a):g=[null,a,null];if(g&&(g[1]||!d)){if(g[1])return h=(d=d instanceof b?d[0]:d)?d.ownerDocument||d:y,(c=p.exec(a))?b.isPlainObject(d)?(a=[y.createElement(c[1])],
b.fn.attr.call(a,d,!0)):a=[h.createElement(c[1])]:(c=b.buildFragment([g[1]],[h]),a=(c.cacheable?b.clone(c.fragment):c.fragment).childNodes),b.merge(this,a);if((d=y.getElementById(g[2]))&&d.parentNode){if(d.id!==g[2])return c.find(a);this.length=1;this[0]=d}this.context=y;this.selector=a;return this}return!d||d.jquery?(d||c).find(a):this.constructor(d).find(a)}if(b.isFunction(a))return c.ready(a);a.selector!==e&&(this.selector=a.selector,this.context=a.context);return b.makeArray(a,this)},selector:"",
jquery:"1.6.4",length:0,size:function(){return this.length},toArray:function(){return ca.call(this,0)},get:function(a){return null==a?this.toArray():0>a?this[this.length+a]:this[a]},pushStack:function(a,d,c){var g=this.constructor();b.isArray(a)?B.apply(g,a):b.merge(g,a);g.prevObject=this;g.context=this.context;"find"===d?g.selector=this.selector+(this.selector?" ":"")+c:d&&(g.selector=this.selector+"."+d+"("+c+")");return g},each:function(a,d){return b.each(this,a,d)},ready:function(a){b.bindReady();
x.done(a);return this},eq:function(a){return-1===a?this.slice(a):this.slice(a,+a+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(ca.apply(this,arguments),"slice",ca.call(arguments).join(","))},map:function(a){return this.pushStack(b.map(this,function(b,d){return a.call(b,d,b)}))},end:function(){return this.prevObject||this.constructor(null)},push:B,sort:[].sort,splice:[].splice};b.fn.init.prototype=b.fn;b.extend=b.fn.extend=function(){var a,
d,c,g,h,f,j=arguments[0]||{},l=1,pa=arguments.length,k=!1;"boolean"==typeof j&&(k=j,j=arguments[1]||{},l=2);"object"!=typeof j&&!b.isFunction(j)&&(j={});for(pa===l&&(j=this,--l);l<pa;l++)if(null!=(a=arguments[l]))for(d in a)c=j[d],g=a[d],j!==g&&(k&&g&&(b.isPlainObject(g)||(h=b.isArray(g)))?(h?(h=!1,f=c&&b.isArray(c)?c:[]):f=c&&b.isPlainObject(c)?c:{},j[d]=b.extend(k,f,g)):g!==e&&(j[d]=g));return j};b.extend({noConflict:function(a){c.$===b&&(c.$=g);a&&c.jQuery===b&&(c.jQuery=d);return b},isReady:!1,
readyWait:1,holdReady:function(a){a?b.readyWait++:b.ready(!0)},ready:function(a){if(!0===a&&!--b.readyWait||!0!==a&&!b.isReady){if(!y.body)return setTimeout(b.ready,1);b.isReady=!0;!0!==a&&0<--b.readyWait||(x.resolveWith(y,[b]),b.fn.trigger&&b(y).trigger("ready").unbind("ready"))}},bindReady:function(){if(!x){x=b._Deferred();if("complete"===y.readyState)return setTimeout(b.ready,1);if(y.addEventListener)y.addEventListener("DOMContentLoaded",fa,!1),c.addEventListener("load",b.ready,!1);else if(y.attachEvent){y.attachEvent("onreadystatechange",
fa);c.attachEvent("onload",b.ready);var d=!1;try{d=null==c.frameElement}catch(g){}y.documentElement.doScroll&&d&&a()}}},isFunction:function(a){return"function"===b.type(a)},isArray:Array.isArray||function(a){return"array"===b.type(a)},isWindow:function(a){return a&&"object"==typeof a&&"setInterval"in a},isNaN:function(a){return null==a||!m.test(a)||isNaN(a)},type:function(a){return null==a?""+a:za[A.call(a)]||"object"},isPlainObject:function(a){if(!a||"object"!==b.type(a)||a.nodeType||b.isWindow(a))return!1;
try{if(a.constructor&&!G.call(a,"constructor")&&!G.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(d){return!1}for(var c in a);return c===e||G.call(a,c)},isEmptyObject:function(a){for(var b in a)return!1;return!0},error:function(a){throw a;},parseJSON:function(a){if("string"!=typeof a||!a)return null;a=b.trim(a);if(c.JSON&&c.JSON.parse)return c.JSON.parse(a);if(o.test(a.replace(q,"@").replace(t,"]").replace(s,"")))return(new Function("return "+a))();b.error("Invalid JSON: "+a)},parseXML:function(a){var d,
g;try{c.DOMParser?(g=new DOMParser,d=g.parseFromString(a,"text/xml")):(d=new ActiveXObject("Microsoft.XMLDOM"),d.async="false",d.loadXML(a))}catch(h){d=e}(!d||!d.documentElement||d.getElementsByTagName("parsererror").length)&&b.error("Invalid XML: "+a);return d},noop:function(){},globalEval:function(a){a&&j.test(a)&&(c.execScript||function(a){c.eval.call(c,a)})(a)},camelCase:function(a){return a.replace(w,"ms-").replace(z,E)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toUpperCase()===b.toUpperCase()},
each:function(a,d,c){var g,h=0,f=a.length,j=f===e||b.isFunction(a);if(c)if(j)for(g in a){if(!1===d.apply(a[g],c))break}else for(;h<f&&!1!==d.apply(a[h++],c););else if(j)for(g in a){if(!1===d.call(a[g],g,a[g]))break}else for(;h<f&&!1!==d.call(a[h],h,a[h++]););return a},trim:K?function(a){return null==a?"":K.call(a)}:function(a){return null==a?"":(a+"").replace(l,"").replace(k,"")},makeArray:function(a,d){var c=d||[];if(null!=a){var g=b.type(a);null==a.length||"string"===g||"function"===g||"regexp"===
g||b.isWindow(a)?B.call(c,a):b.merge(c,a)}return c},inArray:function(a,b){if(!b)return-1;if(xa)return xa.call(b,a);for(var d=0,c=b.length;d<c;d++)if(b[d]===a)return d;return-1},merge:function(a,b){var d=a.length,c=0;if("number"==typeof b.length)for(var g=b.length;c<g;c++)a[d++]=b[c];else for(;b[c]!==e;)a[d++]=b[c++];a.length=d;return a},grep:function(a,b,d){for(var c=[],g,d=!!d,e=0,h=a.length;e<h;e++)g=!!b(a[e],e),d!==g&&c.push(a[e]);return c},map:function(a,d,c){var g,h,f=[],j=0,l=a.length;if(a instanceof
b||l!==e&&"number"==typeof l&&(0<l&&a[0]&&a[l-1]||0===l||b.isArray(a)))for(;j<l;j++)g=d(a[j],j,c),null!=g&&(f[f.length]=g);else for(h in a)g=d(a[h],h,c),null!=g&&(f[f.length]=g);return f.concat.apply([],f)},guid:1,proxy:function(a,d){if("string"==typeof d)var c=a[d],d=a,a=c;if(!b.isFunction(a))return e;var g=ca.call(arguments,2),c=function(){return a.apply(d,g.concat(ca.call(arguments)))};c.guid=a.guid=a.guid||c.guid||b.guid++;return c},access:function(a,d,c,g,h,f){var j=a.length;if("object"==typeof d){for(var l in d)b.access(a,
l,d[l],g,h,c);return a}if(c!==e){g=!f&&g&&b.isFunction(c);for(l=0;l<j;l++)h(a[l],d,g?c.call(a[l],l,h(a[l],d)):c,f);return a}return j?h(a[0],d):e},now:function(){return(new Date).getTime()},uaMatch:function(a){a=a.toLowerCase();a=u.exec(a)||n.exec(a)||v.exec(a)||0>a.indexOf("compatible")&&r.exec(a)||[];return{browser:a[1]||"",version:a[2]||"0"}},sub:function(){function a(b,d){return new a.fn.init(b,d)}b.extend(!0,a,this);a.superclass=this;a.fn=a.prototype=this();a.fn.constructor=a;a.sub=this.sub;a.fn.init=
function(c,g){g&&g instanceof b&&!(g instanceof a)&&(g=a(g));return b.fn.init.call(this,c,g,d)};a.fn.init.prototype=a.fn;var d=a(y);return a},browser:{}});b.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(a,b){za["[object "+b+"]"]=b.toLowerCase()});aa=b.uaMatch(aa);aa.browser&&(b.browser[aa.browser]=!0,b.browser.version=aa.version);b.browser.webkit&&(b.browser.safari=!0);j.test("\u00a0")&&(l=/^[\s\xA0]+/,k=/[\s\xA0]+$/);h=b(y);y.addEventListener?fa=function(){y.removeEventListener("DOMContentLoaded",
fa,!1);b.ready()}:y.attachEvent&&(fa=function(){"complete"===y.readyState&&(y.detachEvent("onreadystatechange",fa),b.ready())});return b}(),G="done fail isResolved isRejected promise then always pipe".split(" "),K=[].slice;l.extend({_Deferred:function(){var a=[],b,d,c,g={done:function(){if(!c){var d=arguments,e,h,f,j,k;b&&(k=b,b=0);e=0;for(h=d.length;e<h;e++)f=d[e],j=l.type(f),"array"===j?g.done.apply(g,f):"function"===j&&a.push(f);k&&g.resolveWith(k[0],k[1])}return this},resolveWith:function(g,e){if(!c&&
!b&&!d){e=e||[];d=1;try{for(;a[0];)a.shift().apply(g,e)}finally{b=[g,e],d=0}}return this},resolve:function(){g.resolveWith(this,arguments);return this},isResolved:function(){return!!d||!!b},cancel:function(){c=1;a=[];return this}};return g},Deferred:function(a){var b=l._Deferred(),d=l._Deferred(),c;l.extend(b,{then:function(a,d){b.done(a).fail(d);return this},always:function(){return b.done.apply(b,arguments).fail.apply(this,arguments)},fail:d.done,rejectWith:d.resolveWith,reject:d.resolve,isRejected:d.isResolved,
pipe:function(a,d){return l.Deferred(function(c){l.each({done:[a,"resolve"],fail:[d,"reject"]},function(a,d){var g=d[0],e=d[1],h;l.isFunction(g)?b[a](function(){(h=g.apply(this,arguments))&&l.isFunction(h.promise)?h.promise().then(c.resolve,c.reject):c[e+"With"](this===b?c:this,[h])}):b[a](c[e])})}).promise()},promise:function(a){if(null==a){if(c)return c;c=a={}}for(var d=G.length;d--;)a[G[d]]=b[G[d]];return a}});b.done(d.cancel).fail(b.cancel);delete b.cancel;a&&a.call(b,b);return b},when:function(a){function b(a){return function(b){d[a]=
1<arguments.length?K.call(arguments,0):b;--e||h.resolveWith(h,K.call(d,0))}}var d=arguments,c=0,g=d.length,e=g,h=1>=g&&a&&l.isFunction(a.promise)?a:l.Deferred();if(1<g){for(;c<g;c++)d[c]&&l.isFunction(d[c].promise)?d[c].promise().then(b(c),h.reject):--e;e||h.resolveWith(h,d)}else h!==a&&h.resolveWith(h,g?[a]:[]);return h.promise()}});l.support=function(){var a=y.createElement("div"),b=y.documentElement,d,c,g,e,h,f,j;a.setAttribute("className","t");a.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>";
d=a.getElementsByTagName("*");c=a.getElementsByTagName("a")[0];if(!d||!d.length||!c)return{};g=y.createElement("select");e=g.appendChild(y.createElement("option"));d=a.getElementsByTagName("input")[0];f={leadingWhitespace:3===a.firstChild.nodeType,tbody:!a.getElementsByTagName("tbody").length,htmlSerialize:!!a.getElementsByTagName("link").length,style:/top/.test(c.getAttribute("style")),hrefNormalized:"/a"===c.getAttribute("href"),opacity:/^0.55$/.test(c.style.opacity),cssFloat:!!c.style.cssFloat,
checkOn:"on"===d.value,optSelected:e.selected,getSetAttribute:"t"!==a.className,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0};d.checked=!0;f.noCloneChecked=d.cloneNode(!0).checked;g.disabled=!0;f.optDisabled=!e.disabled;try{delete a.test}catch(k){f.deleteExpando=!1}!a.addEventListener&&a.attachEvent&&a.fireEvent&&(a.attachEvent("onclick",function(){f.noCloneEvent=!1}),a.cloneNode(!0).fireEvent("onclick"));
d=y.createElement("input");d.value="t";d.setAttribute("type","radio");f.radioValue="t"===d.value;d.setAttribute("checked","checked");a.appendChild(d);c=y.createDocumentFragment();c.appendChild(a.firstChild);f.checkClone=c.cloneNode(!0).cloneNode(!0).lastChild.checked;a.innerHTML="";a.style.width=a.style.paddingLeft="1px";g=y.getElementsByTagName("body")[0];c=y.createElement(g?"div":"body");e={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};g&&l.extend(e,{position:"absolute",
left:"-1000px",top:"-1000px"});for(j in e)c.style[j]=e[j];c.appendChild(a);b=g||b;b.insertBefore(c,b.firstChild);f.appendChecked=d.checked;f.boxModel=2===a.offsetWidth;"zoom"in a.style&&(a.style.display="inline",a.style.zoom=1,f.inlineBlockNeedsLayout=2===a.offsetWidth,a.style.display="",a.innerHTML="<div style='width:4px;'></div>",f.shrinkWrapBlocks=2!==a.offsetWidth);a.innerHTML="<table><tr><td style='padding:0;border:0;display:none'></td><td>t</td></tr></table>";g=a.getElementsByTagName("td");
d=0===g[0].offsetHeight;g[0].style.display="";g[1].style.display="none";f.reliableHiddenOffsets=d&&0===g[0].offsetHeight;a.innerHTML="";y.defaultView&&y.defaultView.getComputedStyle&&(h=y.createElement("div"),h.style.width="0",h.style.marginRight="0",a.appendChild(h),f.reliableMarginRight=0===(parseInt((y.defaultView.getComputedStyle(h,null)||{marginRight:0}).marginRight,10)||0));c.innerHTML="";b.removeChild(c);if(a.attachEvent)for(j in{submit:1,change:1,focusin:1})h="on"+j,(d=h in a)||(a.setAttribute(h,
"return;"),d="function"==typeof a[h]),f[j+"Bubbles"]=d;c=c=g=e=g=h=a=d=null;return f}();l.boxModel=l.support.boxModel;var N=/^(?:\{.*\}|\[.*\])$/,ma=/([A-Z])/g;l.extend({cache:{},uuid:0,expando:"jQuery"+(l.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(a){a=a.nodeType?l.cache[a[l.expando]]:a[l.expando];return!!a&&!F(a)},data:function(a,b,d,c){if(l.acceptData(a)){var g,h=l.expando,f="string"==typeof b,j=a.nodeType,
k=j?l.cache:a,m=j?a[l.expando]:a[l.expando]&&l.expando;if(m&&(!c||!m||!k[m]||k[m][h])||!(f&&d===e)){m||(j?a[l.expando]=m=++l.uuid:m=l.expando);k[m]||(k[m]={},j||(k[m].toJSON=l.noop));if("object"==typeof b||"function"==typeof b)c?k[m][h]=l.extend(k[m][h],b):k[m]=l.extend(k[m],b);a=k[m];c&&(a[h]||(a[h]={}),a=a[h]);d!==e&&(a[l.camelCase(b)]=d);if("events"===b&&!a[b])return a[h]&&a[h].events;f?(g=a[b],null==g&&(g=a[l.camelCase(b)])):g=a;return g}}},removeData:function(a,b,d){if(l.acceptData(a)){var c,
g=l.expando,e=a.nodeType,h=e?l.cache:a,f=e?a[l.expando]:l.expando;if(h[f]){if(b&&(c=d?h[f][g]:h[f]))if(c[b]||(b=l.camelCase(b)),delete c[b],!F(c))return;if(d&&(delete h[f][g],!F(h[f])))return;b=h[f][g];l.support.deleteExpando||!h.setInterval?delete h[f]:h[f]=null;b?(h[f]={},e||(h[f].toJSON=l.noop),h[f][g]=b):e&&(l.support.deleteExpando?delete a[l.expando]:a.removeAttribute?a.removeAttribute(l.expando):a[l.expando]=null)}}},_data:function(a,b,d){return l.data(a,b,d,!0)},acceptData:function(a){if(a.nodeName){var b=
l.noData[a.nodeName.toLowerCase()];if(b)return!0!==b&&a.getAttribute("classid")===b}return!0}});l.fn.extend({data:function(a,b){var d=null;if("undefined"==typeof a){if(this.length&&(d=l.data(this[0]),1===this[0].nodeType))for(var c=this[0].attributes,g,h=0,f=c.length;h<f;h++)g=c[h].name,0===g.indexOf("data-")&&(g=l.camelCase(g.substring(5)),E(this[0],g,d[g]));return d}if("object"==typeof a)return this.each(function(){l.data(this,a)});var j=a.split(".");j[1]=j[1]?"."+j[1]:"";return b===e?(d=this.triggerHandler("getData"+
j[1]+"!",[j[0]]),d===e&&this.length&&(d=l.data(this[0],a),d=E(this[0],a,d)),d===e&&j[1]?this.data(j[0]):d):this.each(function(){var d=l(this),c=[j[0],b];d.triggerHandler("setData"+j[1]+"!",c);l.data(this,a,b);d.triggerHandler("changeData"+j[1]+"!",c)})},removeData:function(a){return this.each(function(){l.removeData(this,a)})}});l.extend({_mark:function(a,b){a&&(b=(b||"fx")+"mark",l.data(a,b,(l.data(a,b,e,!0)||0)+1,!0))},_unmark:function(a,b,d){!0!==a&&(d=b,b=a,a=!1);if(b){var d=d||"fx",c=d+"mark";
(a=a?0:(l.data(b,c,e,!0)||1)-1)?l.data(b,c,a,!0):(l.removeData(b,c,!0),D(b,d,"mark"))}},queue:function(a,b,d){if(a){var b=(b||"fx")+"queue",c=l.data(a,b,e,!0);d&&(!c||l.isArray(d)?c=l.data(a,b,l.makeArray(d),!0):c.push(d));return c||[]}},dequeue:function(a,b){var b=b||"fx",d=l.queue(a,b),c=d.shift();"inprogress"===c&&(c=d.shift());c&&("fx"===b&&d.unshift("inprogress"),c.call(a,function(){l.dequeue(a,b)}));d.length||(l.removeData(a,b+"queue",!0),D(a,b,"queue"))}});l.fn.extend({queue:function(a,b){"string"!=
typeof a&&(b=a,a="fx");return b===e?l.queue(this[0],a):this.each(function(){var d=l.queue(this,a,b);"fx"===a&&"inprogress"!==d[0]&&l.dequeue(this,a)})},dequeue:function(a){return this.each(function(){l.dequeue(this,a)})},delay:function(a,b){a=l.fx?l.fx.speeds[a]||a:a;b=b||"fx";return this.queue(b,function(){var d=this;setTimeout(function(){l.dequeue(d,b)},a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a){function b(){--h||d.resolveWith(c,[c])}"string"!=typeof a&&(a=e);
for(var a=a||"fx",d=l.Deferred(),c=this,g=c.length,h=1,f=a+"defer",j=a+"queue",a=a+"mark",k;g--;)if(k=l.data(c[g],f,e,!0)||(l.data(c[g],j,e,!0)||l.data(c[g],a,e,!0))&&l.data(c[g],f,l._Deferred(),!0))h++,k.done(b);b();return d.promise()}});var na=/[\n\t\r]/g,n=/\s+/,I=/\r/g,O=/^(?:button|input)$/i,R=/^(?:button|input|object|select|textarea)$/i,P=/^a(?:rea)?$/i,M=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,U,L;l.fn.extend({attr:function(a,
b){return l.access(this,a,b,!0,l.attr)},removeAttr:function(a){return this.each(function(){l.removeAttr(this,a)})},prop:function(a,b){return l.access(this,a,b,!0,l.prop)},removeProp:function(a){a=l.propFix[a]||a;return this.each(function(){try{this[a]=e,delete this[a]}catch(b){}})},addClass:function(a){var b,d,c,g,e,h,f;if(l.isFunction(a))return this.each(function(b){l(this).addClass(a.call(this,b,this.className))});if(a&&"string"==typeof a){b=a.split(n);d=0;for(c=this.length;d<c;d++)if(g=this[d],
1===g.nodeType)if(!g.className&&1===b.length)g.className=a;else{e=" "+g.className+" ";h=0;for(f=b.length;h<f;h++)~e.indexOf(" "+b[h]+" ")||(e+=b[h]+" ");g.className=l.trim(e)}}return this},removeClass:function(a){var b,d,c,g,h,f,j;if(l.isFunction(a))return this.each(function(b){l(this).removeClass(a.call(this,b,this.className))});if(a&&"string"==typeof a||a===e){b=(a||"").split(n);d=0;for(c=this.length;d<c;d++)if(g=this[d],1===g.nodeType&&g.className)if(a){h=(" "+g.className+" ").replace(na," ");
f=0;for(j=b.length;f<j;f++)h=h.replace(" "+b[f]+" "," ");g.className=l.trim(h)}else g.className=""}return this},toggleClass:function(a,b){var d=typeof a,c="boolean"==typeof b;return l.isFunction(a)?this.each(function(d){l(this).toggleClass(a.call(this,d,this.className,b),b)}):this.each(function(){if("string"===d)for(var g,e=0,h=l(this),f=b,j=a.split(n);g=j[e++];)f=c?f:!h.hasClass(g),h[f?"addClass":"removeClass"](g);else if("undefined"===d||"boolean"===d)this.className&&l._data(this,"__className__",
this.className),this.className=this.className||!1===a?"":l._data(this,"__className__")||""})},hasClass:function(a){for(var a=" "+a+" ",b=0,d=this.length;b<d;b++)if(1===this[b].nodeType&&-1<(" "+this[b].className+" ").replace(na," ").indexOf(a))return!0;return!1},val:function(a){var b,d,c=this[0];if(!arguments.length){if(c){if((b=l.valHooks[c.nodeName.toLowerCase()]||l.valHooks[c.type])&&"get"in b&&(d=b.get(c,"value"))!==e)return d;d=c.value;return"string"==typeof d?d.replace(I,""):null==d?"":d}return e}var g=
l.isFunction(a);return this.each(function(d){var c=l(this),h;if(1===this.nodeType&&(g?h=a.call(this,d,c.val()):h=a,null==h?h="":"number"==typeof h?h+="":l.isArray(h)&&(h=l.map(h,function(a){return a==null?"":a+""})),b=l.valHooks[this.nodeName.toLowerCase()]||l.valHooks[this.type],!b||!("set"in b)||b.set(this,h,"value")===e))this.value=h})}});l.extend({valHooks:{option:{get:function(a){var b=a.attributes.value;return!b||b.specified?a.value:a.text}},select:{get:function(a){var b,d=a.selectedIndex,c=
[],g=a.options,a="select-one"===a.type;if(0>d)return null;for(var e=a?d:0,h=a?d+1:g.length;e<h;e++)if(b=g[e],b.selected&&(l.support.optDisabled?!b.disabled:null===b.getAttribute("disabled"))&&(!b.parentNode.disabled||!l.nodeName(b.parentNode,"optgroup"))){b=l(b).val();if(a)return b;c.push(b)}return a&&!c.length&&g.length?l(g[d]).val():c},set:function(a,b){var d=l.makeArray(b);l(a).find("option").each(function(){this.selected=0<=l.inArray(l(this).val(),d)});d.length||(a.selectedIndex=-1);return d}}},
attrFn:{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0},attrFix:{tabindex:"tabIndex"},attr:function(a,b,d,c){var g=a.nodeType;if(!a||3===g||8===g||2===g)return e;if(c&&b in l.attrFn)return l(a)[b](d);if(!("getAttribute"in a))return l.prop(a,b,d);var h,f;(c=1!==g||!l.isXMLDoc(a))&&(b=l.attrFix[b]||b,f=l.attrHooks[b],f||(M.test(b)?f=L:U&&(f=U)));if(d!==e){if(null===d)return l.removeAttr(a,b),e;if(f&&"set"in f&&c&&(h=f.set(a,d,b))!==e)return h;a.setAttribute(b,""+d);return d}if(f&&
"get"in f&&c&&null!==(h=f.get(a,b)))return h;h=a.getAttribute(b);return null===h?e:h},removeAttr:function(a,b){var d;1===a.nodeType&&(b=l.attrFix[b]||b,l.attr(a,b,""),a.removeAttribute(b),M.test(b)&&(d=l.propFix[b]||b)in a&&(a[d]=!1))},attrHooks:{type:{set:function(a,b){if(O.test(a.nodeName)&&a.parentNode)l.error("type property can't be changed");else if(!l.support.radioValue&&"radio"===b&&l.nodeName(a,"input")){var d=a.value;a.setAttribute("type",b);d&&(a.value=d);return b}}},value:{get:function(a,
b){return U&&l.nodeName(a,"button")?U.get(a,b):b in a?a.value:null},set:function(a,b,d){if(U&&l.nodeName(a,"button"))return U.set(a,b,d);a.value=b}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(a,b,d){var c=a.nodeType;if(!a||3===c||8===c||2===c)return e;var g,
h;(1!==c||!l.isXMLDoc(a))&&(b=l.propFix[b]||b,h=l.propHooks[b]);return d!==e?h&&"set"in h&&(g=h.set(a,d,b))!==e?g:a[b]=d:h&&"get"in h&&null!==(g=h.get(a,b))?g:a[b]},propHooks:{tabIndex:{get:function(a){var b=a.getAttributeNode("tabindex");return b&&b.specified?parseInt(b.value,10):R.test(a.nodeName)||P.test(a.nodeName)&&a.href?0:e}}}});l.attrHooks.tabIndex=l.propHooks.tabIndex;L={get:function(a,b){var d;return!0===l.prop(a,b)||(d=a.getAttributeNode(b))&&!1!==d.nodeValue?b.toLowerCase():e},set:function(a,
b,d){var c;!1===b?l.removeAttr(a,d):(c=l.propFix[d]||d,c in a&&(a[c]=!0),a.setAttribute(d,d.toLowerCase()));return d}};l.support.getSetAttribute||(U=l.valHooks.button={get:function(a,b){var d;return(d=a.getAttributeNode(b))&&""!==d.nodeValue?d.nodeValue:e},set:function(a,b,d){var c=a.getAttributeNode(d);c||(c=y.createAttribute(d),a.setAttributeNode(c));return c.nodeValue=b+""}},l.each(["width","height"],function(a,b){l.attrHooks[b]=l.extend(l.attrHooks[b],{set:function(a,d){if(""===d)return a.setAttribute(b,
"auto"),d}})}));l.support.hrefNormalized||l.each(["href","src","width","height"],function(a,b){l.attrHooks[b]=l.extend(l.attrHooks[b],{get:function(a){a=a.getAttribute(b,2);return null===a?e:a}})});l.support.style||(l.attrHooks.style={get:function(a){return a.style.cssText.toLowerCase()||e},set:function(a,b){return a.style.cssText=""+b}});l.support.optSelected||(l.propHooks.selected=l.extend(l.propHooks.selected,{get:function(a){a=a.parentNode;a&&(a.selectedIndex,a.parentNode&&a.parentNode.selectedIndex);
return null}}));l.support.checkOn||l.each(["radio","checkbox"],function(){l.valHooks[this]={get:function(a){return null===a.getAttribute("value")?"on":a.value}}});l.each(["radio","checkbox"],function(){l.valHooks[this]=l.extend(l.valHooks[this],{set:function(a,b){if(l.isArray(b))return a.checked=0<=l.inArray(l(a).val(),b)}})});var va=/\.(.*)$/,ra=/^(?:textarea|input|select)$/i,V=/\./g,ga=/ /g,S=/[^\w\s.|`]/g,ia=function(a){return a.replace(S,"\\$&")};l.event={add:function(a,b,d,c){if(3!==a.nodeType&&
8!==a.nodeType){if(!1===d)d=C;else if(!d)return;var g,h;d.handler&&(g=d,d=g.handler);d.guid||(d.guid=l.guid++);if(h=l._data(a)){var f=h.events,j=h.handle;f||(h.events=f={});j||(h.handle=j=function(a){return"undefined"!=typeof l&&(!a||l.event.triggered!==a.type)?l.event.handle.apply(j.elem,arguments):e});j.elem=a;for(var b=b.split(" "),k,m=0,p;k=b[m++];){h=g?l.extend({},g):{handler:d,data:c};-1<k.indexOf(".")?(p=k.split("."),k=p.shift(),h.namespace=p.slice(0).sort().join(".")):(p=[],h.namespace="");
h.type=k;h.guid||(h.guid=d.guid);var o=f[k],q=l.event.special[k]||{};if(!o&&(o=f[k]=[],!q.setup||!1===q.setup.call(a,c,p,j)))a.addEventListener?a.addEventListener(k,j,!1):a.attachEvent&&a.attachEvent("on"+k,j);q.add&&(q.add.call(a,h),h.handler.guid||(h.handler.guid=d.guid));o.push(h);l.event.global[k]=!0}a=null}}},global:{},remove:function(a,b,d,c){if(3!==a.nodeType&&8!==a.nodeType){!1===d&&(d=C);var g,h,f=0,j,k,m,p,o,q,t=l.hasData(a)&&l._data(a),s=t&&t.events;if(t&&s)if(b&&b.type&&(d=b.handler,b=
b.type),!b||"string"==typeof b&&"."===b.charAt(0))for(g in b=b||"",s)l.event.remove(a,g+b);else{for(b=b.split(" ");g=b[f++];)if(p=g,j=0>g.indexOf("."),k=[],j||(k=g.split("."),g=k.shift(),m=RegExp("(^|\\.)"+l.map(k.slice(0).sort(),ia).join("\\.(?:.*\\.)?")+"(\\.|$)")),o=s[g])if(d){p=l.event.special[g]||{};for(h=c||0;h<o.length;h++)if(q=o[h],d.guid===q.guid){if(j||m.test(q.namespace))null==c&&o.splice(h--,1),p.remove&&p.remove.call(a,q);if(null!=c)break}if(0===o.length||null!=c&&1===o.length)(!p.teardown||
!1===p.teardown.call(a,k))&&l.removeEvent(a,g,t.handle),delete s[g]}else for(h=0;h<o.length;h++)if(q=o[h],j||m.test(q.namespace))l.event.remove(a,p,q.handler,h),o.splice(h--,1);l.isEmptyObject(s)&&((b=t.handle)&&(b.elem=null),delete t.events,delete t.handle,l.isEmptyObject(t)&&l.removeData(a,e,!0))}}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(a,b,d,g){var h=a.type||a,f=[],j;0<=h.indexOf("!")&&(h=h.slice(0,-1),j=!0);0<=h.indexOf(".")&&(f=h.split("."),h=f.shift(),f.sort());
if(d&&!l.event.customEvent[h]||l.event.global[h]){a="object"==typeof a?a[l.expando]?a:new l.Event(h,a):new l.Event(h);a.type=h;a.exclusive=j;a.namespace=f.join(".");a.namespace_re=RegExp("(^|\\.)"+f.join("\\.(?:.*\\.)?")+"(\\.|$)");if(g||!d)a.preventDefault(),a.stopPropagation();if(d){if(!(3===d.nodeType||8===d.nodeType)){a.result=e;a.target=d;b=null!=b?l.makeArray(b):[];b.unshift(a);f=d;g=0>h.indexOf(":")?"on"+h:"";do j=l._data(f,"handle"),a.currentTarget=f,j&&j.apply(f,b),g&&l.acceptData(f)&&f[g]&&
!1===f[g].apply(f,b)&&(a.result=!1,a.preventDefault()),f=f.parentNode||f.ownerDocument||f===a.target.ownerDocument&&c;while(f&&!a.isPropagationStopped());if(!a.isDefaultPrevented()){var k,f=l.event.special[h]||{};if((!f._default||!1===f._default.call(d.ownerDocument,a))&&("click"!==h||!l.nodeName(d,"a"))&&l.acceptData(d)){try{g&&d[h]&&(k=d[g],k&&(d[g]=null),l.event.triggered=h,d[h]())}catch(m){}k&&(d[g]=k);l.event.triggered=e}}return a.result}}else l.each(l.cache,function(){var d=this[l.expando];
d&&d.events&&d.events[h]&&l.event.trigger(a,b,d.handle.elem)})}},handle:function(a){var a=l.event.fix(a||c.event),b=((l._data(this,"events")||{})[a.type]||[]).slice(0),d=!a.exclusive&&!a.namespace,g=Array.prototype.slice.call(arguments,0);g[0]=a;a.currentTarget=this;for(var h=0,f=b.length;h<f;h++){var j=b[h];if(d||a.namespace_re.test(j.namespace))if(a.handler=j.handler,a.data=j.data,a.handleObj=j,j=j.handler.apply(this,g),j!==e&&(a.result=j,!1===j&&(a.preventDefault(),a.stopPropagation())),a.isImmediatePropagationStopped())break}return a.result},
props:"altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" "),fix:function(a){if(a[l.expando])return a;for(var b=a,a=l.Event(b),d=this.props.length,c;d;)c=this.props[--d],a[c]=b[c];a.target||(a.target=a.srcElement||y);3===a.target.nodeType&&
(a.target=a.target.parentNode);!a.relatedTarget&&a.fromElement&&(a.relatedTarget=a.fromElement===a.target?a.toElement:a.fromElement);null==a.pageX&&null!=a.clientX&&(d=a.target.ownerDocument||y,b=d.documentElement,d=d.body,a.pageX=a.clientX+(b&&b.scrollLeft||d&&d.scrollLeft||0)-(b&&b.clientLeft||d&&d.clientLeft||0),a.pageY=a.clientY+(b&&b.scrollTop||d&&d.scrollTop||0)-(b&&b.clientTop||d&&d.clientTop||0));null==a.which&&(null!=a.charCode||null!=a.keyCode)&&(a.which=null!=a.charCode?a.charCode:a.keyCode);
!a.metaKey&&a.ctrlKey&&(a.metaKey=a.ctrlKey);!a.which&&a.button!==e&&(a.which=a.button&1?1:a.button&2?3:a.button&4?2:0);return a},guid:1E8,proxy:l.proxy,special:{ready:{setup:l.bindReady,teardown:l.noop},live:{add:function(a){l.event.add(this,x(a.origType,a.selector),l.extend({},a,{handler:r,guid:a.handler.guid}))},remove:function(a){l.event.remove(this,x(a.origType,a.selector),a)}},beforeunload:{setup:function(a,b,d){l.isWindow(this)&&(this.onbeforeunload=d)},teardown:function(a,b){this.onbeforeunload===
b&&(this.onbeforeunload=null)}}}};l.removeEvent=y.removeEventListener?function(a,b,d){a.removeEventListener&&a.removeEventListener(b,d,!1)}:function(a,b,d){a.detachEvent&&a.detachEvent("on"+b,d)};l.Event=function(a,b){if(!this.preventDefault)return new l.Event(a,b);a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||!1===a.returnValue||a.getPreventDefault&&a.getPreventDefault()?A:C):this.type=a;b&&l.extend(this,b);this.timeStamp=l.now();this[l.expando]=!0};
l.Event.prototype={preventDefault:function(){this.isDefaultPrevented=A;var a=this.originalEvent;!a||(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=A;var a=this.originalEvent;!a||(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=A;this.stopPropagation()},isDefaultPrevented:C,isPropagationStopped:C,isImmediatePropagationStopped:C};var T=function(a){var b=a.relatedTarget,
d=!1,c=a.type;a.type=a.data;b!==this&&(b&&(d=l.contains(this,b)),d||(l.event.handle.apply(this,arguments),a.type=c))},da=function(a){a.type=a.data;l.event.handle.apply(this,arguments)};l.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){l.event.special[a]={setup:function(d){l.event.add(this,b,d&&d.selector?da:T,a)},teardown:function(a){l.event.remove(this,b,a&&a.selector?da:T)}}});l.support.submitBubbles||(l.event.special.submit={setup:function(){if(l.nodeName(this,"form"))return!1;
l.event.add(this,"click.specialSubmit",function(a){var b=a.target,d=l.nodeName(b,"input")||l.nodeName(b,"button")?b.type:"";("submit"===d||"image"===d)&&l(b).closest("form").length&&B("submit",this,arguments)});l.event.add(this,"keypress.specialSubmit",function(a){var b=a.target,d=l.nodeName(b,"input")||l.nodeName(b,"button")?b.type:"";("text"===d||"password"===d)&&l(b).closest("form").length&&13===a.keyCode&&B("submit",this,arguments)})},teardown:function(){l.event.remove(this,".specialSubmit")}});
if(!l.support.changeBubbles){var Y,Q=function(a){var b=l.nodeName(a,"input")?a.type:"",d=a.value;"radio"===b||"checkbox"===b?d=a.checked:"select-multiple"===b?d=-1<a.selectedIndex?l.map(a.options,function(a){return a.selected}).join("-"):"":l.nodeName(a,"select")&&(d=a.selectedIndex);return d},sa=function(a,b){var d=a.target,c,g;if(ra.test(d.nodeName)&&!d.readOnly&&(c=l._data(d,"_change_data"),g=Q(d),("focusout"!==a.type||"radio"!==d.type)&&l._data(d,"_change_data",g),!(c===e||g===c)))if(null!=c||
g)a.type="change",a.liveFired=e,l.event.trigger(a,b,d)};l.event.special.change={filters:{focusout:sa,beforedeactivate:sa,click:function(a){var b=a.target,d=l.nodeName(b,"input")?b.type:"";("radio"===d||"checkbox"===d||l.nodeName(b,"select"))&&sa.call(this,a)},keydown:function(a){var b=a.target,d=l.nodeName(b,"input")?b.type:"";(13===a.keyCode&&!l.nodeName(b,"textarea")||32===a.keyCode&&("checkbox"===d||"radio"===d)||"select-multiple"===d)&&sa.call(this,a)},beforeactivate:function(a){a=a.target;l._data(a,
"_change_data",Q(a))}},setup:function(){if("file"===this.type)return!1;for(var a in Y)l.event.add(this,a+".specialChange",Y[a]);return ra.test(this.nodeName)},teardown:function(){l.event.remove(this,".specialChange");return ra.test(this.nodeName)}};Y=l.event.special.change.filters;Y.focus=Y.beforeactivate}l.support.focusinBubbles||l.each({focus:"focusin",blur:"focusout"},function(a,b){function d(a){var c=l.event.fix(a);c.type=b;c.originalEvent={};l.event.trigger(c,null,c.target);c.isDefaultPrevented()&&
a.preventDefault()}var c=0;l.event.special[b]={setup:function(){0===c++&&y.addEventListener(a,d,!0)},teardown:function(){0===--c&&y.removeEventListener(a,d,!0)}}});l.each(["bind","one"],function(a,b){l.fn[b]=function(a,d,c){var g;if("object"==typeof a){for(var h in a)this[b](h,d,a[h],c);return this}if(2===arguments.length||!1===d)c=d,d=e;"one"===b?(g=function(a){l(this).unbind(a,g);return c.apply(this,arguments)},g.guid=c.guid||l.guid++):g=c;if("unload"===a&&"one"!==b)this.one(a,d,c);else{h=0;for(var f=
this.length;h<f;h++)l.event.add(this[h],a,g,d)}return this}});l.fn.extend({unbind:function(a,b){if("object"==typeof a&&!a.preventDefault)for(var d in a)this.unbind(d,a[d]);else{d=0;for(var c=this.length;d<c;d++)l.event.remove(this[d],a,b)}return this},delegate:function(a,b,d,c){return this.live(b,d,c,a)},undelegate:function(a,b,d){return 0===arguments.length?this.unbind("live"):this.die(b,null,d,a)},trigger:function(a,b){return this.each(function(){l.event.trigger(a,b,this)})},triggerHandler:function(a,
b){if(this[0])return l.event.trigger(a,b,this[0],!0)},toggle:function(a){var b=arguments,d=a.guid||l.guid++,c=0,g=function(d){var g=(l.data(this,"lastToggle"+a.guid)||0)%c;l.data(this,"lastToggle"+a.guid,g+1);d.preventDefault();return b[g].apply(this,arguments)||!1};for(g.guid=d;c<b.length;)b[c++].guid=d;return this.click(g)},hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}});var ka={focus:"focusin",blur:"focusout",mouseenter:"mouseover",mouseleave:"mouseout"};l.each(["live","die"],
function(a,b){l.fn[b]=function(a,d,c,g){var h=0,f,j,k=g||this.selector,m=g?this:l(this.context);if("object"==typeof a&&!a.preventDefault){for(f in a)m[b](f,d,a[f],k);return this}if("die"===b&&!a&&g&&"."===g.charAt(0))return m.unbind(g),this;if(!1===d||l.isFunction(d))c=d||C,d=e;for(a=(a||"").split(" ");null!=(g=a[h++]);)if(f=va.exec(g),j="",f&&(j=f[0],g=g.replace(va,"")),"hover"===g)a.push("mouseenter"+j,"mouseleave"+j);else if(f=g,ka[g]?(a.push(ka[g]+j),g+=j):g=(ka[g]||g)+j,"live"===b){j=0;for(var p=
m.length;j<p;j++)l.event.add(m[j],"live."+x(g,k),{data:d,selector:k,handler:c,origType:g,origHandler:c,preType:f})}else m.unbind("live."+x(g,k),c);return this}});l.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error".split(" "),function(a,b){l.fn[b]=function(a,d){d==null&&(d=a,a=null);return arguments.length>0?this.bind(b,a,d):this.trigger(b)};l.attrFn&&(l.attrFn[b]=
true)});(function(){function a(b,d,c,g,h,e){for(var h=0,f=g.length;h<f;h++){var j=g[h];if(j){for(var l=!1,j=j[b];j;){if(j.sizcache===c){l=g[j.sizset];break}if(1===j.nodeType)if(e||(j.sizcache=c,j.sizset=h),"string"!=typeof d){if(j===d){l=!0;break}}else if(0<m.filter(d,[j]).length){l=j;break}j=j[b]}g[h]=l}}}function b(a,d,c,g,h,e){for(var h=0,f=g.length;h<f;h++){var j=g[h];if(j){for(var l=!1,j=j[a];j;){if(j.sizcache===c){l=g[j.sizset];break}1===j.nodeType&&!e&&(j.sizcache=c,j.sizset=h);if(j.nodeName.toLowerCase()===
d){l=j;break}j=j[a]}g[h]=l}}}var d=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,c=0,g=Object.prototype.toString,h=!1,f=!0,j=/\\/g,k=/\W/;[0,0].sort(function(){f=!1;return 0});var m=function(a,b,c,h){var c=c||[],e=b=b||y;if(1!==b.nodeType&&9!==b.nodeType)return[];if(!a||"string"!=typeof a)return c;var f,j,l,k,q,t,u=!0,pa=m.isXML(b),n=[],v=a;do if(d.exec(""),f=d.exec(v))if(v=f[3],n.push(f[1]),f[2]){k=f[3];break}while(f);
if(1<n.length&&o.exec(a))if(2===n.length&&p.relative[n[0]])j=r(n[0]+n[1],b);else for(j=p.relative[n[0]]?[b]:m(n.shift(),b);n.length;)a=n.shift(),p.relative[a]&&(a+=n.shift()),j=r(a,j);else if(!h&&1<n.length&&9===b.nodeType&&!pa&&p.match.ID.test(n[0])&&!p.match.ID.test(n[n.length-1])&&(q=m.find(n.shift(),b,pa),b=q.expr?m.filter(q.expr,q.set)[0]:q.set[0]),b){q=h?{expr:n.pop(),set:s(h)}:m.find(n.pop(),1===n.length&&("~"===n[0]||"+"===n[0])&&b.parentNode?b.parentNode:b,pa);j=q.expr?m.filter(q.expr,q.set):
q.set;for(0<n.length?l=s(j):u=!1;n.length;)f=t=n.pop(),p.relative[t]?f=n.pop():t="",null==f&&(f=b),p.relative[t](l,f,pa)}else l=[];l||(l=j);l||m.error(t||a);if("[object Array]"===g.call(l))if(u)if(b&&1===b.nodeType)for(a=0;null!=l[a];a++)l[a]&&(!0===l[a]||1===l[a].nodeType&&m.contains(b,l[a]))&&c.push(j[a]);else for(a=0;null!=l[a];a++)l[a]&&1===l[a].nodeType&&c.push(j[a]);else c.push.apply(c,l);else s(l,c);k&&(m(k,e,c,h),m.uniqueSort(c));return c};m.uniqueSort=function(a){if(n&&(h=f,a.sort(n),h))for(var b=
1;b<a.length;b++)a[b]===a[b-1]&&a.splice(b--,1);return a};m.matches=function(a,b){return m(a,null,null,b)};m.matchesSelector=function(a,b){return 0<m(b,null,null,[a]).length};m.find=function(a,b,d){var c;if(!a)return[];for(var g=0,h=p.order.length;g<h;g++){var e,f=p.order[g];if(e=p.leftMatch[f].exec(a)){var l=e[1];e.splice(1,1);if("\\"!==l.substr(l.length-1)&&(e[1]=(e[1]||"").replace(j,""),c=p.find[f](e,b,d),null!=c)){a=a.replace(p.match[f],"");break}}}c||(c="undefined"!=typeof b.getElementsByTagName?
b.getElementsByTagName("*"):[]);return{set:c,expr:a}};m.filter=function(a,b,d,c){for(var g,h,f=a,j=[],l=b,k=b&&b[0]&&m.isXML(b[0]);a&&b.length;){for(var o in p.filter)if(null!=(g=p.leftMatch[o].exec(a))&&g[2]){var q,t,s=p.filter[o];t=g[1];h=!1;g.splice(1,1);if("\\"!==t.substr(t.length-1)){l===j&&(j=[]);if(p.preFilter[o])if(g=p.preFilter[o](g,l,d,j,c,k)){if(!0===g)continue}else h=q=!0;if(g)for(var u=0;null!=(t=l[u]);u++)if(t){q=s(t,g,u,l);var n=c^!!q;d&&null!=q?n?h=!0:l[u]=!1:n&&(j.push(t),h=!0)}if(q!==
e){d||(l=j);a=a.replace(p.match[o],"");if(!h)return[];break}}}if(a===f)if(null==h)m.error(a);else break;f=a}return l};m.error=function(a){throw"Syntax error, unrecognized expression: "+a;};var p=m.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,
CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(a){return a.getAttribute("href")},type:function(a){return a.getAttribute("type")}},relative:{"+":function(a,b){var d="string"==typeof b,c=d&&!k.test(b),
d=d&&!c;c&&(b=b.toLowerCase());for(var c=0,g=a.length,h;c<g;c++)if(h=a[c]){for(;(h=h.previousSibling)&&1!==h.nodeType;);a[c]=d||h&&h.nodeName.toLowerCase()===b?h||!1:h===b}d&&m.filter(b,a,!0)},">":function(a,b){var d,c="string"==typeof b,g=0,h=a.length;if(c&&!k.test(b))for(b=b.toLowerCase();g<h;g++){if(d=a[g])d=d.parentNode,a[g]=d.nodeName.toLowerCase()===b?d:!1}else{for(;g<h;g++)(d=a[g])&&(a[g]=c?d.parentNode:d.parentNode===b);c&&m.filter(b,a,!0)}},"":function(d,g,h){var e,f=c++,j=a;"string"==typeof g&&
!k.test(g)&&(g=g.toLowerCase(),e=g,j=b);j("parentNode",g,f,d,e,h)},"~":function(d,g,h){var e,f=c++,j=a;"string"==typeof g&&!k.test(g)&&(g=g.toLowerCase(),e=g,j=b);j("previousSibling",g,f,d,e,h)}},find:{ID:function(a,b,d){if("undefined"!=typeof b.getElementById&&!d)return(a=b.getElementById(a[1]))&&a.parentNode?[a]:[]},NAME:function(a,b){if("undefined"!=typeof b.getElementsByName){for(var d=[],c=b.getElementsByName(a[1]),g=0,h=c.length;g<h;g++)c[g].getAttribute("name")===a[1]&&d.push(c[g]);return 0===
d.length?null:d}},TAG:function(a,b){if("undefined"!=typeof b.getElementsByTagName)return b.getElementsByTagName(a[1])}},preFilter:{CLASS:function(a,b,d,c,g,h){a=" "+a[1].replace(j,"")+" ";if(h)return a;for(var h=0,e;null!=(e=b[h]);h++)e&&(g^(e.className&&0<=(" "+e.className+" ").replace(/[\t\n\r]/g," ").indexOf(a))?d||c.push(e):d&&(b[h]=!1));return!1},ID:function(a){return a[1].replace(j,"")},TAG:function(a){return a[1].replace(j,"").toLowerCase()},CHILD:function(a){if("nth"===a[1]){a[2]||m.error(a[0]);
a[2]=a[2].replace(/^\+|\s*/g,"");var b=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec("even"===a[2]&&"2n"||"odd"===a[2]&&"2n+1"||!/\D/.test(a[2])&&"0n+"+a[2]||a[2]);a[2]=b[1]+(b[2]||1)-0;a[3]=b[3]-0}else a[2]&&m.error(a[0]);a[0]=c++;return a},ATTR:function(a,b,d,c,g,h){b=a[1]=a[1].replace(j,"");!h&&p.attrMap[b]&&(a[1]=p.attrMap[b]);a[4]=(a[4]||a[5]||"").replace(j,"");"~="===a[2]&&(a[4]=" "+a[4]+" ");return a},PSEUDO:function(a,b,c,g,h){if("not"===a[1])if(1<(d.exec(a[3])||"").length||/^\w/.test(a[3]))a[3]=m(a[3],
null,null,b);else return a=m.filter(a[3],b,c,1^h),c||g.push.apply(g,a),!1;else if(p.match.POS.test(a[0])||p.match.CHILD.test(a[0]))return!0;return a},POS:function(a){a.unshift(!0);return a}},filters:{enabled:function(a){return!1===a.disabled&&"hidden"!==a.type},disabled:function(a){return!0===a.disabled},checked:function(a){return!0===a.checked},selected:function(a){a.parentNode&&a.parentNode.selectedIndex;return!0===a.selected},parent:function(a){return!!a.firstChild},empty:function(a){return!a.firstChild},
has:function(a,b,d){return!!m(d[3],a).length},header:function(a){return/h\d/i.test(a.nodeName)},text:function(a){var b=a.getAttribute("type"),d=a.type;return"input"===a.nodeName.toLowerCase()&&"text"===d&&(b===d||null===b)},radio:function(a){return"input"===a.nodeName.toLowerCase()&&"radio"===a.type},checkbox:function(a){return"input"===a.nodeName.toLowerCase()&&"checkbox"===a.type},file:function(a){return"input"===a.nodeName.toLowerCase()&&"file"===a.type},password:function(a){return"input"===a.nodeName.toLowerCase()&&
"password"===a.type},submit:function(a){var b=a.nodeName.toLowerCase();return("input"===b||"button"===b)&&"submit"===a.type},image:function(a){return"input"===a.nodeName.toLowerCase()&&"image"===a.type},reset:function(a){var b=a.nodeName.toLowerCase();return("input"===b||"button"===b)&&"reset"===a.type},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},input:function(a){return/input|select|textarea|button/i.test(a.nodeName)},focus:function(a){return a===
a.ownerDocument.activeElement}},setFilters:{first:function(a,b){return 0===b},last:function(a,b,d,c){return b===c.length-1},even:function(a,b){return 0===b%2},odd:function(a,b){return 1===b%2},lt:function(a,b,d){return b<d[3]-0},gt:function(a,b,d){return b>d[3]-0},nth:function(a,b,d){return d[3]-0===b},eq:function(a,b,d){return d[3]-0===b}},filter:{PSEUDO:function(a,b,d,c){var g=b[1],h=p.filters[g];if(h)return h(a,d,b,c);if("contains"===g)return 0<=(a.textContent||a.innerText||m.getText([a])||"").indexOf(b[3]);
if("not"===g){b=b[3];d=0;for(c=b.length;d<c;d++)if(b[d]===a)return!1;return!0}m.error(g)},CHILD:function(a,b){var d=b[1],c=a;switch(d){case "only":case "first":for(;c=c.previousSibling;)if(1===c.nodeType)return!1;if("first"===d)return!0;c=a;case "last":for(;c=c.nextSibling;)if(1===c.nodeType)return!1;return!0;case "nth":var d=b[2],g=b[3];if(1===d&&0===g)return!0;var h=b[0],e=a.parentNode;if(e&&(e.sizcache!==h||!a.nodeIndex)){for(var f=0,c=e.firstChild;c;c=c.nextSibling)1===c.nodeType&&(c.nodeIndex=
++f);e.sizcache=h}c=a.nodeIndex-g;return 0===d?0===c:0===c%d&&0<=c/d}},ID:function(a,b){return 1===a.nodeType&&a.getAttribute("id")===b},TAG:function(a,b){return"*"===b&&1===a.nodeType||a.nodeName.toLowerCase()===b},CLASS:function(a,b){return-1<(" "+(a.className||a.getAttribute("class"))+" ").indexOf(b)},ATTR:function(a,b){var d=b[1],d=p.attrHandle[d]?p.attrHandle[d](a):null!=a[d]?a[d]:a.getAttribute(d),c=d+"",g=b[2],h=b[4];return null==d?"!="===g:"="===g?c===h:"*="===g?0<=c.indexOf(h):"~="===g?0<=
(" "+c+" ").indexOf(h):h?"!="===g?c!==h:"^="===g?0===c.indexOf(h):"$="===g?c.substr(c.length-h.length)===h:"|="===g?c===h||c.substr(0,h.length+1)===h+"-":!1:c&&!1!==d},POS:function(a,b,d,c){var g=p.setFilters[b[2]];if(g)return g(a,d,b,c)}}},o=p.match.POS,q=function(a,b){return"\\"+(b-0+1)},t;for(t in p.match)p.match[t]=RegExp(p.match[t].source+/(?![^\[]*\])(?![^\(]*\))/.source),p.leftMatch[t]=RegExp(/(^(?:.|\r|\n)*?)/.source+p.match[t].source.replace(/\\(\d+)/g,q));var s=function(a,b){a=Array.prototype.slice.call(a,
0);return b?(b.push.apply(b,a),b):a};try{Array.prototype.slice.call(y.documentElement.childNodes,0)[0].nodeType}catch(u){s=function(a,b){var d=0,c=b||[];if("[object Array]"===g.call(a))Array.prototype.push.apply(c,a);else if("number"==typeof a.length)for(var h=a.length;d<h;d++)c.push(a[d]);else for(;a[d];d++)c.push(a[d]);return c}}var n,v;y.documentElement.compareDocumentPosition?n=function(a,b){return a===b?(h=!0,0):!a.compareDocumentPosition||!b.compareDocumentPosition?a.compareDocumentPosition?
-1:1:a.compareDocumentPosition(b)&4?-1:1}:(n=function(a,b){if(a===b)return h=!0,0;if(a.sourceIndex&&b.sourceIndex)return a.sourceIndex-b.sourceIndex;var d,c,g=[],e=[];d=a.parentNode;c=b.parentNode;var f=d;if(d===c)return v(a,b);if(!d)return-1;if(!c)return 1;for(;f;)g.unshift(f),f=f.parentNode;for(f=c;f;)e.unshift(f),f=f.parentNode;d=g.length;c=e.length;for(f=0;f<d&&f<c;f++)if(g[f]!==e[f])return v(g[f],e[f]);return f===d?v(a,e[f],-1):v(g[f],b,1)},v=function(a,b,d){if(a===b)return d;for(a=a.nextSibling;a;){if(a===
b)return-1;a=a.nextSibling}return 1});m.getText=function(a){for(var b="",d,c=0;a[c];c++)d=a[c],3===d.nodeType||4===d.nodeType?b+=d.nodeValue:8!==d.nodeType&&(b+=m.getText(d.childNodes));return b};(function(){var a=y.createElement("div"),b="script"+(new Date).getTime(),d=y.documentElement;a.innerHTML="<a name='"+b+"'/>";d.insertBefore(a,d.firstChild);y.getElementById(b)&&(p.find.ID=function(a,b,d){if("undefined"!=typeof b.getElementById&&!d)return(b=b.getElementById(a[1]))?b.id===a[1]||"undefined"!=
typeof b.getAttributeNode&&b.getAttributeNode("id").nodeValue===a[1]?[b]:e:[]},p.filter.ID=function(a,b){var d="undefined"!=typeof a.getAttributeNode&&a.getAttributeNode("id");return 1===a.nodeType&&d&&d.nodeValue===b});d.removeChild(a);d=a=null})();(function(){var a=y.createElement("div");a.appendChild(y.createComment(""));0<a.getElementsByTagName("*").length&&(p.find.TAG=function(a,b){var d=b.getElementsByTagName(a[1]);if("*"===a[1]){for(var c=[],g=0;d[g];g++)1===d[g].nodeType&&c.push(d[g]);d=c}return d});
a.innerHTML="<a href='#'></a>";a.firstChild&&"undefined"!=typeof a.firstChild.getAttribute&&"#"!==a.firstChild.getAttribute("href")&&(p.attrHandle.href=function(a){return a.getAttribute("href",2)});a=null})();y.querySelectorAll&&function(){var a=m,b=y.createElement("div");b.innerHTML="<p class='TEST'></p>";if(!b.querySelectorAll||0!==b.querySelectorAll(".TEST").length){m=function(b,d,c,g){d=d||y;if(!g&&!m.isXML(d)){var h=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(b);if(h&&(1===d.nodeType||9===d.nodeType)){if(h[1])return s(d.getElementsByTagName(b),
c);if(h[2]&&p.find.CLASS&&d.getElementsByClassName)return s(d.getElementsByClassName(h[2]),c)}if(9===d.nodeType){if("body"===b&&d.body)return s([d.body],c);if(h&&h[3]){var e=d.getElementById(h[3]);if(!e||!e.parentNode)return s([],c);if(e.id===h[3])return s([e],c)}try{return s(d.querySelectorAll(b),c)}catch(f){}}else if(1===d.nodeType&&"object"!==d.nodeName.toLowerCase()){var h=d,j=(e=d.getAttribute("id"))||"__sizzle__",l=d.parentNode,k=/^\s*[+~]/.test(b);e?j=j.replace(/'/g,"\\$&"):d.setAttribute("id",
j);k&&l&&(d=d.parentNode);try{if(!k||l)return s(d.querySelectorAll("[id='"+j+"'] "+b),c)}catch(o){}finally{e||h.removeAttribute("id")}}}return a(b,d,c,g)};for(var d in a)m[d]=a[d];b=null}}();(function(){var a=y.documentElement,b=a.matchesSelector||a.mozMatchesSelector||a.webkitMatchesSelector||a.msMatchesSelector;if(b){var d=!b.call(y.createElement("div"),"div"),c=!1;try{b.call(y.documentElement,"[test!='']:sizzle")}catch(g){c=!0}m.matchesSelector=function(a,g){g=g.replace(/\=\s*([^'"\]]*)\s*\]/g,
"='$1']");if(!m.isXML(a))try{if(c||!p.match.PSEUDO.test(g)&&!/!=/.test(g)){var h=b.call(a,g);if(h||!d||a.document&&11!==a.document.nodeType)return h}}catch(e){}return 0<m(g,null,null,[a]).length}}})();(function(){var a=y.createElement("div");a.innerHTML="<div class='test e'></div><div class='test'></div>";a.getElementsByClassName&&0!==a.getElementsByClassName("e").length&&(a.lastChild.className="e",1!==a.getElementsByClassName("e").length&&(p.order.splice(1,0,"CLASS"),p.find.CLASS=function(a,b,d){if("undefined"!=
typeof b.getElementsByClassName&&!d)return b.getElementsByClassName(a[1])},a=null))})();y.documentElement.contains?m.contains=function(a,b){return a!==b&&(a.contains?a.contains(b):!0)}:y.documentElement.compareDocumentPosition?m.contains=function(a,b){return!!(a.compareDocumentPosition(b)&16)}:m.contains=function(){return!1};m.isXML=function(a){return(a=(a?a.ownerDocument||a:0).documentElement)?"HTML"!==a.nodeName:!1};var r=function(a,b){for(var d,c=[],g="",h=b.nodeType?[b]:b;d=p.match.PSEUDO.exec(a);)g+=
d[0],a=a.replace(p.match.PSEUDO,"");a=p.relative[a]?a+"*":a;d=0;for(var e=h.length;d<e;d++)m(a,h[d],c);return m.filter(g,c)};l.find=m;l.expr=m.selectors;l.expr[":"]=l.expr.filters;l.unique=m.uniqueSort;l.text=m.getText;l.isXMLDoc=m.isXML;l.contains=m.contains})();var ja=/Until$/,ba=/^(?:parents|prevUntil|prevAll)/,ea=/,/,qa=/^.[^:#\[\.,]*$/,ta=Array.prototype.slice,wa=l.expr.match.POS,W={children:!0,contents:!0,next:!0,prev:!0};l.fn.extend({find:function(a){var b=this,d,c;if("string"!=typeof a)return l(a).filter(function(){d=
0;for(c=b.length;d<c;d++)if(l.contains(b[d],this))return!0});var g=this.pushStack("","find",a),h,e,f;d=0;for(c=this.length;d<c;d++)if(h=g.length,l.find(a,this[d],g),0<d)for(e=h;e<g.length;e++)for(f=0;f<h;f++)if(g[f]===g[e]){g.splice(e--,1);break}return g},has:function(a){var b=l(a);return this.filter(function(){for(var a=0,d=b.length;a<d;a++)if(l.contains(this,b[a]))return!0})},not:function(a){return this.pushStack(w(this,a,!1),"not",a)},filter:function(a){return this.pushStack(w(this,a,!0),"filter",
a)},is:function(a){return!!a&&("string"==typeof a?0<l.filter(a,this).length:0<this.filter(a).length)},closest:function(a,b){var d=[],c,g,h=this[0];if(l.isArray(a)){var e,f={},j=1;if(h&&a.length){c=0;for(g=a.length;c<g;c++)e=a[c],f[e]||(f[e]=wa.test(e)?l(e,b||this.context):e);for(;h&&h.ownerDocument&&h!==b;){for(e in f)c=f[e],(c.jquery?-1<c.index(h):l(h).is(c))&&d.push({selector:e,elem:h,level:j});h=h.parentNode;j++}}return d}e=wa.test(a)||"string"!=typeof a?l(a,b||this.context):0;c=0;for(g=this.length;c<
g;c++)for(h=this[c];h;){if(e?-1<e.index(h):l.find.matchesSelector(h,a)){d.push(h);break}h=h.parentNode;if(!h||!h.ownerDocument||h===b||11===h.nodeType)break}d=1<d.length?l.unique(d):d;return this.pushStack(d,"closest",a)},index:function(a){return!a?this[0]&&this[0].parentNode?this.prevAll().length:-1:"string"==typeof a?l.inArray(this[0],l(a)):l.inArray(a.jquery?a[0]:a,this)},add:function(a,b){var d="string"==typeof a?l(a,b):l.makeArray(a&&a.nodeType?[a]:a),c=l.merge(this.get(),d);return this.pushStack(!d[0]||
!d[0].parentNode||11===d[0].parentNode.nodeType||!c[0]||!c[0].parentNode||11===c[0].parentNode.nodeType?c:l.unique(c))},andSelf:function(){return this.add(this.prevObject)}});l.each({parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},parents:function(a){return l.dir(a,"parentNode")},parentsUntil:function(a,b,d){return l.dir(a,"parentNode",d)},next:function(a){return l.nth(a,2,"nextSibling")},prev:function(a){return l.nth(a,2,"previousSibling")},nextAll:function(a){return l.dir(a,"nextSibling")},
prevAll:function(a){return l.dir(a,"previousSibling")},nextUntil:function(a,b,d){return l.dir(a,"nextSibling",d)},prevUntil:function(a,b,d){return l.dir(a,"previousSibling",d)},siblings:function(a){return l.sibling(a.parentNode.firstChild,a)},children:function(a){return l.sibling(a.firstChild)},contents:function(a){return l.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:l.makeArray(a.childNodes)}},function(a,b){l.fn[a]=function(d,c){var g=l.map(this,b,d),h=ta.call(arguments);ja.test(a)||
(c=d);c&&"string"==typeof c&&(g=l.filter(c,g));g=1<this.length&&!W[a]?l.unique(g):g;(1<this.length||ea.test(c))&&ba.test(a)&&(g=g.reverse());return this.pushStack(g,a,h.join(","))}});l.extend({filter:function(a,b,d){d&&(a=":not("+a+")");return 1===b.length?l.find.matchesSelector(b[0],a)?[b[0]]:[]:l.find.matches(a,b)},dir:function(a,b,d){for(var c=[],a=a[b];a&&9!==a.nodeType&&(d===e||1!==a.nodeType||!l(a).is(d));)1===a.nodeType&&c.push(a),a=a[b];return c},nth:function(a,b,d){for(var b=b||1,c=0;a&&
!(1===a.nodeType&&++c===b);a=a[d]);return a},sibling:function(a,b){for(var d=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&d.push(a);return d}});var X=/ jQuery\d+="(?:\d+|null)"/g,Z=/^\s+/,oa=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,la=/<([\w:]+)/,aa=/<tbody/i,xa=/<|&#?\w+;/,ca=/<(?:script|object|embed|option|style)/i,Ja=/checked\s*(?:[^=]|=\s*.checked.)/i,Ha=/\/(java|ecma)script/i,Ga=/^\s*<!(?:\[CDATA\[|\-\-)/,ha={option:[1,"<select multiple='multiple'>","</select>"],
legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]};ha.optgroup=ha.option;ha.tbody=ha.tfoot=ha.colgroup=ha.caption=ha.thead;ha.th=ha.td;l.support.htmlSerialize||(ha._default=[1,"div<div>","</div>"]);l.fn.extend({text:function(a){return l.isFunction(a)?this.each(function(b){var d=
l(this);d.text(a.call(this,b,d.text()))}):"object"!=typeof a&&a!==e?this.empty().append((this[0]&&this[0].ownerDocument||y).createTextNode(a)):l.text(this)},wrapAll:function(a){if(l.isFunction(a))return this.each(function(b){l(this).wrapAll(a.call(this,b))});if(this[0]){var b=l(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]);b.map(function(){for(var a=this;a.firstChild&&1===a.firstChild.nodeType;)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return l.isFunction(a)?
this.each(function(b){l(this).wrapInner(a.call(this,b))}):this.each(function(){var b=l(this),d=b.contents();d.length?d.wrapAll(a):b.append(a)})},wrap:function(a){return this.each(function(){l(this).wrapAll(a)})},unwrap:function(){return this.parent().each(function(){l.nodeName(this,"body")||l(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(a){this.nodeType===1&&this.appendChild(a)})},prepend:function(){return this.domManip(arguments,!0,function(a){this.nodeType===
1&&this.insertBefore(a,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this)});if(arguments.length){var a=l(arguments[0]);a.push.apply(a,this.toArray());return this.pushStack(a,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this.nextSibling)});if(arguments.length){var a=this.pushStack(this,"after",arguments);
a.push.apply(a,l(arguments[0]).toArray());return a}},remove:function(a,b){for(var d=0,c;null!=(c=this[d]);d++)if(!a||l.filter(a,[c]).length)!b&&1===c.nodeType&&(l.cleanData(c.getElementsByTagName("*")),l.cleanData([c])),c.parentNode&&c.parentNode.removeChild(c);return this},empty:function(){for(var a=0,b;null!=(b=this[a]);a++)for(1===b.nodeType&&l.cleanData(b.getElementsByTagName("*"));b.firstChild;)b.removeChild(b.firstChild);return this},clone:function(a,b){a=null==a?!1:a;b=null==b?a:b;return this.map(function(){return l.clone(this,
a,b)})},html:function(a){if(a===e)return this[0]&&1===this[0].nodeType?this[0].innerHTML.replace(X,""):null;if("string"==typeof a&&!ca.test(a)&&(l.support.leadingWhitespace||!Z.test(a))&&!ha[(la.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(oa,"<$1></$2>");try{for(var b=0,d=this.length;b<d;b++)1===this[b].nodeType&&(l.cleanData(this[b].getElementsByTagName("*")),this[b].innerHTML=a)}catch(c){this.empty().append(a)}}else l.isFunction(a)?this.each(function(b){var d=l(this);d.html(a.call(this,b,d.html()))}):
this.empty().append(a);return this},replaceWith:function(a){if(this[0]&&this[0].parentNode){if(l.isFunction(a))return this.each(function(b){var d=l(this),c=d.html();d.replaceWith(a.call(this,b,c))});"string"!=typeof a&&(a=l(a).detach());return this.each(function(){var b=this.nextSibling,d=this.parentNode;l(this).remove();b?l(b).before(a):l(d).append(a)})}return this.length?this.pushStack(l(l.isFunction(a)?a():a),"replaceWith",a):this},detach:function(a){return this.remove(a,!0)},domManip:function(a,
b,d){var c,g,h,f=a[0],j=[];if(!l.support.checkClone&&3===arguments.length&&"string"==typeof f&&Ja.test(f))return this.each(function(){l(this).domManip(a,b,d,!0)});if(l.isFunction(f))return this.each(function(c){var g=l(this);a[0]=f.call(this,c,b?g.html():e);g.domManip(a,b,d)});if(this[0]){h=f&&f.parentNode;l.support.parentNode&&h&&11===h.nodeType&&h.childNodes.length===this.length?c={fragment:h}:c=l.buildFragment(a,this,j);h=c.fragment;1===h.childNodes.length?g=h=h.firstChild:g=h.firstChild;if(g){b=
b&&l.nodeName(g,"tr");g=0;for(var k=this.length,m=k-1;g<k;g++)d.call(b?l.nodeName(this[g],"table")?this[g].getElementsByTagName("tbody")[0]||this[g].appendChild(this[g].ownerDocument.createElement("tbody")):this[g]:this[g],c.cacheable||1<k&&g<m?l.clone(h,!0,!0):h)}j.length&&l.each(j,q)}return this}});l.buildFragment=function(a,b,d){var c,g,h,e;b&&b[0]&&(e=b[0].ownerDocument||b[0]);e.createDocumentFragment||(e=y);1===a.length&&"string"==typeof a[0]&&512>a[0].length&&e===y&&"<"===a[0].charAt(0)&&!ca.test(a[0])&&
(l.support.checkClone||!Ja.test(a[0]))&&(g=!0,h=l.fragments[a[0]],h&&1!==h&&(c=h));c||(c=e.createDocumentFragment(),l.clean(a,e,c,d));g&&(l.fragments[a[0]]=h?c:1);return{fragment:c,cacheable:g}};l.fragments={};l.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){l.fn[a]=function(d){var c=[],d=l(d),g=1===this.length&&this[0].parentNode;if(g&&11===g.nodeType&&1===g.childNodes.length&&1===d.length)return d[b](this[0]),this;for(var g=
0,h=d.length;g<h;g++){var e=(0<g?this.clone(!0):this).get();l(d[g])[b](e);c=c.concat(e)}return this.pushStack(c,a,d.selector)}});l.extend({clone:function(a,b,d){var c=a.cloneNode(!0),g,h,e;if((!l.support.noCloneEvent||!l.support.noCloneChecked)&&(1===a.nodeType||11===a.nodeType)&&!l.isXMLDoc(a)){v(a,c);g=t(a);h=t(c);for(e=0;g[e];++e)h[e]&&v(g[e],h[e])}if(b&&(z(a,c),d)){g=t(a);h=t(c);for(e=0;g[e];++e)z(g[e],h[e])}return c},clean:function(a,b,d,c){b=b||y;"undefined"==typeof b.createElement&&(b=b.ownerDocument||
b[0]&&b[0].ownerDocument||y);for(var g=[],h,e=0,f;null!=(f=a[e]);e++)if("number"==typeof f&&(f+=""),f){if("string"==typeof f)if(xa.test(f)){f=f.replace(oa,"<$1></$2>");h=(la.exec(f)||["",""])[1].toLowerCase();var j=ha[h]||ha._default,k=j[0],m=b.createElement("div");for(m.innerHTML=j[1]+f+j[2];k--;)m=m.lastChild;if(!l.support.tbody){k=aa.test(f);j="table"===h&&!k?m.firstChild&&m.firstChild.childNodes:"<table>"===j[1]&&!k?m.childNodes:[];for(h=j.length-1;0<=h;--h)l.nodeName(j[h],"tbody")&&!j[h].childNodes.length&&
j[h].parentNode.removeChild(j[h])}!l.support.leadingWhitespace&&Z.test(f)&&m.insertBefore(b.createTextNode(Z.exec(f)[0]),m.firstChild);f=m.childNodes}else f=b.createTextNode(f);var p;if(!l.support.appendChecked)if(f[0]&&"number"==typeof(p=f.length))for(h=0;h<p;h++)s(f[h]);else s(f);f.nodeType?g.push(f):g=l.merge(g,f)}if(d){a=function(a){return!a.type||Ha.test(a.type)};for(e=0;g[e];e++)c&&l.nodeName(g[e],"script")&&(!g[e].type||"text/javascript"===g[e].type.toLowerCase())?c.push(g[e].parentNode?g[e].parentNode.removeChild(g[e]):
g[e]):(1===g[e].nodeType&&(b=l.grep(g[e].getElementsByTagName("script"),a),g.splice.apply(g,[e+1,0].concat(b))),d.appendChild(g[e]))}return g},cleanData:function(a){for(var b,d,c=l.cache,g=l.expando,h=l.event.special,e=l.support.deleteExpando,f=0,j;null!=(j=a[f]);f++)if(!j.nodeName||!l.noData[j.nodeName.toLowerCase()])if(d=j[l.expando]){if((b=c[d]&&c[d][g])&&b.events){for(var k in b.events)h[k]?l.event.remove(j,k):l.removeEvent(j,k,b.handle);b.handle&&(b.handle.elem=null)}e?delete j[l.expando]:j.removeAttribute&&
j.removeAttribute(l.expando);delete c[d]}}});var Aa=/alpha\([^)]*\)/i,Ka=/opacity=([^)]*)/,La=/([A-Z]|^ms)/g,ya=/^-?\d+(?:px)?$/i,eb=/^-?\d/,fb=/^([\-+])=([\-+.\de]+)/,gb={position:"absolute",visibility:"hidden",display:"block"},cb=["Left","Right"],db=["Top","Bottom"],Fa,Va,fa;l.fn.css=function(a,b){return 2===arguments.length&&b===e?this:l.access(this,a,b,!0,function(a,b,d){return d!==e?l.style(a,b,d):l.css(a,b)})};l.extend({cssHooks:{opacity:{get:function(a,b){if(b){var d=Fa(a,"opacity","opacity");
return""===d?"1":d}return a.style.opacity}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":l.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,b,d,c){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var g,h=l.camelCase(b),f=a.style,j=l.cssHooks[h],b=l.cssProps[h]||h;if(d===e)return j&&"get"in j&&(g=j.get(a,!1,c))!==e?g:f[b];c=typeof d;"string"===c&&(g=fb.exec(d))&&(d=+(g[1]+1)*+g[2]+parseFloat(l.css(a,b)),c="number");
if(!(null==d||"number"===c&&isNaN(d)))if("number"===c&&!l.cssNumber[h]&&(d+="px"),!j||!("set"in j)||(d=j.set(a,d))!==e)try{f[b]=d}catch(k){}}},css:function(a,b,d){var c,g,b=l.camelCase(b);g=l.cssHooks[b];b=l.cssProps[b]||b;"cssFloat"===b&&(b="float");if(g&&"get"in g&&(c=g.get(a,!0,d))!==e)return c;if(Fa)return Fa(a,b)},swap:function(a,b,d){var c={},g;for(g in b)c[g]=a.style[g],a.style[g]=b[g];d.call(a);for(g in b)a.style[g]=c[g]}});l.curCSS=l.css;l.each(["height","width"],function(a,b){l.cssHooks[b]=
{get:function(a,d,c){var g;if(d){if(0!==a.offsetWidth)return o(a,b,c);l.swap(a,gb,function(){g=o(a,b,c)});return g}},set:function(a,b){if(!ya.test(b))return b;b=parseFloat(b);if(0<=b)return b+"px"}}});l.support.opacity||(l.cssHooks.opacity={get:function(a,b){return Ka.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?parseFloat(RegExp.$1)/100+"":b?"1":""},set:function(a,b){var d=a.style,c=a.currentStyle,g=l.isNaN(b)?"":"alpha(opacity="+100*b+")",h=c&&c.filter||d.filter||"";d.zoom=
1;if(1<=b&&""===l.trim(h.replace(Aa,""))&&(d.removeAttribute("filter"),c&&!c.filter))return;d.filter=Aa.test(h)?h.replace(Aa,g):h+" "+g}});l(function(){l.support.reliableMarginRight||(l.cssHooks.marginRight={get:function(a,b){var d;l.swap(a,{display:"inline-block"},function(){b?d=Fa(a,"margin-right","marginRight"):d=a.style.marginRight});return d}})});y.defaultView&&y.defaultView.getComputedStyle&&(Va=function(a,b){var d,c,b=b.replace(La,"-$1").toLowerCase();if(!(c=a.ownerDocument.defaultView))return e;
if(c=c.getComputedStyle(a,null))d=c.getPropertyValue(b),""===d&&!l.contains(a.ownerDocument.documentElement,a)&&(d=l.style(a,b));return d});y.documentElement.currentStyle&&(fa=function(a,b){var d,c=a.currentStyle&&a.currentStyle[b],g=a.runtimeStyle&&a.runtimeStyle[b],h=a.style;!ya.test(c)&&eb.test(c)&&(d=h.left,g&&(a.runtimeStyle.left=a.currentStyle.left),h.left="fontSize"===b?"1em":c||0,c=h.pixelLeft+"px",h.left=d,g&&(a.runtimeStyle.left=g));return""===c?"auto":c});Fa=Va||fa;l.expr&&l.expr.filters&&
(l.expr.filters.hidden=function(a){var b=a.offsetHeight;return 0===a.offsetWidth&&0===b||!l.support.reliableHiddenOffsets&&"none"===(a.style.display||l.css(a,"display"))},l.expr.filters.visible=function(a){return!l.expr.filters.hidden(a)});var za=/%20/g,Qa=/\[\]$/,Wa=/\r?\n/g,hb=/#.*$/,ib=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,jb=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,kb=/^(?:GET|HEAD)$/,lb=/^\/\//,Xa=/\?/,mb=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,
nb=/^(?:select|textarea)/i,Ua=/\s+/,ob=/([?&])_=[^&]*/,Ya=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,Za=l.fn.load,Ra={},$a={},Ca,Da,ab=["*/"]+["*"];try{Ca=H.href}catch(ub){Ca=y.createElement("a"),Ca.href="",Ca=Ca.href}Da=Ya.exec(Ca.toLowerCase())||[];l.fn.extend({load:function(a,b,d){if("string"!=typeof a&&Za)return Za.apply(this,arguments);if(!this.length)return this;var c=a.indexOf(" ");if(0<=c)var g=a.slice(c,a.length),a=a.slice(0,c);c="GET";b&&(l.isFunction(b)?(d=b,b=e):"object"==typeof b&&
(b=l.param(b,l.ajaxSettings.traditional),c="POST"));var h=this;l.ajax({url:a,type:c,dataType:"html",data:b,complete:function(a,b,c){c=a.responseText;a.isResolved()&&(a.done(function(a){c=a}),h.html(g?l("<div>").append(c.replace(mb,"")).find(g):c));d&&h.each(d,[c,b,a])}});return this},serialize:function(){return l.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?l.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&
(this.checked||nb.test(this.nodeName)||jb.test(this.type))}).map(function(a,b){var d=l(this).val();return null==d?null:l.isArray(d)?l.map(d,function(a){return{name:b.name,value:a.replace(Wa,"\r\n")}}):{name:b.name,value:d.replace(Wa,"\r\n")}}).get()}});l.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){l.fn[b]=function(a){return this.bind(b,a)}});l.each(["get","post"],function(a,b){l[b]=function(a,d,c,g){l.isFunction(d)&&(g=g||c,c=d,d=e);return l.ajax({type:b,
url:a,data:d,success:c,dataType:g})}});l.extend({getScript:function(a,b){return l.get(a,e,b,"script")},getJSON:function(a,b,d){return l.get(a,b,d,"json")},ajaxSetup:function(a,b){b?d(a,l.ajaxSettings):(b=a,a=l.ajaxSettings);d(a,b);return a},ajaxSettings:{url:Ca,isLocal:/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/.test(Da[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",
json:"application/json, text/javascript","*":ab},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":c.String,"text html":!0,"text json":l.parseJSON,"text xml":l.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:p(Ra),ajaxTransport:p($a),ajax:function(a,b){function d(a,b,m,o){if(2!==r){r=2;n&&clearTimeout(n);u=e;t=o||"";w.readyState=0<a?4:0;var q,s,v,o=b;if(m){var y=c,E=w,aa=y.contents,fa=y.dataTypes,x=y.responseFields,A,
G,B,pa;for(G in x)G in m&&(E[x[G]]=m[G]);for(;"*"===fa[0];)fa.shift(),A===e&&(A=y.mimeType||E.getResponseHeader("content-type"));if(A)for(G in aa)if(aa[G]&&aa[G].test(A)){fa.unshift(G);break}if(fa[0]in m)B=fa[0];else{for(G in m){if(!fa[0]||y.converters[G+" "+fa[0]]){B=G;break}pa||(pa=G)}B=B||pa}B?(B!==fa[0]&&fa.unshift(B),m=m[B]):m=void 0}else m=e;if(200<=a&&300>a||304===a){if(c.ifModified){if(A=w.getResponseHeader("Last-Modified"))l.lastModified[p]=A;if(A=w.getResponseHeader("Etag"))l.etag[p]=A}if(304===
a)o="notmodified",q=!0;else try{A=c;A.dataFilter&&(m=A.dataFilter(m,A.dataType));var ca=A.dataTypes;G={};var J,K,xa=ca.length,za,C=ca[0],N,na,H,Ba,ya;for(J=1;J<xa;J++){if(1===J)for(K in A.converters)"string"==typeof K&&(G[K.toLowerCase()]=A.converters[K]);N=C;C=ca[J];if("*"===C)C=N;else if("*"!==N&&N!==C){na=N+" "+C;H=G[na]||G["* "+C];if(!H)for(Ba in ya=e,G)if(za=Ba.split(" "),za[0]===N||"*"===za[0])if(ya=G[za[1]+" "+C]){Ba=G[Ba];!0===Ba?H=ya:!0===ya&&(H=Ba);break}!H&&!ya&&l.error("No conversion from "+
na.replace(" "," to "));!0!==H&&(m=H?H(m):ya(Ba(m)))}}s=m;o="success";q=!0}catch(Qa){o="parsererror",v=Qa}}else if(v=o,!o||a)o="error",0>a&&(a=0);w.status=a;w.statusText=""+(b||o);q?f.resolveWith(g,[s,o,w]):f.rejectWith(g,[w,o,v]);w.statusCode(k);k=e;z&&h.trigger("ajax"+(q?"Success":"Error"),[w,c,q?s:v]);j.resolveWith(g,[w,o]);z&&(h.trigger("ajaxComplete",[w,c]),--l.active||l.event.trigger("ajaxStop"))}}"object"==typeof a&&(b=a,a=e);var b=b||{},c=l.ajaxSetup({},b),g=c.context||c,h=g!==c&&(g.nodeType||
g instanceof l)?l(g):l.event,f=l.Deferred(),j=l._Deferred(),k=c.statusCode||{},p,o={},q={},t,s,u,n,v,r=0,z,y,w={readyState:0,setRequestHeader:function(a,b){if(!r){var d=a.toLowerCase(),a=q[d]=q[d]||a;o[a]=b}return this},getAllResponseHeaders:function(){return 2===r?t:null},getResponseHeader:function(a){var b;if(2===r){if(!s)for(s={};b=ib.exec(t);)s[b[1].toLowerCase()]=b[2];b=s[a.toLowerCase()]}return b===e?null:b},overrideMimeType:function(a){r||(c.mimeType=a);return this},abort:function(a){a=a||
"abort";u&&u.abort(a);d(0,a);return this}};f.promise(w);w.success=w.done;w.error=w.fail;w.complete=j.done;w.statusCode=function(a){if(a){var b;if(2>r)for(b in a)k[b]=[k[b],a[b]];else b=a[w.status],w.then(b,b)}return this};c.url=((a||c.url)+"").replace(hb,"").replace(lb,Da[1]+"//");c.dataTypes=l.trim(c.dataType||"*").toLowerCase().split(Ua);null==c.crossDomain&&(v=Ya.exec(c.url.toLowerCase()),c.crossDomain=!(!v||v[1]==Da[1]&&v[2]==Da[2]&&(v[3]||("http:"===v[1]?80:443))==(Da[3]||("http:"===Da[1]?80:
443))));c.data&&c.processData&&"string"!=typeof c.data&&(c.data=l.param(c.data,c.traditional));m(Ra,c,b,w);if(2===r)return!1;z=c.global;c.type=c.type.toUpperCase();c.hasContent=!kb.test(c.type);z&&0===l.active++&&l.event.trigger("ajaxStart");if(!c.hasContent&&(c.data&&(c.url+=(Xa.test(c.url)?"&":"?")+c.data,delete c.data),p=c.url,!1===c.cache)){v=l.now();var E=c.url.replace(ob,"$1_="+v);c.url=E+(E===c.url?(Xa.test(c.url)?"&":"?")+"_="+v:"")}(c.data&&c.hasContent&&!1!==c.contentType||b.contentType)&&
w.setRequestHeader("Content-Type",c.contentType);c.ifModified&&(p=p||c.url,l.lastModified[p]&&w.setRequestHeader("If-Modified-Since",l.lastModified[p]),l.etag[p]&&w.setRequestHeader("If-None-Match",l.etag[p]));w.setRequestHeader("Accept",c.dataTypes[0]&&c.accepts[c.dataTypes[0]]?c.accepts[c.dataTypes[0]]+("*"!==c.dataTypes[0]?", "+ab+"; q=0.01":""):c.accepts["*"]);for(y in c.headers)w.setRequestHeader(y,c.headers[y]);if(c.beforeSend&&(!1===c.beforeSend.call(g,w,c)||2===r))return w.abort(),!1;for(y in{success:1,
error:1,complete:1})w[y](c[y]);if(u=m($a,c,b,w)){w.readyState=1;z&&h.trigger("ajaxSend",[w,c]);c.async&&0<c.timeout&&(n=setTimeout(function(){w.abort("timeout")},c.timeout));try{r=1,u.send(o,d)}catch(aa){2>r?d(-1,aa):l.error(aa)}}else d(-1,"No Transport");return w},param:function(a,b){var d=[],c=function(a,b){b=l.isFunction(b)?b():b;d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};b===e&&(b=l.ajaxSettings.traditional);if(l.isArray(a)||a.jquery&&!l.isPlainObject(a))l.each(a,function(){c(this.name,
this.value)});else for(var g in a)h(g,a[g],b,c);return d.join("&").replace(za,"+")}});l.extend({active:0,lastModified:{},etag:{}});var pb=l.now(),Na=/(\=)\?(&|$)|\?\?/i;l.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return l.expando+"_"+pb++}});l.ajaxPrefilter("json jsonp",function(a,b,d){b="application/x-www-form-urlencoded"===a.contentType&&"string"==typeof a.data;if("jsonp"===a.dataTypes[0]||!1!==a.jsonp&&(Na.test(a.url)||b&&Na.test(a.data))){var g,h=a.jsonpCallback=l.isFunction(a.jsonpCallback)?
a.jsonpCallback():a.jsonpCallback,e=c[h],f=a.url,j=a.data,k="$1"+h+"$2";!1!==a.jsonp&&(f=f.replace(Na,k),a.url===f&&(b&&(j=j.replace(Na,k)),a.data===j&&(f+=(/\?/.test(f)?"&":"?")+a.jsonp+"="+h)));a.url=f;a.data=j;c[h]=function(a){g=[a]};d.always(function(){c[h]=e;g&&l.isFunction(e)&&c[h](g[0])});a.converters["script json"]=function(){g||l.error(h+" was not called");return g[0]};a.dataTypes[0]="json";return"script"}});l.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},
contents:{script:/javascript|ecmascript/},converters:{"text script":function(a){l.globalEval(a);return a}}});l.ajaxPrefilter("script",function(a){a.cache===e&&(a.cache=!1);a.crossDomain&&(a.type="GET",a.global=!1)});l.ajaxTransport("script",function(a){if(a.crossDomain){var b,d=y.head||y.getElementsByTagName("head")[0]||y.documentElement;return{send:function(c,g){b=y.createElement("script");b.async="async";a.scriptCharset&&(b.charset=a.scriptCharset);b.src=a.url;b.onload=b.onreadystatechange=function(a,
c){if(c||!b.readyState||/loaded|complete/.test(b.readyState))b.onload=b.onreadystatechange=null,d&&b.parentNode&&d.removeChild(b),b=e,c||g(200,"success")};d.insertBefore(b,d.firstChild)},abort:function(){b&&b.onload(0,1)}}}});var Sa=c.ActiveXObject?function(){for(var a in Ia)Ia[a](0,1)}:!1,qb=0,Ia;l.ajaxSettings.xhr=c.ActiveXObject?function(){var a;if(!(a=!this.isLocal&&k()))a:{try{a=new c.ActiveXObject("Microsoft.XMLHTTP");break a}catch(b){}a=void 0}return a}:k;(function(a){l.extend(l.support,{ajax:!!a,
cors:!!a&&"withCredentials"in a})})(l.ajaxSettings.xhr());l.support.ajax&&l.ajaxTransport(function(a){if(!a.crossDomain||l.support.cors){var b;return{send:function(d,g){var h=a.xhr(),f,j;a.username?h.open(a.type,a.url,a.async,a.username,a.password):h.open(a.type,a.url,a.async);if(a.xhrFields)for(j in a.xhrFields)h[j]=a.xhrFields[j];a.mimeType&&h.overrideMimeType&&h.overrideMimeType(a.mimeType);!a.crossDomain&&!d["X-Requested-With"]&&(d["X-Requested-With"]="XMLHttpRequest");try{for(j in d)h.setRequestHeader(j,
d[j])}catch(k){}h.send(a.hasContent&&a.data||null);b=function(d,c){var j,k,m,p,o;try{if(b&&(c||4===h.readyState))if(b=e,f&&(h.onreadystatechange=l.noop,Sa&&delete Ia[f]),c)4!==h.readyState&&h.abort();else{j=h.status;m=h.getAllResponseHeaders();p={};(o=h.responseXML)&&o.documentElement&&(p.xml=o);p.text=h.responseText;try{k=h.statusText}catch(q){k=""}!j&&a.isLocal&&!a.crossDomain?j=p.text?200:404:1223===j&&(j=204)}}catch(t){c||g(-1,t)}p&&g(j,k,p,m)};!a.async||4===h.readyState?b():(f=++qb,Sa&&(Ia||
(Ia={},l(c).unload(Sa)),Ia[f]=b),h.onreadystatechange=b)},abort:function(){b&&b(0,1)}}}});var Pa={},ua,Ea,rb=/^(?:toggle|show|hide)$/,sb=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,Oa,Ta=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]],Ma;l.fn.extend({show:function(d,c,g){var h;if(d||0===d)return this.animate(a("show",3),d,c,g);c=0;for(g=this.length;c<g;c++)d=this[c],d.style&&(h=d.style.display,!l._data(d,"olddisplay")&&
"none"===h&&(h=d.style.display=""),""===h&&"none"===l.css(d,"display")&&l._data(d,"olddisplay",b(d.nodeName)));for(c=0;c<g;c++)if(d=this[c],d.style&&(h=d.style.display,""===h||"none"===h))d.style.display=l._data(d,"olddisplay")||"";return this},hide:function(b,d,c){if(b||0===b)return this.animate(a("hide",3),b,d,c);b=0;for(d=this.length;b<d;b++)this[b].style&&(c=l.css(this[b],"display"),"none"!==c&&!l._data(this[b],"olddisplay")&&l._data(this[b],"olddisplay",c));for(b=0;b<d;b++)this[b].style&&(this[b].style.display=
"none");return this},_toggle:l.fn.toggle,toggle:function(b,d,c){var g="boolean"==typeof b;l.isFunction(b)&&l.isFunction(d)?this._toggle.apply(this,arguments):null==b||g?this.each(function(){var a=g?b:l(this).is(":hidden");l(this)[a?"show":"hide"]()}):this.animate(a("toggle",3),b,d,c);return this},fadeTo:function(a,b,d,c){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:b},a,d,c)},animate:function(a,d,c,g){var h=l.speed(d,c,g);if(l.isEmptyObject(a))return this.each(h.complete,
[!1]);a=l.extend({},a);return this[!1===h.queue?"each":"queue"](function(){!1===h.queue&&l._mark(this);var d=l.extend({},h),c=1===this.nodeType,g=c&&l(this).is(":hidden"),e,f,j,k,m,p,o,q;d.animatedProperties={};for(j in a){e=l.camelCase(j);j!==e&&(a[e]=a[j],delete a[j]);f=a[e];l.isArray(f)?(d.animatedProperties[e]=f[1],f=a[e]=f[0]):d.animatedProperties[e]=d.specialEasing&&d.specialEasing[e]||d.easing||"swing";if("hide"===f&&g||"show"===f&&!g)return d.complete.call(this);c&&("height"===e||"width"===
e)&&(d.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY],"inline"===l.css(this,"display")&&"none"===l.css(this,"float")&&(l.support.inlineBlockNeedsLayout?(k=b(this.nodeName),"inline"===k?this.style.display="inline-block":(this.style.display="inline",this.style.zoom=1)):this.style.display="inline-block"))}null!=d.overflow&&(this.style.overflow="hidden");for(j in a)c=new l.fx(this,d,j),f=a[j],rb.test(f)?c["toggle"===f?g?"show":"hide":f]():(m=sb.exec(f),p=c.cur(),m?(o=parseFloat(m[2]),
q=m[3]||(l.cssNumber[j]?"":"px"),"px"!==q&&(l.style(this,j,(o||1)+q),p*=(o||1)/c.cur(),l.style(this,j,p+q)),m[1]&&(o=("-="===m[1]?-1:1)*o+p),c.custom(p,o,q)):c.custom(p,f,""));return!0})},stop:function(a,b){a&&this.queue([]);this.each(function(){var a=l.timers,d=a.length;for(b||l._unmark(!0,this);d--;)a[d].elem===this&&(b&&a[d](!0),a.splice(d,1))});b||this.dequeue();return this}});l.each({slideDown:a("show",1),slideUp:a("hide",1),slideToggle:a("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},
fadeToggle:{opacity:"toggle"}},function(a,b){l.fn[a]=function(a,d,c){return this.animate(b,a,d,c)}});l.extend({speed:function(a,b,d){var c=a&&"object"==typeof a?l.extend({},a):{complete:d||!d&&b||l.isFunction(a)&&a,duration:a,easing:d&&b||b&&!l.isFunction(b)&&b};c.duration=l.fx.off?0:"number"==typeof c.duration?c.duration:c.duration in l.fx.speeds?l.fx.speeds[c.duration]:l.fx.speeds._default;c.old=c.complete;c.complete=function(a){l.isFunction(c.old)&&c.old.call(this);!1!==c.queue?l.dequeue(this):
!1!==a&&l._unmark(this)};return c},easing:{linear:function(a,b,d,c){return d+c*a},swing:function(a,b,d,c){return(-Math.cos(a*Math.PI)/2+0.5)*c+d}},timers:[],fx:function(a,b,d){this.options=b;this.elem=a;this.prop=d;b.orig=b.orig||{}}});l.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this);(l.fx.step[this.prop]||l.fx.step._default)(this)},cur:function(){if(null!=this.elem[this.prop]&&(!this.elem.style||null==this.elem.style[this.prop]))return this.elem[this.prop];
var a,b=l.css(this.elem,this.prop);return isNaN(a=parseFloat(b))?!b||"auto"===b?0:b:a},custom:function(a,b,d){function c(a){return g.step(a)}var g=this,h=l.fx;this.startTime=Ma||j();this.start=a;this.end=b;this.unit=d||this.unit||(l.cssNumber[this.prop]?"":"px");this.now=this.start;this.pos=this.state=0;c.elem=this.elem;c()&&l.timers.push(c)&&!Oa&&(Oa=setInterval(h.tick,h.interval))},show:function(){this.options.orig[this.prop]=l.style(this.elem,this.prop);this.options.show=!0;this.custom("width"===
this.prop||"height"===this.prop?1:0,this.cur());l(this.elem).show()},hide:function(){this.options.orig[this.prop]=l.style(this.elem,this.prop);this.options.hide=!0;this.custom(this.cur(),0)},step:function(a){var b=Ma||j(),d=!0,c=this.elem,g=this.options,h,e;if(a||b>=g.duration+this.startTime){this.now=this.end;this.pos=this.state=1;this.update();g.animatedProperties[this.prop]=!0;for(h in g.animatedProperties)!0!==g.animatedProperties[h]&&(d=!1);if(d){null!=g.overflow&&!l.support.shrinkWrapBlocks&&
l.each(["","X","Y"],function(a,b){c.style["overflow"+b]=g.overflow[a]});g.hide&&l(c).hide();if(g.hide||g.show)for(var f in g.animatedProperties)l.style(c,f,g.orig[f]);g.complete.call(c)}return!1}Infinity==g.duration?this.now=b:(e=b-this.startTime,this.state=e/g.duration,this.pos=l.easing[g.animatedProperties[this.prop]](this.state,e,0,1,g.duration),this.now=this.start+(this.end-this.start)*this.pos);this.update();return!0}};l.extend(l.fx,{tick:function(){for(var a=l.timers,b=0;b<a.length;++b)a[b]()||
a.splice(b--,1);a.length||l.fx.stop()},interval:13,stop:function(){clearInterval(Oa);Oa=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(a){l.style(a.elem,"opacity",a.now)},_default:function(a){a.elem.style&&null!=a.elem.style[a.prop]?a.elem.style[a.prop]=("width"===a.prop||"height"===a.prop?Math.max(0,a.now):a.now)+a.unit:a.elem[a.prop]=a.now}}});l.expr&&l.expr.filters&&(l.expr.filters.animated=function(a){return l.grep(l.timers,function(b){return a===b.elem}).length});var tb=
/^t(?:able|d|h)$/i,bb=/^(?:body|html)$/i;"getBoundingClientRect"in y.documentElement?l.fn.offset=function(a){var b=this[0],d;if(a)return this.each(function(b){l.offset.setOffset(this,a,b)});if(!b||!b.ownerDocument)return null;if(b===b.ownerDocument.body)return l.offset.bodyOffset(b);try{d=b.getBoundingClientRect()}catch(c){}var g=b.ownerDocument,h=g.documentElement;if(!d||!l.contains(h,b))return d?{top:d.top,left:d.left}:{top:0,left:0};b=g.body;g=f(g);return{top:d.top+(g.pageYOffset||l.support.boxModel&&
h.scrollTop||b.scrollTop)-(h.clientTop||b.clientTop||0),left:d.left+(g.pageXOffset||l.support.boxModel&&h.scrollLeft||b.scrollLeft)-(h.clientLeft||b.clientLeft||0)}}:l.fn.offset=function(a){var b=this[0];if(a)return this.each(function(b){l.offset.setOffset(this,a,b)});if(!b||!b.ownerDocument)return null;if(b===b.ownerDocument.body)return l.offset.bodyOffset(b);l.offset.initialize();var d,c=b.offsetParent,g=b.ownerDocument,h=g.documentElement,e=g.body;d=(g=g.defaultView)?g.getComputedStyle(b,null):
b.currentStyle;for(var f=b.offsetTop,j=b.offsetLeft;(b=b.parentNode)&&(b!==e&&b!==h)&&!(l.offset.supportsFixedPosition&&"fixed"===d.position);)d=g?g.getComputedStyle(b,null):b.currentStyle,f-=b.scrollTop,j-=b.scrollLeft,b===c&&(f+=b.offsetTop,j+=b.offsetLeft,l.offset.doesNotAddBorder&&(!l.offset.doesAddBorderForTableAndCells||!tb.test(b.nodeName))&&(f+=parseFloat(d.borderTopWidth)||0,j+=parseFloat(d.borderLeftWidth)||0),c=b.offsetParent),l.offset.subtractsBorderForOverflowNotVisible&&"visible"!==
d.overflow&&(f+=parseFloat(d.borderTopWidth)||0,j+=parseFloat(d.borderLeftWidth)||0);if("relative"===d.position||"static"===d.position)f+=e.offsetTop,j+=e.offsetLeft;l.offset.supportsFixedPosition&&"fixed"===d.position&&(f+=Math.max(h.scrollTop,e.scrollTop),j+=Math.max(h.scrollLeft,e.scrollLeft));return{top:f,left:j}};l.offset={initialize:function(){var a=y.body,b=y.createElement("div"),d,c,g,h=parseFloat(l.css(a,"marginTop"))||0;l.extend(b.style,{position:"absolute",top:0,left:0,margin:0,border:0,
width:"1px",height:"1px",visibility:"hidden"});b.innerHTML="<div style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;'><div></div></div><table style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>";a.insertBefore(b,a.firstChild);d=b.firstChild;c=d.firstChild;g=d.nextSibling.firstChild.firstChild;this.doesNotAddBorder=5!==c.offsetTop;this.doesAddBorderForTableAndCells=
5===g.offsetTop;c.style.position="fixed";c.style.top="20px";this.supportsFixedPosition=20===c.offsetTop||15===c.offsetTop;c.style.position=c.style.top="";d.style.overflow="hidden";d.style.position="relative";this.subtractsBorderForOverflowNotVisible=-5===c.offsetTop;this.doesNotIncludeMarginInBodyOffset=a.offsetTop!==h;a.removeChild(b);l.offset.initialize=l.noop},bodyOffset:function(a){var b=a.offsetTop,d=a.offsetLeft;l.offset.initialize();l.offset.doesNotIncludeMarginInBodyOffset&&(b+=parseFloat(l.css(a,
"marginTop"))||0,d+=parseFloat(l.css(a,"marginLeft"))||0);return{top:b,left:d}},setOffset:function(a,b,d){var c=l.css(a,"position");"static"===c&&(a.style.position="relative");var g=l(a),h=g.offset(),e=l.css(a,"top"),f=l.css(a,"left"),j={},k={},m,p;("absolute"===c||"fixed"===c)&&-1<l.inArray("auto",[e,f])?(k=g.position(),m=k.top,p=k.left):(m=parseFloat(e)||0,p=parseFloat(f)||0);l.isFunction(b)&&(b=b.call(a,d,h));null!=b.top&&(j.top=b.top-h.top+m);null!=b.left&&(j.left=b.left-h.left+p);"using"in b?
b.using.call(a,j):g.css(j)}};l.fn.extend({position:function(){if(!this[0])return null;var a=this[0],b=this.offsetParent(),d=this.offset(),c=bb.test(b[0].nodeName)?{top:0,left:0}:b.offset();d.top-=parseFloat(l.css(a,"marginTop"))||0;d.left-=parseFloat(l.css(a,"marginLeft"))||0;c.top+=parseFloat(l.css(b[0],"borderTopWidth"))||0;c.left+=parseFloat(l.css(b[0],"borderLeftWidth"))||0;return{top:d.top-c.top,left:d.left-c.left}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||
y.body;a&&!bb.test(a.nodeName)&&"static"===l.css(a,"position");)a=a.offsetParent;return a})}});l.each(["Left","Top"],function(a,b){var d="scroll"+b;l.fn[d]=function(b){var c,g;return b===e?(c=this[0],!c?null:(g=f(c))?"pageXOffset"in g?g[a?"pageYOffset":"pageXOffset"]:l.support.boxModel&&g.document.documentElement[d]||g.document.body[d]:c[d]):this.each(function(){(g=f(this))?g.scrollTo(a?l(g).scrollLeft():b,a?b:l(g).scrollTop()):this[d]=b})}});l.each(["Height","Width"],function(a,b){var d=b.toLowerCase();
l.fn["inner"+b]=function(){var a=this[0];return a&&a.style?parseFloat(l.css(a,d,"padding")):null};l.fn["outer"+b]=function(a){var b=this[0];return b&&b.style?parseFloat(l.css(b,d,a?"margin":"border")):null};l.fn[d]=function(a){var c=this[0];if(!c)return null==a?null:this;if(l.isFunction(a))return this.each(function(b){var c=l(this);c[d](a.call(this,b,c[d]()))});if(l.isWindow(c)){var g=c.document.documentElement["client"+b],h=c.document.body;return"CSS1Compat"===c.document.compatMode&&g||h&&h["client"+
b]||g}return 9===c.nodeType?Math.max(c.documentElement["client"+b],c.body["scroll"+b],c.documentElement["scroll"+b],c.body["offset"+b],c.documentElement["offset"+b]):a===e?(c=l.css(c,d),g=parseFloat(c),l.isNaN(g)?c:g):this.css(d,"string"==typeof a?a:a+"px")}});c.jQuery=c.$=l})(window);(function(c){function e(a,g){var e=this,k=a.add(e),h=c(window),d,m,p,o=c.tools.expose&&(g.mask||g.expose),q=Math.random().toString().slice(10);o&&("string"==typeof o&&(o={color:o}),o.closeOnClick=o.closeOnEsc=!1);var s=
g.target||a.attr("rel");m=s?c(s):a;if(!m.length)throw"Could not find Overlay: "+s;a&&-1==a.index(m)&&a.click(function(a){e.load(a);return a.preventDefault()});c.extend(e,{load:function(a){if(e.isOpened())return e;var d=b[g.effect];if(!d)throw'Overlay: cannot find effect : "'+g.effect+'"';g.oneInstance&&c.each(f,function(){this.close(a)});a=a||c.Event();a.type="onBeforeLoad";k.trigger(a);if(a.isDefaultPrevented())return e;p=!0;o&&c(m).expose(o);var s=g.top,z=g.left,w=m.outerWidth({margin:!0}),x=m.outerHeight({margin:!0});
"string"==typeof s&&(s="center"==s?Math.max((h.height()-x)/2,0):parseInt(s,10)/100*h.height());"center"==z&&(z=Math.max((h.width()-w)/2,0));d[0].call(e,{top:s,left:z},function(){p&&(a.type="onLoad",k.trigger(a))});o&&g.closeOnClick&&c.mask.getMask().one("click",e.close);g.closeOnClick&&c(document).bind("click."+q,function(a){c(a.target).parents(m).length||e.close(a)});g.closeOnEsc&&c(document).bind("keydown."+q,function(a){27==a.keyCode&&e.close(a)});return e},close:function(a){if(!e.isOpened())return e;
a=a||c.Event();a.type="onBeforeClose";k.trigger(a);if(!a.isDefaultPrevented())return p=!1,b[g.effect][1].call(e,function(){a.type="onClose";k.trigger(a)}),c(document).unbind("click."+q).unbind("keydown."+q),o&&c.mask.close(),e},getOverlay:function(){return m},getTrigger:function(){return a},getClosers:function(){return d},isOpened:function(){return p},getConf:function(){return g}});c.each(["onBeforeLoad","onStart","onLoad","onBeforeClose","onClose"],function(a,b){c.isFunction(g[b])&&c(e).bind(b,g[b]);
e[b]=function(a){a&&c(e).bind(b,a);return e}});d=m.find(g.close||".close");!d.length&&!g.close&&(d=c('<a class="close"></a>'),m.prepend(d));d.click(function(a){e.close(a)});g.load&&e.load()}c.tools=c.tools||{version:"v1.2.6"};c.tools.overlay={addEffect:function(a,c,e){b[a]=[c,e]},conf:{close:null,closeOnClick:!0,closeOnEsc:!0,closeSpeed:"fast",effect:"default",fixed:!c.browser.msie||6<c.browser.version,left:"center",load:!1,mask:null,oneInstance:!0,speed:"normal",target:null,top:"10%"}};var f=[],
b={};c.tools.overlay.addEffect("default",function(a,b){var e=this.getConf(),f=c(window);e.fixed||(a.top+=f.scrollTop(),a.left+=f.scrollLeft());a.position=e.fixed?"fixed":"absolute";this.getOverlay().css(a).fadeIn(e.speed,b)},function(a){this.getOverlay().fadeOut(this.getConf().closeSpeed,a)});c.fn.overlay=function(a){var b=this.data("overlay");if(b)return b;c.isFunction(a)&&(a={onBeforeLoad:a});a=c.extend(!0,{},c.tools.overlay.conf,a);this.each(function(){b=new e(c(this),a);f.push(b);c(this).data("overlay",
b)});return a.api?b:this}})(jQuery);(function(c){function e(a,b){var e=c(b);return 2>e.length?e:a.parent().find(b)}function f(a,g){var f=this,k=a.add(f),h=a.children(),d=0,m=g.vertical;b||(b=f);1<h.length&&(h=c(g.items,a));1<g.size&&(g.circular=!1);c.extend(f,{getConf:function(){return g},getIndex:function(){return d},getSize:function(){return f.getItems().size()},getNaviButtons:function(){return s.add(u)},getRoot:function(){return a},getItemWrap:function(){return h},getItems:function(){return h.find(g.item).not("."+
g.clonedClass)},move:function(a,b){return f.seekTo(d+a,b)},next:function(a){return f.move(g.size,a)},prev:function(a){return f.move(-g.size,a)},begin:function(a){return f.seekTo(0,a)},end:function(a){return f.seekTo(f.getSize()-1,a)},focus:function(){return b=f},addItem:function(a){a=c(a);g.circular?(h.children().last().before(a),h.children().first().replaceWith(a.clone().addClass(g.clonedClass))):(h.append(a),u.removeClass("disabled"));k.trigger("onAddItem",[a]);return f},seekTo:function(a,e,p){a.jquery||
(a*=1);if(g.circular&&0===a&&-1==d&&0!==e||!g.circular&&0>a||a>f.getSize()||-1>a)return f;var o=a;a.jquery?a=f.getItems().index(a):o=f.getItems().eq(a);var q=c.Event("onBeforeSeek");if(!p&&(k.trigger(q,[a,e]),q.isDefaultPrevented()||!o.length))return f;o=m?{top:-o.position().top}:{left:-o.position().left};d=a;b=f;void 0===e&&(e=g.speed);h.animate(o,e,g.easing,p||function(){k.trigger("onSeek",[a])});return f}});c.each(["onBeforeSeek","onSeek","onAddItem"],function(a,b){c.isFunction(g[b])&&c(f).bind(b,
g[b]);f[b]=function(a){a&&c(f).bind(b,a);return f}});if(g.circular){var p=f.getItems().slice(-1).clone().prependTo(h),o=f.getItems().eq(1).clone().appendTo(h);p.add(o).addClass(g.clonedClass);f.onBeforeSeek(function(a,b,d){if(!a.isDefaultPrevented()){if(-1==b)return f.seekTo(p,d,function(){f.end(0)}),a.preventDefault();b==f.getSize()&&f.seekTo(o,d,function(){f.begin(0)})}});var q=a.parents().add(a).filter(function(){if("none"===c(this).css("display"))return!0});q.length?(q.show(),f.seekTo(0,0,function(){}),
q.hide()):f.seekTo(0,0,function(){})}var s=e(a,g.prev).click(function(a){a.stopPropagation();f.prev()}),u=e(a,g.next).click(function(a){a.stopPropagation();f.next()});g.circular||(f.onBeforeSeek(function(a,b){setTimeout(function(){a.isDefaultPrevented()||(s.toggleClass(g.disabledClass,0>=b),u.toggleClass(g.disabledClass,b>=f.getSize()-1))},1)}),g.initialIndex||s.addClass(g.disabledClass));2>f.getSize()&&s.add(u).addClass(g.disabledClass);g.mousewheel&&c.fn.mousewheel&&a.mousewheel(function(a,b){if(g.mousewheel)return f.move(0>
b?1:-1,g.wheelSpeed||50),!1});if(g.touch){var t,v;h[0].ontouchstart=function(a){a=a.touches[0];t=a.clientX;v=a.clientY};h[0].ontouchmove=function(a){if(1==a.touches.length&&!h.is(":animated")){var b=a.touches[0],d=t-b.clientX,b=v-b.clientY;f[m&&0<b||!m&&0<d?"next":"prev"]();a.preventDefault()}}}g.keyboard&&c(document).bind("keydown.scrollable",function(a){if(g.keyboard&&(!a.altKey&&!a.ctrlKey&&!a.metaKey&&!c(a.target).is(":input"))&&!("static"!=g.keyboard&&b!=f)){var d=a.keyCode;if(m&&(38==d||40==
d))return f.move(38==d?-1:1),a.preventDefault();if(!m&&(37==d||39==d))return f.move(37==d?-1:1),a.preventDefault()}});g.initialIndex&&f.seekTo(g.initialIndex,0,function(){})}c.tools=c.tools||{version:"v1.2.6"};c.tools.scrollable={conf:{activeClass:"active",circular:!1,clonedClass:"cloned",disabledClass:"disabled",easing:"swing",initialIndex:0,item:"> *",items:".items",keyboard:!0,mousewheel:!1,next:".next",prev:".prev",size:1,speed:400,vertical:!1,touch:!0,wheelSpeed:0}};var b;c.fn.scrollable=function(a){var b=
this.data("scrollable");if(b)return b;a=c.extend({},c.tools.scrollable.conf,a);this.each(function(){b=new f(c(this),a);c(this).data("scrollable",b)});return a.api?b:this}})(jQuery);(function(c){function e(){if(c.browser.msie){var a=c(document).height(),b=c(window).height();return[window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,20>a-b?b:a]}return[c(document).width(),c(document).height()]}function f(a){if(a)return a.call(c.mask)}c.tools=c.tools||{version:"v1.2.6"};
var b;b=c.tools.expose={conf:{maskId:"exposeMask",loadSpeed:"slow",closeSpeed:"fast",closeOnClick:!0,closeOnEsc:!0,zIndex:9998,opacity:0.8,startOpacity:0,color:"#fff",onLoad:null,onClose:null}};var a,g,j,k,h;c.mask={load:function(d,m){if(j)return this;"string"==typeof d&&(d={color:d});d=d||k;k=d=c.extend(c.extend({},b.conf),d);a=c("#"+d.maskId);a.length||(a=c("<div/>").attr("id",d.maskId),c("body").append(a));var p=e();a.css({position:"absolute",top:0,left:0,width:p[0],height:p[1],display:"none",
opacity:d.startOpacity,zIndex:d.zIndex});d.color&&a.css("backgroundColor",d.color);if(!1===f(d.onBeforeLoad))return this;d.closeOnEsc&&c(document).bind("keydown.mask",function(a){27==a.keyCode&&c.mask.close(a)});d.closeOnClick&&a.bind("click.mask",function(a){c.mask.close(a)});c(window).bind("resize.mask",function(){c.mask.fit()});m&&m.length&&(h=m.eq(0).css("zIndex"),c.each(m,function(){var a=c(this);/relative|absolute|fixed/i.test(a.css("position"))||a.css("position","relative")}),g=m.css({zIndex:Math.max(d.zIndex+
1,"auto"==h?0:h)}));a.css({display:"block"}).fadeTo(d.loadSpeed,d.opacity,function(){c.mask.fit();f(d.onLoad);j="full"});j=!0;return this},close:function(){if(j){if(!1===f(k.onBeforeClose))return this;a.fadeOut(k.closeSpeed,function(){f(k.onClose);g&&g.css({zIndex:h});j=!1});c(document).unbind("keydown.mask");a.unbind("click.mask");c(window).unbind("resize.mask")}return this},fit:function(){if(j){var b=e();a.css({width:b[0],height:b[1]})}},getMask:function(){return a},isLoaded:function(a){return a?
"full"==j:j},getConf:function(){return k},getExposed:function(){return g}};c.fn.mask=function(a){c.mask.load(a);return this};c.fn.expose=function(a){c.mask.load(a,this);return this}})(jQuery)})},"dijit/main":function(){define("dijit/main",["dojo/_base/kernel"],function(c){return c.dijit})},"dojox/main":function(){define("dojox/main",["dojo/_base/kernel"],function(c){return c.dojox})},"simplekey/resources":function(){define("simplekey/resources",["bridge/jquery","bridge/underscore"],function(c,e){var f=
{get:function(b,a){var g=c.Deferred();c.ajax({url:API_URL+b,data:a,traditional:!0}).done(function(a){g.resolve(a)});return g}};f.glossaryblob=e.memoize(function(){return f.get("glossaryblob/")});f.pile=e.memoize(function(b){return f.get("piles/"+b+"/")});f.pile_characters=e.memoize(function(b){return f.get("piles/"+b+"/characters/")});f.more_questions=e.memoize(function(b){return f.get("piles/"+b.pile_slug+"/questions/",{choose_best:3,species_ids:b.species_ids.join("_"),character_group_id:b.character_group_ids,
exclude:b.exclude_characters})},function(b){return b.exclude_characters+b.character_group_ids+b.species_ids});f.pile_species=e.memoize(function(b){return f.get("species/"+b+"/")});f.taxon_info=function(b){save_name=b.replace(" ","%20");return f.get("taxon/"+save_name+"/")};f.character_vector=e.memoize(function(b){return f.get("vectors/character/"+b+"/")});f.key_vector=e.memoize(function(b){return f.get("vectors/key/"+b+"/")});f.pile_vector=e.memoize(function(b){return f.get("vectors/pile/"+b+"/")});
f.base_vector=e.memoize(function(b){var a=c.Deferred();c.when(f.key_vector(b.key_name),f.pile_vector(b.pile_slug)).done(function(b,c){a.resolve(e.intersect(b[0].species,c[0].species))});return a});return simplekey_resources=f})},"bridge/underscore":function(){define("bridge/underscore",["tools/underscore-min"],function(){var c;window._&&(c=_);return c})},"tools/underscore-min":function(){define(["dojo","dijit","dojox"],function(){(function(){function c(a,b,d){if(a===b)return 0!==a||1/a==1/b;if(null==
a||null==b)return a===b;a._chain&&(a=a._wrapped);b._chain&&(b=b._wrapped);if(a.isEqual&&r.isFunction(a.isEqual))return a.isEqual(b);if(b.isEqual&&r.isFunction(b.isEqual))return b.isEqual(a);var g=h.call(a);if(g!=h.call(b))return!1;switch(g){case "[object String]":return a==""+b;case "[object Number]":return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case "[object Date]":case "[object Boolean]":return+a==+b;case "[object RegExp]":return a.source==b.source&&a.global==b.global&&a.multiline==b.multiline&&a.ignoreCase==
b.ignoreCase}if("object"!=typeof a||"object"!=typeof b)return!1;for(var e=d.length;e--;)if(d[e]==a)return!0;d.push(a);var e=0,f=!0;if("[object Array]"==g){if(e=a.length,f=e==b.length)for(;e--&&(f=e in a==e in b&&c(a[e],b[e],d)););}else{if("constructor"in a!="constructor"in b||a.constructor!=b.constructor)return!1;for(var j in a)if(r.has(a,j)&&(e++,!(f=r.has(b,j)&&c(a[j],b[j],d))))break;if(f){for(j in b)if(r.has(b,j)&&!e--)break;f=!e}}d.pop();return f}var e=this,f=e._,b={},a=Array.prototype,g=Object.prototype,
j=a.slice,k=a.unshift,h=g.toString,d=g.hasOwnProperty,m=a.forEach,p=a.map,o=a.reduce,q=a.reduceRight,s=a.filter,u=a.every,t=a.some,v=a.indexOf,z=a.lastIndexOf,g=Array.isArray,w=Object.keys,x=Function.prototype.bind,r=function(a){return new y(a)};"undefined"!==typeof exports?("undefined"!==typeof module&&module.exports&&(exports=module.exports=r),exports._=r):e._=r;r.VERSION="1.3.1";var B=r.each=r.forEach=function(a,d,c){if(a!=null)if(m&&a.forEach===m)a.forEach(d,c);else if(a.length===+a.length)for(var g=
0,h=a.length;g<h;g++){if(g in a&&d.call(c,a[g],g,a)===b)break}else for(g in a)if(r.has(a,g)&&d.call(c,a[g],g,a)===b)break};r.map=r.collect=function(a,b,d){var c=[];if(a==null)return c;if(p&&a.map===p)return a.map(b,d);B(a,function(a,g,h){c[c.length]=b.call(d,a,g,h)});if(a.length===+a.length)c.length=a.length;return c};r.reduce=r.foldl=r.inject=function(a,b,d,c){var g=arguments.length>2;a==null&&(a=[]);if(o&&a.reduce===o)return c&&(b=r.bind(b,c)),g?a.reduce(b,d):a.reduce(b);B(a,function(a,h,e){g?d=
b.call(c,d,a,h,e):(d=a,g=true)});if(!g)throw new TypeError("Reduce of empty array with no initial value");return d};r.reduceRight=r.foldr=function(a,b,d,c){var g=arguments.length>2;a==null&&(a=[]);if(q&&a.reduceRight===q)return c&&(b=r.bind(b,c)),g?a.reduceRight(b,d):a.reduceRight(b);var h=r.toArray(a).reverse();c&&!g&&(b=r.bind(b,c));return g?r.reduce(h,b,d,c):r.reduce(h,b)};r.find=r.detect=function(a,b,d){var c;A(a,function(a,g,h){if(b.call(d,a,g,h))return c=a,true});return c};r.filter=r.select=
function(a,b,d){var c=[];if(a==null)return c;if(s&&a.filter===s)return a.filter(b,d);B(a,function(a,g,h){b.call(d,a,g,h)&&(c[c.length]=a)});return c};r.reject=function(a,b,d){var c=[];if(a==null)return c;B(a,function(a,g,h){b.call(d,a,g,h)||(c[c.length]=a)});return c};r.every=r.all=function(a,d,c){var g=true;if(a==null)return g;if(u&&a.every===u)return a.every(d,c);B(a,function(a,h,e){if(!(g=g&&d.call(c,a,h,e)))return b});return g};var A=r.some=r.any=function(a,d,c){d||(d=r.identity);var g=false;
if(a==null)return g;if(t&&a.some===t)return a.some(d,c);B(a,function(a,h,e){if(g||(g=d.call(c,a,h,e)))return b});return!!g};r.include=r.contains=function(a,b){return a==null?false:v&&a.indexOf===v?a.indexOf(b)!=-1:A(a,function(a){return a===b})};r.invoke=function(a,b){var d=j.call(arguments,2);return r.map(a,function(a){return(r.isFunction(b)?b||a:a[b]).apply(a,d)})};r.pluck=function(a,b){return r.map(a,function(a){return a[b]})};r.max=function(a,b,d){if(!b&&r.isArray(a))return Math.max.apply(Math,
a);if(!b&&r.isEmpty(a))return-Infinity;var c={computed:-Infinity};B(a,function(a,g,h){g=b?b.call(d,a,g,h):a;g>=c.computed&&(c={value:a,computed:g})});return c.value};r.min=function(a,b,d){if(!b&&r.isArray(a))return Math.min.apply(Math,a);if(!b&&r.isEmpty(a))return Infinity;var c={computed:Infinity};B(a,function(a,g,h){g=b?b.call(d,a,g,h):a;g<c.computed&&(c={value:a,computed:g})});return c.value};r.shuffle=function(a){var b=[],d;B(a,function(a,c){c==0?b[0]=a:(d=Math.floor(Math.random()*(c+1)),b[c]=
b[d],b[d]=a)});return b};r.sortBy=function(a,b,d){return r.pluck(r.map(a,function(a,c,g){return{value:a,criteria:b.call(d,a,c,g)}}).sort(function(a,b){var d=a.criteria,c=b.criteria;return d<c?-1:d>c?1:0}),"value")};r.groupBy=function(a,b){var d={},c=r.isFunction(b)?b:function(a){return a[b]};B(a,function(a,b){var g=c(a,b);(d[g]||(d[g]=[])).push(a)});return d};r.sortedIndex=function(a,b,d){d||(d=r.identity);for(var c=0,g=a.length;c<g;){var h=c+g>>1;d(a[h])<d(b)?c=h+1:g=h}return c};r.toArray=function(a){return!a?
[]:a.toArray?a.toArray():r.isArray(a)?j.call(a):r.isArguments(a)?j.call(a):r.values(a)};r.size=function(a){return r.toArray(a).length};r.first=r.head=function(a,b,d){return b!=null&&!d?j.call(a,0,b):a[0]};r.initial=function(a,b,d){return j.call(a,0,a.length-(b==null||d?1:b))};r.last=function(a,b,d){return b!=null&&!d?j.call(a,Math.max(a.length-b,0)):a[a.length-1]};r.rest=r.tail=function(a,b,d){return j.call(a,b==null||d?1:b)};r.compact=function(a){return r.filter(a,function(a){return!!a})};r.flatten=
function(a,b){return r.reduce(a,function(a,d){if(r.isArray(d))return a.concat(b?d:r.flatten(d));a[a.length]=d;return a},[])};r.without=function(a){return r.difference(a,j.call(arguments,1))};r.uniq=r.unique=function(a,b,d){var d=d?r.map(a,d):a,c=[];r.reduce(d,function(d,g,h){if(0==h||(b===true?r.last(d)!=g:!r.include(d,g))){d[d.length]=g;c[c.length]=a[h]}return d},[]);return c};r.union=function(){return r.uniq(r.flatten(arguments,true))};r.intersection=r.intersect=function(a){var b=j.call(arguments,
1);return r.filter(r.uniq(a),function(a){return r.every(b,function(b){return r.indexOf(b,a)>=0})})};r.difference=function(a){var b=r.flatten(j.call(arguments,1));return r.filter(a,function(a){return!r.include(b,a)})};r.zip=function(){for(var a=j.call(arguments),b=r.max(r.pluck(a,"length")),d=Array(b),c=0;c<b;c++)d[c]=r.pluck(a,""+c);return d};r.indexOf=function(a,b,d){if(a==null)return-1;var c;if(d)return d=r.sortedIndex(a,b),a[d]===b?d:-1;if(v&&a.indexOf===v)return a.indexOf(b);d=0;for(c=a.length;d<
c;d++)if(d in a&&a[d]===b)return d;return-1};r.lastIndexOf=function(a,b){if(a==null)return-1;if(z&&a.lastIndexOf===z)return a.lastIndexOf(b);for(var d=a.length;d--;)if(d in a&&a[d]===b)return d;return-1};r.range=function(a,b,d){arguments.length<=1&&(b=a||0,a=0);for(var d=arguments[2]||1,c=Math.max(Math.ceil((b-a)/d),0),g=0,h=Array(c);g<c;){h[g++]=a;a=a+d}return h};var C=function(){};r.bind=function(a,b){var d,c;if(a.bind===x&&x)return x.apply(a,j.call(arguments,1));if(!r.isFunction(a))throw new TypeError;
c=j.call(arguments,2);return d=function(){if(!(this instanceof d))return a.apply(b,c.concat(j.call(arguments)));C.prototype=a.prototype;var g=new C,h=a.apply(g,c.concat(j.call(arguments)));return Object(h)===h?h:g}};r.bindAll=function(a){var b=j.call(arguments,1);b.length==0&&(b=r.functions(a));B(b,function(b){a[b]=r.bind(a[b],a)});return a};r.memoize=function(a,b){var d={};b||(b=r.identity);return function(){var c=b.apply(this,arguments);return r.has(d,c)?d[c]:d[c]=a.apply(this,arguments)}};r.delay=
function(a,b){var d=j.call(arguments,2);return setTimeout(function(){return a.apply(a,d)},b)};r.defer=function(a){return r.delay.apply(r,[a,1].concat(j.call(arguments,1)))};r.throttle=function(a,b){var d,c,g,h,e,f=r.debounce(function(){e=h=false},b);return function(){d=this;c=arguments;g||(g=setTimeout(function(){g=null;e&&a.apply(d,c);f()},b));h?e=true:a.apply(d,c);f();h=true}};r.debounce=function(a,b){var d;return function(){var c=this,g=arguments;clearTimeout(d);d=setTimeout(function(){d=null;
a.apply(c,g)},b)}};r.once=function(a){var b=false,d;return function(){if(b)return d;b=true;return d=a.apply(this,arguments)}};r.wrap=function(a,b){return function(){var d=[a].concat(j.call(arguments,0));return b.apply(this,d)}};r.compose=function(){var a=arguments;return function(){for(var b=arguments,d=a.length-1;d>=0;d--)b=[a[d].apply(this,b)];return b[0]}};r.after=function(a,b){return a<=0?b():function(){if(--a<1)return b.apply(this,arguments)}};r.keys=w||function(a){if(a!==Object(a))throw new TypeError("Invalid object");
var b=[],d;for(d in a)r.has(a,d)&&(b[b.length]=d);return b};r.values=function(a){return r.map(a,r.identity)};r.functions=r.methods=function(a){var b=[],d;for(d in a)r.isFunction(a[d])&&b.push(d);return b.sort()};r.extend=function(a){B(j.call(arguments,1),function(b){for(var d in b)a[d]=b[d]});return a};r.defaults=function(a){B(j.call(arguments,1),function(b){for(var d in b)a[d]==null&&(a[d]=b[d])});return a};r.clone=function(a){return!r.isObject(a)?a:r.isArray(a)?a.slice():r.extend({},a)};r.tap=function(a,
b){b(a);return a};r.isEqual=function(a,b){return c(a,b,[])};r.isEmpty=function(a){if(r.isArray(a)||r.isString(a))return a.length===0;for(var b in a)if(r.has(a,b))return false;return true};r.isElement=function(a){return!!(a&&a.nodeType==1)};r.isArray=g||function(a){return h.call(a)=="[object Array]"};r.isObject=function(a){return a===Object(a)};r.isArguments=function(a){return h.call(a)=="[object Arguments]"};r.isArguments(arguments)||(r.isArguments=function(a){return!(!a||!r.has(a,"callee"))});r.isFunction=
function(a){return h.call(a)=="[object Function]"};r.isString=function(a){return h.call(a)=="[object String]"};r.isNumber=function(a){return h.call(a)=="[object Number]"};r.isNaN=function(a){return a!==a};r.isBoolean=function(a){return a===true||a===false||h.call(a)=="[object Boolean]"};r.isDate=function(a){return h.call(a)=="[object Date]"};r.isRegExp=function(a){return h.call(a)=="[object RegExp]"};r.isNull=function(a){return a===null};r.isUndefined=function(a){return a===void 0};r.has=function(a,
b){return d.call(a,b)};r.noConflict=function(){e._=f;return this};r.identity=function(a){return a};r.times=function(a,b,d){for(var c=0;c<a;c++)b.call(d,c)};r.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")};r.mixin=function(a){B(r.functions(a),function(b){H(b,r[b]=a[b])})};var D=0;r.uniqueId=function(a){var b=D++;return a?a+b:b};r.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,
escape:/<%-([\s\S]+?)%>/g};var F=/.^/,E=function(a){return a.replace(/\\\\/g,"\\").replace(/\\'/g,"'")};r.template=function(a,b){var d=r.templateSettings,d="var __p=[],print=function(){__p.push.apply(__p,arguments);};with(obj||{}){__p.push('"+a.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(d.escape||F,function(a,b){return"',_.escape("+E(b)+"),'"}).replace(d.interpolate||F,function(a,b){return"',"+E(b)+",'"}).replace(d.evaluate||F,function(a,b){return"');"+E(b).replace(/[\r\n\t]/g," ")+";__p.push('"}).replace(/\r/g,
"\\r").replace(/\n/g,"\\n").replace(/\t/g,"\\t")+"');}return __p.join('');",c=new Function("obj","_",d);return b?c(b,r):function(a){return c.call(this,a,r)}};r.chain=function(a){return r(a).chain()};var y=function(a){this._wrapped=a};r.prototype=y.prototype;var J=function(a,b){return b?r(a).chain():a},H=function(a,b){y.prototype[a]=function(){var a=j.call(arguments);k.call(a,this._wrapped);return J(b.apply(r,a),this._chain)}};r.mixin(r);B("pop push reverse shift sort splice unshift".split(" "),function(b){var d=
a[b];y.prototype[b]=function(){var a=this._wrapped;d.apply(a,arguments);var c=a.length;(b=="shift"||b=="splice")&&c===0&&delete a[0];return J(a,this._chain)}});B(["concat","join","slice"],function(b){var d=a[b];y.prototype[b]=function(){return J(d.apply(this._wrapped,arguments),this._chain)}});y.prototype.chain=function(){this._chain=true;return this};y.prototype.value=function(){return this._wrapped}}).call(this)})},"gobotany/sk/SearchSuggest":function(){define("gobotany/sk/SearchSuggest","dojo/_base/declare dojox/data/JsonRestStore dojo/query dojo/on dojo/_base/connect dojo/_base/lang dojo/keys dojo/dom dojo/dom-class dojo/dom-geometry dojo/dom-construct dojo/dom-prop".split(" "),
function(c,e,f,b,a,g,j,k,h,d,m,p){return c("gobotany.sk.SearchSuggest",null,{constants:{TIMEOUT_INTERVAL_MS:200},stored_search_box_value:"",search_box:null,menu:null,menu_list:null,result_cache:{},constructor:function(a){if(a!==void 0&&a.length)this.stored_search_box_value=a;this.search_box=f("#search-suggest input")[0];this.search_box===void 0&&console.error("SearchSuggest.js: Search box not found.");this.menu=f("#search-suggest .menu")[0];this.menu===void 0&&console.error("SearchSuggest.js: Menu not found.");
this.menu_list=f("#search-suggest .menu ul")[0];this.menu_list===void 0&&console.error("SearchSuggest.js: Menu list not found.")},setup:function(){this.set_timer();a.connect(this.search_box,"keypress",g.hitch(this,this.handle_keys));a.connect(window,"resize",g.hitch(this,this.set_horizontal_position))},get_highlighted_menu_item_index:function(){for(var a=false,b=f("li",this.menu),d=-1,c=0;a===false&&c<b.length;){if(h.contains(b[c],"highlighted")){a=true;d=c}c=c+1}return d},get_text_from_item_html:function(a){var b=
a.indexOf("q=")+2,d=a.indexOf('">');return a.slice(b,d)},highlight_menu_item:function(a){a=f("li",this.menu)[a];if(a!==void 0){var b=this.get_highlighted_menu_item_index();if(b>=0){b=f("li",this.menu)[b];h.remove(b,"highlighted")}h.add(a,"highlighted");this.stored_search_box_value=a=unescape(this.get_text_from_item_html(a.innerHTML));this.search_box.value=a}},highlight_next_menu_item:function(){var a=this.get_highlighted_menu_item_index()+1,b=f("li",this.menu).length;a>=b&&(a=0);this.highlight_menu_item(a)},
highlight_previous_menu_item:function(){var a=this.get_highlighted_menu_item_index()-1,b=f("li",this.menu).length;a<0&&(a=b-1);this.highlight_menu_item(a)},handle_keys:function(a){switch(a.charOrCode){case j.DOWN_ARROW:this.highlight_next_menu_item();break;case j.UP_ARROW:this.highlight_previous_menu_item();break;case j.TAB:case j.ESCAPE:this.show_menu(false)}},set_timer:function(){setTimeout(g.hitch(this,this.check_for_change),this.constants.TIMEOUT_INTERVAL_MS)},check_for_change:function(){this.has_search_box_changed()&&
this.handle_search_query();this.set_timer()},has_search_box_changed:function(){var a=false;if(this.search_box.value!==this.stored_search_box_value){a=true;this.stored_search_box_value=this.search_box.value}return a},set_horizontal_position:function(){this.menu.style.left=d.position(this.search_box,true).x-3+"px"},show_menu:function(a){a?h.remove(this.menu,"hidden"):h.add(this.menu,"hidden");this.set_horizontal_position()},format_suggestion:function(a,b){return(b+"<strong>"+a.substr(b.length)+"</strong>").toLowerCase()},
display_suggestions:function(a,d){m.empty(this.menu_list);if(a.length>0){this.show_menu(true);var c;for(c=0;c<a.length;c=c+1){var h=a[c],e=SEARCH_URL+"?q="+h.toLowerCase(),h=this.format_suggestion(h,d),f=m.create("li");m.create("a",{href:e,innerHTML:h},f);b(f,"onclick",g.hitch(this,this.select_suggestion,f));m.place(f,this.menu_list)}}else this.show_menu(false)},get_cached_suggestions:function(a){return this.result_cache[a]},get_suggestions:function(a){(new e({target:SUGGEST_URL})).fetch({query:{q:a},
scope:this,onComplete:function(b){this.result_cache[a]=b;this.display_suggestions(b,a)}})},handle_search_query:function(){var a=this.stored_search_box_value;if(a.length>0){var b=this.get_cached_suggestions(a);b===void 0?this.get_suggestions(a):this.display_suggestions(b,a)}else this.show_menu(false)},select_suggestion:function(a){a=f("a",a)[0];if(a!==void 0){a=p.get(a,"href");if(a!==void 0){var b=unescape(a.substring(a.indexOf("=")+1));this.stored_search_box_value=b;this.search_box.value=b;this.show_menu(false);
window.location.href=a}}}})})},"dojox/data/JsonRestStore":function(){define("dojox/data/JsonRestStore","dojo/_base/lang dojo/_base/declare dojo/_base/connect dojox/rpc/Rest dojox/rpc/JsonRest dojox/json/schema dojox/data/ServiceStore".split(" "),function(c,e,f,b,a,g,j){var k=e("dojox.data.JsonRestStore",j,{constructor:function(d){f.connect(b._index,"onUpdate",this,function(a,b,d,c){var g=this.service.servicePath;if(a.__id&&a.__id.substring(0,g.length)==g)this.onSet(a,b,d,c)});this.idAttribute=this.idAttribute||
"id";if(typeof d.target=="string"){d.target=d.target.match(/\/$/)||this.allowNoTrailingSlash?d.target:d.target+"/";if(!this.service)this.service=a.services[d.target]||b(d.target,true)}a.registerService(this.service,d.target,this.schema);this.schema=this.service._schema=this.schema||this.service._schema||{};this.service._store=this;this.service.idAsRef=this.idAsRef;this.schema._idAttr=this.idAttribute;var c=a.getConstructor(this.service),g=this;this._constructor=function(a){c.call(this,a);g.onNew(this)};
this._constructor.prototype=c.prototype;this._index=b._index},loadReferencedSchema:true,idAsRef:false,referenceIntegrity:true,target:"",allowNoTrailingSlash:false,newItem:function(a,b){a=new this._constructor(a);if(b){var c=this.getValue(b.parent,b.attribute,[]),c=c.concat([a]);a.__parent=c;this.setValue(b.parent,b.attribute,c)}return a},deleteItem:function(d){var c=[],g=h._getStoreForItem(d)||this;if(this.referenceIntegrity){a._saveNotNeeded=true;var e=b._index,f=function(a){var b;c.push(a);a.__checked=
1;for(var j in a)if(j.substring(0,2)!="__"){var k=a[j];if(k==d)a!=e&&(a instanceof Array?(b=b||[]).push(j):(h._getStoreForItem(a)||g).unsetAttribute(a,j));else if(typeof k=="object"&&k){k.__checked||f(k);typeof k.__checked=="object"&&a!=e&&(h._getStoreForItem(a)||g).setValue(a,j,k.__checked)}}if(b){j=b.length;for(a=a.__checked=a.concat();j--;)a.splice(b[j],1);return a}return null};f(e);a._saveNotNeeded=false;for(var j=0;c[j];)delete c[j++].__checked}a.deleteObject(d);g.onDelete(d)},changing:function(b,
c){a.changing(b,c)},cancelChanging:function(b){if(b.__id){dirtyObjects=a.getDirtyObjects();for(var c=0;c<dirtyObjects.length;c++)if(b==dirtyObjects[c].object){dirtyObjects.splice(c,1);break}}},setValue:function(a,b,c){var e=a[b],f=a.__id?h._getStoreForItem(a):this;g&&(f.schema&&f.schema.properties)&&g.mustBeValid(g.checkPropertyChange(c,f.schema.properties[b]));if(b==f.idAttribute)throw Error("Can not change the identity attribute for an item");f.changing(a);if((a[b]=c)&&!c.__parent)c.__parent=a;
f.onSet(a,b,e,c)},setValues:function(a,b,g){if(!c.isArray(g))throw Error("setValues expects to be passed an Array object as its value");this.setValue(a,b,g)},unsetAttribute:function(a,b){this.changing(a);var c=a[b];delete a[b];this.onSet(a,b,c,void 0)},save:function(b){if(!b||!b.global)(b=b||{}).service=this.service;if("syncMode"in b?b.syncMode:this.syncMode)rpcConfig._sync=true;b=a.commit(b);this.serverVersion=this._updates&&this._updates.length;return b},revert:function(b){a.revert(b&&b.global&&
this.service)},isDirty:function(b){return a.isDirty(b,this)},isItem:function(b,c){return b&&b.__id&&(c||this.service==a.getServiceAndId(b.__id).service)},_doQuery:function(b){var g=a.query(this.service,typeof b.queryStr=="string"?b.queryStr:b.query,b),h=this;this.loadReferencedSchema&&g.addCallback(function(b){var d=g.ioArgs&&g.ioArgs.xhr&&g.ioArgs.xhr.getResponseHeader("Content-Type"),e=d&&d.match(/definedby\s*=\s*([^;]*)/);if(d&&!e)e=(e=g.ioArgs.xhr.getResponseHeader("Link"))&&e.match(/<([^>]*)>;\s*rel="?definedby"?/);
if(e=e&&e[1]){d=a.getServiceAndId((h.target+e).replace(/^(.*\/)?(\w+:\/\/)|[^\/\.]+\/\.\.\/|^.*\/(\/)/,"$2$3"));d=a.byId(d.service,d.id);d.addCallbacks(function(a){c.mixin(h.schema,a);return b},function(a){console.error(a);return b});return d}});return g},_processResults:function(a,b){var c=a.length;return{totalCount:b.fullLength||(b.request.count==c?(b.request.start||0)+c*2:c),items:a}},getConstructor:function(){return this._constructor},getIdentity:function(a){a=a.__clientId||a.__id;if(!a)return a;
var b=this.service.servicePath.replace(/[^\/]*$/,"");return a.substring(0,b.length)!=b?a:a.substring(b.length)},fetchItemByIdentity:function(b){var c=b.identity,g=this;if(c.toString().match(/^(\w*:)?\//)){c=a.getServiceAndId(c);g=c.service._store;b.identity=c.id}b._prefix=g.service.servicePath.replace(/[^\/]*$/,"");return g.inherited(arguments)},onSet:function(){},onNew:function(){},onDelete:function(){},getFeatures:function(){var a=this.inherited(arguments);a["dojo.data.api.Write"]=true;a["dojo.data.api.Notification"]=
true;return a},getParent:function(a){return a&&a.__parent}});k.getStore=function(b,c){if(typeof b.target=="string"){b.target=b.target.match(/\/$/)||b.allowNoTrailingSlash?b.target:b.target+"/";var g=(a.services[b.target]||{})._store;if(g)return g}return new (c||k)(b)};var h=c.getObject("dojox.data",true);h._getStoreForItem=function(b){if(b.__id){var c=a.getServiceAndId(b.__id);if(c&&c.service._store)return c.service._store;b=b.__id.toString().match(/.*\//)[0];return new k({target:b})}return null};
c.getObject("dojox.json.ref",true)._useRefs=true;return k})},"dojox/rpc/Rest":function(){define("dojox/rpc/Rest",["dojo","dojox"],function(c,e){function f(a,b,c){a.addCallback(function(b){a.ioArgs.xhr&&c&&(c=a.ioArgs.xhr.getResponseHeader("Content-Range"),a.fullLength=c&&(c=c.match(/\/(.*)/))&&parseInt(c[1]));return b});return a}c.getObject("rpc.Rest",!0,e);e.rpc&&e.rpc.transportRegistry&&e.rpc.transportRegistry.register("REST",function(a){return"REST"==a},{getExecutor:function(a,b,c){return new e.rpc.Rest(b.name,
(b.contentType||c._smd.contentType||"").match(/json|javascript/),null,function(a,h){var d=c._getRequest(b,[a]);d.url=d.target+(d.data?"?"+d.data:"");if(h&&(0<=h.start||0<=h.count))d.headers=d.headers||{},d.headers.Range="items="+(h.start||"0")+"-"+("count"in h&&Infinity!=h.count?h.count+(h.start||0)-1:"");return d})}});var b;b=e.rpc.Rest=function(a,g,f,k){function h(a){d[a]=function(c,g){return b._change(a,d,c,g)}}var d;d=function(a,c){return b._get(d,a,c)};d.isJson=g;d._schema=f;d.cache={serialize:g?
(e.json&&e.json.ref||c).toJson:function(a){return a}};d._getRequest=k||function(b,d){c.isObject(b)&&(b=(b=c.objectToQuery(b))?"?"+b:"");if(d&&d.sort&&!d.queryStr){for(var b=b+((b?"&":"?")+"sort("),h=0;h<d.sort.length;h++)var f=d.sort[h],b=b+((0<h?",":"")+(f.descending?"-":"+")+encodeURIComponent(f.attribute));b+=")"}h={url:a+(null==b?"":b),handleAs:g?"json":"text",contentType:g?"application/json":"text/plain",sync:e.rpc._sync,headers:{Accept:g?"application/json,application/javascript":"*/*"}};if(d&&
(0<=d.start||0<=d.count))h.headers.Range="items="+(d.start||"0")+"-"+("count"in d&&Infinity!=d.count?d.count+(d.start||0)-1:"");e.rpc._sync=!1;return h};h("put");h("post");h("delete");d.servicePath=a;return d};b._index={};b._timeStamps={};b._change=function(a,b,e,k){e=b._getRequest(e);e[a+"Data"]=k;return f(c.xhr(a.toUpperCase(),e,!0),b)};b._get=function(a,b,e){e=e||{};return f(c.xhrGet(a._getRequest(b,e)),a,0<=e.start||0<=e.count,b)};return e.rpc.Rest})},"dojox/rpc/JsonRest":function(){define("dojox/rpc/JsonRest",
["dojo","dojox","dojox/json/ref","dojox/rpc/Rest"],function(c,e){function f(b,c,h,d){(c=c.ioArgs&&c.ioArgs.xhr&&c.ioArgs.xhr.getResponseHeader("Last-Modified"))&&a._timeStamps&&(a._timeStamps[d]=c);var f=b._schema&&b._schema.hrefProperty;f&&(e.json.ref.refAttribute=f);h=h&&e.json.ref.resolveJson(h,{defaultId:d,index:a._index,timeStamps:c&&a._timeStamps,time:c,idPrefix:b.servicePath.replace(/[^\/]*$/,""),idAttribute:g.getIdAttribute(b),schemas:g.schemas,loader:g._loader,idAsRef:b.idAsRef,assignAbsoluteIds:!0});
e.json.ref.refAttribute="$ref";return h}var b=[],a=e.rpc.Rest,g;g=e.rpc.JsonRest={serviceClass:e.rpc.Rest,conflictDateHeader:"If-Unmodified-Since",commit:function(e){for(var e=e||{},f=[],h={},d=[],m=0;m<b.length;m++){var p=b[m],o=p.object,q=p.old;if((!e.service||!o&&!q||!(o||q).__id.indexOf(e.service.servicePath))&&p.save){delete o.__isDirty;if(o)if(q){var s;if(s=o.__id.match(/(.*)#.*/))o=a._index[s[1]];if(!(o.__id in h)){h[o.__id]=o;if(e.incrementalUpdates&&!s)var u=("function"==typeof e.incrementalUpdates?
e.incrementalUpdates:function(){u={};for(var a in o)if(o.hasOwnProperty(a))o[a]!==q[a]&&(u[a]=o[a]);else if(q.hasOwnProperty(a))return null;return u})(o,q);u?f.push({method:"post",target:o,content:u}):f.push({method:"put",target:o,content:o})}}else s=g.getServiceAndId(o.__id).service,g.getIdAttribute(s)in o&&!e.alwaysPostNewItems?f.push({method:"put",target:o,content:o}):f.push({method:"post",target:{__id:s.servicePath},content:o});else q&&f.push({method:"delete",target:q});d.push(p);b.splice(m--,
1)}}c.connect(e,"onError",function(){if(!1!==e.revertOnError){var a=b;b=d;g.revert();b=a}else b=dirtyObject.concat(d)});g.sendToServer(f,e);return f},sendToServer:function(b,k){var h=c.xhr,d=b.length,m,p,o,q=this.conflictDateHeader;c.xhr=function(a,d){d.headers=d.headers||{};d.headers.Transaction=b.length-1==m?"commit":"open";q&&o&&(d.headers[q]=o);p&&(d.headers["Content-ID"]="<"+p+">");return h.apply(c,arguments)};for(m=0;m<b.length;m++){var s=b[m];e.rpc.JsonRest._contentId=s.content&&s.content.__id;
var u="post"==s.method;(o="put"==s.method&&a._timeStamps[s.content.__id])&&(a._timeStamps[s.content.__id]=new Date+"");p=u&&e.rpc.JsonRest._contentId;var t=g.getServiceAndId(s.target.__id),u=t.service,t=s.deferred=u[s.method](t.id.replace(/#/,""),e.json.ref.toJson(s.content,!1,u.servicePath,!0));(function(c,g,h){g.addCallback(function(e){try{var m=g.ioArgs.xhr&&g.ioArgs.xhr.getResponseHeader("Location");if(m){var p=m.match(/(^\w+:\/\/)/)&&m.indexOf(h.servicePath),m=0<p?m.substring(p):(h.servicePath+
m).replace(/^(.*\/)?(\w+:\/\/)|[^\/\.]+\/\.\.\/|^.*\/(\/)/,"$2$3");c.__id=m;a._index[m]=c}e=f(h,g,e,c&&c.__id)}catch(q){}--d||k.onComplete&&k.onComplete.call(k.scope,b);return e})})(s.content,t,u);t.addErrback(function(a){d=-1;k.onError.call(k.scope,a)})}c.xhr=h},getDirtyObjects:function(){return b},revert:function(a){for(var c=b.length;0<c;){c--;var g=b[c],d=g.object,g=g.old,f=e.data._getStoreForItem(d||g);if(!a||!d&&!g||!(d||g).__id.indexOf(a.servicePath)){if(d&&g){for(var p in g)if(g.hasOwnProperty(p)&&
d[p]!==g[p]){if(f)f.onSet(d,p,d[p],g[p]);d[p]=g[p]}for(p in d)if(!g.hasOwnProperty(p)){if(f)f.onSet(d,p,d[p]);delete d[p]}}else if(g){if(f)f.onNew(g)}else if(f)f.onDelete(d);delete (d||g).__isDirty;b.splice(c,1)}}},changing:function(a,c){if(a.__id){a.__isDirty=!0;for(var g=0;g<b.length;g++){var d=b[g];if(a==d.object){c&&(d.object=!1,this._saveNotNeeded||(d.save=!0));return}}d=a instanceof Array?[]:{};for(g in a)a.hasOwnProperty(g)&&(d[g]=a[g]);b.push({object:!c&&a,old:d,save:!this._saveNotNeeded})}},
deleteObject:function(a){this.changing(a,!0)},getConstructor:function(f,k){if("string"==typeof f){var h=f,f=new e.rpc.Rest(f,!0);this.registerService(f,h,k)}if(f._constructor)return f._constructor;f._constructor=function(d){function h(a){if(a){h(a["extends"]);q=a.properties;for(var b in q){var d=q[b];d&&("object"==typeof d&&"default"in d)&&(k[b]=d["default"])}}a&&(a.prototype&&a.prototype.initialize)&&(s=!0,a.prototype.initialize.apply(k,o))}var k=this,o=arguments,q,s;h(f._schema);!s&&(d&&"object"==
typeof d)&&c.mixin(k,d);var u=g.getIdAttribute(f);a._index[this.__id=this.__clientId=f.servicePath+(this[u]||Math.random().toString(16).substring(2,14)+"@"+(e.rpc.Client&&e.rpc.Client.clientId||"client"))]=this;e.json.schema&&q&&e.json.schema.mustBeValid(e.json.schema.validate(this,f._schema));b.push({object:this,save:!0})};return c.mixin(f._constructor,f._schema,{load:f})},fetch:function(a){a=g.getServiceAndId(a);return this.byId(a.service,a.id)},getIdAttribute:function(a){var a=a._schema,b;if(a&&
!(b=a._idAttr))for(var c in a.properties)if(a.properties[c].identity||"self"==a.properties[c].link)a._idAttr=b=c;return b||"id"},getServiceAndId:function(a){var b="",c;for(c in g.services)a.substring(0,c.length)==c&&c.length>=b.length&&(b=c);if(b)return{service:g.services[b],id:a.substring(b.length)};a=a.match(/^(.*\/)([^\/]*)$/);return{service:new g.serviceClass(a[1],!0),id:a[2]}},services:{},schemas:{},registerService:function(a,b,c){b=a.servicePath=b||a.servicePath;a._schema=g.schemas[b]=c||a._schema||
{};g.services[b]=a},byId:function(b,g){var h,d=a._index[(b.servicePath||"")+g];return d&&!d._loadObject?(h=new c.Deferred,h.callback(d),h):this.query(b,g)},query:function(a,b,c){var d=a(b,c);d.addCallback(function(g){return g.nodeType&&g.cloneNode?g:f(a,d,g,"string"!=typeof b||c&&(c.start||c.count)?void 0:b)});return d},_loader:function(a){var b=g.getServiceAndId(this.__id),c=this;g.query(b.service,b.id).addBoth(function(b){b==c?(delete b.$ref,delete b._loadObject):c._loadObject=function(a){a(b)};
a(b)})},isDirty:function(a,g){return!a?g?c.some(b,function(a){return e.data._getStoreForItem(a.object||a.old)==g}):!!b.length:a.__isDirty}};return e.rpc.JsonRest})},"dojox/json/ref":function(){define("dojox/json/ref",["dojo/_base/kernel","dojox","dojo/date/stamp","dojo/_base/array","dojo/_base/json"],function(c,e){c.getObject("json",!0,e);return e.json.ref={resolveJson:function(e,b){function a(v,z,w,x,r,B){var A,C,D,w=g in v?v[g]:w;if(g in v||void 0!==w&&x)w=(h+w).replace(s,"$2$3");x=B||v;if(void 0!==
w){d&&(v.__id=w);if(b.schemas&&!(v instanceof Array)&&(D=w.match(/^(.+\/)[^\.\[]*$/)))r=b.schemas[D[1]];if(m[w]&&v instanceof Array==m[w]instanceof Array)x=m[w],delete x.$ref,delete x._loadObject,C=!0;else if(D=r&&r.prototype)t.prototype=D,x=new t;m[w]=x;p&&(p[w]=b.time)}for(;r;){if(D=r.properties)for(A in v){var F=D[A];F&&("date-time"==F.format&&"string"==typeof v[A])&&(v[A]=c.date.stamp.fromISOString(v[A]))}r=r["extends"]}r=v.length;for(A in v){if(A==r)break;if(v.hasOwnProperty(A)){D=v[A];if("object"==
typeof D&&D&&!(D instanceof Date)&&"__parent"!=A){o=D[j]||k&&D[g];if((!o||!D.__parent)&&v!=q)D.__parent=x;if(o)if(delete v[A],B=o.toString().replace(/(#)([^\.\[])/,"$1.$2").match(/(^([^\[]*\/)?[^#\.\[]*)#?([\.\[].*)?/),m[(h+o).replace(s,"$2$3")]?o=m[(h+o).replace(s,"$2$3")]:(o="$"==B[1]||"this"==B[1]||""==B[1]?e:m[(h+B[1]).replace(s,"$2$3")])&&B[3]&&B[3].replace(/(\[([^\]]+)\])|(\.?([^\.\[]+))/g,function(a,b,d,c,g){o=o&&o[d?d.replace(/[\"\'\\]/,""):g]}),o)D=o;else{if(!z){var E;E||q.push(x);E=!0;D=
a(D,!1,D[j],!0,F);D._loadObject=b.loader}}else z||(D=a(D,q==v,void 0===w?void 0:u(w,A),!1,F,x!=v&&"object"==typeof x[A]&&x[A]))}v[A]=D;if(x!=v&&!x.__isDirty&&(B=x[A],x[A]=D,C&&D!==B&&!x._loadObject&&!("_"==A.charAt(0)&&"_"==A.charAt(1))&&"$ref"!=A&&!(D instanceof Date&&B instanceof Date&&D.getTime()==B.getTime())&&!("function"==typeof D&&"function"==typeof B&&D.toString()==B.toString())&&m.onUpdate))m.onUpdate(x,A,B,D)}}if(C&&(g in v||x instanceof Array))for(A in x){if(!x.__isDirty&&x.hasOwnProperty(A)&&
!v.hasOwnProperty(A)&&!("_"==A.charAt(0)&&"_"==A.charAt(1))&&!(x instanceof Array&&isNaN(A))){if(m.onUpdate&&"_loadObject"!=A&&"_idAttr"!=A)m.onUpdate(x,A,x[A],void 0);for(delete x[A];x instanceof Array&&x.length&&void 0===x[x.length-1];)x.length--}}else if(m.onLoad)m.onLoad(x);return x}var b=b||{},g=b.idAttribute||"id",j=this.refAttribute,k=b.idAsRef,h=b.idPrefix||"",d=b.assignAbsoluteIds,m=b.index||{},p=b.timeStamps,o,q=[],s=/^(.*\/)?(\w+:\/\/)|[^\/\.]+\/\.\.\/|^.*\/(\/)/,u=this._addProp,t=function(){};
e&&"object"==typeof e&&(e=a(e,!1,b.defaultId,!0),a(q,!1));return e},fromJson:function(c,b){try{var a=eval("("+c+")")}catch(g){throw new SyntaxError("Invalid JSON string: "+g.message+" parsing: "+c);}return a?this.resolveJson(a,b):a},toJson:function(f,b,a,g){function j(g,f,o){if("object"==typeof g&&g){if(g instanceof Date)return'"'+c.date.stamp.toISOString(g,{zulu:!0})+'"';var t=g.__id;if(t){if("#"!=f&&(k&&!t.match(/#/)||m[t]))return o=t,"#"!=t.charAt(0)&&(o=g.__clientId==t?"cid:"+t:t.substring(0,
a.length)==a?t.substring(a.length):t),g={},g[d]=o,j(g,"#");f=t}else g.__id=f,p[f]=g;m[f]=g;var o=o||"",v=b?o+c.toJsonIndentStr:"",z=b?"\n":"",t=b?" ":"";if(g instanceof Array)return"["+c.map(g,function(a,b){var d=j(a,h(f,b),v);"string"!=typeof d&&(d="undefined");return z+v+d}).join(","+t)+z+o+"]";var w=[],x;for(x in g)if(g.hasOwnProperty(x)){var r;if("number"==typeof x)r='"'+x+'"';else if("string"==typeof x&&("_"!=x.charAt(0)||"_"!=x.charAt(1)))r=c._escapeString(x);else continue;var B=j(g[x],h(f,
x),v);"string"==typeof B&&w.push(z+v+r+":"+t+B)}return"{"+w.join(","+t)+z+o+"}"}return"function"==typeof g&&e.json.ref.serializeFunctions?g.toString():c.toJson(g)}var k=this._useRefs,h=this._addProp,d=this.refAttribute,a=a||"",m={},p={},f=j(f,"#","");if(!g)for(var o in p)delete p[o].__id;return f},_addProp:function(c,b){return c+(c.match(/#/)?1==c.length?"":".":"#")+b},refAttribute:"$ref",_useRefs:!1,serializeFunctions:!1}})},"dojo/date/stamp":function(){define("dojo/date/stamp",["../_base/kernel",
"../_base/lang","../_base/array"],function(c,e,f){e.getObject("date.stamp",!0,c);c.date.stamp.fromISOString=function(b,a){c.date.stamp._isoRegExp||(c.date.stamp._isoRegExp=/^(?:(\d{4})(?:-(\d{2})(?:-(\d{2}))?)?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(.\d+)?)?((?:[+-](\d{2}):(\d{2}))|Z)?)?$/);var g=c.date.stamp._isoRegExp.exec(b),e=null;if(g){g.shift();g[1]&&g[1]--;g[6]&&(g[6]*=1E3);a&&(a=new Date(a),f.forEach(f.map("FullYear Month Date Hours Minutes Seconds Milliseconds".split(" "),function(b){return a["get"+
b]()}),function(a,b){g[b]=g[b]||a}));e=new Date(g[0]||1970,g[1]||0,g[2]||1,g[3]||0,g[4]||0,g[5]||0,g[6]||0);100>g[0]&&e.setFullYear(g[0]||1970);var k=0,h=g[7]&&g[7].charAt(0);"Z"!=h&&(k=60*(g[8]||0)+(Number(g[9])||0),"-"!=h&&(k*=-1));h&&(k-=e.getTimezoneOffset());k&&e.setTime(e.getTime()+6E4*k)}return e};c.date.stamp.toISOString=function(b,a){var c=function(a){return 10>a?"0"+a:a},a=a||{},e=[],f=a.zulu?"getUTC":"get",h="";"time"!=a.selector&&(h=b[f+"FullYear"](),h=["0000".substr((h+"").length)+h,
c(b[f+"Month"]()+1),c(b[f+"Date"]())].join("-"));e.push(h);if("date"!=a.selector){h=[c(b[f+"Hours"]()),c(b[f+"Minutes"]()),c(b[f+"Seconds"]())].join(":");f=b[f+"Milliseconds"]();a.milliseconds&&(h+="."+(100>f?"0":"")+c(f));if(a.zulu)h+="Z";else if("time"!=a.selector)var f=b.getTimezoneOffset(),d=Math.abs(f),h=h+((0<f?"-":"+")+c(Math.floor(d/60))+":"+c(d%60));e.push(h)}return e.join("T")};return c.date.stamp})},"dojox/json/schema":function(){define("dojox/json/schema",["dojo/_base/kernel","dojox",
"dojo/_base/array"],function(c,e){c.getObject("json.schema",!0,e);e.json.schema.validate=function(c,b){return this._validate(c,b,!1)};e.json.schema.checkPropertyChange=function(c,b,a){return this._validate(c,b,a||"property")};e.json.schema.mustBeValid=function(e){if(!e.valid)throw new TypeError(c.map(e.errors,function(b){return"for property "+b.property+": "+b.message}).join(", "));};e.json.schema._validate=function(c,b,a){function g(b,d,c,f){function o(a){k.push({property:c,message:a})}function q(a,
b){if(a){if("string"==typeof a&&"any"!=a&&("null"==a?null!==b:typeof b!=a)&&!(b instanceof Array&&"array"==a)&&!("integer"==a&&0===b%1))return[{property:c,message:typeof b+" value found, but a "+a+" is required"}];if(a instanceof Array){for(var d=[],h=0;h<a.length&&(d=q(a[h],b)).length;h++);if(d.length)return d}else if("object"==typeof a)return d=k,k=[],g(b,a,c),h=k,k=d,h}return[]}var s,c=c+(c?"number"==typeof f?"["+f+"]":"undefined"==typeof f?"":"."+f:f);if(("object"!=typeof d||d instanceof Array)&&
(c||"function"!=typeof d))return"function"==typeof d?Object(b)instanceof d||o("is not an instance of the class/constructor "+d.name):d&&o("Invalid schema/property definition "+d),null;a&&d.readonly&&o("is a readonly field, it can not be changed");d["extends"]&&g(b,d["extends"],c,f);if(void 0===b)d.optional||o("is missing and it is not optional");else if(k=k.concat(q(d.type,b)),d.disallow&&!q(d.disallow,b).length&&o(" disallowed value was matched"),null!==b){if(b instanceof Array){if(d.items)if(d.items instanceof
Array){f=0;for(s=b.length;f<s;f++)k.concat(g(b[f],d.items[f],c,f))}else{f=0;for(s=b.length;f<s;f++)k.concat(g(b[f],d.items,c,f))}d.minItems&&b.length<d.minItems&&o("There must be a minimum of "+d.minItems+" in the array");d.maxItems&&b.length>d.maxItems&&o("There must be a maximum of "+d.maxItems+" in the array")}else d.properties&&k.concat(e(b,d.properties,c,d.additionalProperties));d.pattern&&("string"==typeof b&&!b.match(d.pattern))&&o("does not match the regex pattern "+d.pattern);d.maxLength&&
("string"==typeof b&&b.length>d.maxLength)&&o("may only be "+d.maxLength+" characters long");d.minLength&&("string"==typeof b&&b.length<d.minLength)&&o("must be at least "+d.minLength+" characters long");void 0!==typeof d.minimum&&(typeof b==typeof d.minimum&&d.minimum>b)&&o("must have a minimum value of "+d.minimum);void 0!==typeof d.maximum&&(typeof b==typeof d.maximum&&d.maximum<b)&&o("must have a maximum value of "+d.maximum);if(d["enum"]){f=d["enum"];s=f.length;for(var u,t=0;t<s;t++)if(f[t]===
b){u=1;break}u||o("does not have a value in the enumeration "+f.join(", "))}"number"==typeof d.maxDecimal&&b.toString().match(RegExp("\\.[0-9]{"+(d.maxDecimal+1)+",}"))&&o("may only have "+d.maxDecimal+" digits of decimal places")}return null}function e(b,d,c,f){if("object"==typeof d){("object"!=typeof b||b instanceof Array)&&k.push({property:c,message:"an object is required"});for(var j in d)if(d.hasOwnProperty(j)&&!("_"==j.charAt(0)&&"_"==j.charAt(1))){var q=b[j];g(q,d[j],c,j)}}for(j in b)b.hasOwnProperty(j)&&
(!("_"==j.charAt(0)&&"_"==j.charAt(1))&&d&&!d[j]&&!1===f)&&k.push({property:c,message:typeof q+"The property "+j+" is not defined in the schema and the schema does not allow additional properties"}),(q=d&&d[j]&&d[j].requires)&&!(q in b)&&k.push({property:c,message:"the presence of the property "+j+" requires that "+q+" also be present"}),q=b[j],d&&("object"==typeof d&&!(j in d))&&g(q,f,c,j),!a&&(q&&q.$schema)&&(k=k.concat(g(q,q.$schema,c,j)));return k}var k=[];b&&g(c,b,"",a||"");!a&&(c&&c.$schema)&&
g(c,c.$schema,"","");return{valid:!k.length,errors:k}};return e.json.schema})},"dojox/data/ServiceStore":function(){define("dojox/data/ServiceStore",["dojo/_base/declare","dojo/_base/lang","dojo/_base/array"],function(c,e,f){return c("dojox.data.ServiceStore",e.getObject("dojox.data.ClientFilter",0)||null,{service:null,constructor:function(b){this.byId=this.fetchItemByIdentity;this._index={};b&&e.mixin(this,b);this.idAttribute=b&&b.idAttribute||this.schema&&this.schema._idAttr},schema:null,idAttribute:"id",
labelAttribute:"label",syncMode:!1,estimateCountFactor:1,getSchema:function(){return this.schema},loadLazyValues:!0,getValue:function(b,a,c){var e=b[a];return e||(a in b?e:b._loadObject?(dojox.rpc._sync=!0)&&arguments.callee.call(this,dojox.data.ServiceStore.prototype.loadItem({item:b})||{},a,c):c)},getValues:function(b,a){var c=this.getValue(b,a);return c instanceof Array?c:void 0===c?[]:[c]},getAttributes:function(b){var a=[],c;for(c in b)b.hasOwnProperty(c)&&!("_"==c.charAt(0)&&"_"==c.charAt(1))&&
a.push(c);return a},hasAttribute:function(b,a){return a in b},containsValue:function(b,a,c){return-1<f.indexOf(this.getValues(b,a),c)},isItem:function(b){return"object"==typeof b&&b&&!(b instanceof Date)},isItemLoaded:function(b){return b&&!b._loadObject},loadItem:function(b){var a;b.item._loadObject?b.item._loadObject(function(c){a=c;delete a._loadObject;var e=c instanceof Error?b.onError:b.onItem;e&&e.call(b.scope,c)}):b.onItem&&b.onItem.call(b.scope,b.item);return a},_currentId:0,_processResults:function(b,
a){if(b&&"object"==typeof b){var c=b.__id;if(!c&&(c=this.idAttribute?b[this.idAttribute]:this._currentId++,void 0!==c)){var f=this._index[c];if(f){for(var k in f)delete f[k];b=e.mixin(f,b)}b.__id=c;this._index[c]=b}for(var h in b)b[h]=this._processResults(b[h],a).items;c=b.length}return{totalCount:a.request.count==c?(a.request.start||0)+c*this.estimateCountFactor:c,items:b}},close:function(b){return b&&b.abort&&b.abort()},fetch:function(b){b=b||{};if("syncMode"in b?b.syncMode:this.syncMode)dojox.rpc._sync=
!0;var a=this,c=b.scope||a,e=this.cachingFetch?this.cachingFetch(b):this._doQuery(b);e.request=b;e.addCallback(function(f){b.clientFetch&&(f=a.clientSideFetch({query:b.clientFetch,sort:b.sort,start:b.start,count:b.count},f));var h=a._processResults(f,e),f=b.results=h.items;b.onBegin&&b.onBegin.call(c,h.totalCount,b);if(b.onItem)for(h=0;h<f.length;h++)b.onItem.call(c,f[h],b);b.onComplete&&b.onComplete.call(c,b.onItem?null:f,b);return f});e.addErrback(b.onError&&function(a){return b.onError.call(c,
a,b)});b.abort=function(){e.cancel()};b.store=this;return b},_doQuery:function(b){return this.service("string"==typeof b.queryStr?b.queryStr:b.query)},getFeatures:function(){return{"dojo.data.api.Read":!0,"dojo.data.api.Identity":!0,"dojo.data.api.Schema":this.schema}},getLabel:function(b){return this.getValue(b,this.labelAttribute)},getLabelAttributes:function(){return[this.labelAttribute]},getIdentity:function(b){return b.__id},getIdentityAttributes:function(){return[this.idAttribute]},fetchItemByIdentity:function(b){var a=
this._index[(b._prefix||"")+b.identity];if(a){if(a._loadObject)return b.item=a,this.loadItem(b);b.onItem&&b.onItem.call(b.scope,a)}else return this.fetch({query:b.identity,onComplete:b.onItem,onError:b.onError,scope:b.scope}).results;return a}})})},"util/fade":function(){define("util/fade",["bridge/jquery"],function(c){return fade_next_banner_image=function(){var e=c("#banner > img:hidden:first");if(0<e.length)e.fadeIn(2E3);else{var f=c("#banner > img");c(f).each(function(b){0!==b&&b!==f.length-1&&
c(this).css("display","none")});e=c("#banner > img:visible:last");e.fadeOut(2E3)}}})},"simplekey/simple":function(){require("util/activate_image_gallery util/activate_search_suggest bridge/shadowbox util/shadowbox_init util/sidebar util/activate_video_links".split(" "));require(["simplekey/glossarize"],function(c){$(document).ready(function(){c($(".key-char, .exceptions"))})})},"util/activate_image_gallery":function(){require(["bridge/jquery","util/sidebar","bridge/jquery.mousewheel","bridge/shadowbox",
"gobotany/sk/photo"],function(c,e,f,b,a){c(document).ready(function(){c(".img-container").scrollable({keyboard:!1});c(".img-gallery").each(function(){var g=this,e=a.PhotoHelper();c(g).children(".frame").click(function(){var a=c(g).children(".img-container").data("scrollable"),a=a.getItems()[a.getIndex()],h=c(a).attr("rel"),d=c(a).attr("title"),h=h.split("[")[1].split("]")[0];b.setup(".img-gallery .images a",{onOpen:e.prepare_to_enlarge,onChange:e.prepare_to_enlarge,onFinish:e.process_credit});b.open({content:a,
gallery:h,player:"img",title:d,options:{counterType:"skip"}})})})})})},"util/sidebar":function(){define("util/sidebar",["bridge/jquery"],function(c){sidebar_set_height=function(){var e=0,f=c("div#main").height();f>e&&(e=f);for(var f=c("div#sidebar").children(),b=0,a=0;a<f.length;a++)var g=c(f[a]).height()+16,b=b+g;b>e&&(e=b);550>e&&(e=550);c("div#sidebar").css("height",e)};c(document).ready(function(){sidebar_set_height();c("#main img").load(function(){sidebar_set_height()})})})},"bridge/jquery.mousewheel":function(){define("bridge/jquery.mousewheel",
["bridge/jquery","jquery/jquery.mousewheel.min"],function(c){var e;c.fn.mousewheel&&c.fn.unmousewheel&&(e=c);return e})},"jquery/jquery.mousewheel.min":function(){define(["dojo","dijit","dojox"],function(){(function(c){function e(b){var a=[].slice.call(arguments,1),g=0,b=c.event.fix(b||window.event);b.type="mousewheel";b.wheelDelta&&(g=b.wheelDelta/120);b.detail&&(g=-b.detail/3);a.unshift(b,g);return c.event.handle.apply(this,a)}var f=["DOMMouseScroll","mousewheel"];c.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var b=
f.length;b;)this.addEventListener(f[--b],e,!1);else this.onmousewheel=e},teardown:function(){if(this.removeEventListener)for(var b=f.length;b;)this.removeEventListener(f[--b],e,!1);else this.onmousewheel=null}};c.fn.extend({mousewheel:function(b){return b?this.bind("mousewheel",b):this.trigger("mousewheel")},unmousewheel:function(b){return this.unbind("mousewheel",b)}})})(jQuery)})},"bridge/shadowbox":function(){define("bridge/shadowbox",["tools/shadowbox"],function(){var c;window.Shadowbox&&(c=window.Shadowbox);
return c})},"tools/shadowbox":function(){define(["dojo","dijit","dojox"],function(){(function(c,e){var f,b,a,g;function j(a){n.options.enableKeys&&(a?w:x)(document,"keydown",k)}function k(a){if(!a.metaKey&&!a.shiftKey&&!a.altKey&&!a.ctrlKey){var b;switch(a.which?a.which:a.keyCode){case 81:case 88:case 27:b=n.close;break;case 37:b=n.previous;break;case 39:b=n.next;break;case 32:b="number"==typeof S?n.pause:n.play}b&&(a.preventDefault(),b())}}function h(a){j(!1);var b=n.getCurrent(),c="inline"==b.player?
"html":b.player;if("function"!=typeof n[c])throw"unknown player "+c;a&&(n.player.remove(),n.revertOptions(),n.applyOptions(b.options||{}));n.player=new n[c](b,n.playerId);if(1<n.gallery.length&&(b=n.gallery[n.current+1]||n.gallery[0],"img"==b.player&&((new Image).src=b.content),b=n.gallery[n.current-1]||n.gallery[n.gallery.length-1],"img"==b.player))(new Image).src=b.content;n.skin.onLoad(a,d)}function d(){if(L)if("undefined"!=typeof n.player.ready)var a=setInterval(function(){L?n.player.ready&&(clearInterval(a),
a=null,n.skin.onReady(m)):(clearInterval(a),a=null)},10);else n.skin.onReady(m)}function m(){L&&(n.player.append(n.skin.body,n.dimensions),n.skin.onShow(p))}function p(){if(L){if(n.player.onLoad)n.player.onLoad();n.options.onFinish(n.getCurrent());n.isPaused()||n.play();j(!0)}}function o(a,b){for(var d in b)a[d]=b[d];return a}function q(a,b){for(var d=0,c=a.length,g=a[0];d<c&&!1!==b.call(g,d,g);g=a[++d]);}function s(a,b){return a.replace(/\{(\w+?)\}/g,function(a,d){return b[d]})}function u(){}function t(a){return document.getElementById(a)}
function v(a){a.parentNode.removeChild(a)}function z(a){return[a.pageX||a.clientX+(document.documentElement.scrollLeft||document.body.scrollLeft),a.pageY||a.clientY+(document.documentElement.scrollTop||document.body.scrollTop)]}function w(a,b,d){if(a.addEventListener)a.addEventListener(b,d,!1);else if(!(3===a.nodeType||8===a.nodeType)){a.setInterval&&(a!==c&&!a.frameElement)&&(a=c);d.__guid||(d.__guid=w.guid++);a.events||(a.events={});var g=a.events[b];g||(g=a.events[b]={},a["on"+b]&&(g[0]=a["on"+
b]));g[d.__guid]=d;a["on"+b]=w.handleEvent}}function x(a,b,d){a.removeEventListener?a.removeEventListener(b,d,!1):a.events&&a.events[b]&&delete a.events[b][d.__guid]}function r(){if(!da){try{document.documentElement.doScroll("left")}catch(a){setTimeout(r,1);return}n.load()}}function B(a){n.open(this);n.gallery.length&&a.preventDefault()}function A(){var a=n.dimensions;o(ba.style,{height:a.innerHeight+"px",width:a.innerWidth+"px"})}function C(b){b.preventDefault();b=z(b);a=b[0];g=b[1];ea=t(n.player.id);
w(document,"mousemove",D);w(document,"mouseup",F);n.isGecko&&(ba.style.cursor="-moz-grabbing")}function D(d){var c=n.player,e=n.dimensions,d=z(d),h=d[0]-a;a+=h;f=Math.max(Math.min(0,f+h),e.innerWidth-c.width);d=d[1]-g;g+=d;b=Math.max(Math.min(0,b+d),e.innerHeight-c.height);o(ea.style,{left:f+"px",top:b+"px"})}function F(){x(document,"mousemove",D);x(document,"mouseup",F);n.isGecko&&(ba.style.cursor="-moz-grab")}function E(a,b,d,c,g){var e="opacity"==b,h=e?n.setOpacity:function(a,d){a.style[b]=""+
d+"px"};if(0==c||!e&&!n.options.animate||e&&!n.options.animateFade)h(a,d),g&&g();else{var f=parseFloat(n.getStyle(a,b))||0,j=d-f;if(0==j)g&&g();else var c=1E3*c,k=(new Date).getTime(),m=n.ease,l=k+c,p,q=setInterval(function(){p=(new Date).getTime();p>=l?(clearInterval(q),q=null,h(a,d),g&&g()):h(a,f+m((p-k)/c)*j)},10)}}function y(){W.style.height=n.getWindowSize("Height")+"px";W.style.width=n.getWindowSize("Width")+"px"}function J(){W.style.top=document.documentElement.scrollTop+"px";W.style.left=
document.documentElement.scrollLeft+"px"}function H(a){a?q(ta,function(a,b){b[0].style.visibility=b[1]||""}):(ta=[],q(n.options.troubleElements,function(a,b){q(document.getElementsByTagName(b),function(a,b){ta.push([b,b.style.visibility]);b.style.visibility="hidden"})}))}function l(a,b){var d=t("sb-nav-"+a);d&&(d.style.display=b?"":"none")}function G(a,b){var d=t("sb-loading"),c=n.getCurrent().player,c="img"==c||"html"==c;if(a){n.setOpacity(d,0);d.style.display="block";var g=function(){n.clearOpacity(d);
b&&b()};c?E(d,"opacity",1,n.options.fadeDuration,g):g()}else g=function(){d.style.display="none";n.clearOpacity(d);b&&b()},c?E(d,"opacity",0,n.options.fadeDuration,g):g()}function K(a,b){var d=t("sb-title"),c=t("sb-info"),d=d.offsetHeight,c=c.offsetHeight,g=t("sb-title-inner"),e=t("sb-info-inner"),h=a?0.35:0;E(g,"marginTop",d,h);E(e,"marginTop",-1*c,h,function(){g.style.visibility=e.style.visibility="hidden";b()})}function N(a,b,d,c){var g=t("sb-wrapper-inner"),d=d?n.options.resizeDuration:0;E(Z,
"top",b,d);E(g,"height",a,d,c)}function ma(a,b,d,c){d=d?n.options.resizeDuration:0;E(Z,"left",b,d);E(Z,"width",a,d,c)}function na(a,b){var d=t("sb-body-inner"),a=parseInt(a),b=parseInt(b),c=Z.offsetHeight-d.offsetHeight,d=Z.offsetWidth-d.offsetWidth,g=X.offsetHeight,e=X.offsetWidth,h=parseInt(n.options.viewportPadding)||20;return n.setDimensions(a,b,g,e,c,d,h,n.player&&"drag"!=n.options.handleOversize)}var n={version:"3.0.3"},I=navigator.userAgent.toLowerCase();-1<I.indexOf("windows")||-1<I.indexOf("win32")?
n.isWindows=!0:-1<I.indexOf("macintosh")||-1<I.indexOf("mac os x")?n.isMac=!0:-1<I.indexOf("linux")&&(n.isLinux=!0);n.isIE=-1<I.indexOf("msie");n.isIE6=-1<I.indexOf("msie 6");n.isIE7=-1<I.indexOf("msie 7");n.isGecko=-1<I.indexOf("gecko")&&-1==I.indexOf("safari");n.isWebKit=-1<I.indexOf("applewebkit/");var O=/#(.+)$/,R=/^(light|shadow)box\[(.*?)\]/i,P=/\s*([a-z_]*?)\s*=\s*(.+)\s*/,M=/[0-9a-z]+$/i,U=/(.+\/)shadowbox\.js/i,L=!1,va=!1,ra={},V=0,ga,S;n.current=-1;n.dimensions=null;n.ease=function(a){return 1+
Math.pow(a-1,3)};n.errorInfo={fla:{name:"Flash",url:"http://www.adobe.com/products/flashplayer/"},qt:{name:"QuickTime",url:"http://www.apple.com/quicktime/download/"},wmp:{name:"Windows Media Player",url:"http://www.microsoft.com/windows/windowsmedia/"},f4m:{name:"Flip4Mac",url:"http://www.flip4mac.com/wmv_download.htm"}};n.gallery=[];n.onReady=u;n.path=null;n.player=null;n.playerId="sb-player";n.options={animate:!0,animateFade:!0,autoplayMovies:!0,continuous:!1,enableKeys:!0,flashParams:{bgcolor:"#000000",
allowfullscreen:!0},flashVars:{},flashVersion:"9.0.115",handleOversize:"resize",handleUnsupported:"link",onChange:u,onClose:u,onFinish:u,onOpen:u,showMovieControls:!0,skipSetup:!1,slideshowDelay:0,viewportPadding:20};n.getCurrent=function(){return n.current>-1?n.gallery[n.current]:null};n.hasNext=function(){return n.gallery.length>1&&(n.current!=n.gallery.length-1||n.options.continuous)};n.isOpen=function(){return L};n.isPaused=function(){return S=="pause"};n.applyOptions=function(a){ra=o({},n.options);
o(n.options,a)};n.revertOptions=function(){o(n.options,ra)};n.init=function(a,b){if(!va){va=true;n.skin.options&&o(n.options,n.skin.options);a&&o(n.options,a);if(!n.path)for(var d,g=document.getElementsByTagName("script"),e=0,h=g.length;e<h;++e)if(d=U.exec(g[e].src)){n.path=d[1];break}if(b)n.onReady=b;if(document.readyState==="complete")n.load();else if(document.addEventListener){document.addEventListener("DOMContentLoaded",Y,false);c.addEventListener("load",n.load,false)}else if(document.attachEvent){document.attachEvent("onreadystatechange",
Y);c.attachEvent("onload",n.load);d=false;try{d=c.frameElement===null}catch(f){}document.documentElement.doScroll&&d&&r()}}};n.open=function(a){if(!L){a=n.makeGallery(a);n.gallery=a[0];n.current=a[1];a=n.getCurrent();if(a!=null){n.applyOptions(a.options||{});for(var a=n.errorInfo,b=n.plugins,d,c,g,e,f=0;f<n.gallery.length;++f){d=n.gallery[f];c=false;g=null;switch(d.player){case "flv":case "swf":b.fla||(g="fla");break;case "qt":b.qt||(g="qt");break;case "wmp":n.isMac?b.qt&&b.f4m?d.player="qt":g="qtf4m":
b.wmp||(g="wmp");break;case "qtwmp":b.qt?d.player="qt":b.wmp?d.player="wmp":g="qtwmp"}if(g)if(n.options.handleUnsupported=="link"){switch(g){case "qtf4m":e="shared";g=[a.qt.url,a.qt.name,a.f4m.url,a.f4m.name];break;case "qtwmp":e="either";g=[a.qt.url,a.qt.name,a.wmp.url,a.wmp.name];break;default:e="single";g=[a[g].url,a[g].name]}d.player="html";d.content='<div class="sb-message">'+s(n.lang.errors[e],g)+"</div>"}else c=true;else if(d.player=="inline")if(e=O.exec(d.content))(e=t(e[1]))?d.content=e.innerHTML:
c=true;else c=true;else if(d.player=="swf"||d.player=="flv"){e=d.options&&d.options.flashVersion||n.options.flashVersion;if(n.flash&&!n.flash.hasFlashPlayerVersion(e)){d.width=310;d.height=177}}if(c){n.gallery.splice(f,1);if(f<n.current)--n.current;else if(f==n.current)n.current=f>0?f-1:f;--f}}if(n.gallery.length){a=n.getCurrent();if(n.options.onOpen(a)!==false){L=true;n.skin.onOpen(a,h)}}}}};n.close=function(){if(L){L=false;if(n.player){n.player.remove();n.player=null}if(typeof S=="number"){clearTimeout(S);
S=null}V=0;j(false);n.options.onClose(n.getCurrent());n.skin.onClose();n.revertOptions()}};n.play=function(){if(n.hasNext()){V||(V=n.options.slideshowDelay*1E3);if(V){ga=(new Date).getTime();S=setTimeout(function(){V=ga=0;n.next()},V);if(n.skin.onPlay)n.skin.onPlay()}}};n.pause=function(){if(typeof S=="number")if(V=Math.max(0,V-((new Date).getTime()-ga))){clearTimeout(S);S="pause";if(n.skin.onPause)n.skin.onPause()}};n.change=function(a){if(!(a in n.gallery))if(n.options.continuous){a=a<0?n.gallery.length+
a:0;if(!(a in n.gallery))return}else return;n.current=a;if(typeof S=="number"){clearTimeout(S);S=null;V=ga=0}n.options.onChange(n.getCurrent());h(true)};n.next=function(){n.change(n.current+1)};n.previous=function(){n.change(n.current-1)};n.setDimensions=function(a,b,d,c,g,e,h,f){var j=a,k=b,m=2*h+g;a+m>d&&(a=d-m);var l=2*h+e;b+l>c&&(b=c-l);var p=(j-a)/j,q=(k-b)/k,o=p>0||q>0;f&&o&&(p>q?b=Math.round(k/j*a):q>p&&(a=Math.round(j/k*b)));n.dimensions={height:a+g,width:b+e,innerHeight:a,innerWidth:b,top:Math.floor((d-
(a+m))/2+h),left:Math.floor((c-(b+l))/2+h),oversized:o};return n.dimensions};n.makeGallery=function(a){var b=[],d=-1;typeof a=="string"&&(a=[a]);if(typeof a.length=="number"){q(a,function(a,d){b[a]=d.content?d:{content:d}});d=0}else{if(a.tagName)var c=n.getCache(a),a=c?c:n.makeObject(a);if(a.gallery){var b=[],g;for(g in n.cache){c=n.cache[g];if(c.gallery&&c.gallery==a.gallery){if(d==-1&&c.content==a.content)d=b.length;b.push(c)}}if(d==-1){b.unshift(a);d=0}}else{b=[a];d=0}}q(b,function(a,d){b[a]=o({},
d)});return[b,d]};n.makeObject=function(a,b){var d={content:a.href,title:a.getAttribute("title")||"",link:a};if(b){b=o({},b);q(["player","title","height","width","gallery"],function(a,c){if(typeof b[c]!="undefined"){d[c]=b[c];delete b[c]}});d.options=b}else d.options={};if(!d.player)d.player=n.getPlayer(d.content);var c=a.getAttribute("rel");if(c){var g=c.match(R);if(g)d.gallery=escape(g[2]);q(c.split(";"),function(a,b){(g=b.match(P))&&(d[g[1]]=g[2])})}return d};n.getPlayer=function(a){if(a.indexOf("#")>
-1&&a.indexOf(document.location.href)==0)return"inline";var b=a.indexOf("?");b>-1&&(a=a.substring(0,b));var d;(a=a.match(M))&&(d=a[0].toLowerCase());if(d){if(n.img&&n.img.ext.indexOf(d)>-1)return"img";if(n.swf&&n.swf.ext.indexOf(d)>-1)return"swf";if(n.flv&&n.flv.ext.indexOf(d)>-1)return"flv";if(n.qt&&n.qt.ext.indexOf(d)>-1)return n.wmp&&n.wmp.ext.indexOf(d)>-1?"qtwmp":"qt";if(n.wmp&&n.wmp.ext.indexOf(d)>-1)return"wmp"}return"iframe"};Array.prototype.indexOf||(Array.prototype.indexOf=function(a,b){var d=
this.length>>>0,b=b||0;for(b<0&&(b=b+d);b<d;++b)if(b in this&&this[b]===a)return b;return-1});var ia=!0,T=!0;n.getStyle=function(){var a=/opacity=([^)]*)/,b=document.defaultView&&document.defaultView.getComputedStyle;return function(d,c){var g;if(!ia&&c=="opacity"&&d.currentStyle){g=a.test(d.currentStyle.filter||"")?parseFloat(RegExp.$1)/100+"":"";return g===""?"1":g}if(b){var e=b(d,null);e&&(g=e[c]);c=="opacity"&&g==""&&(g="1")}else g=d.currentStyle[c];return g}}();n.appendHTML=function(a,b){if(a.insertAdjacentHTML)a.insertAdjacentHTML("BeforeEnd",
b);else if(a.lastChild){var d=a.ownerDocument.createRange();d.setStartAfter(a.lastChild);d=d.createContextualFragment(b);a.appendChild(d)}else a.innerHTML=b};n.getWindowSize=function(a){return document.compatMode==="CSS1Compat"?document.documentElement["client"+a]:document.body["client"+a]};n.setOpacity=function(a,b){var d=a.style;if(ia)d.opacity=b==1?"":b;else{d.zoom=1;if(b==1){if(typeof d.filter=="string"&&/alpha/i.test(d.filter))d.filter=d.filter.replace(/\s*[\w\.]*alpha\([^\)]*\);?/gi,"")}else d.filter=
(d.filter||"").replace(/\s*[\w\.]*alpha\([^\)]*\)/gi,"")+" alpha(opacity="+b*100+")"}};n.clearOpacity=function(a){n.setOpacity(a,1)};w.guid=1;w.handleEvent=function(a){var b=true,a=a||w.fixEvent(((this.ownerDocument||this.document||this).parentWindow||c).event),d=this.events[a.type],g;for(g in d){this.__handleEvent=d[g];this.__handleEvent(a)===false&&(b=false)}return b};w.preventDefault=function(){this.returnValue=false};w.stopPropagation=function(){this.cancelBubble=true};w.fixEvent=function(a){a.preventDefault=
w.preventDefault;a.stopPropagation=w.stopPropagation;return a};var da=!1,Y;document.addEventListener?Y=function(){document.removeEventListener("DOMContentLoaded",Y,false);n.load()}:document.attachEvent&&(Y=function(){if(document.readyState==="complete"){document.detachEvent("onreadystatechange",Y);n.load()}});n.load=function(){if(!da){if(!document.body)return setTimeout(n.load,13);da=true;var a=document.body,b=document.createElement("div");ia=typeof b.style.opacity==="string";b.style.position="fixed";
b.style.margin=0;b.style.top="20px";a.appendChild(b,a.firstChild);T=b.offsetTop==20;a.removeChild(b);n.onReady();n.options.skipSetup||n.setup();n.skin.init()}};n.plugins={};if(navigator.plugins&&navigator.plugins.length){var Q=[];q(navigator.plugins,function(a,b){Q.push(b.name)});Q=Q.join(",");I=-1<Q.indexOf("Flip4Mac");n.plugins={fla:-1<Q.indexOf("Shockwave Flash"),qt:-1<Q.indexOf("QuickTime"),wmp:!I&&-1<Q.indexOf("Windows Media"),f4m:I}}else I=function(a){var b;try{b=new ActiveXObject(a)}catch(d){}return!!b},
n.plugins={fla:I("ShockwaveFlash.ShockwaveFlash"),qt:I("QuickTime.QuickTime"),wmp:I("wmplayer.ocx"),f4m:!1};var sa=/^(light|shadow)box/i,ka=1;n.cache={};n.select=function(a){var b=[];if(a){var d=a.length;if(d)if(typeof a=="string")n.find&&(b=n.find(a));else if(d==2&&typeof a[0]=="string"&&a[1].nodeType)n.find&&(b=n.find(a[0],a[1]));else for(var c=0;c<d;++c)b[c]=a[c];else b.push(a)}else{var g;q(document.getElementsByTagName("a"),function(a,d){(g=d.getAttribute("rel"))&&sa.test(g)&&b.push(d)})}return b};
n.setup=function(a,b){q(n.select(a),function(a,d){n.addCache(d,b)})};n.teardown=function(a){q(n.select(a),function(a,b){n.removeCache(b)})};n.addCache=function(a,b){var d=a.shadowboxCacheKey;if(d==e){d=ka++;a.shadowboxCacheKey=d;w(a,"click",B)}n.cache[d]=n.makeObject(a,b)};n.removeCache=function(a){x(a,"click",B);delete n.cache[a.shadowboxCacheKey];a.shadowboxCacheKey=null};n.getCache=function(a){a=a.shadowboxCacheKey;return a in n.cache&&n.cache[a]};n.clearCache=function(){for(var a in n.cache)n.removeCache(n.cache[a].link);
n.cache={}};n.find=function(){function a(b){for(var d="",c,g=0;b[g];g++){c=b[g];c.nodeType===3||c.nodeType===4?d=d+c.nodeValue:c.nodeType!==8&&(d=d+a(c.childNodes))}return d}function b(a,d,c,g,e,h){for(var e=0,f=g.length;e<f;e++){var j=g[e];if(j){for(var j=j[a],k=false;j;){if(j.sizcache===c){k=g[j.sizset];break}if(j.nodeType===1&&!h){j.sizcache=c;j.sizset=e}if(j.nodeName.toLowerCase()===d){k=j;break}j=j[a]}g[e]=k}}}function d(a,b,c,g,e,h){for(var e=0,f=g.length;e<f;e++){var j=g[e];if(j){for(var j=
j[a],m=false;j;){if(j.sizcache===c){m=g[j.sizset];break}if(j.nodeType===1){if(!h){j.sizcache=c;j.sizset=e}if(typeof b!=="string"){if(j===b){m=true;break}}else if(k.filter(b,[j]).length>0){m=j;break}}j=j[a]}g[e]=m}}}var c=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^[\]]*\]|['"][^'"]*['"]|[^[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,g=0,h=Object.prototype.toString,f=false,j=true;[0,0].sort(function(){j=false;return 0});var k=function(a,b,d,g){var d=d||[],e=b=b||document;if(b.nodeType!==
1&&b.nodeType!==9)return[];if(!a||typeof a!=="string")return d;for(var f=[],j,p,o,t,v=true,r=u(b),y=a;(c.exec(""),j=c.exec(y))!==null;){y=j[3];f.push(j[1]);if(j[2]){t=j[3];break}}if(f.length>1&&l.exec(a))if(f.length===2&&m.relative[f[0]])p=n(f[0]+f[1],b);else for(p=m.relative[f[0]]?[b]:k(f.shift(),b);f.length;){a=f.shift();m.relative[a]&&(a=a+f.shift());p=n(a,p)}else{if(!g&&f.length>1&&b.nodeType===9&&!r&&m.match.ID.test(f[0])&&!m.match.ID.test(f[f.length-1])){j=k.find(f.shift(),b,r);b=j.expr?k.filter(j.expr,
j.set)[0]:j.set[0]}if(b){j=g?{expr:f.pop(),set:q(g)}:k.find(f.pop(),f.length===1&&(f[0]==="~"||f[0]==="+")&&b.parentNode?b.parentNode:b,r);p=j.expr?k.filter(j.expr,j.set):j.set;for(f.length>0?o=q(p):v=false;f.length;){var z=f.pop();j=z;m.relative[z]?j=f.pop():z="";j==null&&(j=b);m.relative[z](o,j,r)}}else o=[]}o||(o=p);if(!o)throw"Syntax error, unrecognized expression: "+(z||a);if(h.call(o)==="[object Array]")if(v)if(b&&b.nodeType===1)for(a=0;o[a]!=null;a++)o[a]&&(o[a]===true||o[a].nodeType===1&&
s(b,o[a]))&&d.push(p[a]);else for(a=0;o[a]!=null;a++)o[a]&&o[a].nodeType===1&&d.push(p[a]);else d.push.apply(d,o);else q(o,d);if(t){k(t,e,d,g);k.uniqueSort(d)}return d};k.uniqueSort=function(a){if(t){f=j;a.sort(t);if(f)for(var b=1;b<a.length;b++)a[b]===a[b-1]&&a.splice(b--,1)}return a};k.matches=function(a,b){return k(a,null,null,b)};k.find=function(a,b,d){var c,g;if(!a)return[];for(var e=0,f=m.order.length;e<f;e++){var h=m.order[e];if(g=m.leftMatch[h].exec(a)){var j=g[1];g.splice(1,1);if(j.substr(j.length-
1)!=="\\"){g[1]=(g[1]||"").replace(/\\/g,"");c=m.find[h](g,b,d);if(c!=null){a=a.replace(m.match[h],"");break}}}}c||(c=b.getElementsByTagName("*"));return{set:c,expr:a}};k.filter=function(a,b,d,c){for(var g=a,f=[],h=b,j,k,l=b&&b[0]&&u(b[0]);a&&b.length;){for(var p in m.filter)if((j=m.match[p].exec(a))!=null){var o=m.filter[p],q,t;k=false;h===f&&(f=[]);if(m.preFilter[p])if(j=m.preFilter[p](j,h,d,f,c,l)){if(j===true)continue}else k=q=true;if(j)for(var s=0;(t=h[s])!=null;s++)if(t){q=o(t,j,s,h);var n=
c^!!q;if(d&&q!=null)n?k=true:h[s]=false;else if(n){f.push(t);k=true}}if(q!==e){d||(h=f);a=a.replace(m.match[p],"");if(!k)return[];break}}if(a===g){if(k==null)throw"Syntax error, unrecognized expression: "+a;break}g=a}return h};var m=k.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF-]|\\.)+)\s*(?:(\S?=)\s*(['"]*)(.*?)\3|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*-]|\\.)+)/,
CHILD:/:(only|nth|last|first)-child(?:\((even|odd|[\dn+-]*)\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF-]|\\.)+)(?:\((['"]*)((?:\([^\)]+\)|[^\2\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(a){return a.getAttribute("href")}},relative:{"+":function(a,b){var d=typeof b==="string",c=d&&!/\W/.test(b),d=d&&!c;c&&(b=b.toLowerCase());for(var c=0,g=a.length,e;c<g;c++)if(e=a[c]){for(;(e=e.previousSibling)&&
e.nodeType!==1;);a[c]=d||e&&e.nodeName.toLowerCase()===b?e||false:e===b}d&&k.filter(b,a,true)},">":function(a,b){var d=typeof b==="string";if(d&&!/\W/.test(b))for(var b=b.toLowerCase(),c=0,g=a.length;c<g;c++){var e=a[c];if(e){d=e.parentNode;a[c]=d.nodeName.toLowerCase()===b?d:false}}else{c=0;for(g=a.length;c<g;c++)(e=a[c])&&(a[c]=d?e.parentNode:e.parentNode===b);d&&k.filter(b,a,true)}},"":function(a,c,e){var f=g++,h=d;if(typeof c==="string"&&!/\W/.test(c))var j=c=c.toLowerCase(),h=b;h("parentNode",
c,f,a,j,e)},"~":function(a,c,e){var f=g++,h=d;if(typeof c==="string"&&!/\W/.test(c))var j=c=c.toLowerCase(),h=b;h("previousSibling",c,f,a,j,e)}},find:{ID:function(a,b,d){if(typeof b.getElementById!=="undefined"&&!d)return(a=b.getElementById(a[1]))?[a]:[]},NAME:function(a,b){if(typeof b.getElementsByName!=="undefined"){for(var d=[],c=b.getElementsByName(a[1]),g=0,e=c.length;g<e;g++)c[g].getAttribute("name")===a[1]&&d.push(c[g]);return d.length===0?null:d}},TAG:function(a,b){return b.getElementsByTagName(a[1])}},
preFilter:{CLASS:function(a,b,d,c,g,e){a=" "+a[1].replace(/\\/g,"")+" ";if(e)return a;for(var e=0,f;(f=b[e])!=null;e++)f&&(g^(f.className&&(" "+f.className+" ").replace(/[\t\n]/g," ").indexOf(a)>=0)?d||c.push(f):d&&(b[e]=false));return false},ID:function(a){return a[1].replace(/\\/g,"")},TAG:function(a){return a[1].toLowerCase()},CHILD:function(a){if(a[1]==="nth"){var b=/(-?)(\d*)n((?:\+|-)?\d*)/.exec(a[2]==="even"&&"2n"||a[2]==="odd"&&"2n+1"||!/\D/.test(a[2])&&"0n+"+a[2]||a[2]);a[2]=b[1]+(b[2]||
1)-0;a[3]=b[3]-0}a[0]=g++;return a},ATTR:function(a,b,d,c,g,e){b=a[1].replace(/\\/g,"");!e&&m.attrMap[b]&&(a[1]=m.attrMap[b]);a[2]==="~="&&(a[4]=" "+a[4]+" ");return a},PSEUDO:function(a,b,d,g,e){if(a[1]==="not")if((c.exec(a[3])||"").length>1||/^\w/.test(a[3]))a[3]=k(a[3],null,null,b);else{a=k.filter(a[3],b,d,1^e);d||g.push.apply(g,a);return false}else if(m.match.POS.test(a[0])||m.match.CHILD.test(a[0]))return true;return a},POS:function(a){a.unshift(true);return a}},filters:{enabled:function(a){return a.disabled===
false&&a.type!=="hidden"},disabled:function(a){return a.disabled===true},checked:function(a){return a.checked===true},selected:function(a){a.parentNode.selectedIndex;return a.selected===true},parent:function(a){return!!a.firstChild},empty:function(a){return!a.firstChild},has:function(a,b,d){return!!k(d[3],a).length},header:function(a){return/h\d/i.test(a.nodeName)},text:function(a){return"text"===a.type},radio:function(a){return"radio"===a.type},checkbox:function(a){return"checkbox"===a.type},file:function(a){return"file"===
a.type},password:function(a){return"password"===a.type},submit:function(a){return"submit"===a.type},image:function(a){return"image"===a.type},reset:function(a){return"reset"===a.type},button:function(a){return"button"===a.type||a.nodeName.toLowerCase()==="button"},input:function(a){return/input|select|textarea|button/i.test(a.nodeName)}},setFilters:{first:function(a,b){return b===0},last:function(a,b,d,c){return b===c.length-1},even:function(a,b){return b%2===0},odd:function(a,b){return b%2===1},
lt:function(a,b,d){return b<d[3]-0},gt:function(a,b,d){return b>d[3]-0},nth:function(a,b,d){return d[3]-0===b},eq:function(a,b,d){return d[3]-0===b}},filter:{PSEUDO:function(b,d,c,g){var e=d[1],f=m.filters[e];if(f)return f(b,c,d,g);if(e==="contains")return(b.textContent||b.innerText||a([b])||"").indexOf(d[3])>=0;if(e==="not"){d=d[3];c=0;for(g=d.length;c<g;c++)if(d[c]===b)return false;return true}throw"Syntax error, unrecognized expression: "+e;},CHILD:function(a,b){var d=b[1],c=a;switch(d){case "only":case "first":for(;c=
c.previousSibling;)if(c.nodeType===1)return false;if(d==="first")return true;c=a;case "last":for(;c=c.nextSibling;)if(c.nodeType===1)return false;return true;case "nth":var d=b[2],g=b[3];if(d===1&&g===0)return true;var e=b[0],f=a.parentNode;if(f&&(f.sizcache!==e||!a.nodeIndex)){for(var h=0,c=f.firstChild;c;c=c.nextSibling)if(c.nodeType===1)c.nodeIndex=++h;f.sizcache=e}c=a.nodeIndex-g;return d===0?c===0:c%d===0&&c/d>=0}},ID:function(a,b){return a.nodeType===1&&a.getAttribute("id")===b},TAG:function(a,
b){return b==="*"&&a.nodeType===1||a.nodeName.toLowerCase()===b},CLASS:function(a,b){return(" "+(a.className||a.getAttribute("class"))+" ").indexOf(b)>-1},ATTR:function(a,b){var d=b[1],d=m.attrHandle[d]?m.attrHandle[d](a):a[d]!=null?a[d]:a.getAttribute(d),c=d+"",g=b[2],e=b[4];return d==null?g==="!=":g==="="?c===e:g==="*="?c.indexOf(e)>=0:g==="~="?(" "+c+" ").indexOf(e)>=0:!e?c&&d!==false:g==="!="?c!==e:g==="^="?c.indexOf(e)===0:g==="$="?c.substr(c.length-e.length)===e:g==="|="?c===e||c.substr(0,e.length+
1)===e+"-":false},POS:function(a,b,d,c){var g=m.setFilters[b[2]];if(g)return g(a,d,b,c)}}},l=m.match.POS,p;for(p in m.match){m.match[p]=RegExp(m.match[p].source+/(?![^\[]*\])(?![^\(]*\))/.source);m.leftMatch[p]=RegExp(/(^(?:.|\r|\n)*?)/.source+m.match[p].source)}var q=function(a,b){a=Array.prototype.slice.call(a,0);if(b){b.push.apply(b,a);return b}return a};try{Array.prototype.slice.call(document.documentElement.childNodes,0)}catch(o){q=function(a,b){var d=b||[];if(h.call(a)==="[object Array]")Array.prototype.push.apply(d,
a);else if(typeof a.length==="number")for(var c=0,g=a.length;c<g;c++)d.push(a[c]);else for(c=0;a[c];c++)d.push(a[c]);return d}}var t;document.documentElement.compareDocumentPosition?t=function(a,b){if(!a.compareDocumentPosition||!b.compareDocumentPosition){a==b&&(f=true);return a.compareDocumentPosition?-1:1}var d=a.compareDocumentPosition(b)&4?-1:a===b?0:1;d===0&&(f=true);return d}:"sourceIndex"in document.documentElement?t=function(a,b){if(!a.sourceIndex||!b.sourceIndex){a==b&&(f=true);return a.sourceIndex?
-1:1}var d=a.sourceIndex-b.sourceIndex;d===0&&(f=true);return d}:document.createRange&&(t=function(a,b){if(!a.ownerDocument||!b.ownerDocument){a==b&&(f=true);return a.ownerDocument?-1:1}var d=a.ownerDocument.createRange(),c=b.ownerDocument.createRange();d.setStart(a,0);d.setEnd(a,0);c.setStart(b,0);c.setEnd(b,0);d=d.compareBoundaryPoints(Range.START_TO_END,c);d===0&&(f=true);return d});(function(){var a=document.createElement("div"),b="script"+(new Date).getTime();a.innerHTML="<a name='"+b+"'/>";
var d=document.documentElement;d.insertBefore(a,d.firstChild);if(document.getElementById(b)){m.find.ID=function(a,b,d){if(typeof b.getElementById!=="undefined"&&!d)return(b=b.getElementById(a[1]))?b.id===a[1]||typeof b.getAttributeNode!=="undefined"&&b.getAttributeNode("id").nodeValue===a[1]?[b]:e:[]};m.filter.ID=function(a,b){var d=typeof a.getAttributeNode!=="undefined"&&a.getAttributeNode("id");return a.nodeType===1&&d&&d.nodeValue===b}}d.removeChild(a);d=a=null})();(function(){var a=document.createElement("div");
a.appendChild(document.createComment(""));if(a.getElementsByTagName("*").length>0)m.find.TAG=function(a,b){var d=b.getElementsByTagName(a[1]);if(a[1]==="*"){for(var c=[],g=0;d[g];g++)d[g].nodeType===1&&c.push(d[g]);d=c}return d};a.innerHTML="<a href='#'></a>";if(a.firstChild&&typeof a.firstChild.getAttribute!=="undefined"&&a.firstChild.getAttribute("href")!=="#")m.attrHandle.href=function(a){return a.getAttribute("href",2)};a=null})();document.querySelectorAll&&function(){var a=k,b=document.createElement("div");
b.innerHTML="<p class='TEST'></p>";if(!(b.querySelectorAll&&b.querySelectorAll(".TEST").length===0)){k=function(b,d,c,g){d=d||document;if(!g&&d.nodeType===9&&!u(d))try{return q(d.querySelectorAll(b),c)}catch(e){}return a(b,d,c,g)};for(var d in a)k[d]=a[d];b=null}}();(function(){var a=document.createElement("div");a.innerHTML="<div class='test e'></div><div class='test'></div>";if(a.getElementsByClassName&&a.getElementsByClassName("e").length!==0){a.lastChild.className="e";if(a.getElementsByClassName("e").length!==
1){m.order.splice(1,0,"CLASS");m.find.CLASS=function(a,b,d){if(typeof b.getElementsByClassName!=="undefined"&&!d)return b.getElementsByClassName(a[1])};a=null}}})();var s=document.compareDocumentPosition?function(a,b){return a.compareDocumentPosition(b)&16}:function(a,b){return a!==b&&(a.contains?a.contains(b):true)},u=function(a){return(a=(a?a.ownerDocument||a:0).documentElement)?a.nodeName!=="HTML":false},n=function(a,b){for(var d=[],c="",g,e=b.nodeType?[b]:b;g=m.match.PSEUDO.exec(a);){c=c+g[0];
a=a.replace(m.match.PSEUDO,"")}a=m.relative[a]?a+"*":a;g=0;for(var f=e.length;g<f;g++)k(a,e[g],d);return k.filter(c,d)};return k}();n.lang={code:"en",of:"of",loading:"loading",cancel:"Cancel",next:"Next",previous:"Previous",play:"Play",pause:"Pause",close:"Close",errors:{single:'You must install the <a href="{0}">{1}</a> browser plugin to view this content.',shared:'You must install both the <a href="{0}">{1}</a> and <a href="{2}">{3}</a> browser plugins to view this content.',either:'You must install either the <a href="{0}">{1}</a> or the <a href="{2}">{3}</a> browser plugin to view this content.'}};
var ja,ba,ea;n.img=function(a,b){this.obj=a;this.id=b;this.ready=false;var d=this;ja=new Image;ja.onload=function(){d.height=a.height?parseInt(a.height,10):ja.height;d.width=a.width?parseInt(a.width,10):ja.width;d.ready=true;ja=ja.onload=null};ja.src=a.content};n.img.ext=["bmp","gif","jpg","jpeg","png"];n.img.prototype={append:function(a,b){var d=document.createElement("img");d.id=this.id;d.src=this.obj.content;d.style.position="absolute";var c,g;if(b.oversized&&n.options.handleOversize=="resize"){c=
b.innerHeight;g=b.innerWidth}else{c=this.height;g=this.width}d.setAttribute("height",c);d.setAttribute("width",g);a.appendChild(d)},remove:function(){var a=t(this.id);a&&v(a);if(ba){x(ba,"mousedown",C);v(ba);ba=null}ea=null;if(ja)ja=ja.onload=null},onLoad:function(){if(n.dimensions.oversized&&n.options.handleOversize=="drag"){b=f=0;g=a=null;var d=["position:absolute","cursor:"+(n.isGecko?"-moz-grab":"move"),"background-color:"+(n.isIE?"#fff;filter:alpha(opacity=0)":"transparent")].join(";");n.appendHTML(n.skin.body,
'<div id="sb-drag-proxy" style="'+d+'"></div>');ba=t("sb-drag-proxy");A();w(ba,"mousedown",C)}},onWindowResize:function(){var a=n.dimensions;switch(n.options.handleOversize){case "resize":var b=t(this.id);b.height=a.innerHeight;b.width=a.innerWidth;break;case "drag":if(ea){var b=parseInt(n.getStyle(ea,"top")),d=parseInt(n.getStyle(ea,"left"));if(b+this.height<a.innerHeight)ea.style.top=a.innerHeight-this.height+"px";if(d+this.width<a.innerWidth)ea.style.left=a.innerWidth-this.width+"px";A()}}}};n.iframe=
function(a,b){this.obj=a;this.id=b;var d=t("sb-overlay");this.height=a.height?parseInt(a.height,10):d.offsetHeight;this.width=a.width?parseInt(a.width,10):d.offsetWidth};n.iframe.prototype={append:function(a){var b='<iframe id="'+this.id+'" name="'+this.id+'" height="100%" width="100%" frameborder="0" marginwidth="0" marginheight="0" style="visibility:hidden" onload="this.style.visibility=\'visible\'" scrolling="auto"';if(n.isIE){b=b+' allowtransparency="true"';n.isIE6&&(b=b+" src=\"javascript:false;document.write('');\"")}a.innerHTML=
b+"></iframe>"},remove:function(){var a=t(this.id);if(a){v(a);n.isGecko&&delete c.frames[this.id]}},onLoad:function(){(n.isIE?t(this.id).contentWindow:c.frames[this.id]).location.href=this.obj.content}};n.html=function(a,b){this.obj=a;this.id=b;this.height=a.height?parseInt(a.height,10):300;this.width=a.width?parseInt(a.width,10):500};n.html.prototype={append:function(a){var b=document.createElement("div");b.id=this.id;b.className="html";b.innerHTML=this.obj.content;a.appendChild(b)},remove:function(){var a=
t(this.id);a&&v(a)}};var qa=!1,ta=[],wa=["sb-nav-close","sb-nav-next","sb-nav-play","sb-nav-pause","sb-nav-previous"],W,X,Z,oa=!0,la={markup:'<div id="sb-container"><div id="sb-overlay"></div><div id="sb-wrapper"><div id="sb-title"><div id="sb-title-inner"></div></div><div id="sb-wrapper-inner"><div id="sb-body"><div id="sb-body-inner"></div><div id="sb-loading"><div id="sb-loading-inner"><span>{loading}</span></div></div></div></div><div id="sb-info"><div id="sb-info-inner"><div id="sb-counter"></div><div id="sb-nav"><a id="sb-nav-close" title="{close}" onclick="Shadowbox.close()"></a><a id="sb-nav-next" title="{next}" onclick="Shadowbox.next()"></a><a id="sb-nav-play" title="{play}" onclick="Shadowbox.play()"></a><a id="sb-nav-pause" title="{pause}" onclick="Shadowbox.pause()"></a><a id="sb-nav-previous" title="{previous}" onclick="Shadowbox.previous()"></a></div></div></div></div></div>',
options:{animSequence:"sync",counterLimit:10,counterType:"default",displayCounter:!0,displayNav:!0,fadeDuration:0.35,initialHeight:160,initialWidth:320,modal:!1,overlayColor:"#000",overlayOpacity:0.5,resizeDuration:0.35,showOverlay:!0,troubleElements:["select","object","embed","canvas"]},init:function(){n.appendHTML(document.body,s(la.markup,n.lang));la.body=t("sb-body-inner");W=t("sb-container");X=t("sb-overlay");Z=t("sb-wrapper");if(!T)W.style.position="absolute";if(!ia){var a,b,d=/url\("(.*\.png)"\)/;
q(wa,function(c,g){if(a=t(g))if(b=n.getStyle(a,"backgroundImage").match(d)){a.style.backgroundImage="none";a.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled=true,src="+b[1]+",sizingMethod=scale);"}})}var g;w(c,"resize",function(){if(g){clearTimeout(g);g=null}L&&(g=setTimeout(la.onWindowResize,10))})},onOpen:function(a,b){oa=false;W.style.display="block";y();var d=na(n.options.initialHeight,n.options.initialWidth);N(d.innerHeight,d.top);ma(d.width,d.left);if(n.options.showOverlay){X.style.backgroundColor=
n.options.overlayColor;n.setOpacity(X,0);n.options.modal||w(X,"click",n.close);qa=true}if(!T){J();w(c,"scroll",J)}H();W.style.visibility="visible";qa?E(X,"opacity",n.options.overlayOpacity,n.options.fadeDuration,b):b()},onLoad:function(a,b){for(G(true);la.body.firstChild;)v(la.body.firstChild);K(a,function(){if(L){if(!a)Z.style.visibility="visible";var d=n.getCurrent();t("sb-title-inner").innerHTML=d.title||"";var c,g,e,f,h;if(n.options.displayNav){c=true;d=n.gallery.length;if(d>1)if(n.options.continuous)g=
h=true;else{g=d-1>n.current;h=n.current>0}if(n.options.slideshowDelay>0&&n.hasNext()){f=!n.isPaused();e=!f}}else c=g=e=f=h=false;l("close",c);l("next",g);l("play",e);l("pause",f);l("previous",h);g="";if(n.options.displayCounter&&n.gallery.length>1){d=n.gallery.length;if(n.options.counterType=="skip"){e=0;h=d;f=parseInt(n.options.counterLimit)||0;if(f<d&&f>2){h=Math.floor(f/2);e=n.current-h;e<0&&(e=e+d);h=n.current+(f-h);h>d&&(h=h-d)}for(;e!=h;){e==d&&(e=0);g=g+('<a onclick="Shadowbox.change('+e+');"');
e==n.current&&(g=g+' class="sb-counter-current"');g=g+(">"+ ++e+"</a>")}}else g=[n.current+1,n.lang.of,d].join(" ")}t("sb-counter").innerHTML=g;b()}})},onReady:function(a){if(L){var b=n.player,d=na(b.height,b.width),c=function(){var b=t("sb-title-inner"),d=t("sb-info-inner");b.style.visibility=d.style.visibility="";b.innerHTML!=""&&E(b,"marginTop",0,0.35);E(d,"marginTop",0,0.35,a)};switch(n.options.animSequence){case "hw":N(d.innerHeight,d.top,true,function(){ma(d.width,d.left,true,c)});break;case "wh":ma(d.width,
d.left,true,function(){N(d.innerHeight,d.top,true,c)});break;default:ma(d.width,d.left,true);N(d.innerHeight,d.top,true,c)}}},onShow:function(a){G(false,a);oa=true},onClose:function(){T||x(c,"scroll",J);x(X,"click",n.close);Z.style.visibility="hidden";var a=function(){W.style.visibility="hidden";W.style.display="none";H(true)};qa?E(X,"opacity",0,n.options.fadeDuration,a):a()},onPlay:function(){l("play",false);l("pause",true)},onPause:function(){l("pause",false);l("play",true)},onWindowResize:function(){if(oa){y();
var a=n.player,b=na(a.height,a.width);ma(b.width,b.left);N(b.innerHeight,b.top);if(a.onWindowResize)a.onWindowResize()}}};n.skin=la;c.Shadowbox=n})(window)})},"gobotany/sk/photo":function(){define(["dojo","dijit","dojox"],function(c){c.provide("gobotany.sk.photo");c.declare("gobotany.sk.photo.PhotoHelper",null,{constructor:function(){},prepare_to_enlarge:function(){var e=c.query("#sb-title-inner")[0];c.addClass(e,"hidden");shadowbox_on_open()},process_credit:function(){var e=c.query("#sb-title-inner")[0],
f=e.innerHTML.split(" ~ "),b=f[0],a=f[1],g=f[2],j="";f[3]&&(j=f[3]);var b=b.split(":"),k=b[0],h="",d=c.query("h2 .scientific");0<d.length?h=c.trim(d[0].innerHTML)+".":void 0!==b[1]&&(h="<i>"+c.trim(b[1])+"</i>");0<h.length&&(k+=": "+h);a="<div><h6>"+k+"</h6><span>"+a+" "+g+' <a href="/legal/terms-of-use/#ip" target="_blank">Terms of Use</a></span>';""!==j&&(a+="<br><span>"+f[3]+"</span>");e.innerHTML=a+"</div>";c.removeClass(e,"hidden")}})})},"util/shadowbox_init":function(){define("util/shadowbox_init",
["bridge/jquery","bridge/shadowbox"],function(c,e){shadowbox_move_close_button=function(){var c=document.getElementById("sb-nav-close"),b=document.getElementById("sb-wrapper");b&&b.appendChild(c)};shadowbox_on_open=function(){navigator.userAgent.match(/(iPad|iPod|iPhone)/)&&navigator.userAgent.match(/(OS 3_|OS 4_)/)&&window.scrollTo(0,0);shadowbox_move_close_button()};c(document).ready(function(){e.init({onOpen:shadowbox_on_open})})})},"util/activate_video_links":function(){require(["bridge/jquery",
"bridge/shadowbox","util/shadowbox_init"],function(c,e){c(document).ready(function(){c("a.video").each(function(){if(navigator.userAgent.match(/(iPad|iPod|iPhone)/)){var f=this.href.lastIndexOf("/")+1,b=this.href.indexOf("?");this.href="http://www.youtube.com/v/"+this.href.substring(f,b)}else{var a=this;c(this).click(function(){e.open({content:a.href,player:"iframe"});return!1})}})})})},"simplekey/glossarize":function(){define("simplekey/glossarize",["simplekey/Glossarizer","simplekey/resources"],
function(c,e){var f=null,b=$.Deferred();e.glossaryblob().done(function(a){f=c.create({glossaryblob:a});b.resolve()});return function(a){b.done(function(){a.each(function(a,b){f.markup(b)})})}})},"simplekey/Glossarizer":function(){define("simplekey/Glossarizer",["bridge/ember","bridge/jquery","bridge/tooltipsy"],function(c,e){return c.Object.extend({_escape:function(c){return c.replace(/[-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},init:function(){this.n=0;var c=[],b=this.glossaryblob.definitions;for(term in b)_.has(b,
term)&&c.push(this._escape(term));c="\\b("+c.join("|")+")([\\+\\-]|\\b)";this.regexp=RegExp(c,"gi")},markup:function(c){c.innerHTML=c.innerHTML.replace(this.regexp,'<span class="gloss">$1$2</span>');var b=this,a=this.glossaryblob.definitions,g=this.glossaryblob.images;e(".gloss",c).each(function(c,f){b.n++;var h="gloss"+b.n,d=f.innerHTML.toLowerCase(),m=g[d];f.id=h;d=a[d];void 0===d&&(d=a[f.innerHTML]);e("#"+h).tooltipsy({content:'<p class="glosstip">'+(m?'<img src="'+m+'">':"")+d+"</p>",show:function(a,
b){0>parseFloat(b.css("left"))&&b.css("left","0px");b.show()}})})}})})},"bridge/ember":function(){define("bridge/ember",["bridge/jquery","tools/ember-0.9.7.1"],function(){return Ember})},"tools/ember-0.9.7.1":function(){define(["dojo","dijit","dojox"],function(){(function(){window.ember_assert=function(c,e){"function"===typeof e&&(e=!1!==e());if(!e)throw Error("assertion failed: "+c);};window.ember_warn=function(c,e){1===arguments.length&&(e=!1);"function"===typeof e&&(e=!1!==e())};window.ember_deprecate=
function(c,e){if(!Ember.TESTING_DEPRECATION&&(1===arguments.length&&(e=!1),"function"===typeof e&&(e=!1!==e()),!e)){if(Ember.ENV.RAISE_ON_DEPRECATION)throw Error(c);var f;try{__fail__.fail()}catch(b){f=b}f.stack&&(f.arguments?(f=f.stack.replace(/^\s+at\s+/gm,"").replace(/^([^\(]+?)([\n$])/gm,"{anonymous}($1)$2").replace(/^Object.<anonymous>\s*\(([^\)]+)\)/gm,"{anonymous}($1)").split("\n"),f.shift()):f=f.stack.replace(/(?:\n@:0)?\s+$/m,"").replace(/^\(/gm,"{anonymous}(").split("\n"),f.slice(2).join("\n    "))}};
window.ember_deprecateFunc=function(c,e){return function(){window.ember_deprecate(c);return e.apply(this,arguments)}}})();(function(){var c={};window.Handlebars=c;c.VERSION="1.0.beta.2";c.helpers={};c.partials={};c.registerHelper=function(c,b,a){a&&(b.not=a);this.helpers[c]=b};c.registerPartial=function(c,b){this.partials[c]=b};c.registerHelper("helperMissing",function(c){if(2!==arguments.length)throw Error("Could not find property '"+c+"'");});c.registerHelper("blockHelperMissing",function(c,b){var a=
b.inverse||function(){},g=b.fn,e="",k=Object.prototype.toString.call(c);"[object Function]"===k&&(c=c());if(!0===c)return g(this);if(!1===c||null==c)return a(this);if("[object Array]"===k){if(0<c.length){a=0;for(k=c.length;a<k;a++)e+=g(c[a])}else e=a(this);return e}return g(c)});c.registerHelper("each",function(c,b){var a=b.fn,g=b.inverse,e="";if(c&&0<c.length)for(var g=0,k=c.length;g<k;g++)e+=a(c[g]);else e=g(this);return e});c.registerHelper("if",function(e,b){return!e||c.Utils.isEmpty(e)?b.inverse(this):
b.fn(this)});c.registerHelper("unless",function(e,b){var a=b.fn;b.fn=b.inverse;b.inverse=a;return c.helpers["if"].call(this,e,b)});c.registerHelper("with",function(c,b){return b.fn(c)});c.registerHelper("log",function(e){c.log(e)});var e=function(){var c={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,statements:6,simpleInverse:7,statement:8,openInverse:9,closeBlock:10,openBlock:11,mustache:12,partial:13,CONTENT:14,COMMENT:15,OPEN_BLOCK:16,inMustache:17,CLOSE:18,OPEN_INVERSE:19,
OPEN_ENDBLOCK:20,path:21,OPEN:22,OPEN_UNESCAPED:23,OPEN_PARTIAL:24,params:25,hash:26,param:27,STRING:28,INTEGER:29,BOOLEAN:30,hashSegments:31,hashSegment:32,ID:33,EQUALS:34,pathSegments:35,SEP:36,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"CONTENT",15:"COMMENT",16:"OPEN_BLOCK",18:"CLOSE",19:"OPEN_INVERSE",20:"OPEN_ENDBLOCK",22:"OPEN",23:"OPEN_UNESCAPED",24:"OPEN_PARTIAL",28:"STRING",29:"INTEGER",30:"BOOLEAN",33:"ID",34:"EQUALS",36:"SEP"},productions_:[0,[3,2],[4,3],[4,1],[4,0],[6,1],[6,2],
[8,3],[8,3],[8,1],[8,1],[8,1],[8,1],[11,3],[9,3],[10,3],[12,3],[12,3],[13,3],[13,4],[7,2],[17,3],[17,2],[17,2],[17,1],[25,2],[25,1],[27,1],[27,1],[27,1],[27,1],[26,1],[31,2],[31,1],[32,3],[32,3],[32,3],[32,3],[21,1],[35,3],[35,1]],performAction:function(a,b,c,e,h,d){a=d.length-1;switch(h){case 1:return d[a-1];case 2:this.$=new e.ProgramNode(d[a-2],d[a]);break;case 3:this.$=new e.ProgramNode(d[a]);break;case 4:this.$=new e.ProgramNode([]);break;case 5:this.$=[d[a]];break;case 6:d[a-1].push(d[a]);this.$=
d[a-1];break;case 7:this.$=new e.InverseNode(d[a-2],d[a-1],d[a]);break;case 8:this.$=new e.BlockNode(d[a-2],d[a-1],d[a]);break;case 9:this.$=d[a];break;case 10:this.$=d[a];break;case 11:this.$=new e.ContentNode(d[a]);break;case 12:this.$=new e.CommentNode(d[a]);break;case 13:this.$=new e.MustacheNode(d[a-1][0],d[a-1][1]);break;case 14:this.$=new e.MustacheNode(d[a-1][0],d[a-1][1]);break;case 15:this.$=d[a-1];break;case 16:this.$=new e.MustacheNode(d[a-1][0],d[a-1][1]);break;case 17:this.$=new e.MustacheNode(d[a-
1][0],d[a-1][1],!0);break;case 18:this.$=new e.PartialNode(d[a-1]);break;case 19:this.$=new e.PartialNode(d[a-2],d[a-1]);break;case 21:this.$=[[d[a-2]].concat(d[a-1]),d[a]];break;case 22:this.$=[[d[a-1]].concat(d[a]),null];break;case 23:this.$=[[d[a-1]],d[a]];break;case 24:this.$=[[d[a]],null];break;case 25:d[a-1].push(d[a]);this.$=d[a-1];break;case 26:this.$=[d[a]];break;case 27:this.$=d[a];break;case 28:this.$=new e.StringNode(d[a]);break;case 29:this.$=new e.IntegerNode(d[a]);break;case 30:this.$=
new e.BooleanNode(d[a]);break;case 31:this.$=new e.HashNode(d[a]);break;case 32:d[a-1].push(d[a]);this.$=d[a-1];break;case 33:this.$=[d[a]];break;case 34:this.$=[d[a-2],d[a]];break;case 35:this.$=[d[a-2],new e.StringNode(d[a])];break;case 36:this.$=[d[a-2],new e.IntegerNode(d[a])];break;case 37:this.$=[d[a-2],new e.BooleanNode(d[a])];break;case 38:this.$=new e.IdNode(d[a]);break;case 39:d[a-2].push(d[a]);this.$=d[a-2];break;case 40:this.$=[d[a]]}},table:[{3:1,4:2,5:[2,4],6:3,8:4,9:5,11:6,12:7,13:8,
14:[1,9],15:[1,10],16:[1,12],19:[1,11],22:[1,13],23:[1,14],24:[1,15]},{1:[3]},{5:[1,16]},{5:[2,3],7:17,8:18,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,19],20:[2,3],22:[1,13],23:[1,14],24:[1,15]},{5:[2,5],14:[2,5],15:[2,5],16:[2,5],19:[2,5],20:[2,5],22:[2,5],23:[2,5],24:[2,5]},{4:20,6:3,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,4],22:[1,13],23:[1,14],24:[1,15]},{4:21,6:3,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,4],22:[1,13],23:[1,14],
24:[1,15]},{5:[2,9],14:[2,9],15:[2,9],16:[2,9],19:[2,9],20:[2,9],22:[2,9],23:[2,9],24:[2,9]},{5:[2,10],14:[2,10],15:[2,10],16:[2,10],19:[2,10],20:[2,10],22:[2,10],23:[2,10],24:[2,10]},{5:[2,11],14:[2,11],15:[2,11],16:[2,11],19:[2,11],20:[2,11],22:[2,11],23:[2,11],24:[2,11]},{5:[2,12],14:[2,12],15:[2,12],16:[2,12],19:[2,12],20:[2,12],22:[2,12],23:[2,12],24:[2,12]},{17:22,21:23,33:[1,25],35:24},{17:26,21:23,33:[1,25],35:24},{17:27,21:23,33:[1,25],35:24},{17:28,21:23,33:[1,25],35:24},{21:29,33:[1,25],
35:24},{1:[2,1]},{6:30,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],22:[1,13],23:[1,14],24:[1,15]},{5:[2,6],14:[2,6],15:[2,6],16:[2,6],19:[2,6],20:[2,6],22:[2,6],23:[2,6],24:[2,6]},{17:22,18:[1,31],21:23,33:[1,25],35:24},{10:32,20:[1,33]},{10:34,20:[1,33]},{18:[1,35]},{18:[2,24],21:40,25:36,26:37,27:38,28:[1,41],29:[1,42],30:[1,43],31:39,32:44,33:[1,45],35:24},{18:[2,38],28:[2,38],29:[2,38],30:[2,38],33:[2,38],36:[1,46]},{18:[2,40],28:[2,40],29:[2,40],30:[2,40],33:[2,40],36:[2,40]},
{18:[1,47]},{18:[1,48]},{18:[1,49]},{18:[1,50],21:51,33:[1,25],35:24},{5:[2,2],8:18,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,2],22:[1,13],23:[1,14],24:[1,15]},{14:[2,20],15:[2,20],16:[2,20],19:[2,20],22:[2,20],23:[2,20],24:[2,20]},{5:[2,7],14:[2,7],15:[2,7],16:[2,7],19:[2,7],20:[2,7],22:[2,7],23:[2,7],24:[2,7]},{21:52,33:[1,25],35:24},{5:[2,8],14:[2,8],15:[2,8],16:[2,8],19:[2,8],20:[2,8],22:[2,8],23:[2,8],24:[2,8]},{14:[2,14],15:[2,14],16:[2,14],19:[2,14],20:[2,14],22:[2,14],
23:[2,14],24:[2,14]},{18:[2,22],21:40,26:53,27:54,28:[1,41],29:[1,42],30:[1,43],31:39,32:44,33:[1,45],35:24},{18:[2,23]},{18:[2,26],28:[2,26],29:[2,26],30:[2,26],33:[2,26]},{18:[2,31],32:55,33:[1,56]},{18:[2,27],28:[2,27],29:[2,27],30:[2,27],33:[2,27]},{18:[2,28],28:[2,28],29:[2,28],30:[2,28],33:[2,28]},{18:[2,29],28:[2,29],29:[2,29],30:[2,29],33:[2,29]},{18:[2,30],28:[2,30],29:[2,30],30:[2,30],33:[2,30]},{18:[2,33],33:[2,33]},{18:[2,40],28:[2,40],29:[2,40],30:[2,40],33:[2,40],34:[1,57],36:[2,40]},
{33:[1,58]},{14:[2,13],15:[2,13],16:[2,13],19:[2,13],20:[2,13],22:[2,13],23:[2,13],24:[2,13]},{5:[2,16],14:[2,16],15:[2,16],16:[2,16],19:[2,16],20:[2,16],22:[2,16],23:[2,16],24:[2,16]},{5:[2,17],14:[2,17],15:[2,17],16:[2,17],19:[2,17],20:[2,17],22:[2,17],23:[2,17],24:[2,17]},{5:[2,18],14:[2,18],15:[2,18],16:[2,18],19:[2,18],20:[2,18],22:[2,18],23:[2,18],24:[2,18]},{18:[1,59]},{18:[1,60]},{18:[2,21]},{18:[2,25],28:[2,25],29:[2,25],30:[2,25],33:[2,25]},{18:[2,32],33:[2,32]},{34:[1,57]},{21:61,28:[1,
62],29:[1,63],30:[1,64],33:[1,25],35:24},{18:[2,39],28:[2,39],29:[2,39],30:[2,39],33:[2,39],36:[2,39]},{5:[2,19],14:[2,19],15:[2,19],16:[2,19],19:[2,19],20:[2,19],22:[2,19],23:[2,19],24:[2,19]},{5:[2,15],14:[2,15],15:[2,15],16:[2,15],19:[2,15],20:[2,15],22:[2,15],23:[2,15],24:[2,15]},{18:[2,34],33:[2,34]},{18:[2,35],33:[2,35]},{18:[2,36],33:[2,36]},{18:[2,37],33:[2,37]}],defaultActions:{16:[2,1],37:[2,23],53:[2,21]},parseError:function(a){throw Error(a);},parse:function(a){function b(){var a;a=c.lexer.lex()||
1;"number"!==typeof a&&(a=c.symbols_[a]||a);return a}var c=this,e=[0],h=[null],d=[],f=this.table,p="",o=0,q=0,s=0;this.lexer.setInput(a);this.lexer.yy=this.yy;this.yy.lexer=this.lexer;"undefined"==typeof this.lexer.yylloc&&(this.lexer.yylloc={});a=this.lexer.yylloc;d.push(a);"function"===typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var u,t,v,z,w={},x,r;;){v=e[e.length-1];this.defaultActions[v]?z=this.defaultActions[v]:(null==u&&(u=b()),z=f[v]&&f[v][u]);if("undefined"===typeof z||
!z.length||!z[0]){if(!s){t=[];for(x in f[v])this.terminals_[x]&&2<x&&t.push("'"+this.terminals_[x]+"'");var B="",B=this.lexer.showPosition?"Parse error on line "+(o+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+t.join(", "):"Parse error on line "+(o+1)+": Unexpected "+(1==u?"end of input":"'"+(this.terminals_[u]||u)+"'");this.parseError(B,{text:this.lexer.match,token:this.terminals_[u]||u,line:this.lexer.yylineno,loc:a,expected:t})}if(3==s){if(1==u)throw Error(B||"Parsing halted.");q=this.lexer.yyleng;
p=this.lexer.yytext;o=this.lexer.yylineno;a=this.lexer.yylloc;u=b()}for(;!((2).toString()in f[v]);){if(0==v)throw Error(B||"Parsing halted.");e.length-=2;h.length-=1;d.length-=1;v=e[e.length-1]}t=u;u=2;v=e[e.length-1];z=f[v]&&f[v][2];s=3}if(z[0]instanceof Array&&1<z.length)throw Error("Parse Error: multiple actions possible at state: "+v+", token: "+u);switch(z[0]){case 1:e.push(u);h.push(this.lexer.yytext);d.push(this.lexer.yylloc);e.push(z[1]);u=null;t?(u=t,t=null):(q=this.lexer.yyleng,p=this.lexer.yytext,
o=this.lexer.yylineno,a=this.lexer.yylloc,0<s&&s--);break;case 2:r=this.productions_[z[1]][1];w.$=h[h.length-r];w._$={first_line:d[d.length-(r||1)].first_line,last_line:d[d.length-1].last_line,first_column:d[d.length-(r||1)].first_column,last_column:d[d.length-1].last_column};v=this.performAction.call(w,p,q,o,this.yy,z[1],h,d);if("undefined"!==typeof v)return v;r&&(e=e.slice(0,-2*r),h=h.slice(0,-1*r),d=d.slice(0,-1*r));e.push(this.productions_[z[1]][0]);h.push(w.$);d.push(w._$);z=f[e[e.length-2]][e[e.length-
1]];e.push(z);break;case 3:return!0}}return!0}},b=function(){return{EOF:1,parseError:function(a,b){if(this.yy.parseError)this.yy.parseError(a,b);else throw Error(a);},setInput:function(a){this._input=a;this._more=this._less=this.done=!1;this.yylineno=this.yyleng=0;this.yytext=this.matched=this.match="";this.conditionStack=["INITIAL"];this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0};return this},input:function(){var a=this._input[0];this.yytext+=a;this.yyleng++;this.match+=a;this.matched+=
a;a.match(/\n/)&&this.yylineno++;this._input=this._input.slice(1);return a},unput:function(a){this._input=a+this._input;return this},more:function(){this._more=!0;return this},pastInput:function(){var a=this.matched.substr(0,this.matched.length-this.match.length);return(20<a.length?"...":"")+a.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var a=this.match;20>a.length&&(a+=this._input.substr(0,20-a.length));return(a.substr(0,20)+(20<a.length?"...":"")).replace(/\n/g,"")},showPosition:function(){var a=
this.pastInput(),b=Array(a.length+1).join("-");return a+this.upcomingInput()+"\n"+b+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var a,b;this._more||(this.match=this.yytext="");for(var c=this._currentRules(),e=0;e<c.length;e++)if(a=this._input.match(this.rules[c[e]])){if(b=a[0].match(/\n.*/g))this.yylineno+=b.length;this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:b?b[b.length-1].length-1:this.yylloc.last_column+
a[0].length};this.yytext+=a[0];this.match+=a[0];this.matches=a;this.yyleng=this.yytext.length;this._more=!1;this._input=this._input.slice(a[0].length);this.matched+=a[0];if(a=this.performAction.call(this,this.yy,this,c[e],this.conditionStack[this.conditionStack.length-1]))return a;return}if(""===this._input)return this.EOF;this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var a=this.next();
return"undefined"!==typeof a?a:this.lex()},begin:function(a){this.conditionStack.push(a)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},performAction:function(a,b,c){switch(c){case 0:this.begin("mu");if(b.yytext)return 14;break;case 1:return 14;case 2:return 24;case 3:return 16;case 4:return 20;case 5:return 19;case 6:return 19;case 7:return 23;case 8:return 23;case 9:return b.yytext=
b.yytext.substr(3,b.yyleng-5),this.begin("INITIAL"),15;case 10:return 22;case 11:return 34;case 12:return 33;case 13:return 33;case 14:return 36;case 16:return this.begin("INITIAL"),18;case 17:return this.begin("INITIAL"),18;case 18:return b.yytext=b.yytext.substr(1,b.yyleng-2).replace(/\\"/g,'"'),28;case 19:return 30;case 20:return 30;case 21:return 29;case 22:return 33;case 23:return b.yytext=b.yytext.substr(1,b.yyleng-2),33;case 24:return"INVALID";case 25:return 5}},rules:[/^[^\x00]*?(?=(\{\{))/,
/^[^\x00]+/,/^\{\{>/,/^\{\{#/,/^\{\{\//,/^\{\{\^/,/^\{\{\s*else\b/,/^\{\{\{/,/^\{\{&/,/^\{\{![\s\S]*?\}\}/,/^\{\{/,/^=/,/^\.(?=[} ])/,/^\.\./,/^[/.]/,/^\s+/,/^\}\}\}/,/^\}\}/,/^"(\\["]|[^"])*"/,/^true(?=[}\s])/,/^false(?=[}\s])/,/^[0-9]+(?=[}\s])/,/^[a-zA-Z0-9_$-]+(?=[=}\s/.])/,/^\[.*\]/,/^./,/^$/],conditions:{mu:{rules:[2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25],inclusive:!1},INITIAL:{rules:[0,1,25],inclusive:!0}}}}();c.lexer=b;return c}();"undefined"!==typeof require&&"undefined"!==
typeof exports&&(exports.parser=e,exports.parse=function(){return e.parse.apply(e,arguments)},exports.main=function(c){if(!c[1])throw Error("Usage: "+c[0]+" FILE");c="undefined"!==typeof process?require("fs").readFileSync(require("path").join(process.cwd(),c[1]),"utf8"):require("file").path(require("file").cwd()).join(c[1]).read({charset:"utf-8"});return exports.parser.parse(c)},"undefined"!==typeof module&&require.main===module&&exports.main("undefined"!==typeof process?process.argv.slice(1):require("system").args));
c.Parser=e;c.parse=function(e){c.Parser.yy=c.AST;return c.Parser.parse(e)};c.print=function(e){return(new c.PrintVisitor).accept(e)};c.logger={DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,log:function(){}};c.log=function(e,b){c.logger.log(e,b)};(function(){c.AST={};c.AST.ProgramNode=function(b,a){this.type="program";this.statements=b;if(a)this.inverse=new c.AST.ProgramNode(a)};c.AST.MustacheNode=function(b,a,c){this.type="mustache";this.id=b[0];this.params=b.slice(1);this.hash=a;this.escaped=!c};c.AST.PartialNode=
function(b,a){this.type="partial";this.id=b;this.context=a};var e=function(b,a){if(b.original!==a.original)throw new c.Exception(b.original+" doesn't match "+a.original);};c.AST.BlockNode=function(b,a,c){e(b.id,c);this.type="block";this.mustache=b;this.program=a};c.AST.InverseNode=function(b,a,c){e(b.id,c);this.type="inverse";this.mustache=b;this.program=a};c.AST.ContentNode=function(b){this.type="content";this.string=b};c.AST.HashNode=function(b){this.type="hash";this.pairs=b};c.AST.IdNode=function(b){this.type=
"ID";this.original=b.join(".");for(var a=[],c=0,e=0,f=b.length;e<f;e++){var h=b[e];h===".."?c++:h==="."||h==="this"?this.isScoped=true:a.push(h)}this.parts=a;this.string=a.join(".");this.depth=c;this.isSimple=a.length===1&&c===0};c.AST.StringNode=function(b){this.type="STRING";this.string=b};c.AST.IntegerNode=function(b){this.type="INTEGER";this.integer=b};c.AST.BooleanNode=function(b){this.type="BOOLEAN";this.bool=b};c.AST.CommentNode=function(b){this.type="comment";this.comment=b}})();c.Exception=
function(c){var b=Error.prototype.constructor.apply(this,arguments),a;for(a in b)b.hasOwnProperty(a)&&(this[a]=b[a])};c.Exception.prototype=Error();c.SafeString=function(c){this.string=c};c.SafeString.prototype.toString=function(){return this.string.toString()};(function(){var e={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},b=/&(?!\w+;)|[<>"'`]/g,a=/[&<>"'`]/,g=function(a){return e[a]||"&amp;"};c.Utils={escapeExpression:function(e){return e instanceof c.SafeString?e.toString():e==
null||e===false?"":!a.test(e)?e:e.replace(b,g)},isEmpty:function(a){return typeof a==="undefined"?true:a===null?true:a===false?true:Object.prototype.toString.call(a)==="[object Array]"&&a.length===0?true:false}}})();c.Compiler=function(){};c.JavaScriptCompiler=function(){};(function(e,b){e.OPCODE_MAP={appendContent:1,getContext:2,lookupWithHelpers:3,lookup:4,append:5,invokeMustache:6,appendEscaped:7,pushString:8,truthyOrFallback:9,functionOrFallback:10,invokeProgram:11,invokePartial:12,push:13,assignToHash:15,
pushStringParam:16};e.MULTI_PARAM_OPCODES={appendContent:1,getContext:1,lookupWithHelpers:2,lookup:1,invokeMustache:3,pushString:1,truthyOrFallback:1,functionOrFallback:1,invokeProgram:3,invokePartial:1,push:1,assignToHash:1,pushStringParam:1};e.DISASSEMBLE_MAP={};for(var a in e.OPCODE_MAP)e.DISASSEMBLE_MAP[e.OPCODE_MAP[a]]=a;e.multiParamSize=function(a){return e.MULTI_PARAM_OPCODES[e.DISASSEMBLE_MAP[a]]};e.prototype={compiler:e,disassemble:function(){for(var a=this.opcodes,b,c=[],g,j=0,k=a.length;j<
k;j++){b=a[j];if(b==="DECLARE"){g=a[++j];b=a[++j];c.push("DECLARE "+g+" = "+b)}else{g=e.DISASSEMBLE_MAP[b];for(var s=e.multiParamSize(b),u=[],t=0;t<s;t++){b=a[++j];typeof b==="string"&&(b='"'+b.replace("\n","\\n")+'"');u.push(b)}g=g+" "+u.join(" ");c.push(g)}}return c.join("\n")},guid:0,compile:function(a,b){this.children=[];this.depths={list:[]};this.options=b;var c=this.options.knownHelpers;this.options.knownHelpers={helperMissing:true,blockHelperMissing:true,each:true,"if":true,unless:true,"with":true,
log:true};if(c)for(var g in c)this.options.knownHelpers[g]=c[g];return this.program(a)},accept:function(a){return this[a.type](a)},program:function(a){var a=a.statements,b;this.opcodes=[];for(var c=0,g=a.length;c<g;c++){b=a[c];this[b.type](b)}this.isSimple=g===1;this.depths.list=this.depths.list.sort(function(a,b){return a-b});return this},compileProgram:function(a){var a=(new this.compiler).compile(a,this.options),b=this.guid++;this.usePartial=this.usePartial||a.usePartial;this.children[b]=a;for(var c=
0,g=a.depths.list.length;c<g;c++){depth=a.depths.list[c];depth<2||this.addDepth(depth-1)}return b},block:function(a){var b=a.mustache,c=this.setupStackForMustache(b),g=this.compileProgram(a.program);if(a.program.inverse){a=this.compileProgram(a.program.inverse);this.declare("inverse",a)}this.opcode("invokeProgram",g,c.length,!!b.hash);this.declare("inverse",null);this.opcode("append")},inverse:function(a){var b=this.setupStackForMustache(a.mustache);this.declare("inverse",this.compileProgram(a.program));
this.opcode("invokeProgram",null,b.length,!!a.mustache.hash);this.opcode("append")},hash:function(a){var a=a.pairs,b,c;this.opcode("push","{}");for(var g=0,e=a.length;g<e;g++){b=a[g];c=b[1];this.accept(c);this.opcode("assignToHash",b[0])}},partial:function(a){var b=a.id;this.usePartial=true;a.context?this.ID(a.context):this.opcode("push","depth0");this.opcode("invokePartial",b.original);this.opcode("append")},content:function(a){this.opcode("appendContent",a.string)},mustache:function(a){this.opcode("invokeMustache",
this.setupStackForMustache(a).length,a.id.original,!!a.hash);a.escaped?this.opcode("appendEscaped"):this.opcode("append")},ID:function(a){this.addDepth(a.depth);this.opcode("getContext",a.depth);this.opcode("lookupWithHelpers",a.parts[0]||null,a.isScoped||false);for(var b=1,c=a.parts.length;b<c;b++)this.opcode("lookup",a.parts[b])},STRING:function(a){this.opcode("pushString",a.string)},INTEGER:function(a){this.opcode("push",a.integer)},BOOLEAN:function(a){this.opcode("push",a.bool)},comment:function(){},
pushParams:function(a){for(var b=a.length,c;b--;){c=a[b];if(this.options.stringParams){c.depth&&this.addDepth(c.depth);this.opcode("getContext",c.depth||0);this.opcode("pushStringParam",c.string)}else this[c.type](c)}},opcode:function(a,b,c,g){this.opcodes.push(e.OPCODE_MAP[a]);b!==void 0&&this.opcodes.push(b);c!==void 0&&this.opcodes.push(c);g!==void 0&&this.opcodes.push(g)},declare:function(a,b){this.opcodes.push("DECLARE");this.opcodes.push(a);this.opcodes.push(b)},addDepth:function(a){if(a!==
0&&!this.depths[a]){this.depths[a]=true;this.depths.list.push(a)}},setupStackForMustache:function(a){var b=a.params;this.pushParams(b);a.hash&&this.hash(a.hash);this.ID(a.id);return b}};b.prototype={nameLookup:function(a,d){return/^[0-9]+$/.test(d)?a+"["+d+"]":b.isValidJavaScriptVariableName(d)?a+"."+d:a+"['"+d+"']"},appendToBuffer:function(a){return this.environment.isSimple?"return "+a+";":"buffer += "+a+";"},initializeBuffer:function(){return this.quotedString("")},namespace:"Handlebars",compile:function(a,
b,c,g){this.environment=a;this.options=b||{};this.name=this.environment.name;this.isChild=!!c;this.context=c||{programs:[],aliases:{self:"this"},registers:{list:[]}};this.preamble();this.stackSlot=0;this.stackVars=[];this.compileChildren(a,b);a=a.opcodes;this.i=0;for(k=a.length;this.i<k;this.i++){a=this.nextOpcode(0);if(a[0]==="DECLARE"){this.i=this.i+2;this[a[1]]=a[2]}else{this.i=this.i+a[1].length;this[a[0]].apply(this,a[1])}}return this.createFunctionContext(g)},nextOpcode:function(a){var b=this.environment.opcodes,
c=b[this.i+a],g,j;if(c==="DECLARE"){g=b[this.i+1];a=b[this.i+2];return["DECLARE",g,a]}g=e.DISASSEMBLE_MAP[c];c=e.multiParamSize(c);j=[];for(var k=0;k<c;k++)j.push(b[this.i+k+1+a]);return[g,j]},eat:function(a){this.i=this.i+a.length},preamble:function(){var a=[];if(this.isChild)a.push("");else{var b=this.namespace,c="helpers = helpers || "+b+".helpers;";this.environment.usePartial&&(c=c+" partials = partials || "+b+".partials;");a.push(c)}this.environment.isSimple?a.push(""):a.push(", buffer = "+this.initializeBuffer());
this.lastContext=0;this.source=a},createFunctionContext:function(a){var b=this.stackVars;this.isChild||(b=b.concat(this.context.registers.list));b.length>0&&(this.source[1]=this.source[1]+", "+b.join(", "));if(!this.isChild)for(var g in this.context.aliases)this.source[1]=this.source[1]+", "+g+"="+this.context.aliases[g];this.source[1]&&(this.source[1]="var "+this.source[1].substring(2)+";");this.isChild||(this.source[1]=this.source[1]+("\n"+this.context.programs.join("\n")+"\n"));this.environment.isSimple||
this.source.push("return buffer;");b=this.isChild?["depth0","data"]:["Handlebars","depth0","helpers","partials","data"];g=0;for(var e=this.environment.depths.list.length;g<e;g++)b.push("depth"+this.environment.depths.list[g]);if(a){b.push(this.source.join("\n  "));return Function.apply(this,b)}a="function "+(this.name||"")+"("+b.join(",")+") {\n  "+this.source.join("\n  ")+"}";c.log(c.logger.DEBUG,a+"\n\n");return a},appendContent:function(a){this.source.push(this.appendToBuffer(this.quotedString(a)))},
append:function(){var a=this.popStack();this.source.push("if("+a+" || "+a+" === 0) { "+this.appendToBuffer(a)+" }");this.environment.isSimple&&this.source.push("else { "+this.appendToBuffer("''")+" }")},appendEscaped:function(){var a=this.nextOpcode(1),b="";this.context.aliases.escapeExpression="this.escapeExpression";if(a[0]==="appendContent"){b=" + "+this.quotedString(a[1][0]);this.eat(a)}this.source.push(this.appendToBuffer("escapeExpression("+this.popStack()+")"+b))},getContext:function(a){if(this.lastContext!==
a)this.lastContext=a},lookupWithHelpers:function(a,b){if(a){var c=this.nextStack();this.usingKnownHelper=false;if(!b&&this.options.knownHelpers[a]){c=c+" = "+this.nameLookup("helpers",a,"helper");this.usingKnownHelper=true}else c=b||this.options.knownHelpersOnly?c+" = "+this.nameLookup("depth"+this.lastContext,a,"context"):c+" = "+this.nameLookup("helpers",a,"helper")+" || "+this.nameLookup("depth"+this.lastContext,a,"context");this.source.push(c+";")}else this.pushStack("depth"+this.lastContext)},
lookup:function(a){var b=this.topStack();this.source.push(b+" = ("+b+" === null || "+b+" === undefined || "+b+" === false ? "+b+" : "+this.nameLookup(b,a,"context")+");")},pushStringParam:function(a){this.pushStack("depth"+this.lastContext);this.pushString(a)},pushString:function(a){this.pushStack(this.quotedString(a))},push:function(a){this.pushStack(a)},invokeMustache:function(a,b,c){this.populateParams(a,this.quotedString(b),"{}",null,c,function(a,b,c){if(!this.usingKnownHelper){this.context.aliases.helperMissing=
"helpers.helperMissing";this.context.aliases.undef="void 0";this.source.push("else if("+c+"=== undef) { "+a+" = helperMissing.call("+b+"); }");a!==c&&this.source.push("else { "+a+" = "+c+"; }")}})},invokeProgram:function(a,b,c){var g=this.programExpression(this.inverse),a=this.programExpression(a);this.populateParams(b,null,a,g,c,function(a,b){if(!this.usingKnownHelper){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";this.source.push("else { "+a+" = blockHelperMissing.call("+
b+"); }")}})},populateParams:function(a,b,c,g,e,f){var j=e||this.options.stringParams||g||this.options.data,k=this.popStack(),t=[];if(j){this.register("tmp1",c);c="tmp1"}else c="{ hash: {} }";j&&this.source.push("tmp1.hash = "+(e?this.popStack():"{}")+";");this.options.stringParams&&this.source.push("tmp1.contexts = [];");for(j=0;j<a;j++){e=this.popStack();t.push(e);this.options.stringParams&&this.source.push("tmp1.contexts.push("+this.popStack()+");")}if(g){this.source.push("tmp1.fn = tmp1;");this.source.push("tmp1.inverse = "+
g+";")}this.options.data&&this.source.push("tmp1.data = data;");t.push(c);this.populateCall(t,k,b||k,f)},populateCall:function(a,b,c,g){var e=["depth0"].concat(a).join(", "),a=["depth0"].concat(c).concat(a).join(", "),c=this.nextStack();if(this.usingKnownHelper)this.source.push(c+" = "+b+".call("+e+");");else{this.context.aliases.functionType='"function"';this.source.push("if(typeof "+b+" === functionType) { "+c+" = "+b+".call("+e+"); }")}g.call(this,c,a,b);this.usingKnownHelper=false},invokePartial:function(a){this.pushStack("self.invokePartial("+
this.nameLookup("partials",a,"partial")+", '"+a+"', "+this.popStack()+", helpers, partials);")},assignToHash:function(a){var b=this.popStack();this.source.push(this.topStack()+"['"+a+"'] = "+b+";")},compiler:b,compileChildren:function(a,b){for(var c=a.children,g,e,f=0,j=c.length;f<j;f++){g=c[f];e=new this.compiler;this.context.programs.push("");var k=this.context.programs.length;g.index=k;g.name="program"+k;this.context.programs[k]=e.compile(g,b,this.context)}},programExpression:function(a){if(a==
null)return"self.noop";for(var b=this.environment.children[a],a=b.depths.list,b=[b.index,b.name,"data"],c=0,g=a.length;c<g;c++){depth=a[c];depth===1?b.push("depth0"):b.push("depth"+(depth-1))}if(a.length===0)return"self.program("+b.join(", ")+")";b.shift();return"self.programWithDepth("+b.join(", ")+")"},register:function(a,b){this.useRegister(a);this.source.push(a+" = "+b+";")},useRegister:function(a){if(!this.context.registers[a]){this.context.registers[a]=true;this.context.registers.list.push(a)}},
pushStack:function(a){this.source.push(this.nextStack()+" = "+a+";");return"stack"+this.stackSlot},nextStack:function(){this.stackSlot++;this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot);return"stack"+this.stackSlot},popStack:function(){return"stack"+this.stackSlot--},topStack:function(){return"stack"+this.stackSlot},quotedString:function(a){return'"'+a.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r")+'"'}};a=["break","case","catch",
"continue","default","delete","do","else","finally","for","function","if","in","instanceof","new","return","switch","this","throw","try","typeof","var","void","while","with","null","true","false"];for(var g=b.RESERVED_WORDS={},j=0,k=a.length;j<k;j++)g[a[j]]=true;b.isValidJavaScriptVariableName=function(a){return!b.RESERVED_WORDS[a]&&/^[a-zA-Z_$][0-9a-zA-Z_$]+$/.test(a)?true:false}})(c.Compiler,c.JavaScriptCompiler);c.precompile=function(e,b){var b=b||{},a=c.parse(e),a=(new c.Compiler).compile(a,b);
return(new c.JavaScriptCompiler).compile(a,b)};c.compile=function(e,b){var b=b||{},a;return function(g,j){if(!a){var k=c.parse(e),k=(new c.Compiler).compile(k,b),k=(new c.JavaScriptCompiler).compile(k,b,void 0,true);a=c.template(k)}return a.call(this,g,j)}};c.VM={template:function(e){var b={escapeExpression:c.Utils.escapeExpression,invokePartial:c.VM.invokePartial,programs:[],program:function(a,b,e){var f=this.programs[a];if(e)return c.VM.program(b,e);f||(f=this.programs[a]=c.VM.program(b));return f},
programWithDepth:c.VM.programWithDepth,noop:c.VM.noop};return function(a,g){g=g||{};return e.call(b,c,a,g.helpers,g.partials,g.data)}},programWithDepth:function(c,b,a){var g=Array.prototype.slice.call(arguments,2);return function(a,e){e=e||{};return c.apply(this,[a,e.data||b].concat(g))}},program:function(c,b){return function(a,g){g=g||{};return c(a,g.data||b)}},noop:function(){return""},invokePartial:function(e,b,a,g,j){if(e===void 0)throw new c.Exception("The partial "+b+" could not be found");
if(e instanceof Function)return e(a,{helpers:g,partials:j});if(c.compile){j[b]=c.compile(e);return j[b](a,{helpers:g,partials:j})}throw new c.Exception("The partial "+b+" could not be compiled when running in vm mode");}};c.template=c.VM.template})();(function(){"undefined"===typeof Ember&&(Ember={isNamespace:!0,toString:function(){return"Ember"}},"undefined"!==typeof window&&(window.Em=window.Ember=Em=Ember));Ember.VERSION="0.9.7.1";Ember.ENV="undefined"===typeof ENV?{}:ENV;Ember.EXTEND_PROTOTYPES=
!1!==Ember.ENV.EXTEND_PROTOTYPES;Ember.SHIM_ES5=!1===Ember.ENV.SHIM_ES5?!1:Ember.EXTEND_PROTOTYPES;Ember.K=function(){return this};"undefined"===typeof ember_assert&&(window.ember_assert=Ember.K);"undefined"===typeof ember_warn&&(window.ember_warn=Ember.K);"undefined"===typeof ember_deprecate&&(window.ember_deprecate=Ember.K);"undefined"===typeof ember_deprecateFunc&&(window.ember_deprecateFunc=function(c,e){return e});Ember.Logger=window.console||{log:Ember.K,warn:Ember.K,error:Ember.K}})();(function(){var c=
Ember.platform={};c.create=Object.create;if(!c.create){var e=function(){},f=e.prototype;c.create=function(a,b){e.prototype=a;a=new e;e.prototype=f;if(void 0!==b)for(var g in b)b.hasOwnProperty(g)&&c.defineProperty(a,g,b[g]);return a};c.create.isSimulated=!0}var b=Object.defineProperty,a,g;if(b)try{b({},"a",{get:function(){}})}catch(j){b=null}if(b){a=function(){var a={};b(a,"a",{configurable:!0,enumerable:!0,get:function(){},set:function(){}});b(a,"a",{configurable:!0,enumerable:!0,writable:!0,value:!0});
return!0===a.a}();a:{try{b(document.createElement("div"),"definePropertyOnDOM",{});g=!0;break a}catch(k){}g=!1}a?g||(b=function(a,b,c){return("object"===typeof Node?a instanceof Node:"object"===typeof a&&"number"===typeof a.nodeType&&"string"===typeof a.nodeName)?a[b]=c.value:Object.defineProperty(a,b,c)}):b=null}c.defineProperty=b;c.hasPropertyAccessors=!0;c.defineProperty||(c.hasPropertyAccessors=!1,c.defineProperty=function(a,b,c){ember_assert("property descriptor cannot have `get` or `set` on this platform",
!c.get&&!c.set);a[b]=c.value},c.defineProperty.isSimulated=!0)})();(function(){var c="__ember"+ +new Date,e,f,b;e=0;f=[];b={};var a=Ember.GUID_DESC={configurable:!0,writable:!0,enumerable:!1},g=Ember.platform.defineProperty,j=Ember.platform.create;Ember.GUID_KEY=c;Ember.generateGuid=function(b,d){d||(d="ember");var f=d+e++;b&&(a.value=f,g(b,c,a),a.value=null);return f};Ember.guidFor=function(a){if(void 0===a)return"(undefined)";if(null===a)return"(null)";var d;switch(typeof a){case "number":return(d=
f[a])||(d=f[a]="nu"+a),d;case "string":return(d=b[a])||(d=b[a]="st"+e++),d;case "boolean":return a?"(true)":"(false)";default:return a[c]?a[c]:a===Object?"(Object)":a===Array?"(Array)":Ember.generateGuid(a,"ember")}};var k={writable:!0,configurable:!1,enumerable:!1,value:null},h=Ember.GUID_KEY+"_meta";Ember.META_KEY=h;var d={descs:{},watching:{}};Object.freeze&&Object.freeze(d);var m=Ember.platform.defineProperty.isSimulated?j:function(a){return a};Ember.meta=function(a,b){var c=a[h];if(!1===b)return c||
d;c?c.source!==a&&(c=j(c),c.descs=j(c.descs),c.values=j(c.values),c.watching=j(c.watching),c.lastSetValues={},c.cache={},c.source=a,g(a,h,k),c=a[h]=m(c)):(g(a,h,k),c=a[h]=m({descs:{},watching:{},values:{},lastSetValues:{},cache:{},source:a}),c.descs.constructor=null);return c};Ember.getMeta=function(a,b){return Ember.meta(a,!1)[b]};Ember.setMeta=function(a,b,c){return Ember.meta(a,!0)[b]=c};Ember.metaPath=function(a,b,c){for(var d=Ember.meta(a,c),g,e,f=0,h=b.length;f<h;f++){g=b[f];if(e=d[g]){if(e.__ember_source__!==
a){if(!c)return;e=d[g]=j(e);e.__ember_source__=a}}else{if(!c)return;e=d[g]={__ember_source__:a}}d=e}return e};Ember.wrap=function(a,b){function c(){}var d=function(){var d,g=this._super;this._super=b||c;d=a.apply(this,arguments);this._super=g;return d};d.base=a;return d};Ember.isArray=function(a){return!a||a.setInterval?!1:Array.isArray&&Array.isArray(a)||Ember.Array&&Ember.Array.detect(a)||void 0!==a.length&&"object"===typeof a?!0:!1};Ember.makeArray=function(a){return null===a||void 0===a?[]:Ember.isArray(a)?
a:[a]}})();(function(){function c(a){ember_assert("must pass non-empty string to normalizePath()",a&&""!==a);if("*"===a)return a;var b=a.charAt(0);return"."===b?"this"+a:"*"===b&&"."!==a.charAt(1)?"this."+a.slice(1):a}function e(a,b){var c=b.length,d,f;d=b.indexOf("*");if(0<d&&"."!==b.charAt(d-1))return e(e(a,b.slice(0,d)),b.slice(d+1));for(d=0;a&&d<c;){f=b.indexOf(".",d);0>f&&(f=c);d=b.slice(d,f);if((a="*"===d?a:g(a,d))&&a.isDestroyed)return;d=f+1}return a}function f(b,c){var f=o.test(c),h=!f&&p.test(c);
if(!b||h)b=window;f&&(c=c.slice(5));f=c.indexOf("*");0<f&&"."!==c.charAt(f-1)?(b=b&&a(b,!1).proto!==b?e(b,c.slice(0,f)):null,c=c.slice(f+1)):b===window&&(f=c.match(q)[0],b=g(b,f),c=c.slice(f.length+1));if(!c||0===c.length)throw Error("Invalid Path");d[0]=b;d[1]=c;return d}var b=Ember.platform.hasPropertyAccessors&&Ember.ENV.USE_ACCESSORS;Ember.USE_ACCESSORS=!!b;var a=Ember.meta,g,j;g=function(a,b){void 0===b&&"string"===typeof a&&(b=a,a=Ember);if(a){var c=a[b];void 0===c&&"function"===typeof a.unknownProperty&&
(c=a.unknownProperty(b));return c}};j=function(a,b,c){"object"===typeof a&&!(b in a)?"function"===typeof a.setUnknownProperty?a.setUnknownProperty(b,c):"function"===typeof a.unknownProperty?a.unknownProperty(b,c):a[b]=c:a[b]=c;return c};if(!b){var k=g,h=j;g=function(b,c){void 0===c&&"string"===typeof b&&(c=b,b=Ember);ember_assert("You need to provide an object and key to `get`.",!!b&&c);if(b){var d=a(b,!1).descs[c];return d?d.get(b,c):k(b,c)}};j=function(b,c,d){ember_assert("You need to provide an object and key to `set`.",
!!b&&void 0!==c);var g=a(b,!1).descs[c];g?g.set(b,c,d):h(b,c,d);return d}}Ember.get=g;Ember.set=j;var d=[],m=/^([A-Z$]|([0-9][A-Z$]))/,p=/^([A-Z$]|([0-9][A-Z$])).*[\.\*]/,o=/^this[\.\*]/,q=/^([^\.\*]+)/;Ember.normalizePath=c;Ember.normalizeTuple=function(a,b){return f(a,c(b))};Ember.normalizeTuple.primitive=f;Ember.getWithDefault=function(a,b,c){a=Ember.get(a,b);return void 0===a?c:a};Ember.getPath=function(a,b,d){var h,j,k;if(""===b)return a;!b&&"string"===typeof a&&(b=a,a=null,h=!0);k=-1<b.indexOf("*");
if(null===a&&!k&&0>b.indexOf("."))return g(window,b);b=c(b);j=o.test(b);if(!a||j||k)ember_deprecate("Fetching globals with Ember.getPath is deprecated (root: "+a+", path: "+b+")",!a||a===window||!m.test(b)),k=f(a,b),a=k[0],b=k[1],k.length=0;k=e(a,b);return void 0===k&&!h&&!j&&a!==window&&m.test(b)&&!1!==d?(ember_deprecate("Fetching globals with Ember.getPath is deprecated (root: "+a+", path: "+b+")"),Ember.getPath(window,b)):k};Ember.setPath=function(a,b,d,g){var e;2===arguments.length&&"string"===
typeof a&&(d=b,b=a,a=null);b=c(b);0<b.indexOf("*")&&(ember_deprecate("Setting globals with Ember.setPath is deprecated (path: "+b+")",!a||a===window||!m.test(b)),e=f(a,b),a=e[0],b=e[1],e.length=0);if(0<b.indexOf("."))e=b.slice(b.lastIndexOf(".")+1),b=b.slice(0,b.length-(e.length+1)),"this"!==b&&(a=Ember.getPath(a,b,!1),!a&&m.test(b)&&(ember_deprecate("Setting globals with Ember.setPath is deprecated (path: "+b+")"),a=Ember.getPath(window,b)));else{if(m.test(b))throw Error("Invalid Path");e=b}if(!e||
0===e.length||"*"===e)throw Error("Invalid Path");if(!a){if(g)return;throw Error("Object in path "+b+" could not be found or was destroyed.");}return Ember.set(a,e,d)};Ember.trySetPath=function(a,b,c){2===arguments.length&&"string"===typeof a&&(c=b,b=a,a=null);return Ember.setPath(a,b,c,!0)};Ember.isGlobalPath=function(a){return!o.test(a)&&m.test(a)}})();(function(){function c(a,b,c){if(c=c||h(a,!1).values){c=c[b];if(void 0!==c)return c;if(a.unknownProperty)return a.unknownProperty(b)}}function e(a,
b,c){var d=h(a),g;(g=0<d.watching[b]&&c!==d.values[b])&&Ember.propertyWillChange(a,b);d.values[b]=c;g&&Ember.propertyDidChange(a,b);return c}function f(a){var b=t[a];b||(b=t[a]=function(){return c(this,a)});return b}function b(a){var b=v[a];b||(b=v[a]=function(b){return e(this,a,b)});return b}function a(a,b){return"toString"===b?"function"!==typeof a.toString:!!a[b]}var g=Ember.USE_ACCESSORS,j=Ember.GUID_KEY,k=Ember.META_KEY,h=Ember.meta,d=Ember.platform.create,m=Ember.platform.defineProperty,p,o,
q={writable:!0,configurable:!0,enumerable:!0,value:null};o=(Ember.Descriptor=function(){}).setup=function(a,b,c){q.value=c;m(a,b,q);q.value=null};var s=Ember.Descriptor.prototype;s.set=function(a,b,c){return a[b]=c};s.get=function(a,b){return c(a,b,a)};s.setup=o;s.teardown=function(a,b){return a[b]};s.val=function(a,b){return a[b]};g||(Ember.Descriptor.MUST_USE_GETTER=function(){this instanceof Ember.Object&&ember_assert("Must use Ember.get() to access this property",!1)},Ember.Descriptor.MUST_USE_SETTER=
function(){this instanceof Ember.Object&&(this.isDestroyed?ember_assert("You cannot set observed properties on destroyed objects",!1):ember_assert("Must use Ember.set() to access this property",!1))});var u={configurable:!0,enumerable:!0,set:Ember.Descriptor.MUST_USE_SETTER},t={},v={};o=new Ember.Descriptor;Ember.platform.hasPropertyAccessors?(o.get=c,o.set=e,o.setup=g?function(a,c,d){u.get=f(c);u.set=b(c);m(a,c,u);u.get=u.set=null;d!==void 0&&(h(a).values[c]=d)}:function(a,b,c){u.get=f(b);m(a,b,
u);u.get=null;c!==void 0&&(h(a).values[b]=c)},o.teardown=function(a,b){var c=h(a).values[b];delete h(a).values[b];return c}):o.set=function(a,b,c){var d;(d=h(a).watching[b]>0&&c!==a[b])&&Ember.propertyWillChange(a,b);a[b]=c;d&&Ember.propertyDidChange(a,b);return c};Ember.SIMPLE_PROPERTY=new Ember.Descriptor;p=Ember.SIMPLE_PROPERTY;p.unwatched=o.unwatched=p;p.watched=o.watched=o;Ember.defineProperty=function(b,c,d,g){var e=h(b,false),f=e.descs,j=e.watching[c]>0,k=true;if(g===void 0){k=false;g=a(f,
c)?f[c].teardown(b,c):b[c]}else a(f,c)&&f[c].teardown(b,c);d||(d=p);if(d instanceof Ember.Descriptor){e=h(b,true);f=e.descs;d=(j?d.watched:d.unwatched)||d;f[c]=d;d.setup(b,c,g,j)}else{f[c]&&(h(b).descs[c]=null);m(b,c,d)}k&&j&&Ember.overrideChains(b,c,e);return this};Ember.create=function(a,b){var c=d(a,b);j in c&&Ember.generateGuid(c,"ember");k in c&&Ember.rewatch(c);return c};Ember.createPrototype=function(a,b){var c=d(a,b);h(c,true).proto=c;j in c&&Ember.generateGuid(c,"ember");k in c&&Ember.rewatch(c);
return c}})();(function(){function c(a,b){var c=g(a),e;(e=c.deps)?e.__emberproto__!==a&&(e=c.deps=d(e),e.__emberproto__=a):e=c.deps={__emberproto__:a};(c=e[b])?c.__emberproto__!==a&&(c=e[b]=d(c),c.__emberproto__=a):c=e[b]={__emberproto__:a};return c}function e(a,b,d){for(var g=(a=a._dependentKeys)?a.length:0,e=0;e<g;e++){var f=b,h=d,j=a[e],k=c(f,j);k[h]=(k[h]||0)+1;Ember.watch(f,j)}}function f(a,b){this.func=a;this._cacheable=b&&b.cacheable;this._dependentKeys=b&&b.dependentKeys}function b(a,b){var c=
b.func;return b._cacheable?function(){var b=g(this).cache;return a in b?b[a]:b[a]=c.call(this,a)}:function(){return c.call(this,a)}}function a(a,b){var c=b._cacheable,d=b.func;return function(e){var f=g(this,c),h=f.source===this&&0<f.watching[a],k;k=b._suspended;b._suspended=this;if(h=h&&f.lastSetValues[a]!==j(e))f.lastSetValues[a]=j(e),Ember.propertyWillChange(this,a);c&&delete f.cache[a];e=d.call(this,a,e);c&&(f.cache[a]=e);h&&Ember.propertyDidChange(this,a);b._suspended=k;return e}}var g=Ember.meta,
j=Ember.guidFor,k=Ember.USE_ACCESSORS,h=Array.prototype.slice,d=Ember.platform.create,m=Ember.platform.defineProperty;Ember.ComputedProperty=f;f.prototype=new Ember.Descriptor;var p={configurable:!0,enumerable:!0,get:function(){},set:Ember.Descriptor.MUST_USE_SETTER},o=f.prototype;o.cacheable=function(a){this._cacheable=!1!==a;return this};o.property=function(){this._dependentKeys=h.call(arguments);return this};o.meta=function(a){this._meta=a;return this};o.setup=function(c,d){p.get=b(d,this);p.set=
a(d,this);m(c,d,p);p.get=p.set=null;e(this,c,d)};o.teardown=function(a,b){for(var d=this._dependentKeys,e=d?d.length:0,f=0;f<e;f++){var h=a,j=b,k=d[f],m=c(h,k);m[j]=(m[j]||0)-1;Ember.unwatch(h,k)}this._cacheable&&delete g(a).cache[b];return null};o.didChange=function(a,b){this._cacheable&&this._suspended!==a&&delete g(a).cache[b]};o.get=function(a,b){var c;if(this._cacheable){c=g(a).cache;if(b in c)return c[b];c=c[b]=this.func.call(a,b)}else c=this.func.call(a,b);return c};o.set=function(a,b,c){var d=
this._cacheable,e=g(a,d),f=e.source===a&&0<e.watching[b],h;h=this._suspended;this._suspended=a;if(f=f&&e.lastSetValues[b]!==j(c))e.lastSetValues[b]=j(c),Ember.propertyWillChange(a,b);d&&delete e.cache[b];c=this.func.call(a,b,c);d&&(e.cache[b]=c);f&&Ember.propertyDidChange(a,b);this._suspended=h;return c};o.val=function(a,b){return g(a,!1).values[b]};Ember.platform.hasPropertyAccessors?k||(o.setup=function(a,b){m(a,b,p);e(this,a,b)}):o.setup=function(a,b){a[b]=void 0;e(this,a,b)};Ember.computed=function(a){var b;
if(arguments.length>1){b=h.call(arguments,0,-1);a=h.call(arguments,-1)[0]}var c=new f(a);b&&c.property.apply(c,b);return c};Ember.cacheFor=function(a,b){var c=g(a,false).cache;if(c&&c[b])return c[b]}})();(function(){var c=function(a){return a&&-1<Function.prototype.toString.call(a).indexOf("[native code]")},e=c(Array.prototype.map)?Array.prototype.map:function(a,b){if(void 0===this||null===this)throw new TypeError;var c=Object(this),e=c.length>>>0;if("function"!==typeof a)throw new TypeError;for(var f=
Array(e),d=0;d<e;d++)d in c&&(f[d]=a.call(b,c[d],d,c));return f},f=c(Array.prototype.forEach)?Array.prototype.forEach:function(a,b){if(void 0===this||null===this)throw new TypeError;var c=Object(this),e=c.length>>>0;if("function"!==typeof a)throw new TypeError;for(var f=0;f<e;f++)f in c&&a.call(b,c[f],f,c)},b=c(Array.prototype.indexOf)?Array.prototype.indexOf:function(a,b){null===b||void 0===b?b=0:0>b&&(b=Math.max(0,this.length+b));for(var c=b,e=this.length;c<e;c++)if(this[c]===a)return c;return-1};
Ember.ArrayUtils={map:function(a){var b=Array.prototype.slice.call(arguments,1);return a.map?a.map.apply(a,b):e.apply(a,b)},forEach:function(a){var b=Array.prototype.slice.call(arguments,1);return a.forEach?a.forEach.apply(a,b):f.apply(a,b)},indexOf:function(a){var c=Array.prototype.slice.call(arguments,1);return a.indexOf?a.indexOf.apply(a,c):b.apply(a,c)},indexesOf:function(a){var b=Array.prototype.slice.call(arguments,1);return void 0===b[0]?[]:Ember.ArrayUtils.map(b[0],function(b){return Ember.ArrayUtils.indexOf(a,
b)})},removeObject:function(a,b){var c=this.indexOf(a,b);-1!==c&&a.splice(c,1)}};if(Ember.SHIM_ES5&&(Array.prototype.map||(Array.prototype.map=e),Array.prototype.forEach||(Array.prototype.forEach=f),!Array.prototype.indexOf))Array.prototype.indexOf=b})();(function(){function c(a){return function(b,c,d){var g=d[0],d=d[1].slice(0,-7),e,f=a.slice();2<c.length&&(e=Ember.getPath(Ember.isGlobalPath(d)?window:g,d));f.unshift(g,d,e);c.apply(b,f)}}function e(a,b,c){var d=c[0],c=c[1].slice(0,-7),g;2<b.length&&
(g=Ember.getPath(d,c));b.call(a,d,c,g)}var f=Ember.normalizePath,b=0,a=Array.prototype.slice,g=function(){this.targetSet={}};g.prototype.add=function(a,b){var c=this.targetSet,d=Ember.guidFor(a),g=c[d];g||(c[d]=g={});return g[b]?!1:g[b]=!0};g.prototype.clear=function(){this.targetSet={}};var j=function(){this.targetSet={};this.queue=[]};j.prototype.push=function(a,b){var c=this.targetSet,d=this.queue,g=Ember.guidFor(a),e=c[g];e||(c[g]=e={});c=e[b];void 0===c?e[b]=d.push(Ember.deferEvent(a,b))-1:d[c]=
Ember.deferEvent(a,b)};j.prototype.flush=function(){var a=this.queue;this.queue=[];this.targetSet={};for(var b=0,c=a.length;b<c;++b)a[b]()};var k=new j,h=new g;Ember.beginPropertyChanges=function(){b++;return this};Ember.endPropertyChanges=function(){b--;0>=b&&(h.clear(),k.flush())};Ember.changeProperties=function(a,b){Ember.beginPropertyChanges();try{a.call(b)}finally{Ember.endPropertyChanges()}};Ember.setProperties=function(a,b){Ember.changeProperties(function(){for(var c in b)b.hasOwnProperty(c)&&
Ember.set(a,c,b[c])});return a};var d=c([]);Ember.addObserver=function(b,g,e,h){var g=f(g),j;4<arguments.length?(j=a.call(arguments,4),j=c(j)):j=d;Ember.addListener(b,g+":change",e,h,j);Ember.watch(b,g);return this};Ember.observersFor=function(a,b){return Ember.listenersFor(a,b+":change")};Ember.removeObserver=function(a,b,c,d){b=f(b);Ember.unwatch(a,b);Ember.removeListener(a,b+":change",c,d);return this};Ember.addBeforeObserver=function(a,b,c,d){b=f(b);Ember.addListener(a,b+":before",c,d,e);Ember.watch(a,
b);return this};Ember._suspendObserver=function(a,b,c,d,g){return Ember._suspendListener(a,b+":change",c,d,g)};Ember.beforeObserversFor=function(a,b){return Ember.listenersFor(a,b+":before")};Ember.removeBeforeObserver=function(a,b,c,d){b=f(b);Ember.unwatch(a,b);Ember.removeListener(a,b+":before",c,d);return this};Ember.notifyObservers=function(a,c){if(!a.isDestroying){var d=c+":change";b?k.push(a,d):Ember.sendEvent(a,d)}};Ember.notifyBeforeObservers=function(a,c){if(!a.isDestroying){var d=!1;if(b)if(h.add(a,
c))d=!0;else return;var g=c+":before";b&&!d?k.push(a,g):Ember.sendEvent(a,g)}}})();(function(){function c(a,b,c,d,g){var e=h(b);d[e]||(d[e]={});if(!d[e][c]&&(d[e][c]=!0,d=(d=g.deps)&&d[c]))for(var f in d)w[f]||a(b,f)}function e(a,b,c){if(a&&"object"===typeof a){var g=d(a),e=g.chainWatchers;if(!e||e.__emberproto__!==a)e=g.chainWatchers={__emberproto__:a};e[b]||(e[b]={});e[b][h(c)]=c;Ember.watch(a,b)}}function f(a,b,c){if(a&&"object"===typeof a){var g=d(a,!1).chainWatchers;g&&g.__emberproto__===a&&
(g[b]&&delete g[b][h(c)],Ember.unwatch(a,b))}}function b(a){if(0!==B.length){var c=B;B=[];t(c,function(a){a[0].add(a[1])});!1!==a&&0<B.length&&setTimeout(b,1)}}function a(a){var b=d(a),c=b.chains;c?c.value()!==a&&(c=b.chains=c.copy(a)):c=b.chains=new A(null,null,a);return c}function g(a,b,c,d,g){if((b=b.chainWatchers)&&b.__emberproto__===a)if(b=b[c])for(var e in b)if(b.hasOwnProperty(e))b[e][d](g)}function j(a,b){var e=d(a,!1),f=e.descs[b];if(e.proto!==a){f&&f.willChange&&f.willChange(a,b);if(!a.isDestroying){var f=
x,h=!f;h&&(f=x={});c(j,a,b,f,e);h&&(x=null)}g(a,e,b,"willChange");Ember.notifyBeforeObservers(a,b)}}function k(a,b){var e=d(a,!1),f=e.descs[b];if(e.proto!==a){f&&f.didChange&&f.didChange(a,b);if(!a.isDestroying){var f=r,h=!f;h&&(f=r={});c(k,a,b,f,e);h&&(r=null)}g(a,e,b,"didChange");Ember.notifyObservers(a,b)}}var h=Ember.guidFor,d=Ember.meta,m=Ember.get,p=Ember.normalizeTuple.primitive,o=Ember.normalizePath,q=Ember.SIMPLE_PROPERTY,s=Ember.GUID_KEY,u=Ember.META_KEY,t=Ember.ArrayUtils.forEach,v=/^([^\.\*]+)/,
z=/[\.\*]/,w={__emberproto__:!0},x,r,B=[],A=function(a,b,c,d){this._parent=a;this._key=b;this._watching=void 0===c;this._value=c;this._separator=d||".";this._paths={};this._watching&&(this._object=a.value())&&e(this._object,this._key,this);this._parent&&"@each"===this._parent._key&&this.value()},C=A.prototype;C.value=function(){if(void 0===this._value&&this._watching){var a=this._parent.value();this._value=a&&d(a,!1).proto!==a?m(a,this._key):void 0}return this._value};C.destroy=function(){if(this._watching){var a=
this._object;a&&f(a,this._key,this);this._watching=!1}};C.copy=function(a){var a=new A(null,null,a,this._separator),b=this._paths,c;for(c in b)0>=b[c]||a.add(c);return a};C.add=function(a){var b,c,d,g;c=this._paths;c[a]=(c[a]||0)+1;b=this.value();c=p(b,a);if(c[0]&&c[0]===b)a=c[1],b=a.match(v)[0],a=a.slice(b.length+1);else if(c[0])d=c[0],b=a.slice(0,0-(c[1].length+1)),g=a.slice(b.length,b.length+1),a=c[1];else{B.push([this,a]);c.length=0;return}c.length=0;this.chain(b,a,d,g)};C.remove=function(a){var b,
c;c=this._paths;0<c[a]&&c[a]--;b=this.value();c=p(b,a);c[0]===b?(a=c[1],b=a.match(v)[0],a=a.slice(b.length+1)):(b=a.slice(0,0-(c[1].length+1)),a=c[1]);c.length=0;this.unchain(b,a)};C.count=0;C.chain=function(a,b,c,d){var g=this._chains,e;g||(g=this._chains={});(e=g[a])||(e=g[a]=new A(this,a,c,d));e.count++;b&&0<b.length&&(a=b.match(v)[0],b=b.slice(a.length+1),e.chain(a,b))};C.unchain=function(a,b){var c=this._chains,d=c[a];b&&1<b.length&&(a=b.match(v)[0],b=b.slice(a.length+1),d.unchain(a,b));d.count--;
0>=d.count&&(delete c[d._key],d.destroy())};C.willChange=function(){var a=this._chains;if(a)for(var b in a)a.hasOwnProperty(b)&&a[b].willChange();this._parent&&this._parent.chainWillChange(this,this._key,1)};C.chainWillChange=function(a,b,c){this._key&&(b=this._key+this._separator+b);this._parent?this._parent.chainWillChange(this,b,c+1):(1<c&&Ember.propertyWillChange(this.value(),b),b="this."+b,0<this._paths[b]&&Ember.propertyWillChange(this.value(),b))};C.chainDidChange=function(a,b,c){this._key&&
(b=this._key+this._separator+b);this._parent?this._parent.chainDidChange(this,b,c+1):(1<c&&Ember.propertyDidChange(this.value(),b),b="this."+b,0<this._paths[b]&&Ember.propertyDidChange(this.value(),b))};C.didChange=function(a){if(this._watching){var b=this._parent.value();b!==this._object&&(f(this._object,this._key,this),this._object=b,e(b,this._key,this));this._value=void 0;this._parent&&"@each"===this._parent._key&&this.value()}if(b=this._chains)for(var c in b)b.hasOwnProperty(c)&&b[c].didChange(a);
a||this._parent&&this._parent.chainDidChange(this,this._key,1)};Ember.overrideChains=function(a,b,c){g(a,c,b,"didChange",!0)};var D=Ember.SIMPLE_PROPERTY.watched;Ember.watch=function(b,c){if("length"===c&&"array"===Ember.typeOf(b))return this;var g=d(b),e=g.watching,c=o(c);e[c]?e[c]=(e[c]||0)+1:(e[c]=1,"*"===c||!z.test(c)?(g=(g=g.descs[c])?g.watched:D)&&Ember.defineProperty(b,c,g):a(b).add(c));return this};Ember.isWatching=function(a,b){return!!d(a).watching[b]};Ember.watch.flushPending=b;Ember.unwatch=
function(b,c){if("length"===c&&"array"===Ember.typeOf(b))return this;var g=d(b).watching,c=o(c);1===g[c]?(g[c]=0,"*"===c||!z.test(c)?(g=(g=d(b).descs[c])?g.unwatched:q)&&Ember.defineProperty(b,c,g):a(b).remove(c)):1<g[c]&&g[c]--;return this};Ember.rewatch=function(b){var c=d(b,!1),g=c.chains,e=c.bindings,f;s in b&&!b.hasOwnProperty(s)&&Ember.generateGuid(b,"ember");g&&g.value()!==b&&a(b);if(e&&c.proto!==b)for(f in e)(c=!w[f]&&b[f])&&c instanceof Ember.Binding&&c.fromDidChange(b);return this};Ember.propertyWillChange=
j;Ember.propertyDidChange=k;var F=[];Ember.destroy=function(a){var b=a[u],c;if(b&&(a[u]=null,a=b.chains))for(F.push(a);0<F.length;){a=F.pop();if(b=a._chains)for(c in b)b.hasOwnProperty(c)&&F.push(b[c]);a._watching&&(b=a._object)&&f(b,a._key,a)}}})();(function(){function c(a,b,c,e){c=g(c);return k(a,["listeners",b,c],e)}function e(b,c){var g=a(b,!1).listeners;return!g?!1:g[c]||!1}function f(a,b,c){if(!a)return!1;for(var g in a)if(!h[g]){var e=a[g];if(e)for(var f in e)if(!h[f]){var j=e[f];if(j&&!0===
b(j,c))return!0}}return!1}function b(a,b){var c=a.method,g=a.target,e=a.xform;g||(g=b[0]);"string"===typeof c&&(c=g[c]);e?e(g,c,b):c.apply(g,b)}var a=Ember.meta,g=Ember.guidFor,j=Array.prototype.slice,k=Ember.metaPath,h={__ember_source__:!0};Ember.addListener=function(a,b,e,f,h){ember_assert("You must pass at least an object and event name to Ember.addListener",!!a&&!!b);!f&&"function"===typeof e&&(f=e,e=null);var j=c(a,b,e,!0),k=g(f);j[k]?j[k].xform=h:j[k]={target:e,method:f,xform:h};"function"===
typeof a.didAddListener&&a.didAddListener(b,e,f)};Ember.removeListener=function(a,b,e,f){!f&&"function"===typeof e&&(f=e,e=null);var h=c(a,b,e,!0),j=g(f);h&&h[j]&&(h[j]=null);a&&"function"===typeof a.didRemoveListener&&a.didRemoveListener(b,e,f)};Ember._suspendListener=function(a,b,e,f,h){!f&&"function"===typeof e&&(f=e,e=null);a=c(a,b,e,!0);f=g(f);b=a&&a[f];a[f]=null;try{return h.call(e)}finally{a[f]=b}};Ember.sendEvent=function(a,c){a!==Ember&&"function"===typeof a.sendEvent&&a.sendEvent.apply(a,
j.call(arguments,1));var g=e(a,c);f(g,b,arguments);return!0};Ember.hasListeners=function(a,b){var c=e(a,b);if(f(c,function(){return!0}))return!0;k(a,["listeners"],!0)[b]=null;return!1};Ember.watchedEvents=function(b){var b=a(b,!1).listeners,c=[];if(b)for(var g in b)!h[g]&&b[g]&&c.push(g);return c};Ember.listenersFor=function(a,b){var c=e(a,b),g=[];f(c,function(a){g.push([a.target,a.method])});return g};Ember.deferEvent=function(a,c){var g=e(a,c),h=[],k=arguments;f(g,function(a){h.push(a)});return function(){a!==
Ember&&"function"===typeof a.sendEvent&&a.sendEvent.apply(a,j.call(k,1));for(var c=0,g=h.length;c<g;++c)b(h[c],k)}}})();(function(){function c(a,b){var c=Ember.meta(a,!1!==b),d=c.mixins;if(!1===b)return d||w;d?d.__emberproto__!==a&&(d=c.mixins=r(d),d.__emberproto__=a):d=c.mixins={__emberproto__:a};return d}function e(a,b){b&&0<b.length&&(a.mixins=u(b,function(a){if(a instanceof d)return a;var b=new d;b.properties=a;return b}));return a}function f(a,b,c,g,e){function h(a){delete c[a];delete g[a]}var j=
a.length,k,m,o,q,r,s;for(k=0;k<j;k++){m=a[k];if(!m)throw Error("Null value found in Ember.mixin()");if(m instanceof d){o=Ember.guidFor(m);if(b[o])continue;b[o]=m;o=m.properties}else o=m;if(o){s=g.concatenatedProperties||e.concatenatedProperties;o.concatenatedProperties&&(s=s?s.concat(o.concatenatedProperties):o.concatenatedProperties);for(q in o)if(o.hasOwnProperty(q))if(m=o[q],m instanceof Ember.Descriptor)m===p&&c[q]||(c[q]=m,g[q]=void 0);else{r="function"!==typeof m||!1===m.isMethod?!1:0>t(B,m);
if(r){if((r=c[q]===Ember.SIMPLE_PROPERTY&&g[q])||(r=e[q]),"function"!==typeof r&&(r=null),r){var u=m.__ember_observes__,A=m.__ember_observesBefore__;m=Ember.wrap(m,r);m.__ember_observes__=u;m.__ember_observesBefore__=A}}else if(s&&0<=t(s,q)||"concatenatedProperties"===q)m=(r=g[q]||e[q])?r.concat(m):Ember.makeArray(m);c[q]=Ember.SIMPLE_PROPERTY;g[q]=m}o.hasOwnProperty("toString")&&(e.toString=o.toString)}else m.mixins&&(f(m.mixins,b,c,g,e),m._without&&v(m._without,h))}}function b(a){var b=Ember.meta(a),
c=b.required;if(!c||c.__emberproto__!==a)c=b.required=c?r(c):{__ember_count__:0},c.__emberproto__=a;return c}function a(a,d,g){var e={},h={},j=Ember.meta(a),k=j.required,t,q,r,n,s=Ember._mixinBindings;f(d,c(a),e,h,a);m.detect(a)&&(q=h.willApplyProperty||a.willApplyProperty,r=h.didApplyProperty||a.didApplyProperty);for(t in e)if(e.hasOwnProperty(t))if(n=e[t],d=h[t],n===p){if(!(t in a)){if(!g)throw Error("Required property not defined: "+t);k=b(a);k.__ember_count__++;k[t]=!0}}else{for(;n instanceof
o;){var v=n.methodName;e[v]?(d=h[v],n=e[v]):j.descs[v]?(n=j.descs[v],d=n.val(a,v)):(d=a[v],n=Ember.SIMPLE_PROPERTY)}q&&q.call(a,t);var u=(v="function"===typeof d&&d.__ember_observes__)&&"function"===typeof a[t]&&a[t].__ember_observes__,z="function"===typeof d&&d.__ember_observesBefore__,B=z&&"function"===typeof a[t]&&a[t].__ember_observesBefore__,w,C;if(u){w=u.length;for(C=0;C<w;C++)Ember.removeObserver(a,u[C],null,t)}if(B){w=B.length;for(C=0;C<w;C++)Ember.removeBeforeObserver(a,B[C],null,t)}d=s(a,
t,d,j);A(a,t,n,d);if(v){w=v.length;for(C=0;C<w;C++)Ember.addObserver(a,v[C],null,t)}if(z){w=z.length;for(C=0;C<w;C++)Ember.addBeforeObserver(a,z[C],null,t)}k&&k[t]&&(k=b(a),k.__ember_count__--,k[t]=!1);r&&r.call(a,t)}if(!g&&k&&0<k.__ember_count__){a=[];for(t in k)x[t]||a.push(t);throw Error("Required properties not defined: "+a.join(","));}return a}function g(a,b,c){var d=Ember.guidFor(a);if(c[d])return!1;c[d]=!0;if(a===b)return!0;for(d=(a=a.mixins)?a.length:0;0<=--d;)if(g(a[d],b,c))return!0;return!1}
function j(a,b,c){if(!c[Ember.guidFor(b)])if(c[Ember.guidFor(b)]=!0,b.properties){var b=b.properties,d;for(d in b)b.hasOwnProperty(d)&&(a[d]=!0)}else b.mixins&&v(b.mixins,function(b){j(a,b,c)})}function k(a,b,c){var d=a.length,g;for(g in b)if(b.hasOwnProperty&&b.hasOwnProperty(g)){var e=b[g];a[d]=g;e&&e.toString===q?e[D]=a.join("."):e&&F(e,"isNamespace")&&!c[Ember.guidFor(e)]&&(c[Ember.guidFor(e)]=!0,k(a,e,c))}a.length=d}function h(){var a;if(!Ember.Namespace.PROCESSED)for(var b in window)if(!("globalStorage"===
b&&window.StorageList&&window.globalStorage instanceof window.StorageList)&&(!window.hasOwnProperty||window.hasOwnProperty(b))){try{a=window[b]}catch(c){continue}a&&F(a,"isNamespace")&&(ember_deprecate("Namespaces should not begin with lowercase.",/^[A-Z]/.test(b)),a[D]=b)}}var d,m,p,o,q,s,u=Ember.ArrayUtils.map,t=Ember.ArrayUtils.indexOf,v=Ember.ArrayUtils.forEach,z=Array.prototype.slice,w={},x={__emberproto__:!0,__ember_count__:!0},r=Ember.platform.create,B=[Boolean,Object,Number,Array,Date,String],
A=Ember.defineProperty;Ember._mixinBindings=function(a,b,c){return c};Ember.mixin=function(b){var c=z.call(arguments,1);return a(b,c,!1)};Ember.Mixin=function(){return e(this,arguments)};d=Ember.Mixin;d._apply=a;d.applyPartial=function(b){var c=z.call(arguments,1);return a(b,c,!0)};d.create=function(){q.processed=!1;return e(new this,arguments)};d.prototype.reopen=function(){var a,b;this.properties&&(a=d.create(),a.properties=this.properties,delete this.properties,this.mixins=[a]);var c=arguments.length,
g=this.mixins,e;for(e=0;e<c;e++)a=arguments[e],a instanceof d?g.push(a):(b=d.create(),b.properties=a,g.push(b));return this};var C=[];d.prototype.apply=function(b){C[0]=this;b=a(b,C,!1);C.length=0;return b};d.prototype.applyPartial=function(b){C[0]=this;b=a(b,C,!0);C.length=0;return b};d.prototype.detect=function(a){return!a?!1:a instanceof d?g(a,this,{}):!!c(a,!1)[Ember.guidFor(this)]};d.prototype.without=function(){var a=new d(this);a._without=z.call(arguments);return a};d.prototype.keys=function(){var a=
{},b=[];j(a,this,{});for(var c in a)a.hasOwnProperty(c)&&b.push(c);return b};var D=Ember.GUID_KEY+"_name",F=Ember.get;Ember.identifyNamespaces=h;s=function(a){if(a=a.superclass)return a[D]?a[D]:s(a)};q=function(){var a=Ember.Namespace;if(a&&!this[D]&&!q.processed){a.PROCESSED||(h(),a.PROCESSED=!0);q.processed=!0;for(var b=a.NAMESPACES,c=0,d=b.length;c<d;c++)a=b[c],k([a.toString()],a,{})}return this[D]?this[D]:(a=s(this))?"(subclass of "+a+")":"(unknown mixin)"};d.prototype.toString=q;d.mixins=function(a){var b=
[],a=c(a,!1),d,g;for(d in a)x[d]||(g=a[d],g.properties||b.push(a[d]));return b};p=new Ember.Descriptor;p.toString=function(){return"(Required Property)"};Ember.required=function(){return p};o=function(a){this.methodName=a};o.prototype=new Ember.Descriptor;Ember.alias=function(a){return new o(a)};Ember.MixinDelegate=d.create({willApplyProperty:Ember.required(),didApplyProperty:Ember.required()});m=Ember.MixinDelegate;Ember.observer=function(a){var b=z.call(arguments,1);a.__ember_observes__=b;return a};
Ember.beforeObserver=function(a){var b=z.call(arguments,1);a.__ember_observesBefore__=b;return a}})();(function(){function c(a,b,c,d){void 0===b&&(b=a,a=void 0);"string"===typeof b&&(b=a[b]);c&&0<d&&(c=c.length>d?g.call(c,d):null);if("function"===typeof Ember.onerror)try{return b.apply(a||this,c||[])}catch(e){Ember.onerror(e)}else return b.apply(a||this,c||[])}function e(){m=null;d.currentRunLoop&&d.end()}function f(){var a=+new Date,b=-1,d;for(d in p)if(p.hasOwnProperty(d)){var g=p[d];if(g&&g.expires)if(a>=
g.expires)delete p[d],c(g.target,g.method,g.args,2);else if(0>b||g.expires<b)b=g.expires}0<b&&setTimeout(f,b-+new Date)}function b(a,b){b[this.tguid]&&delete b[this.tguid][this.mguid];p[a]&&c(this.target,this.method,this.args,2);delete p[a]}function a(){o=null;for(var a in p)if(p.hasOwnProperty(a)){var b=p[a];b.next&&(delete p[a],c(b.target,b.method,b.args,2))}}var g=Array.prototype.slice,j=Ember.ArrayUtils.forEach,k=function(){},h=function(a){var b;b=this instanceof h?this:new k;b._prev=a||null;
b.onceTimers={};return b};k.prototype=h.prototype;h.prototype={end:function(){this.flush()},prev:function(){return this._prev},schedule:function(a,b,c){var d=this._queues,e;d||(d=this._queues={});(e=d[a])||(e=d[a]=[]);d=3<arguments.length?g.call(arguments,3):null;e.push({target:b,method:c,args:d});return this},flush:function(a){function b(a){c(a.target,a.method,a.args)}var d=this._queues,g,e,f,h,k;if(!d)return this;Ember.watch.flushPending();if(a)for(;this._queues&&(h=this._queues[a]);)if(this._queues[a]=
null,"sync"===a){(k=Ember.LOG_BINDINGS)&&Ember.Logger.log("Begin: Flush Sync Queue");Ember.beginPropertyChanges();try{j(h,b)}finally{Ember.endPropertyChanges()}k&&Ember.Logger.log("End: Flush Sync Queue")}else j(h,b);else{g=Ember.run.queues;f=g.length;do{this._queues=null;for(e=0;e<f;e++)if(a=g[e],h=d[a])if("sync"===a){(k=Ember.LOG_BINDINGS)&&Ember.Logger.log("Begin: Flush Sync Queue");Ember.beginPropertyChanges();try{j(h,b)}finally{Ember.endPropertyChanges()}k&&Ember.Logger.log("End: Flush Sync Queue")}else j(h,
b)}while(d=this._queues)}return this}};Ember.RunLoop=h;Ember.run=function(a,b){var g;d.begin();try{if(a||b)g=c(a,b,arguments,2)}finally{d.end()}return g};var d=Ember.run;Ember.run.begin=function(){d.currentRunLoop=new h(d.currentRunLoop)};Ember.run.end=function(){ember_assert("must have a current run loop",d.currentRunLoop);try{d.currentRunLoop.end()}finally{d.currentRunLoop=d.currentRunLoop.prev()}};Ember.run.queues=["sync","actions","destroy","timers"];Ember.run.schedule=function(a,b,c){var g=d.autorun();
g.schedule.apply(g,arguments)};var m;Ember.run.autorun=function(){d.currentRunLoop||(d.begin(),Ember.testing?d.end():m||(m=setTimeout(e,1)));return d.currentRunLoop};Ember.run.sync=function(){d.autorun();d.currentRunLoop.flush("sync")};var p={};Ember.run.later=function(a,b){var c,e;2===arguments.length&&"function"===typeof a?(e=b,b=a,a=void 0,c=[a,b]):(c=g.call(arguments),e=c.pop());c={target:a,method:b,expires:+new Date+e,args:c};e=Ember.guidFor(c);p[e]=c;d.once(p,f);return e};Ember.run.once=function(a,
c){var e=Ember.guidFor(a),f=Ember.guidFor(c),h,j,k=d.autorun().onceTimers;(h=k[e]&&k[e][f])&&p[h]?p[h].args=g.call(arguments):(j={target:a,method:c,args:g.call(arguments),tguid:e,mguid:f},h=Ember.guidFor(j),p[h]=j,k[e]||(k[e]={}),k[e][f]=h,d.schedule("actions",j,b,h,k));return h};var o=!1;Ember.run.next=function(b,c){var d,e;d={target:b,method:c,args:g.call(arguments),next:!0};e=Ember.guidFor(d);p[e]=d;o||(o=setTimeout(a,1));return e};Ember.run.cancel=function(a){delete p[a]};Ember.RunLoop.begin=
ember_deprecateFunc("Use Ember.run.begin instead of Ember.RunLoop.begin.",Ember.run.begin);Ember.RunLoop.end=ember_deprecateFunc("Use Ember.run.end instead of Ember.RunLoop.end.",Ember.run.end)})();(function(){function c(a){return a instanceof Array?a:void 0===a||null===a?[]:[a]}function e(a,b){return a instanceof Array?1<a.length?b:a[0]:a}function f(a,b,c,d){var g=a._typeTransform;g&&(b=g(b,a._placeholder));var g=(a=a._transforms)?a.length:0,e;for(e=0;e<g;e++){var f=a[e][d];f&&(b=f.call(this,b,c))}return b}
function b(a,b){return d(p(b)?window:a,b)}function a(a,c){var d=c._operation,d=d?d(a,c._from,c._operand):b(a,c._from);return f(c,d,a,"to")}function g(a,b){var c=d(a,b._to);return f(b,c,a,"from")}Ember.LOG_BINDINGS=!!Ember.ENV.LOG_BINDINGS;Ember.BENCHMARK_BINDING_NOTIFICATIONS=!!Ember.ENV.BENCHMARK_BINDING_NOTIFICATIONS;Ember.BENCHMARK_BINDING_SETUP=!!Ember.ENV.BENCHMARK_BINDING_SETUP;Ember.MULTIPLE_PLACEHOLDER="@@MULT@@";Ember.EMPTY_PLACEHOLDER="@@EMPTY@@";var j={to:function(a){return!!a}},k={to:function(a){return!a}},
h=Ember.get,d=Ember.getPath,m=Ember.guidFor,p=Ember.isGlobalPath,o=function(a,c,d){return b(a,c)&&b(a,d)},q=function(a,c,d){return b(a,c)||b(a,d)},s=function(){},u=function(a,b){var c;c=this instanceof u?this:new s;c._direction="fwd";c._from=b;c._to=a;return c};s.prototype=u.prototype;u.prototype={from:function(a){this._from=a;return this},to:function(a){this._to=a;return this},oneWay:function(a){this._oneWay=void 0===a?!0:!!a;return this},transform:function(a){"function"===typeof a&&(a={to:a});this._transforms||
(this._transforms=[]);this._transforms.push(a);return this},resetTransforms:function(){this._transforms=null;return this},single:function(a){void 0===a&&(a=Ember.MULTIPLE_PLACEHOLDER);this._typeTransform=e;this._placeholder=a;return this},multiple:function(){this._typeTransform=c;this._placeholder=null;return this},bool:function(){this.transform(j);return this},notEmpty:function(a){if(null===a||void 0===a)a=Ember.EMPTY_PLACEHOLDER;this.transform({to:function(b){return void 0===b||null===b||""===b||
Ember.isArray(b)&&0===h(b,"length")?a:b}});return this},notNull:function(a){if(null===a||void 0===a)a=Ember.EMPTY_PLACEHOLDER;this.transform({to:function(b){return null===b||void 0===b?a:b}});return this},not:function(){this.transform(k);return this},isNull:function(){this.transform(function(a){return null===a||void 0===a});return this},toString:function(){var a=this._oneWay?"[oneWay]":"";return"Ember.Binding<"+m(this)+">("+this._from+" -> "+this._to+")"+a},connect:function(a){ember_assert("Must pass a valid object to Ember.Binding.connect()",
!!a);var b=this._oneWay,c=this._operand;Ember.addObserver(a,this._from,this,this.fromDidChange);c&&Ember.addObserver(a,c,this,this.fromDidChange);b||Ember.addObserver(a,this._to,this,this.toDidChange);Ember.meta(a,!1).proto!==a&&this._scheduleSync(a,"fwd");this._readyToSync=!0;return this},disconnect:function(a){ember_assert("Must pass a valid object to Ember.Binding.disconnect()",!!a);var b=this._oneWay,c=this._operand;Ember.removeObserver(a,this._from,this,this.fromDidChange);c&&Ember.removeObserver(a,
c,this,this.fromDidChange);b||Ember.removeObserver(a,this._to,this,this.toDidChange);this._readyToSync=!1;return this},fromDidChange:function(a){this._scheduleSync(a,"fwd")},toDidChange:function(a){this._scheduleSync(a,"back")},_scheduleSync:function(a,b){var c=m(a),d=this[c];d||(Ember.run.schedule("sync",this,this._sync,a),this[c]=b);"back"===d&&"fwd"===b&&(this[c]="fwd")},_sync:function(b){var c=Ember.LOG_BINDINGS;if(!b.isDestroyed&&this._readyToSync){var d=m(b),e=this[d],f=this._from,h=this._to;
delete this[d];if("fwd"===e){var j=a(b,this);c&&Ember.Logger.log(" ",this.toString(),"->",j,b);this._oneWay?Ember.trySetPath(Ember.isGlobalPath(h)?window:b,h,j):Ember._suspendObserver(b,h,this,this.toDidChange,function(){Ember.trySetPath(Ember.isGlobalPath(h)?window:b,h,j)})}else if("back"===e){var k=g(b,this);c&&Ember.Logger.log(" ",this.toString(),"<-",k,b);Ember._suspendObserver(b,f,this,this.fromDidChange,function(){Ember.trySetPath(Ember.isGlobalPath(f)?window:b,f,k)})}}}};(function(a,b){for(var c in b)b.hasOwnProperty(c)&&
(a[c]=b[c])})(u,{from:function(){var a=new this;return a.from.apply(a,arguments)},to:function(){var a=new this;return a.to.apply(a,arguments)},oneWay:function(a,b){return(new this(null,a)).oneWay(b)},single:function(a,b){return(new this(null,a)).single(b)},multiple:function(a){return(new this(null,a)).multiple()},transform:function(a,b){b||(b=a,a=null);return(new this(null,a)).transform(b)},notEmpty:function(a,b){return(new this(null,a)).notEmpty(b)},notNull:function(a,b){return(new this(null,a)).notNull(b)},
bool:function(a){return(new this(null,a)).bool()},not:function(a){return(new this(null,a)).not()},isNull:function(a){return(new this(null,a)).isNull()},and:function(a,b){var c=(new this(null,a)).oneWay();c._operand=b;c._operation=o;return c},or:function(a,b){var c=(new this(null,a)).oneWay();c._operand=b;c._operation=q;return c}});Ember.Binding=u;Ember.bind=function(a,b,c){return(new Ember.Binding(b,c)).connect(a)};Ember.oneWay=function(a,b,c){return(new Ember.Binding(b,c)).oneWay().connect(a)}})();
(function(){function c(a,b,f,k){var h,d,m;if("object"!==typeof a||null===a)return a;if(b&&0<=(d=e(f,a)))return k[d];ember_assert("Cannot clone an Ember.Object that does not implement Ember.Copyable",!(a instanceof Ember.Object)||Ember.Copyable&&Ember.Copyable.detect(a));if("array"===Ember.typeOf(a)){if(h=a.slice(),b)for(d=h.length;0<=--d;)h[d]=c(h[d],b,f,k)}else if(Ember.Copyable&&Ember.Copyable.detect(a))h=a.copy(b,f,k);else for(m in h={},a)a.hasOwnProperty(m)&&(h[m]=b?c(a[m],b,f,k):a[m]);b&&(f.push(a),
k.push(h));return h}var e=Ember.ArrayUtils.indexOf;"undefined"===typeof console&&(window.console={},console.log=console.info=console.warn=console.error=function(){});var f={};Ember.ArrayUtils.forEach("Boolean Number String Function Array Date RegExp Object".split(" "),function(a){f["[object "+a+"]"]=a.toLowerCase()});var b=Object.prototype.toString;Ember.typeOf=function(a){var c;c=a===null||a===void 0?""+a:f[b.call(a)]||"object";c==="function"?Ember.Object&&Ember.Object.detect(a)&&(c="class"):c===
"object"&&(c=a instanceof Error?"error":Ember.Object&&a instanceof Ember.Object?"instance":"object");return c};Ember.none=function(a){return a===null||a===void 0};Ember.empty=function(a){return a===null||a===void 0||a.length===0&&typeof a!=="function"};Ember.compare=function g(b,c){if(b===c)return 0;var e=Ember.typeOf(b),d=Ember.typeOf(c),f=Ember.Comparable;if(f){if(e==="instance"&&f.detect(b.constructor))return b.constructor.compare(b,c);if(d==="instance"&&f.detect(c.constructor))return 1-c.constructor.compare(c,
b)}f=Ember.ORDER_DEFINITION_MAPPING;if(!f){var p=Ember.ORDER_DEFINITION,f=Ember.ORDER_DEFINITION_MAPPING={},o,q;o=0;for(q=p.length;o<q;++o)f[p[o]]=o;delete Ember.ORDER_DEFINITION}p=f[e];d=f[d];if(p<d)return-1;if(p>d)return 1;switch(e){case "boolean":case "number":return b<c?-1:b>c?1:0;case "string":e=b.localeCompare(c);return e<0?-1:e>0?1:0;case "array":e=b.length;d=c.length;f=Math.min(e,d);for(o=p=0;p===0&&o<f;){p=g(b[o],c[o]);o++}return p!==0?p:e<d?-1:e>d?1:0;case "instance":return Ember.Comparable&&
Ember.Comparable.detect(b)?b.compare(b,c):0;default:return 0}};Ember.copy=function(b,e){return"object"!==typeof b||b===null?b:Ember.Copyable&&Ember.Copyable.detect(b)?b.copy(e):c(b,e,e?[]:null,e?[]:null)};Ember.inspect=function(b){var c,e=[],f;for(f in b)if(b.hasOwnProperty(f)){c=b[f];if(c!=="toString"){Ember.typeOf(c)==="function"&&(c="function() { ... }");e.push(f+": "+c)}}return"{"+e.join(" , ")+"}"};Ember.isEqual=function(b,c){return b&&"function"===typeof b.isEqual?b.isEqual(c):b===c};Ember.ORDER_DEFINITION=
Ember.ENV.ORDER_DEFINITION||"undefined null boolean number string array object instance function class".split(" ");Ember.keys=Object.keys;Ember.keys||(Ember.keys=function(b){var c=[],e;for(e in b)b.hasOwnProperty(e)&&c.push(e);return c});Ember.Error=function(){var b=Error.prototype.constructor.apply(this,arguments),c;for(c in b)b.hasOwnProperty(c)&&(this[c]=b[c]);this.message=b.message};Ember.Error.prototype=Ember.create(Error.prototype)})();(function(){var c=/[ _]/g,e={},f=/([a-z])([A-Z])/g,b=/(\-|_|\s)+(.)?/g,
a=/([a-z\d])([A-Z]+)/g,g=/\-|\s+/g;Ember.STRINGS={};Ember.String={fmt:function(a,b){var c=0;return a.replace(/%@([0-9]+)?/g,function(a,g){g=g?parseInt(g,0)-1:c++;a=b[g];return(null===a?"(null)":void 0===a?"":a).toString()})},loc:function(a,b){a=Ember.STRINGS[a]||a;return Ember.String.fmt(a,b)},w:function(a){return a.split(/\s+/)},decamelize:function(a){return a.replace(f,"$1_$2").toLowerCase()},dasherize:function(a){var b=e[a];b||(b=Ember.String.decamelize(a).replace(c,"-"),e[a]=b);return b},camelize:function(a){return a.replace(b,
function(a,b,c){return c?c.toUpperCase():""})},underscore:function(b){return b.replace(a,"$1_$2").replace(g,"_").toLowerCase()}}})();(function(){var c=Ember.String.fmt,e=Ember.String.w,f=Ember.String.loc,b=Ember.String.camelize,a=Ember.String.decamelize,g=Ember.String.dasherize,j=Ember.String.underscore;Ember.EXTEND_PROTOTYPES&&(String.prototype.fmt=function(){return c(this,arguments)},String.prototype.w=function(){return e(this)},String.prototype.loc=function(){return f(this,arguments)},String.prototype.camelize=
function(){return b(this)},String.prototype.decamelize=function(){return a(this)},String.prototype.dasherize=function(){return g(this)},String.prototype.underscore=function(){return j(this)})})();(function(){var c=Array.prototype.slice;Ember.EXTEND_PROTOTYPES&&(Function.prototype.property=function(){var c=Ember.computed(this);return c.property.apply(c,arguments)},Function.prototype.observes=function(){this.__ember_observes__=c.call(arguments);return this},Function.prototype.observesBefore=function(){this.__ember_observesBefore__=
c.call(arguments);return this})})();(function(){var c=Ember.IS_BINDING=/^.+Binding$/;Ember._mixinBindings=function(e,f,b,a){if(c.test(f)){b instanceof Ember.Binding?b.to(f.slice(0,-7)):b=new Ember.Binding(f.slice(0,-7),b);b.connect(e);var g=a.bindings;g?g.__emberproto__!==e&&(g=a.bindings=Ember.create(a.bindings),g.__emberproto__=e):g=a.bindings={__emberproto__:e};g[f]=!0}return b}})();(function(){function c(){return 0===h.length?{}:h.pop()}function e(a){h.push(a);return null}function f(b,c){var g=
2===arguments.length;return function(e){e=a(e,b);return g?c===e:!!e}}function b(a,b,c){b.call(a,c[0],c[2],c[3])}var a=Ember.get,g=Ember.set,j=Array.prototype.slice,k=Ember.ArrayUtils.indexOf,h=[];Ember.Enumerable=Ember.Mixin.create({isEnumerable:!0,nextObject:Ember.required(Function),firstObject:Ember.computed(function(){if(0!==a(this,"length")){if(Ember.Array&&Ember.Array.detect(this))return this.objectAt(0);var b=c(),g;g=this.nextObject(0,null,b);e(b);return g}}).property(),lastObject:Ember.computed(function(){var b=
a(this,"length");if(0!==b){if(Ember.Array&&Ember.Array.detect(this))return this.objectAt(b-1);var b=c(),g=0,f,h=null;do h=f,f=this.nextObject(g++,h,b);while(void 0!==f);e(b);return h}}).property(),contains:function(a){return void 0!==this.find(function(b){return b===a})},forEach:function(b,g){if("function"!==typeof b)throw new TypeError;var f=a(this,"length"),h=null,j=c();void 0===g&&(g=null);for(var k=0;k<f;k++)h=this.nextObject(k,h,j),b.call(g,h,k,this);e(j);return this},getEach:function(a){return this.mapProperty(a)},
setEach:function(a,b){return this.forEach(function(c){g(c,a,b)})},map:function(a,b){var c=[];this.forEach(function(g,e,f){c[e]=a.call(b,g,e,f)});return c},mapProperty:function(b){return this.map(function(c){return a(c,b)})},filter:function(a,b){var c=[];this.forEach(function(g,e,f){a.call(b,g,e,f)&&c.push(g)});return c},filterProperty:function(a,b){return this.filter(f.apply(this,arguments))},find:function(b,g){var f=a(this,"length");void 0===g&&(g=null);for(var h=null,j=!1,k,u=c(),t=0;t<f&&!j;t++)if(h=
this.nextObject(t,h,u),j=b.call(g,h,t,this))k=h;e(u);return k},findProperty:function(a,b){return this.find(f.apply(this,arguments))},every:function(a,b){return!this.find(function(c,g,e){return!a.call(b,c,g,e)})},everyProperty:function(a,b){return this.every(f.apply(this,arguments))},some:function(a,b){return!!this.find(function(c,g,e){return!!a.call(b,c,g,e)})},someProperty:function(a,b){return this.some(f.apply(this,arguments))},reduce:function(a,b,c){if("function"!==typeof a)throw new TypeError;
var g=b;this.forEach(function(b,e){g=a.call(null,g,b,e,this,c)},this);return g},invoke:function(a){var b,c=[];1<arguments.length&&(b=j.call(arguments,1));this.forEach(function(g,e){var f=g&&g[a];"function"===typeof f&&(c[e]=b?f.apply(g,b):f.call(g))},this);return c},toArray:function(){var a=[];this.forEach(function(b,c){a[c]=b});return a},compact:function(){return this.without(null)},without:function(a){if(!this.contains(a))return this;var b=[];this.forEach(function(c){c!==a&&(b[b.length]=c)});return b},
uniq:function(){var a=[];this.forEach(function(b){0>k(a,b)&&a.push(b)});return a},"[]":Ember.computed(function(){return this}).property().cacheable(),addEnumerableObserver:function(c,g){var e=g&&g.willChange||"enumerableWillChange",f=g&&g.didChange||"enumerableDidChange",h=a(this,"hasEnumerableObservers");h||Ember.propertyWillChange(this,"hasEnumerableObservers");Ember.addListener(this,"@enumerable:before",c,e,b);Ember.addListener(this,"@enumerable:change",c,f,b);h||Ember.propertyDidChange(this,"hasEnumerableObservers");
return this},removeEnumerableObserver:function(b,c){var g=c&&c.willChange||"enumerableWillChange",e=c&&c.didChange||"enumerableDidChange",f=a(this,"hasEnumerableObservers");f&&Ember.propertyWillChange(this,"hasEnumerableObservers");Ember.removeListener(this,"@enumerable:before",b,g);Ember.removeListener(this,"@enumerable:change",b,e);f&&Ember.propertyDidChange(this,"hasEnumerableObservers");return this},hasEnumerableObservers:Ember.computed(function(){return Ember.hasListeners(this,"@enumerable:change")||
Ember.hasListeners(this,"@enumerable:before")}).property().cacheable(),enumerableContentWillChange:function(b,c){var g,e;g="number"===typeof b?b:b?a(b,"length"):b=-1;e="number"===typeof c?c:c?a(c,"length"):c=-1;-1===b&&(b=null);-1===c&&(c=null);(0>e||0>g||0!==e-g)&&Ember.propertyWillChange(this,"length");Ember.sendEvent(this,"@enumerable:before",b,c);return this},enumerableContentDidChange:function(b,c){var g,e;g="number"===typeof b?b:b?a(b,"length"):b=-1;e="number"===typeof c?c:c?a(c,"length"):c=
-1;g=0>e||0>g||0!==e-g;-1===b&&(b=null);-1===c&&(c=null);Ember.sendEvent(this,"@enumerable:change",b,c);g&&Ember.propertyDidChange(this,"length");return this}})})();(function(){function c(b,a,c){a.call(b,c[0],c[2],c[3],c[4])}var e=Ember.get,f=Ember.ArrayUtils.map;Ember.Array=Ember.Mixin.create(Ember.Enumerable,{isSCArray:!0,length:Ember.required(),objectAt:function(b){return 0>b||b>=e(this,"length")?void 0:e(this,b)},objectsAt:function(b){var a=this;return f(b,function(b){return a.objectAt(b)})},
nextObject:function(b){return this.objectAt(b)},"[]":Ember.computed(function(b,a){void 0!==a&&this.replace(0,e(this,"length"),a);return this}).property().cacheable(),contains:function(b){return 0<=this.indexOf(b)},slice:function(b,a){var c=[],f=e(this,"length");if(null===b||void 0===b)b=0;if(null===a||void 0===a||a>f)a=f;for(;b<a;)c[c.length]=this.objectAt(b++);return c},indexOf:function(b,a){var c,f=e(this,"length");void 0===a&&(a=0);0>a&&(a+=f);for(c=a;c<f;c++)if(this.objectAt(c,!0)===b)return c;
return-1},lastIndexOf:function(b,a){var c;c=e(this,"length");if(void 0===a||a>=c)a=c-1;0>a&&(a+=c);for(c=a;0<=c;c--)if(this.objectAt(c)===b)return c;return-1},addArrayObserver:function(b,a){var g=a&&a.willChange||"arrayWillChange",f=a&&a.didChange||"arrayDidChange",k=e(this,"hasArrayObservers");k||Ember.propertyWillChange(this,"hasArrayObservers");Ember.addListener(this,"@array:before",b,g,c);Ember.addListener(this,"@array:change",b,f,c);k||Ember.propertyDidChange(this,"hasArrayObservers");return this},
removeArrayObserver:function(b,a){var g=a&&a.willChange||"arrayWillChange",f=a&&a.didChange||"arrayDidChange",k=e(this,"hasArrayObservers");k&&Ember.propertyWillChange(this,"hasArrayObservers");Ember.removeListener(this,"@array:before",b,g,c);Ember.removeListener(this,"@array:change",b,f,c);k&&Ember.propertyDidChange(this,"hasArrayObservers");return this},hasArrayObservers:Ember.computed(function(){return Ember.hasListeners(this,"@array:change")||Ember.hasListeners(this,"@array:before")}).property().cacheable(),
arrayContentWillChange:function(b,a,c){void 0===b?(b=0,a=c=-1):(a||(a=0),c||(c=0));Ember.sendEvent(this,"@array:before",b,a,c);var f;if(0<=b&&0<=a&&e(this,"hasEnumerableObservers")){f=[];for(a=b+a;b<a;b++)f.push(this.objectAt(b))}else f=a;this.enumerableContentWillChange(f,c);Ember.isWatching(this,"@each")&&e(this,"@each");return this},arrayContentDidChange:function(b,a,c){void 0===b?(b=0,a=c=-1):(a||(a=0),c||(c=0));var f,k;if(0<=b&&0<=c&&e(this,"hasEnumerableObservers")){f=[];k=b+c;for(var h=b;h<
k;h++)f.push(this.objectAt(h))}else f=c;this.enumerableContentDidChange(a,f);Ember.sendEvent(this,"@array:change",b,a,c);return this},"@each":Ember.computed(function(){this.__each||(this.__each=new Ember.EachProxy(this));return this.__each}).property().cacheable()})})();Ember.Comparable=Ember.Mixin.create({isComparable:!0,compare:Ember.required(Function)});(function(){var c=Ember.get;Ember.Copyable=Ember.Mixin.create({copy:Ember.required(Function),frozenCopy:function(){if(Ember.Freezable&&Ember.Freezable.detect(this))return c(this,
"isFrozen")?this:this.copy().freeze();throw Error(Ember.String.fmt("%@ does not support freezing",[this]));}})})();(function(){var c=Ember.get,e=Ember.set;Ember.Freezable=Ember.Mixin.create({isFrozen:!1,freeze:function(){if(c(this,"isFrozen"))return this;e(this,"isFrozen",!0);return this}});Ember.FROZEN_ERROR="Frozen object cannot be modified."})();(function(){var c=Ember.ArrayUtils.forEach;Ember.MutableEnumerable=Ember.Mixin.create(Ember.Enumerable,{addObject:Ember.required(Function),addObjects:function(e){Ember.beginPropertyChanges(this);
c(e,function(c){this.addObject(c)},this);Ember.endPropertyChanges(this);return this},removeObject:Ember.required(Function),removeObjects:function(e){Ember.beginPropertyChanges(this);c(e,function(c){this.removeObject(c)},this);Ember.endPropertyChanges(this);return this}})})();(function(){var c=[],e=Ember.get,f=Ember.ArrayUtils.forEach;Ember.MutableArray=Ember.Mixin.create(Ember.Array,Ember.MutableEnumerable,{replace:Ember.required(),clear:function(){var b=e(this,"length");if(0===b)return this;this.replace(0,
b,c);return this},insertAt:function(b,a){if(b>e(this,"length"))throw Error("Index out of range");this.replace(b,0,[a]);return this},removeAt:function(b,a){if("number"===typeof b){if(0>b||b>=e(this,"length"))throw Error("Index out of range");void 0===a&&(a=1);this.replace(b,a,c)}return this},pushObject:function(b){this.insertAt(e(this,"length"),b);return b},pushObjects:function(b){this.replace(e(this,"length"),0,b);return this},popObject:function(){var b=e(this,"length");if(0===b)return null;var a=
this.objectAt(b-1);this.removeAt(b-1,1);return a},shiftObject:function(){if(0===e(this,"length"))return null;var b=this.objectAt(0);this.removeAt(0);return b},unshiftObject:function(b){this.insertAt(0,b);return b},unshiftObjects:function(b){this.beginPropertyChanges();f(b,function(a){this.unshiftObject(a)},this);this.endPropertyChanges();return this},removeObject:function(b){for(var a=e(this,"length")||0;0<=--a;)this.objectAt(a)===b&&this.removeAt(a);return this},addObject:function(b){this.contains(b)||
this.pushObject(b);return this}})})();(function(){var c=Ember.get,e=Ember.set;Ember.Observable=Ember.Mixin.create({isObserverable:!0,get:function(e){return c(this,e)},getProperties:function(){var e={},b=arguments;1===arguments.length&&"array"===Ember.typeOf(arguments[0])&&(b=arguments[0]);for(var a=0;a<b.length;a++)e[b[a]]=c(this,b[a]);return e},set:function(c,b){e(this,c,b);return this},setProperties:function(c){return Ember.setProperties(this,c)},beginPropertyChanges:function(){Ember.beginPropertyChanges();
return this},endPropertyChanges:function(){Ember.endPropertyChanges();return this},propertyWillChange:function(c){Ember.propertyWillChange(this,c);return this},propertyDidChange:function(c){Ember.propertyDidChange(this,c);return this},notifyPropertyChange:function(c){this.propertyWillChange(c);this.propertyDidChange(c);return this},addObserver:function(c,b,a){Ember.addObserver(this,c,b,a)},removeObserver:function(c,b,a){Ember.removeObserver(this,c,b,a)},hasObserverFor:function(c){return Ember.hasListeners(this,
c+":change")},unknownProperty:function(){},setUnknownProperty:function(c,b){this[c]=b},getPath:function(c){return Ember.getPath(this,c)},setPath:function(c,b){Ember.setPath(this,c,b);return this},getWithDefault:function(c,b){return Ember.getWithDefault(this,c,b)},incrementProperty:function(f,b){b||(b=1);e(this,f,(c(this,f)||0)+b);return c(this,f)},decrementProperty:function(f,b){b||(b=1);e(this,f,(c(this,f)||0)-b);return c(this,f)},toggleProperty:function(f){e(this,f,!c(this,f));return c(this,f)},
cacheFor:function(c){return Ember.cacheFor(this,c)},observersForKey:function(c){return Ember.observersFor(this,c)}})})();(function(){var c=Ember.get,e=Ember.getPath;Ember.TargetActionSupport=Ember.Mixin.create({target:null,action:null,targetObject:Ember.computed(function(){var f=c(this,"target");if("string"===Ember.typeOf(f)){var b=e(this,f,!1);void 0===b&&(b=e(window,f));return b}return f}).property("target").cacheable(),triggerAction:function(){var e=c(this,"action"),b=c(this,"targetObject");return b&&
e?("function"===typeof b.send?e=b.send(e,this):("string"===typeof e&&(e=b[e]),e=e.call(b,this)),!1!==e&&(e=!0),e):!1}})})();(function(){function c(c,b,a){a=e.call(a,2);b.apply(c,a)}var e=Array.prototype.slice;Ember.Evented=Ember.Mixin.create({on:function(e,b,a){a||(a=b,b=null);Ember.addListener(this,e,b,a,c)},fire:function(c){Ember.sendEvent.apply(null,[this,c].concat(e.call(arguments,1)))},off:function(c,b,a){Ember.removeListener(this,c,b,a)}})})();(function(){function c(){var a=!1,b,c=!1,h=!1,k=
function(){a||k.proto();b?(this.reopen.apply(this,b),b=null,e(this),this.init.apply(this,arguments)):(h?e(this):(Ember.GUID_DESC.value=void 0,g(this,Ember.GUID_KEY,Ember.GUID_DESC)),!1===c&&(c=this.init),Ember.GUID_DESC.value=void 0,g(this,"_super",Ember.GUID_DESC),c.apply(this,arguments))};k.toString=f;k.willReopen=function(){a&&(k.PrototypeMixin=Ember.Mixin.create(k.PrototypeMixin));a=!1};k._initMixins=function(a){b=a};k.proto=function(){var b=k.superclass;b&&b.proto();a||(a=!0,k.PrototypeMixin.applyPartial(k.prototype),
Ember.rewatch(k.prototype),h=!!j(k.prototype,!1).chains);return this.prototype};return k}var e=Ember.rewatch,f=Ember.Mixin.prototype.toString,b=Ember.set,a=Ember.platform.create,g=Ember.platform.defineProperty,j=Ember.meta,k=c();k.PrototypeMixin=Ember.Mixin.create({reopen:function(){Ember.Mixin._apply(this,arguments,!0);return this},isInstance:!0,init:function(){},isDestroyed:!1,isDestroying:!1,destroy:function(){if(!this.isDestroying)return this.isDestroying=!0,this.willDestroy&&this.willDestroy(),
b(this,"isDestroyed",!0),Ember.run.schedule("destroy",this,this._scheduledDestroy),this},_scheduledDestroy:function(){Ember.destroy(this);this.didDestroy&&this.didDestroy()},bind:function(a,b){b instanceof Ember.Binding||(b=Ember.Binding.from(b));b.to(a).connect(this);return b},toString:function(){return"<"+this.constructor.toString()+":"+Ember.guidFor(this)+">"}});k.__super__=null;var h=Ember.Mixin.create({ClassMixin:Ember.required(),PrototypeMixin:Ember.required(),isClass:!0,isMethod:!1,extend:function(){var b=
c(),g;b.ClassMixin=Ember.Mixin.create(this.ClassMixin);b.PrototypeMixin=Ember.Mixin.create(this.PrototypeMixin);b.ClassMixin.ownerConstructor=b;b.PrototypeMixin.ownerConstructor=b;g=b.PrototypeMixin;g.reopen.apply(g,arguments);b.superclass=this;b.__super__=this.prototype;g=b.prototype=a(this.prototype);g.constructor=b;Ember.generateGuid(g,"ember");j(g).proto=g;b.subclasses=Ember.Set?new Ember.Set:null;this.subclasses&&this.subclasses.add(b);b.ClassMixin.apply(b);return b},create:function(){0<arguments.length&&
this._initMixins(arguments);return new this},reopen:function(){this.willReopen();var a=this.PrototypeMixin;a.reopen.apply(a,arguments);return this},reopenClass:function(){var a=this.ClassMixin;a.reopen.apply(a,arguments);Ember.Mixin._apply(this,arguments,!1);return this},detect:function(a){if("function"!==typeof a)return!1;for(;a;){if(a===this)return!0;a=a.superclass}return!1},detectInstance:function(a){return a instanceof this},metaForProperty:function(a){var b=j(this.proto(),!1).descs[a];ember_assert("metaForProperty() could not find a computed property with key '"+
a+"'.",!!b&&b instanceof Ember.ComputedProperty);return b._meta||{}},eachComputedProperty:function(a,b){var c=this.proto(),c=j(c).descs,g={},e,f;for(f in c)e=c[f],e instanceof Ember.ComputedProperty&&a.call(b||this,f,e._meta||g)}});k.ClassMixin=h;h.apply(k);Ember.CoreObject=k})();(function(){var c=Ember.get,e=Ember.set,f=Ember.guidFor,b=Ember.none;Ember.Set=Ember.CoreObject.extend(Ember.MutableEnumerable,Ember.Copyable,Ember.Freezable,{length:0,clear:function(){if(this.isFrozen)throw Error(Ember.FROZEN_ERROR);
var a=c(this,"length"),b;this.enumerableContentWillChange(a,0);for(var k=0;k<a;k++)b=f(this[k]),delete this[b],delete this[k];e(this,"length",0);this.enumerableContentDidChange(a,0);return this},isEqual:function(a){if(!Ember.Enumerable.detect(a))return!1;var b=c(this,"length");if(c(a,"length")!==b)return!1;for(;0<=--b;)if(!a.contains(this[b]))return!1;return!0},add:Ember.alias("addObject"),remove:Ember.alias("removeObject"),pop:function(){if(c(this,"isFrozen"))throw Error(Ember.FROZEN_ERROR);var a=
0<this.length?this[this.length-1]:null;this.remove(a);return a},push:Ember.alias("addObject"),shift:Ember.alias("pop"),unshift:Ember.alias("push"),addEach:Ember.alias("addObjects"),removeEach:Ember.alias("removeObjects"),init:function(a){this._super();a&&this.addObjects(a)},nextObject:function(a){return this[a]},firstObject:Ember.computed(function(){return 0<this.length?this[0]:void 0}).property("[]").cacheable(),lastObject:Ember.computed(function(){return 0<this.length?this[this.length-1]:void 0}).property("[]").cacheable(),
addObject:function(a){if(c(this,"isFrozen"))throw Error(Ember.FROZEN_ERROR);if(b(a))return this;var j=f(a),k=this[j],h=c(this,"length");if(0<=k&&k<h&&this[k]===a)return this;k=[a];this.enumerableContentWillChange(null,k);h=c(this,"length");this[j]=h;this[h]=a;e(this,"length",h+1);this.enumerableContentDidChange(null,k);return this},removeObject:function(a){if(c(this,"isFrozen"))throw Error(Ember.FROZEN_ERROR);if(b(a))return this;var j=f(a),k=this[j],h=c(this,"length"),d;0<=k&&(k<h&&this[k]===a)&&
(d=[a],this.enumerableContentWillChange(d,null),k<h-1&&(a=this[h-1],this[k]=a,this[f(a)]=k),delete this[j],delete this[h-1],e(this,"length",h-1),this.enumerableContentDidChange(d,null));return this},contains:function(a){return 0<=this[f(a)]},copy:function(){var a=new this.constructor,b=c(this,"length");for(e(a,"length",b);0<=--b;)a[b]=this[b],a[f(this[b])]=b;return a},toString:function(){var a=this.length,b,c=[];for(b=0;b<a;b++)c[b]=this[b];return"Ember.Set<%@>".fmt(c.join(","))},isSet:!0});var a=
Ember.Set.create;Ember.Set.create=function(b){return b&&Ember.Enumerable.detect(b)?(ember_deprecate("Passing an enumerable to Ember.Set.create() is deprecated and will be removed in a future version of Ember.  Use new Ember.Set(items) instead."),new Ember.Set(b)):a.apply(this,arguments)}})();Ember.CoreObject.subclasses=new Ember.Set;Ember.Object=Ember.CoreObject.extend(Ember.Observable);(function(){var c=Ember.ArrayUtils.indexOf;Ember.Namespace=Ember.Object.extend({isNamespace:!0,init:function(){Ember.Namespace.NAMESPACES.push(this);
Ember.Namespace.PROCESSED=!1},toString:function(){Ember.identifyNamespaces();return this[Ember.GUID_KEY+"_name"]},destroy:function(){var e=Ember.Namespace.NAMESPACES;window[this.toString()]=void 0;e.splice(c(e,this),1);this._super()}});Ember.Namespace.NAMESPACES=[Ember];Ember.Namespace.PROCESSED=!1})();Ember.Application=Ember.Namespace.extend();(function(){var c=Ember.get;Ember.ArrayProxy=Ember.Object.extend(Ember.MutableArray,{content:null,objectAtContent:function(e){return c(this,"content").objectAt(e)},
replaceContent:function(e,f,b){c(this,"content").replace(e,f,b)},contentWillChange:Ember.beforeObserver(function(){var e=c(this,"content"),f=e?c(e,"length"):0;this.arrayWillChange(e,0,f,void 0);e&&e.removeArrayObserver(this)},"content"),contentDidChange:Ember.observer(function(){var e=c(this,"content"),f=e?c(e,"length"):0;e&&e.addArrayObserver(this);this.arrayDidChange(e,0,void 0,f)},"content"),objectAt:function(e){return c(this,"content")&&this.objectAtContent(e)},length:Ember.computed(function(){var e=
c(this,"content");return e?c(e,"length"):0}).property("content.length").cacheable(),replace:function(e,f,b){c(this,"content")&&this.replaceContent(e,f,b);return this},arrayWillChange:function(c,f,b,a){this.arrayContentWillChange(f,b,a)},arrayDidChange:function(c,f,b,a){this.arrayContentDidChange(f,b,a)},init:function(){this._super();this.contentDidChange()}})})();(function(){function c(a,c,d,g,e){var f=d._objects,j;f||(f=d._objects={});for(;--e>=g;)if(j=a.objectAt(e))Ember.addBeforeObserver(j,c,d,
"contentKeyWillChange"),Ember.addObserver(j,c,d,"contentKeyDidChange"),j=b(j),f[j]||(f[j]=[]),f[j].push(e)}function e(a,c,d,g,e){var f=d._objects;f||(f=d._objects={});for(var j;--e>=g;)if(j=a.objectAt(e))Ember.removeBeforeObserver(j,c,d,"contentKeyWillChange"),Ember.removeObserver(j,c,d,"contentKeyDidChange"),j=b(j),j=f[j],j[j.indexOf(e)]=null}var f=Ember.get,b=Ember.guidFor,a=Ember.ArrayUtils.forEach,g=Ember.Object.extend(Ember.Array,{init:function(a,b,c){this._super();this._keyName=b;this._owner=
c;this._content=a},objectAt:function(a){return(a=this._content.objectAt(a))&&f(a,this._keyName)},length:Ember.computed(function(){var a=this._content;return a?f(a,"length"):0}).property("[]").cacheable()}),j=/^.+:(before|change)$/;Ember.EachProxy=Ember.Object.extend({init:function(b){this._super();this._content=b;b.addArrayObserver(this);a(Ember.watchedEvents(this),function(a){this.didAddListener(a)},this)},unknownProperty:function(a){var b;b=new g(this._content,a,this);(new Ember.Descriptor).setup(this,
a,b);this.beginObservingContentKey(a);return b},arrayWillChange:function(a,b,c){var g=this._keys,f,c=0<c?b+c:-1;Ember.beginPropertyChanges(this);for(f in g)g.hasOwnProperty(f)&&(0<c&&e(a,f,this,b,c),Ember.propertyWillChange(this,f));Ember.propertyWillChange(this._content,"@each");Ember.endPropertyChanges(this)},arrayDidChange:function(a,b,d,g){var d=this._keys,e,g=0<g?b+g:-1;Ember.beginPropertyChanges(this);for(e in d)d.hasOwnProperty(e)&&(0<g&&c(a,e,this,b,g),Ember.propertyDidChange(this,e));Ember.propertyDidChange(this._content,
"@each");Ember.endPropertyChanges(this)},didAddListener:function(a){j.test(a)&&this.beginObservingContentKey(a.slice(0,-7))},didRemoveListener:function(a){j.test(a)&&this.stopObservingContentKey(a.slice(0,-7))},beginObservingContentKey:function(a){var b=this._keys;b||(b=this._keys={});if(b[a])b[a]++;else{b[a]=1;var b=this._content,d=f(b,"length");c(b,a,this,0,d)}},stopObservingContentKey:function(a){var b=this._keys;if(b&&0<b[a]&&0>=--b[a]){var b=this._content,c=f(b,"length");e(b,a,this,0,c)}},contentKeyWillChange:function(a,
b){Ember.propertyWillChange(this,b)},contentKeyDidChange:function(a,b){Ember.propertyDidChange(this,b)}})})();(function(){var c=Ember.get,e=Ember.Mixin.create(Ember.MutableArray,Ember.Observable,Ember.Copyable,{get:function(b){return"length"===b?this.length:"number"===typeof b?this[b]:this._super(b)},objectAt:function(b){return this[b]},replace:function(b,a,g){if(this.isFrozen)throw Ember.FROZEN_ERROR;var e=g?c(g,"length"):0;this.arrayContentWillChange(b,a,e);!g||0===g.length?this.splice(b,a):this.splice.apply(this,
[b,a].concat(g));this.arrayContentDidChange(b,a,e);return this},unknownProperty:function(b,a){var c;void 0!==a&&void 0===c&&(c=this[b]=a);return c},indexOf:function(b,a){var c,e=this.length,a=void 0===a?0:0>a?Math.ceil(a):Math.floor(a);0>a&&(a+=e);for(c=a;c<e;c++)if(this[c]===b)return c;return-1},lastIndexOf:function(b,a){var c;c=this.length;a=void 0===a?c-1:0>a?Math.ceil(a):Math.floor(a);0>a&&(a+=c);for(c=a;0<=c;c--)if(this[c]===b)return c;return-1},copy:function(){return this.slice()}}),f=["length"];
Ember.ArrayUtils.forEach(e.keys(),function(b){Array.prototype[b]&&f.push(b)});0<f.length&&(e=e.without.apply(e,f));Ember.NativeArray=e;Ember.A=function(b){void 0===b&&(b=[]);return Ember.NativeArray.apply(b)};Ember.NativeArray.activate=function(){e.apply(Array.prototype);Ember.A=function(b){return b||[]}};Ember.EXTEND_PROTOTYPES&&Ember.NativeArray.activate()})();(function(){var c=Ember.guidFor,e=Ember.ArrayUtils.indexOf,f=Ember.OrderedSet=function(){this.clear()};f.create=function(){return new f};
f.prototype={clear:function(){this.presenceSet={};this.list=[]},add:function(a){var b=c(a),e=this.presenceSet,f=this.list;b in e||(e[b]=!0,f.push(a))},remove:function(a){var b=this.list;delete this.presenceSet[c(a)];a=e(b,a);-1<a&&b.splice(a,1)},isEmpty:function(){return 0===this.list.length},forEach:function(a,b){for(var c=this.list.slice(),e=0,f=c.length;e<f;e++)a.call(b,c[e])},toArray:function(){return this.list.slice()}};var b=Ember.Map=function(){this.keys=Ember.OrderedSet.create();this.values=
{}};b.create=function(){return new b};b.prototype={get:function(a){var b=this.values,a=c(a);return b[a]},set:function(a,b){var e=this.keys,f=this.values,h=c(a);e.add(a);f[h]=b},remove:function(a){var b=this.keys,e=this.values,f=c(a);return e.hasOwnProperty(f)?(b.remove(a),delete e[f],!0):!1},has:function(a){var b=this.values,a=c(a);return b.hasOwnProperty(a)},forEach:function(a,b){var e=this.values;this.keys.forEach(function(f){var h=c(f);a.call(b,f,e[h])})}}})();Ember.ArrayController=Ember.ArrayProxy.extend();
ember_assert("Ember requires jQuery 1.6 or 1.7",window.jQuery&&window.jQuery().jquery.match(/^1\.[67](\.\d+)?(pre|rc\d?)?/));Ember.$=window.jQuery;(function(){var c=Ember.get,e=Ember.ArrayUtils.forEach,f=Ember.ArrayUtils.indexOf,b=function(){this.seen={};this.list=[]};b.prototype={add:function(a){a in this.seen||(this.seen[a]=!0,this.list.push(a))},toDOM:function(){return this.list.join(" ")}};Ember.RenderBuffer=function(a){return new Ember._RenderBuffer(a)};Ember._RenderBuffer=function(a){this.elementTag=
a;this.childBuffers=[]};Ember._RenderBuffer.prototype={elementClasses:null,elementId:null,elementAttributes:null,elementTag:null,elementStyle:null,parentBuffer:null,push:function(a){this.childBuffers.push(""+a);return this},addClass:function(a){this.elementClasses=this.elementClasses||new b;this.elementClasses.add(a);return this},id:function(a){this.elementId=a;return this},attr:function(a,b){var c=this.elementAttributes=this.elementAttributes||{};if(1===arguments.length)return c[a];c[a]=b;return this},
removeAttr:function(a){var b=this.elementAttributes;b&&delete b[a];return this},style:function(a,b){this.elementStyle=this.elementStyle||{};this.elementStyle[a]=b;return this},newBuffer:function(a,b,c,e){a=new Ember._RenderBuffer(a);a.parentBuffer=b;e&&a.setProperties(e);c&&c.call(this,a);return a},replaceWithBuffer:function(a){var b=this.parentBuffer;if(b){var b=b.childBuffers,c=f(b,this);a?b.splice(c,1,a):b.splice(c,1)}},begin:function(a){return this.newBuffer(a,this,function(a){this.childBuffers.push(a)})},
prepend:function(a){return this.newBuffer(a,this,function(a){this.childBuffers.splice(0,0,a)})},replaceWith:function(a){return this.newBuffer(a,this.parentBuffer,function(a){this.replaceWithBuffer(a)})},insertAfter:function(a){var b=c(this,"parentBuffer");return this.newBuffer(a,b,function(a){var c=b.childBuffers,e=f(c,this);c.splice(e+1,0,a)})},end:function(){return this.parentBuffer||this},remove:function(){this.replaceWithBuffer(null)},element:function(){return Ember.$(this.string())[0]},string:function(){var a=
"",b=this.elementTag,c;if(b){var f=this.elementId,h=this.elementClasses,d=this.elementAttributes,m=this.elementStyle,p="",o;c=["<"+b];f&&c.push('id="'+this._escapeAttribute(f)+'"');h&&c.push('class="'+this._escapeAttribute(h.toDOM())+'"');if(m){for(o in m)m.hasOwnProperty(o)&&(p+=o+":"+this._escapeAttribute(m[o])+";");c.push('style="'+p+'"')}if(d)for(o in d)d.hasOwnProperty(o)&&c.push(o+'="'+this._escapeAttribute(d[o])+'"');c=c.join(" ")+">"}e(this.childBuffers,function(b){a+="string"===typeof b?
b:b.string()});return b?c+a+"</"+b+">":a},_escapeAttribute:function(a){var b={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},a=a.toString();return!/[&<>"'`]/.test(a)?a:a.replace(/&(?!\w+;)|[<>"'`]/g,function(a){return b[a]||"&amp;"})}}})();(function(){var c=Ember.get,e=Ember.String.fmt;Ember.EventDispatcher=Ember.Object.extend({rootElement:"body",setup:function(f){var b,a={touchstart:"touchStart",touchmove:"touchMove",touchend:"touchEnd",touchcancel:"touchCancel",keydown:"keyDown",
keyup:"keyUp",keypress:"keyPress",mousedown:"mouseDown",mouseup:"mouseUp",contextmenu:"contextMenu",click:"click",dblclick:"doubleClick",mousemove:"mouseMove",focusin:"focusIn",focusout:"focusOut",mouseenter:"mouseEnter",mouseleave:"mouseLeave",submit:"submit",change:"change",dragstart:"dragStart",drag:"drag",dragenter:"dragEnter",dragleave:"dragLeave",dragover:"dragOver",drop:"drop",dragend:"dragEnd"};Ember.$.extend(a,f||{});f=Ember.$(c(this,"rootElement"));ember_assert(e("You cannot use the same root element (%@) multiple times in an Ember.Application",
[f.selector||f[0].tagName]),!f.is(".ember-application"));ember_assert("You cannot make a new Ember.Application using a root element that is a descendent of an existing Ember.Application",!f.closest(".ember-application").length);ember_assert("You cannot make a new Ember.Application using a root element that is an ancestor of an existing Ember.Application",!f.find(".ember-application").length);f.addClass("ember-application");ember_assert('Unable to add "ember-application" class to rootElement. Make sure you set rootElement to the body or an element in the body.',
f.is(".ember-application"));for(b in a)a.hasOwnProperty(b)&&this.setupHandler(f,b,a[b])},setupHandler:function(c,b,a){var g=this;c.delegate(".ember-view",b+".ember",function(b,c){var e=Ember.View.views[this.id],d=!0,f=null;(f=g._findNearestEventManager(e,a))&&f!==c?d=g._dispatchEvent(f,b,a,e):e?d=g._bubbleEvent(e,b,a):b.stopPropagation();return d});c.delegate("[data-ember-action]",b+".ember",function(b){var c=Ember.$(b.currentTarget).attr("data-ember-action"),c=Ember.Handlebars.ActionHelper.registeredActions[c],
g=c.handler;if(c.eventName===a)return g(b)})},_findNearestEventManager:function(e,b){for(var a=null;e&&(!(a=c(e,"eventManager"))||!a[b]);)e=c(e,"parentView");return a},_dispatchEvent:function(c,b,a,g){var e=!0,e=c[a];"function"===Ember.typeOf(e)?(e=e.call(c,b,g),b.stopPropagation()):e=this._bubbleEvent(g,b,a);return e},_bubbleEvent:function(c,b,a){return Ember.run(function(){return c.handleEvent(a,b)})},destroy:function(){var e=c(this,"rootElement");Ember.$(e).undelegate(".ember").removeClass("ember-application");
return this._super()}})})();(function(){var c=Ember.get,e=Ember.set;Ember.Application=Ember.Namespace.extend({rootElement:"body",eventDispatcher:null,customEvents:null,init:function(){var f;f=c(this,"rootElement");this._super();f=Ember.EventDispatcher.create({rootElement:f});e(this,"eventDispatcher",f);if(Ember.$.isReady)this.didBecomeReady();else{var b=this;Ember.$(document).ready(function(){b.didBecomeReady()})}},didBecomeReady:function(){var e=c(this,"eventDispatcher"),b=c(this,"customEvents");
e.setup(b);this.ready()},ready:Ember.K,destroy:function(){c(this,"eventDispatcher").destroy();return this._super()}})})();(function(){var c=Ember.run.queues;c.splice(Ember.$.inArray("actions",c)+1,0,"render")})();(function(){var c=Ember.get,e=Ember.set,f=Ember.addObserver,b=Ember.String.fmt,a=Array.prototype.slice,g=Ember.ArrayUtils.forEach,j=Ember.computed(function(){var a=c(this,"_childViews"),b=Ember.A();g(a,function(a){a.isVirtual?b.pushObjects(c(a,"childViews")):b.push(a)});return b}).property().cacheable();
Ember.TEMPLATES={};var k={preRender:{},inBuffer:{},hasElement:{},inDOM:{},destroyed:{}};Ember.View=Ember.Object.extend(Ember.Evented,{concatenatedProperties:["classNames","classNameBindings","attributeBindings"],isView:!0,templateName:null,layoutName:null,templates:Ember.TEMPLATES,template:Ember.computed(function(a,b){return void 0!==b?b:this.templateForName(c(this,"templateName"),"template")||c(this,"defaultTemplate")}).property("templateName").cacheable(),controller:null,layout:Ember.computed(function(a,
b){return 2===arguments.length?b:this.templateForName(c(this,"layoutName"),"layout")||c(this,"defaultLayout")}).property("layoutName").cacheable(),templateForName:function(a,d){if(a){var e=c(this,"templates"),e=c(e,a);if(!e)throw new Ember.Error(b('%@ - Unable to find %@ "%@".',[this,d,a]));return e}},templateContext:Ember.computed(function(a,b){return 2===arguments.length?(e(this,"_templateContext",b),b):c(this,"_templateContext")}).cacheable(),_templateContext:Ember.computed(function(a,b){return 2===
arguments.length?b:this}).cacheable(),_displayPropertyDidChange:Ember.observer(function(){this.rerender()},"templateContext","controller"),_parentView:null,parentView:Ember.computed(function(){var a=c(this,"_parentView");return a&&a.isVirtual?c(a,"parentView"):a}).property("_parentView"),concreteView:Ember.computed(function(){return this.isVirtual?c(this,"parentView"):this}).property("_parentView"),isVisible:!0,childViews:j,_childViews:[],nearestInstanceOf:function(a){for(var b=c(this,"parentView");b;){if(b instanceof
a)return b;b=c(b,"parentView")}},nearestWithProperty:function(a){for(var b=c(this,"parentView");b;){if(a in b)return b;b=c(b,"parentView")}},nearestChildOf:function(a){for(var b=c(this,"parentView");b;){if(c(b,"parentView")instanceof a)return b;b=c(b,"parentView")}},collectionView:Ember.computed(function(){return this.nearestInstanceOf(Ember.CollectionView)}).cacheable(),itemView:Ember.computed(function(){return this.nearestChildOf(Ember.CollectionView)}).cacheable(),contentView:Ember.computed(function(){return this.nearestWithProperty("content")}).cacheable(),
_parentViewDidChange:Ember.observer(function(){this.isDestroying||this.invokeRecursively(function(a){a.propertyDidChange("collectionView");a.propertyDidChange("itemView");a.propertyDidChange("contentView")})},"_parentView"),render:function(a){var b=c(this,"layout")||c(this,"template");if(b){var e=c(this,"_templateContext"),g=this.get("templateData"),f=this.get("controller"),j={view:this,buffer:a,isRenderData:!0,keywords:{view:c(this,"concreteView")}};j.keywords.controller=f||g&&g.keywords.controller;
b=b(e,{data:j});void 0!==b&&a.push(b)}},invokeForState:function(b){var c=this.state;if(f=k[c][b])return c=a.call(arguments),c[0]=this,f.apply(this,c);for(var e=this.states,g;e;){for(g=e[c];g;){var f=g[b];if(f)return k[c][b]=f,c=a.call(arguments,1),c.unshift(this),f.apply(this,c);g=g.parentState}e=e.parent}},rerender:function(){return this.invokeForState("rerender")},clearRenderedChildren:function(){for(var a=this.lengthBeforeRender,b=this.lengthAfterRender,e=c(this,"_childViews"),b=b-1;b>=a;b--)e[b]&&
e[b].destroy()},_applyClassNameBindings:function(){var a=c(this,"classNameBindings"),b=c(this,"classNames"),e,j,k;a&&g(a,function(a){var c,g;if(k=this._classStringForProperty(a))b.push(k),c=k;g=a.split(":")[0];f(this,g,function(){j=this._classStringForProperty(a);e=this.$();c&&(e.removeClass(c),b.removeObject(c));j?(e.addClass(j),c=j):c=null})},this)},_applyAttributeBindings:function(a){var b=c(this,"attributeBindings"),e,j;b&&g(b,function(b){var b=b.split(":"),d=b[0],g=b[1]||d;f(this,d,function(){j=
this.$();e=c(this,d);Ember.View.applyAttributeBindings(j,g,e)});e=c(this,d);Ember.View.applyAttributeBindings(a,g,e)},this)},_classStringForProperty:function(a){var a=a.split(":"),b=a[1],a=a[0],c=Ember.getPath(this,a,!1);void 0===c&&Ember.isGlobalPath(a)&&(c=Ember.getPath(window,a));if(!0===c){if(b)return b;b=a.split(".");return Ember.String.dasherize(b[b.length-1])}return!1!==c&&void 0!==c&&null!==c?c:null},element:Ember.computed(function(a,b){return void 0!==b?this.invokeForState("setElement",b):
this.invokeForState("getElement")}).property("_parentView").cacheable(),$:function(a){return this.invokeForState("$",a)},mutateChildViews:function(a){for(var b=c(this,"_childViews"),e=c(b,"length"),g;0<=--e;)g=b[e],a.call(this,g,e);return this},forEachChildView:function(a){var b=c(this,"_childViews");if(!b)return this;var e=c(b,"length"),g,f;for(f=0;f<e;f++)g=b[f],a.call(this,g);return this},appendTo:function(a){this._insertElementLater(function(){this.$().appendTo(a)});return this},replaceIn:function(a){this._insertElementLater(function(){Ember.$(a).empty();
this.$().appendTo(a)});return this},_insertElementLater:function(a){Ember.run.schedule("render",this,this.invokeForState,"insertElement",a)},append:function(){return this.appendTo(document.body)},remove:function(){this.destroyElement();this.invokeRecursively(function(a){a.clearRenderedChildren()})},elementId:Ember.computed(function(a,b){return void 0!==b?b:Ember.guidFor(this)}).cacheable(),_elementIdDidChange:Ember.beforeObserver(function(){throw"Changing a view's elementId after creation is not allowed.";
},"elementId"),findElementInParentElement:function(a){var b="#"+c(this,"elementId");return Ember.$(b)[0]||Ember.$(b,a)[0]},renderBuffer:function(a){a=a||c(this,"tagName");if(null===a||void 0===a)a="div";return Ember.RenderBuffer(a)},createElement:function(){if(c(this,"element"))return this;var a=this.renderToBuffer();e(this,"element",a.element());return this},willInsertElement:Ember.K,didInsertElement:Ember.K,willRerender:Ember.K,invokeRecursively:function(a){a.call(this,this);this.forEachChildView(function(b){b.invokeRecursively(a)})},
invalidateRecursively:function(a){this.forEachChildView(function(b){b.propertyDidChange(a)})},_notifyWillInsertElement:function(a){this.invokeRecursively(function(b){a&&(b._willInsertElementAccessUnsupported=!0);b.fire("willInsertElement");b._willInsertElementAccessUnsupported=!1})},_notifyDidInsertElement:function(){this.invokeRecursively(function(a){a.fire("didInsertElement")})},_notifyWillRerender:function(){this.invokeRecursively(function(a){a.fire("willRerender")})},destroyElement:function(){return this.invokeForState("destroyElement")},
willDestroyElement:function(){},_notifyWillDestroyElement:function(){this.invokeRecursively(function(a){a.fire("willDestroyElement")})},_elementWillChange:Ember.beforeObserver(function(){this.forEachChildView(function(a){Ember.propertyWillChange(a,"element")})},"element"),_elementDidChange:Ember.observer(function(){this.forEachChildView(function(a){Ember.propertyDidChange(a,"element")})},"element"),parentViewDidChange:Ember.K,renderToBuffer:function(a,b){var e;Ember.run.sync();b=b||"begin";if(a){e=
c(this,"tagName");if(null===e||void 0===e)e="div";e=a[b](e)}else e=this.renderBuffer();this.buffer=e;this.transitionTo("inBuffer",!1);this.lengthBeforeRender=c(c(this,"_childViews"),"length");this.beforeRender(e);this.render(e);this.afterRender(e);this.lengthAfterRender=c(c(this,"_childViews"),"length");return e},beforeRender:function(a){this.applyAttributesToBuffer(a)},afterRender:Ember.K,applyAttributesToBuffer:function(a){this._applyClassNameBindings();this._applyAttributeBindings(a);g(c(this,
"classNames"),function(b){a.addClass(b)});a.id(c(this,"elementId"));var b=c(this,"ariaRole");b&&a.attr("role",b);!1===c(this,"isVisible")&&a.style("display","none")},tagName:null,ariaRole:null,classNames:["ember-view"],classNameBindings:[],attributeBindings:[],state:"preRender",init:function(){this._super();Ember.View.views[c(this,"elementId")]=this;var a=c(this,"_childViews").slice();e(this,"_childViews",a);ember_assert("Only arrays are allowed for 'classNameBindings'","array"===Ember.typeOf(this.classNameBindings));
this.classNameBindings=Ember.A(this.classNameBindings.slice());ember_assert("Only arrays are allowed for 'classNames'","array"===Ember.typeOf(this.classNames));this.classNames=Ember.A(this.classNames.slice());if(a=c(this,"viewController"))(a=Ember.getPath(a))&&e(a,"view",this)},appendChild:function(a,b){return this.invokeForState("appendChild",a,b)},removeChild:function(a){if(!this.isDestroying){e(a,"_parentView",null);var b=c(this,"_childViews");Ember.ArrayUtils.removeObject(b,a);this.propertyDidChange("childViews");
return this}},removeAllChildren:function(){return this.mutateChildViews(function(a){this.removeChild(a)})},destroyAllChildren:function(){return this.mutateChildViews(function(a){a.destroy()})},removeFromParent:function(){var a=c(this,"_parentView");this.remove();a&&a.removeChild(this);return this},willDestroy:function(){var a=c(this,"_childViews"),b=c(this,"_parentView");c(this,"elementId");this.removedFromDOM||this.destroyElement();if(this.viewName){var g=c(this,"parentView");g&&e(g,this.viewName,
null)}b&&b.removeChild(this);this.state="destroyed";for(b=c(a,"length")-1;0<=b;b--)a[b].removedFromDOM=!0,a[b].destroy();delete Ember.View.views[c(this,"elementId")]},createChildView:function(a,b){var g;Ember.View.detect(a)?(g={_parentView:this},a=b?a.create(g,b):a.create(g),(g=a.viewName)&&e(c(this,"concreteView"),g,a)):(ember_assert("must pass instance of View",a instanceof Ember.View),e(a,"_parentView",this));return a},becameVisible:Ember.K,becameHidden:Ember.K,_isVisibleDidChange:Ember.observer(function(){var a=
c(this,"isVisible");this.$().toggle(a);this._isAncestorHidden()||(a?this._notifyBecameVisible():this._notifyBecameHidden())},"isVisible"),_notifyBecameVisible:function(){this.fire("becameVisible");this.forEachChildView(function(a){var b=c(a,"isVisible");(b||null===b)&&a._notifyBecameVisible()})},_notifyBecameHidden:function(){this.fire("becameHidden");this.forEachChildView(function(a){var b=c(a,"isVisible");(b||null===b)&&a._notifyBecameHidden()})},_isAncestorHidden:function(){for(var a=c(this,"parentView");a;){if(!1===
c(a,"isVisible"))return!0;a=c(a,"parentView")}return!1},clearBuffer:function(){this.invokeRecursively(function(){this.buffer=null})},transitionTo:function(a,b){this.state=a;!1!==b&&this.forEachChildView(function(b){b.transitionTo(a)})},fire:function(a){this[a]&&this[a].apply(this,[].slice.call(arguments,1));this._super.apply(this,arguments)},handleEvent:function(a,b){return this.invokeForState("handleEvent",a,b)}});Ember.View.reopen({states:Ember.View.states,domManager:{prepend:function(a,b){b._insertElementLater(function(){a.$().prepend(b.$())})},
after:function(a,b){b._insertElementLater(function(){a.$().after(b.$())})},replace:function(a){var b=c(a,"element");e(a,"element",null);a._insertElementLater(function(){Ember.$(b).replaceWith(c(a,"element"))})},remove:function(a){var b=c(a,"element");e(a,"element",null);Ember.$(b).remove()},empty:function(a){a.$().empty()}}});Ember.View.views={};Ember.View.childViewsProperty=j;Ember.View.applyAttributeBindings=function(a,b,c){var e=Ember.typeOf(c),g=a.attr(b);("string"===e||"number"===e&&!isNaN(c))&&
c!==g?a.attr(b,c):c&&"boolean"===e?a.attr(b,b):c||a.removeAttr(b)}})();(function(){Ember.View.states={_default:{appendChild:function(){throw"You can't use appendChild outside of the rendering process";},$:function(){return Ember.$()},getElement:function(){return null},handleEvent:function(){return!0}}};Ember.View.reopen({states:Ember.View.states})})();(function(){Ember.View.states.preRender={parentState:Ember.View.states._default,insertElement:function(c,e){c.createElement();c._notifyWillInsertElement(!0);
e.call(c);c.transitionTo("inDOM");c._notifyDidInsertElement()},$:function(c){c._willInsertElementAccessUnsupported&&console.error("Getting element from willInsertElement is unreliable and no longer supported.");return Ember.$()},empty:Ember.K,getElement:function(c){c._willInsertElementAccessUnsupported&&console.error("Getting element from willInsertElement is unreliable and no longer supported.");return null},setElement:function(c,e){c.beginPropertyChanges();c.invalidateRecursively("element");null!==
e&&c.transitionTo("hasElement");c.endPropertyChanges();return e}}})();(function(){var c=Ember.get;Ember.View.states.inBuffer={parentState:Ember.View.states._default,$:function(c){c.rerender();return Ember.$()},rerender:function(c){ember_deprecate("Something you did caused a view to re-render after it rendered but before it was inserted into the DOM. Because this is avoidable and the cause of significant performance issues in applications, this behavior is deprecated. If you want to use the debugger to find out what caused this, you can set ENV.RAISE_ON_DEPRECATION to true.");
c._notifyWillRerender();c.clearRenderedChildren();c.renderToBuffer(c.buffer,"replaceWith")},appendChild:function(e,f,b){var a=e.buffer,f=this.createChildView(f,b);c(e,"_childViews").push(f);f.renderToBuffer(a);e.propertyDidChange("childViews");return f},destroyElement:function(c){c.clearBuffer();c._notifyWillDestroyElement();c.transitionTo("preRender");return c},empty:function(){throw"EWOT";},insertElement:function(){throw"You can't insert an element that has already been rendered";},setElement:function(c,
f){c.invalidateRecursively("element");null===f?c.transitionTo("preRender"):(c.clearBuffer(),c.transitionTo("hasElement"));return f}}})();(function(){var c=Ember.get;Ember.View.states.hasElement={parentState:Ember.View.states._default,$:function(e,f){var b=c(e,"element");return f?Ember.$(f,b):Ember.$(b)},getElement:function(e){var f=c(e,"parentView");f&&(f=c(f,"element"));return f?e.findElementInParentElement(f):Ember.$("#"+c(e,"elementId"))[0]},setElement:function(c,f){if(null===f)c.invalidateRecursively("element"),
c.transitionTo("preRender");else throw"You cannot set an element to a non-null value when the element is already in the DOM.";return f},rerender:function(c){c._notifyWillRerender();c.clearRenderedChildren();c.domManager.replace(c);return c},destroyElement:function(c){c._notifyWillDestroyElement();c.domManager.remove(c);return c},empty:function(e){var f=c(e,"_childViews"),b,a;if(f){b=c(f,"length");for(a=0;a<b;a++)f[a]._notifyWillDestroyElement()}e.domManager.empty(e)},handleEvent:function(c,f,b){f=
c[f];return"function"===Ember.typeOf(f)?f.call(c,b):!0}};Ember.View.states.inDOM={parentState:Ember.View.states.hasElement,insertElement:function(){throw"You can't insert an element into the DOM that has already been inserted";}}})();(function(){var c=Ember.String.fmt;Ember.View.states.destroyed={parentState:Ember.View.states._default,appendChild:function(){throw c("You can't call %@ on a destroyed view",["appendChild"]);},rerender:function(){throw c("You can't call %@ on a destroyed view",["rerender"]);
},destroyElement:function(){throw c("You can't call %@ on a destroyed view",["destroyElement"]);},empty:function(){throw c("You can't call %@ on a destroyed view",["empty"]);},setElement:function(){throw c("You can't call %@ on a destroyed view",["set('element', ...)"]);},insertElement:Ember.K}})();(function(){var c=Ember.get,e=Ember.set,f=Ember.ArrayUtils.forEach,b=Ember.computed(function(){return c(this,"_childViews")}).property("_childViews").cacheable();Ember.ContainerView=Ember.View.extend({init:function(){var a=
c(this,"childViews");Ember.defineProperty(this,"childViews",b);this._super();var g=c(this,"_childViews");f(a,function(a,b){var f;"string"===typeof a?(f=c(this,a),f=this.createChildView(f),e(this,a,f)):f=this.createChildView(a);g[b]=f},this);Ember.A(g);c(this,"childViews").addArrayObserver(this,{willChange:"childViewsWillChange",didChange:"childViewsDidChange"})},render:function(a){this.forEachChildView(function(b){b.renderToBuffer(a)})},willDestroy:function(){c(this,"childViews").removeArrayObserver(this,
{willChange:"childViewsWillChange",didChange:"childViewsDidChange"});this._super()},childViewsWillChange:function(a,b,c){0!==c&&(this.initializeViews(a.slice(b,b+c),null,null),this.invokeForState("childViewsWillChange",a,b,c))},childViewsDidChange:function(a,b,e,f){c(a,"length");0!==f&&(this.initializeViews(a.slice(b,b+f),this,c(this,"templateData")),this.invokeForState("childViewsDidChange",a,b,f))},initializeViews:function(a,b,c){f(a,function(a){e(a,"_parentView",b);e(a,"templateData",c)})},_scheduleInsertion:function(a,
b){b?b.domManager.after(b,a):this.domManager.prepend(this,a)}});Ember.ContainerView.states={parent:Ember.View.states,inBuffer:{childViewsDidChange:function(a,b,c,e){var f=a.buffer,d;0===c?(a=b[c],d=c+1,a.renderToBuffer(f,"prepend")):(a=b[c-1],d=c);for(f=d;f<c+e;f++)d=a,a=b[f],d=d.buffer,a.renderToBuffer(d,"insertAfter")}},hasElement:{childViewsWillChange:function(a,b,c,e){for(a=c;a<c+e;a++)b[a].remove()},childViewsDidChange:function(a,b,c,e){for(var f=0===c?null:b[c-1],d=c;d<c+e;d++)a=b[d],this._scheduleInsertion(a,
f),f=a}}};Ember.ContainerView.states.inDOM={parentState:Ember.ContainerView.states.hasElement};Ember.ContainerView.reopen({states:Ember.ContainerView.states})})();(function(){var c=Ember.get,e=Ember.set,f=Ember.String.fmt;Ember.CollectionView=Ember.ContainerView.extend({content:null,emptyView:null,itemViewClass:Ember.View,init:function(){var b=this._super();this._contentDidChange();return b},_contentWillChange:Ember.beforeObserver(function(){var b=this.get("content");b&&b.removeArrayObserver(this);
var a=b?c(b,"length"):0;this.arrayWillChange(b,0,a)},"content"),_contentDidChange:Ember.observer(function(){var b=c(this,"content");b&&(ember_assert(f("an Ember.CollectionView's content must implement Ember.Array. You passed %@",[b]),Ember.Array.detect(b)),b.addArrayObserver(this));var a=b?c(b,"length"):0;this.arrayDidChange(b,0,null,a)},"content"),willDestroy:function(){var b=c(this,"content");b&&b.removeArrayObserver(this);this._super()},arrayWillChange:function(b,a,e){(b=c(this,"emptyView"))&&
b instanceof Ember.View&&b.removeFromParent();var b=c(this,"childViews"),f,k;k=c(b,"length");(k=e===k)&&this.invokeForState("empty");for(f=a+e-1;f>=a;f--)e=b[f],k&&(e.removedFromDOM=!0),e.destroy()},arrayDidChange:function(b,a,g,j){var k=c(this,"itemViewClass"),g=c(this,"childViews"),h=[],d,m;"string"===typeof k&&(k=Ember.getPath(k));ember_assert(f("itemViewClass must be a subclass of Ember.View, not %@",[k]),Ember.View.detect(k));if(b&&c(b,"length"))for(m=a;m<a+j;m++)d=b.objectAt(m),d=this.createChildView(k,
{content:d,contentIndex:m}),h.push(d);else{b=c(this,"emptyView");if(!b)return;b=this.createChildView(b);h.push(b);e(this,"emptyView",b)}g.replace(a,0,h)},createChildView:function(b,a){var b=this._super(b,a),g=c(b,"tagName"),g=null===g||void 0===g?Ember.CollectionView.CONTAINER_MAP[c(this,"tagName")]:g;e(b,"tagName",g);return b}});Ember.CollectionView.CONTAINER_MAP={ul:"li",ol:"li",table:"tr",thead:"tr",tbody:"tr",tfoot:"tr",tr:"td",select:"option"}})();(function(){var c=Ember.get,e=Ember.set,f=Ember.getPath;
Ember.State=Ember.Object.extend({isState:!0,parentState:null,start:null,name:null,path:Ember.computed(function(){var b=f(this,"parentState.path"),a=c(this,"name");b&&(a=b+"."+a);return a}).property().cacheable(),init:function(){var b=c(this,"states"),a;if(b)for(a in b)this.setupChild(b,a,b[a]);else{b={};for(a in this)"constructor"!==a&&this.setupChild(b,a,this[a]);e(this,"states",b)}e(this,"routes",{})},setupChild:function(b,a,c){if(!c)return!1;Ember.State.detect(c)?c=c.create({name:a}):c.isState&&
e(c,"name",a);c.isState&&(e(c,"parentState",this),b[a]=c)},enter:Ember.K,exit:Ember.K})})();(function(){var c=Ember.get,e=Ember.set,f=Ember.getPath;Ember.StateManager=Ember.State.extend({init:function(){this._super();var b=c(this,"initialState");!b&&f(this,"states.start")&&(b="start");b&&this.goToState(b)},currentState:null,errorOnUnhandledEvent:!0,currentView:Ember.computed(function(){for(var b=c(this,"currentState"),a;b;){if(c(b,"isViewState")&&(a=c(b,"view")))return a;b=c(b,"parentState")}return null}).property("currentState").cacheable(),
send:function(b,a){this.sendRecursively(b,c(this,"currentState"),a)},sendRecursively:function(b,a,e){var j=a[b];if(j)j.call(a,this,e);else if(a=c(a,"parentState"))this.sendRecursively(b,a,e);else if(c(this,"errorOnUnhandledEvent"))throw new Ember.Error(this.toString()+" could not respond to event "+b+" in state "+f(this,"currentState.path")+".");},findStatesByRoute:function(b,a){if(a&&""!==a){for(var e=a.split("."),f=[],k=0,h=e.length;k<h;k+=1){var d=c(b,"states");if(d&&(d=c(d,e[k])))b=d,f.push(d);
else return}return f}},goToState:function(b){if(!Ember.empty(b)){var a=c(this,"currentState")||this,e,f,k=[];e=a;if(e.routes[b])k=e.routes[b].exitStates,f=e.routes[b].enterStates,e=e.routes[b].futureState;else{for(f=this.findStatesByRoute(a,b);e&&!f;){k.unshift(e);e=c(e,"parentState");if(!e&&(f=this.findStatesByRoute(this,b),!f))return;f=this.findStatesByRoute(e,b)}f=f.slice(0);k=k.slice(0);if(0<f.length)for(e=f[f.length-1];0<f.length&&f[0]===k[0];)f.shift(),k.shift();a.routes[b]={exitStates:k,enterStates:f,
futureState:e}}this.enterState(k,f,e)}},getState:function(b){var a=c(this,b),e=c(this,"parentState");if(a)return a;if(e)return e.getState(b)},asyncEach:function(b,a,c){var e=!1,f=this;if(b.length){var h=b[0],d=b.slice(1),b={async:function(){e=!0},resume:function(){f.asyncEach(d,a,c)}};a.call(this,h,b);e||b.resume()}else c&&c.call(this)},enterState:function(b,a,g){var f=this,b=b.slice(0).reverse();this.asyncEach(b,function(a,b){a.exit(f,b)},function(){this.asyncEach(a,function(a,b){a.enter(f,b)},function(){var a=
g,b,d;for((d=c(a,"initialState"))||(d="start");a=c(c(a,"states"),d);)b=a,a.enter(f),(d=c(a,"initialState"))||(d="start");e(this,"currentState",b||g)})})}})})();(function(){var c=Ember.get,e=Ember.set;Ember.ViewState=Ember.State.extend({isViewState:!0,enter:function(f){var b=c(this,"view"),a;b&&((Ember.View.detect(b)&&(b=b.create(),e(this,"view",b)),ember_assert("view must be an Ember.View",b instanceof Ember.View),a=f.get("rootView"))?(f=c(a,"childViews"),f.pushObject(b)):(a=f.get("rootElement")||
"body",b.appendTo(a)))},exit:function(){var e=c(this,"view");e&&(c(e,"parentView")?e.removeFromParent():e.remove())}})})();(function(){(function(c){var e=function(){},f=0,b=c.document,a="createRange"in b&&"undefined"!==typeof Range&&Range.prototype.createContextualFragment,g=function(){var a=b.createElement("div");a.innerHTML="<div></div>";a.firstChild.innerHTML="<script><\/script>";return""===a.firstChild.innerHTML}(),j=function(a){var b;b=this instanceof j?this:new e;b.innerHTML=a;a="metamorph-"+
f++;b.start=a+"-start";b.end=a+"-end";return b};e.prototype=j.prototype;var k,h,d,m,p;if(a)k=function(a,c){var d=b.createRange(),e=b.getElementById(a.start),g=b.getElementById(a.end);c?(d.setStartBefore(e),d.setEndAfter(g)):(d.setStartAfter(e),d.setEndBefore(g));return d},h=function(a,b){var c=k(this,b);c.deleteContents();var d=c.createContextualFragment(a);c.insertNode(d)},a=function(){k(this,!0).deleteContents()},d=function(a){var c=b.createRange();c.setStart(a);c.collapse(!1);c=c.createContextualFragment(this.outerHTML());
a.appendChild(c)},m=function(a){var c=b.createRange(),d=b.getElementById(this.end);c.setStartAfter(d);c.setEndAfter(d);a=c.createContextualFragment(a);c.insertNode(a)},p=function(a){var c=b.createRange(),d=b.getElementById(this.start);c.setStartAfter(d);c.setEndAfter(d);a=c.createContextualFragment(a);c.insertNode(a)};else{var o={select:[1,"<select multiple='multiple'>","</select>"],fieldset:[1,"<fieldset>","</fieldset>"],table:[1,"<table>","</table>"],tbody:[2,"<table><tbody>","</tbody></table>"],
tr:[3,"<table><tbody><tr>","</tr></tbody></table>"],colgroup:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],map:[1,"<map>","</map>"],_default:[0,"",""]},q=function(a,c){var d=o[a.tagName.toLowerCase()]||o._default,e=d[0],f=d[1],h=d[2];g&&(c="&shy;"+c);d=b.createElement("div");d.innerHTML=f+c+h;for(f=0;f<=e;f++)d=d.firstChild;if(g){for(e=d;1===e.nodeType&&!e.nodeName&&1===e.childNodes.length;)e=e.firstChild;3===e.nodeType&&"\u00ad"===e.nodeValue.charAt(0)&&(e.nodeValue=e.nodeValue.slice(1))}return d},
s=function(a){for(;""===a.parentNode.tagName;)a=a.parentNode;return a};h=function(a,c){var d=s(b.getElementById(this.start)),e=b.getElementById(this.end),g=e.parentNode,f,h,j;d.parentNode!==e.parentNode&&e.parentNode.insertBefore(d,e.parentNode.firstChild);for(f=d.nextSibling;f;){h=f.nextSibling;if(j=f===e)if(c)e=f.nextSibling;else break;f.parentNode.removeChild(f);if(j)break;f=h}for(f=q(d.parentNode,a);f;)h=f.nextSibling,g.insertBefore(f,e),f=h};a=function(){var a=s(b.getElementById(this.start)),
c=b.getElementById(this.end);this.html("");a.parentNode.removeChild(a);c.parentNode.removeChild(c)};d=function(a){for(var b=q(a,this.outerHTML());b;)nextSibling=b.nextSibling,a.appendChild(b),b=nextSibling};m=function(a){var c=b.getElementById(this.end),d=c.nextSibling,c=c.parentNode,e;for(e=q(c,a);e;)a=e.nextSibling,c.insertBefore(e,d),e=a};p=function(a){for(var c=b.getElementById(this.start),d=c.parentNode,a=q(d,a),e=c.nextSibling;a;)c=a.nextSibling,d.insertBefore(a,e),a=c}}j.prototype.html=function(a){this.checkRemoved();
if(void 0===a)return this.innerHTML;h.call(this,a);this.innerHTML=a};j.prototype.replaceWith=function(a){this.checkRemoved();h.call(this,a,!0)};j.prototype.remove=a;j.prototype.outerHTML=function(){return this.startTag()+this.innerHTML+this.endTag()};j.prototype.appendTo=d;j.prototype.after=m;j.prototype.prepend=p;j.prototype.startTag=function(){return"<script id='"+this.start+"' type='text/x-placeholder'><\/script>"};j.prototype.endTag=function(){return"<script id='"+this.end+"' type='text/x-placeholder'><\/script>"};
j.prototype.isRemoved=function(){var a=b.getElementById(this.start),c=b.getElementById(this.end);return!a||!c};j.prototype.checkRemoved=function(){if(this.isRemoved())throw Error("Cannot perform operations on a Metamorph that is not in the DOM.");};c.Metamorph=j})(this)})();(function(){Ember.Handlebars=Ember.create(Handlebars);Ember.Handlebars.helpers=Ember.create(Handlebars.helpers);Ember.Handlebars.Compiler=function(){};Ember.Handlebars.Compiler.prototype=Ember.create(Handlebars.Compiler.prototype);
Ember.Handlebars.Compiler.prototype.compiler=Ember.Handlebars.Compiler;Ember.Handlebars.JavaScriptCompiler=function(){};Ember.Handlebars.JavaScriptCompiler.prototype=Ember.create(Handlebars.JavaScriptCompiler.prototype);Ember.Handlebars.JavaScriptCompiler.prototype.compiler=Ember.Handlebars.JavaScriptCompiler;Ember.Handlebars.JavaScriptCompiler.prototype.namespace="Ember.Handlebars";Ember.Handlebars.JavaScriptCompiler.prototype.initializeBuffer=function(){return"''"};Ember.Handlebars.JavaScriptCompiler.prototype.appendToBuffer=
function(c){return"data.buffer.push("+c+");"};Ember.Handlebars.Compiler.prototype.mustache=function(c){if(!c.params.length&&!c.hash){var f=new Handlebars.AST.IdNode(["_triageMustache"]);c.escaped&&(c.hash=c.hash||new Handlebars.AST.HashNode([]),c.hash.pairs.push(["escaped",new Handlebars.AST.StringNode("true")]));c=new Handlebars.AST.MustacheNode([f].concat([c.id]),c.hash,!c.escaped)}return Handlebars.Compiler.prototype.mustache.call(this,c)};Ember.Handlebars.precompile=function(c){var f=Handlebars.parse(c),
c={data:!0,stringParams:!0},f=(new Ember.Handlebars.Compiler).compile(f,c);return(new Ember.Handlebars.JavaScriptCompiler).compile(f,c,void 0,!0)};Ember.Handlebars.compile=function(c){var f=Handlebars.parse(c),c={data:!0,stringParams:!0},f=(new Ember.Handlebars.Compiler).compile(f,c),c=(new Ember.Handlebars.JavaScriptCompiler).compile(f,c,void 0,!0);return Handlebars.template(c)};var c=Ember.Handlebars.normalizePath=function(c,f,b){var b=b&&b.keywords||{},a,g;a=f.split(".",1)[0];b.hasOwnProperty(a)&&
(c=b[a],g=!0,f=f===a?"":f.substr(a.length));return{root:c,path:f,isKeyword:g}};Ember.Handlebars.getPath=function(e,f,b){f=c(e,f,b&&b.data);e=f.root;f=f.path;b=Ember.getPath(e,f,!1);void 0===b&&(e!==window&&Ember.isGlobalPath(f))&&(b=Ember.getPath(window,f));return b};Ember.Handlebars.registerHelper("helperMissing",function(c,f){var b="";f.data&&(b=f.data.view);throw new Ember.Error(Ember.String.fmt("%@ Handlebars error: Could not find property '%@' on object %@.",[b,c,this]));})})();(function(){var c=
Ember.get;Ember.Metamorph=Ember.Mixin.create({isVirtual:!0,tagName:"",init:function(){this._super();this.morph=Metamorph()},beforeRender:function(c){c.push(this.morph.startTag())},afterRender:function(c){c.push(this.morph.endTag())},createElement:function(){this.outerHTML=this.renderToBuffer().string();this.clearBuffer()},domManager:{remove:function(c){c=c.morph;c.isRemoved()||c.remove()},prepend:function(c,f){f._insertElementLater(function(){c.morph.prepend(f.outerHTML);f.outerHTML=null})},after:function(c,
f){f._insertElementLater(function(){c.morph.after(f.outerHTML);f.outerHTML=null})},replace:function(e){var f=e.morph;e.transitionTo("preRender");e.clearRenderedChildren();var b=e.renderToBuffer();Ember.run.schedule("render",this,function(){c(e,"isDestroyed")||(e.invalidateRecursively("element"),e._notifyWillInsertElement(),f.replaceWith(b.string()),e.transitionTo("inDOM"),e._notifyDidInsertElement())})},empty:function(c){c.morph.html("")}}})})();(function(){var c=Ember.get,e=Ember.set,f=Ember.Handlebars.getPath;
Ember._BindableSpanView=Ember.View.extend(Ember.Metamorph,{shouldDisplayFunc:null,preserveContext:!1,displayTemplate:null,inverseTemplate:null,property:null,normalizedValue:Ember.computed(function(){var b=c(this,"property"),a=c(this,"previousContext"),e=c(this,"valueNormalizerFunc"),j;""===b?b=a:(j=c(this,"templateData"),b=f(a,b,{data:j}));return e?e(b):b}).property("property","previousContext","valueNormalizerFunc"),rerenderIfNeeded:function(){!c(this,"isDestroyed")&&c(this,"normalizedValue")!==
this._lastNormalizedValue&&this.rerender()},render:function(b){var a=c(this,"isEscaped"),g=c(this,"shouldDisplayFunc"),f=c(this,"preserveContext"),k=c(this,"previousContext"),h=c(this,"inverseTemplate"),d=c(this,"displayTemplate"),m=c(this,"normalizedValue");this._lastNormalizedValue=m;if(g(m))if(e(this,"template",d),f)e(this,"_templateContext",k);else if(d)e(this,"_templateContext",m);else{m=null===m||void 0===m?"":""+m;a&&(m=Handlebars.Utils.escapeExpression(m));b.push(m);return}else h?(e(this,
"template",h),f?e(this,"_templateContext",k):e(this,"_templateContext",m)):e(this,"template",function(){return""});return this._super(b)}})})();(function(){var c=Ember.get,e=Ember.Handlebars.getPath,f=Ember.String.fmt,b=Ember.ArrayUtils.forEach,a=Ember.Handlebars,g=a.helpers;(function(){var b=function(a,b,c,g,f){var j=b.data,q=b.fn,s=b.inverse,u=j.view,t,a=Ember.Handlebars.normalizePath(this,a,j);t=a.root;a=a.path;if("object"===typeof this){var v=u.createChildView(Ember._BindableSpanView,{preserveContext:c,
shouldDisplayFunc:g,valueNormalizerFunc:f,displayTemplate:q,inverseTemplate:s,property:a,previousContext:t,isEscaped:b.hash.escaped,templateData:b.data});u.appendChild(v);""!==a&&Ember.addObserver(t,a,function(){Ember.run.once(v,"rerenderIfNeeded")})}else j.buffer.push(e(this,a,b))};a.registerHelper("_triageMustache",function(a,b){ember_assert("You cannot pass more than one argument to the _triageMustache helper",2>=arguments.length);return g[a]?g[a].call(this,b):g.bind.apply(this,arguments)});a.registerHelper("bind",
function(a,c){ember_assert("You cannot pass more than one argument to the bind helper",2>=arguments.length);return b.call(c.contexts&&c.contexts[0]||this,a,c,!1,function(a){return!Ember.none(a)})});a.registerHelper("boundIf",function(a,e){var d=function(a){return"array"===Ember.typeOf(a)?0!==c(a,"length"):!!a};return b.call(e.contexts&&e.contexts[0]||this,a,e,!0,d,d)})})();a.registerHelper("with",function(a,b){ember_assert("You must pass exactly one argument to the with helper",2===arguments.length);
ember_assert("You must pass a block to the with helper",b.fn&&b.fn!==Handlebars.VM.noop);return g.bind.call(b.contexts[0],a,b)});a.registerHelper("if",function(a,b){ember_assert("You must pass exactly one argument to the if helper",2===arguments.length);ember_assert("You must pass a block to the if helper",b.fn&&b.fn!==Handlebars.VM.noop);return g.boundIf.call(b.contexts[0],a,b)});a.registerHelper("unless",function(a,b){ember_assert("You must pass exactly one argument to the unless helper",2===arguments.length);
ember_assert("You must pass a block to the unless helper",b.fn&&b.fn!==Handlebars.VM.noop);var c=b.fn;b.fn=b.inverse;b.inverse=c;return g.boundIf.call(b.contexts[0],a,b)});a.registerHelper("bindAttr",function(c){var g=c.hash;ember_assert("You must specify at least one hash argument to bindAttr",!!Ember.keys(g).length);var h=c.data.view,d=[],m=this,p=++Ember.$.uuid,o=g["class"];null!==o&&void 0!==o&&(o=a.bindClasses(this,o,h,p,c),d.push('class="'+Handlebars.Utils.escapeExpression(o.join(" "))+'"'),
delete g["class"]);o=Ember.keys(g);b(o,function(a){var b=g[a];ember_assert(f("You must provide a String for a bound attribute, not %@",[b]),typeof b==="string");var o=b==="this"?m:e(m,b,c),t=Ember.typeOf(o);ember_assert(f("Attributes must be numbers, strings or booleans, not %@",[o]),o===null||o===void 0||t==="number"||t==="string"||t==="boolean");var v,z;v=function(){var d=e(m,b,c);ember_assert(f("Attributes must be numbers, strings or booleans, not %@",[d]),d===null||d===void 0||typeof d==="number"||
typeof d==="string"||typeof d==="boolean");var g=h.$("[data-bindattr-"+p+"='"+p+"']");g.length===0?Ember.removeObserver(m,b,z):Ember.View.applyAttributeBindings(g,a,d)};z=function(){Ember.run.once(v)};b!=="this"&&Ember.addObserver(m,b,z);t==="string"||t==="number"&&!isNaN(o)?d.push(a+'="'+Handlebars.Utils.escapeExpression(o)+'"'):o&&t==="boolean"&&d.push(a+'="'+a+'"')},this);d.push("data-bindattr-"+p+'="'+p+'"');return new a.SafeString(d.join(" "))});a.bindClasses=function(a,c,g,d,f){var p=[],o,q,
s,u=function(b){var b=b.split(":"),c=b[1],b=b[0],d=""!==b?e(a,b,f):!0;if(!0===d){if(c)return c;c=b.split(".");return Ember.String.dasherize(c[c.length-1])}return!1!==d&&void 0!==d&&null!==d?d:null};b(c.split(" "),function(b){var c,e,f;e=function(){o=u(b);s=d?g.$("[data-bindattr-"+d+"='"+d+"']"):g.$();0===s.length?Ember.removeObserver(a,b,f):(c&&s.removeClass(c),o?(s.addClass(o),c=o):c=null)};f=function(){Ember.run.once(e)};var k=b.split(":")[0];""!==k&&Ember.addObserver(a,k,f);if(q=u(b))p.push(q),
c=q});return p}})();(function(){var c=Ember.get,e=Ember.Handlebars;e.ViewHelper=Ember.Object.create({viewClassFromHTMLOptions:function(c,b,a){var e=b.hash,b=b.data,j={},k=e["class"],h=!1;e.id&&(j.elementId=e.id,h=!0);k&&(k=k.split(" "),j.classNames=k,h=!0);e.classBinding&&(j.classNameBindings=e.classBinding.split(" "),h=!0);e.classNameBindings&&(j.classNameBindings=e.classNameBindings.split(" "),h=!0);e.attributeBindings&&(ember_assert("Setting 'attributeBindings' via Handlebars is not allowed. Please subclass Ember.View and set it there instead."),
j.attributeBindings=null,h=!0);h&&(e=Ember.$.extend({},e),delete e.id,delete e["class"],delete e.classBinding);for(var d in e)e.hasOwnProperty(d)&&Ember.IS_BINDING.test(d)&&(k=e[d],h=Ember.Handlebars.normalizePath(null,k,b),h.isKeyword?e[d]="templateData.keywords."+k:Ember.isGlobalPath(k)||(e[d]="this"===k?"bindingContext":"bindingContext."+k));j.bindingContext=a;return c.extend(e,j)},helper:function(f,b,a){var g=a.data,j=a.fn,k;"string"===typeof b?(k=e.getPath(f,b,a),ember_assert("Unable to find view at path '"+
b+"'",!!k)):k=b;ember_assert(Ember.String.fmt("You must pass a view class to the #view helper, not %@ (%@)",[b,k]),Ember.View.detect(k));k=this.viewClassFromHTMLOptions(k,a,f);f=g.view;a={templateData:a.data};j&&(ember_assert("You cannot provide a template block if you also specified a templateName",!c(a,"templateName")&&!c(k.proto(),"templateName")),a.template=j);f.appendChild(k,a)}});e.registerHelper("view",function(c,b){ember_assert("The view helper only takes a single argument",2>=arguments.length);
c&&(c.data&&c.data.isRenderData)&&(b=c,c="Ember.View");return e.ViewHelper.helper(this,c,b)})})();(function(){var c=Ember.get,e=Ember.Handlebars.getPath,f=Ember.String.fmt;Ember.Handlebars.registerHelper("collection",function(b,a){b&&b.data&&b.data.isRenderData?(a=b,b=void 0,ember_assert("You cannot pass more than one argument to the collection helper",1===arguments.length)):ember_assert("You cannot pass more than one argument to the collection helper",2===arguments.length);var g=a.fn,j=a.data,k=
a.inverse,h;h=b?e(this,b,a):Ember.CollectionView;ember_assert(f("%@ #collection: Could not find %@",j.view,b),!!h);var d=a.hash,m={},p,o;p=d.itemViewClass;o=h.proto();delete d.itemViewClass;o=p?e(o,p,a):o.itemViewClass;ember_assert(f("%@ #collection: Could not find %@",j.view,p),!!o);for(var q in d)if(d.hasOwnProperty(q)&&(p=q.match(/^item(.)(.*)$/)))m[p[1].toLowerCase()+p[2]]=d[q],delete d[q];g&&(m.template=g,delete a.fn);k&&k!==Handlebars.VM.noop&&(g=Ember.View,d.emptyViewClass&&(g=Ember.View.detect(d.emptyViewClass)?
d.emptyViewClass:e(this,d.emptyViewClass,a)),d.emptyView=g.extend({template:k,tagName:m.tagName}));d.preserveContext&&(m._templateContext=Ember.computed(function(){return c(this,"content")}).property("content"),delete d.preserveContext);d.itemViewClass=Ember.Handlebars.ViewHelper.viewClassFromHTMLOptions(o,{data:j,hash:m},this);return Ember.Handlebars.helpers.view.call(this,h,a)})})();(function(){var c=Ember.Handlebars.getPath;Ember.Handlebars.registerHelper("unbound",function(e,f){return c(f.contexts&&
f.contexts[0]||this,e,f)})})();(function(){var c=Ember.getPath;Ember.Handlebars.registerHelper("log",function(e,f){Ember.Logger.log(c(f.contexts&&f.contexts[0]||this,e))});Ember.Handlebars.registerHelper("debugger",function(){debugger})})();(function(){Ember.Handlebars.EachView=Ember.CollectionView.extend(Ember.Metamorph,{itemViewClass:Ember.View.extend(Ember.Metamorph)});Ember.Handlebars.registerHelper("each",function(c,e){e.hash.contentBinding=c;e.hash.preserveContext=!0;e.hash.itemTagName="";e.hash.emptyViewClass=
Ember.View.extend(Ember.Metamorph);return Ember.Handlebars.helpers.collection.call(this,"Ember.Handlebars.EachView",e)})})();(function(){Ember.Handlebars.registerHelper("template",function(c,e){ember_assert("Unable to find template with name '"+c+"'.",!!Ember.TEMPLATES[c]);Ember.TEMPLATES[c](this,{data:e.data})})})();(function(){var c=Ember.Handlebars,e=c.getPath,f=c.ActionHelper={registeredActions:{}};f.registerAction=function(b,a,c,e,k){var h=(++Ember.$.uuid).toString();f.registeredActions[h]={eventName:a,
handler:function(a){a.view=e;a.context=k;return c.isState&&"function"===typeof c.send?c.send(b,a):c[b].call(c,a)}};e.on("willRerender",function(){delete f.registeredActions[h]});return h};c.registerHelper("action",function(b,a){var g=a.hash||{},j=g.on||"click",k=a.data.view;k.isVirtual&&(k=k.get("parentView"));g=g.target?e(this,g.target,a):k;j=f.registerAction(b,j,g,k,a.contexts[0]);return new c.SafeString('data-ember-action="'+j+'"')})})();(function(){var c=Ember.get;Ember.Handlebars.registerHelper("yield",
function(e){for(var f=e.data.view;f&&!c(f,"layout");)f=c(f,"parentView");ember_assert("You called yield in a template that was not a layout",!!f);(f=c(f,"template"))&&f(this,e)})})();(function(){var c=Ember.set,e=Ember.get;Ember.Checkbox=Ember.View.extend({classNames:["ember-checkbox"],tagName:Ember.computed(function(){return e(this,"title")?void 0:"input"}).property(),attributeBindings:Ember.computed(function(){return e(this,"title")?[]:["type","checked","disabled"]}).property(),type:"checkbox",
checked:!1,disabled:!1,title:Ember.computed(function(c,b){ember_deprecate("Automatically surrounding Ember.Checkbox inputs with a label by providing a 'title' property is deprecated",void 0===b);return b}).property().cacheable(),defaultTemplate:Ember.computed(function(){if(e(this,"title"))return Ember.Handlebars.compile('<label><input type="checkbox" {{bindAttr checked="checked" disabled="disabled"}}>{{title}}</label>')}).property().cacheable(),value:Ember.computed(function(f,b){ember_deprecate("Ember.Checkbox's 'value' property has been renamed to 'checked' to match the html element attribute name");
return void 0!==b?c(this,"checked",b):e(this,"checked")}).property("checked"),change:function(){Ember.run.once(this,this._updateElementValue)},_updateElementValue:function(){var f=e(this,"title")?this.$("input:checkbox"):this.$();c(this,"checked",f.prop("checked"))}})})();(function(){var c=Ember.set;Ember.TextSupport=Ember.Mixin.create({value:"",attributeBindings:["placeholder","disabled","maxlength"],placeholder:null,disabled:!1,maxlength:null,insertNewline:Ember.K,cancel:Ember.K,focusOut:function(){this._elementValueDidChange()},
change:function(){this._elementValueDidChange()},keyUp:function(c){this.interpretKeyEvents(c)},interpretKeyEvents:function(c){var f=Ember.TextSupport.KEY_EVENTS[c.keyCode];this._elementValueDidChange();if(f)return this[f](c)},_elementValueDidChange:function(){c(this,"value",this.$().val())}});Ember.TextSupport.KEY_EVENTS={13:"insertNewline",27:"cancel"}})();Ember.TextField=Ember.View.extend(Ember.TextSupport,{classNames:["ember-text-field"],tagName:"input",attributeBindings:["type","value","size"],
type:"text",size:null});(function(){var c=Ember.get,e=Ember.set;Ember.Button=Ember.View.extend(Ember.TargetActionSupport,{classNames:["ember-button"],classNameBindings:["isActive"],tagName:"button",propagateEvents:!1,attributeBindings:["type","disabled","href"],targetObject:Ember.computed(function(){var e=c(this,"target"),b=c(this,"templateContext"),a=c(this,"templateData");return"string"!==typeof e?e:Ember.Handlebars.getPath(b,e,{data:a})}).property("target").cacheable(),type:Ember.computed(function(c,
b){var a=this.get("tagName");void 0!==b&&(this._type=b);if(void 0!==this._type)return this._type;if("input"===a||"button"===a)return"button"}).property("tagName").cacheable(),disabled:!1,href:Ember.computed(function(){return"a"===this.get("tagName")?"#":null}).property("tagName").cacheable(),mouseDown:function(){c(this,"disabled")||(e(this,"isActive",!0),this._mouseEntered=this._mouseDown=!0);return c(this,"propagateEvents")},mouseLeave:function(){this._mouseDown&&(e(this,"isActive",!1),this._mouseEntered=
!1)},mouseEnter:function(){this._mouseDown&&(e(this,"isActive",!0),this._mouseEntered=!0)},mouseUp:function(){c(this,"isActive")&&(this.triggerAction(),e(this,"isActive",!1));this._mouseEntered=this._mouseDown=!1;return c(this,"propagateEvents")},keyDown:function(c){(13===c.keyCode||32===c.keyCode)&&this.mouseDown()},keyUp:function(c){(13===c.keyCode||32===c.keyCode)&&this.mouseUp()},touchStart:function(c){return this.mouseDown(c)},touchEnd:function(c){return this.mouseUp(c)}})})();(function(){var c=
Ember.get;Ember.TextArea=Ember.View.extend(Ember.TextSupport,{classNames:["ember-text-area"],tagName:"textarea",attributeBindings:["rows","cols"],rows:null,cols:null,didInsertElement:function(){this._updateElementValue()},_updateElementValue:Ember.observer(function(){this.$().val(c(this,"value"))},"value")})})();Ember.TabContainerView=Ember.View.extend();(function(){var c=Ember.get,e=Ember.getPath;Ember.TabPaneView=Ember.View.extend({tabsContainer:Ember.computed(function(){return this.nearestInstanceOf(Ember.TabContainerView)}).property(),
isVisible:Ember.computed(function(){return c(this,"viewName")===e(this,"tabsContainer.currentView")}).property("tabsContainer.currentView")})})();(function(){var c=Ember.get,e=Ember.setPath;Ember.TabView=Ember.View.extend({tabsContainer:Ember.computed(function(){return this.nearestInstanceOf(Ember.TabContainerView)}).property(),mouseUp:function(){e(this,"tabsContainer.currentView",c(this,"value"))}})})();(function(){var c=Ember.set,e=Ember.get,f=Ember.getPath,b=Ember.ArrayUtils.indexOf,a=Ember.ArrayUtils.indexesOf;
Ember.Select=Ember.View.extend({tagName:"select",template:Ember.Handlebars.compile('{{#if prompt}}<option>{{prompt}}</option>{{/if}}{{#each content}}{{view Ember.SelectOption contentBinding="this"}}{{/each}}'),attributeBindings:["multiple"],multiple:!1,content:null,selection:null,prompt:null,optionLabelPath:"content",optionValuePath:"content",didInsertElement:function(){e(this,"selection")&&this.selectionDidChange();this.change()},change:function(){e(this,"multiple")?this._changeMultiple():this._changeSingle()},
selectionDidChange:Ember.observer(function(){var a=e(this,"selection"),b=Ember.isArray(a);e(this,"multiple")?b?this._selectionDidChangeMultiple():c(this,"selection",Ember.A([a])):this._selectionDidChangeSingle()},"selection"),_changeSingle:function(){var a=this.$()[0].selectedIndex,b=e(this,"content"),f=e(this,"prompt");b&&(f&&0===a?c(this,"selection",null):(f&&(a-=1),c(this,"selection",b.objectAt(a))))},_changeMultiple:function(){var a=this.$("option:selected"),b=e(this,"prompt")?1:0,f=e(this,"content");
f&&a&&(a=a.map(function(){return this.index-b}).toArray(),c(this,"selection",f.objectsAt(a)))},_selectionDidChangeSingle:function(){var a=this.$()[0],c=e(this,"content"),f=e(this,"selection"),c=b(c,f);e(this,"prompt")&&(c+=1);a&&(a.selectedIndex=c)},_selectionDidChangeMultiple:function(){var c=e(this,"content"),f=e(this,"selection"),k=a(c,f),h=e(this,"prompt")?1:0;(c=this.$("option"))&&c.each(function(){this.selected=-1<b(k,this.index+h)})}});Ember.SelectOption=Ember.View.extend({tagName:"option",
template:Ember.Handlebars.compile("{{label}}"),attributeBindings:["value","selected"],init:function(){this.labelPathDidChange();this.valuePathDidChange();this._super()},selected:Ember.computed(function(){var a=e(this,"content"),c=f(this,"parentView.selection");return f(this,"parentView.multiple")?c&&-1<b(c,a):a==c}).property("content","parentView.selection"),labelPathDidChange:Ember.observer(function(){var a=f(this,"parentView.optionLabelPath");a&&Ember.defineProperty(this,"label",Ember.computed(function(){return f(this,
a)}).property(a).cacheable())},"parentView.optionLabelPath"),valuePathDidChange:Ember.observer(function(){var a=f(this,"parentView.optionValuePath");a&&Ember.defineProperty(this,"value",Ember.computed(function(){return f(this,a)}).property(a).cacheable())},"parentView.optionValuePath")})})();(function(){Ember.Handlebars.bootstrap=function(c){var e='script[type="text/x-handlebars"], script[type="text/x-raw-handlebars"]';Ember.ENV.LEGACY_HANDLEBARS_TAGS&&(e+=', script[type="text/html"]');ember_warn("Ember no longer parses text/html script tags by default. Set ENV.LEGACY_HANDLEBARS_TAGS = true to restore this functionality.",
Ember.ENV.LEGACY_HANDLEBARS_TAGS||0===Ember.$('script[type="text/html"]').length);Ember.$(e,c).each(function(){var c=Ember.$(this);if("text/html"!==c.attr("type")||Ember.ENV.LEGACY_HANDLEBARS_TAGS){var b="text/x-raw-handlebars"===c.attr("type")?Ember.$.proxy(Handlebars.compile,Handlebars):Ember.$.proxy(Ember.Handlebars.compile,Ember.Handlebars),a=c.attr("data-template-name")||c.attr("id"),b=b(c.html()),e,j;if(a)Ember.TEMPLATES[a]=b,c.remove();else{if(0!==c.parents("head").length)throw new Ember.Error("Template found in <head> without a name specified. Please provide a data-template-name attribute.\n"+
c.html());a=(a=c.attr("data-view"))?Ember.getPath(a):Ember.View;e=c.attr("data-element-id");j=c.attr("data-tag-name");b={template:b};e&&(b.elementId=e);j&&(b.tagName=j);a=a.create(b);a._insertElementLater(function(){c.replaceWith(this.$());c=null})}}})};Ember.$(document).ready(function(){Ember.Handlebars.bootstrap(Ember.$(document))})})()})},"bridge/tooltipsy":function(){define("bridge/tooltipsy",["bridge/jquery","jquery/tooltipsy"],function(c){var e;c.fn.tooltipsy&&(e=c);return e})},"jquery/tooltipsy":function(){define(["dojo",
"dijit","dojox"],function(){(function(c){c.tooltipsy=function(e,f){this.options=f;this.$el=c(e);this.title=this.$el.attr("title")||"";this.$el.attr("title","");this.random=parseInt(1E4*Math.random());this.shown=this.ready=!1;this.height=this.width=0;this.delaytimer=null;this.$el.data("tooltipsy",this);this.init()};c.tooltipsy.prototype.init=function(){var e=this;e.settings=c.extend({},e.defaults,e.options);e.settings.delay=parseInt(e.settings.delay);"function"===typeof e.settings.content&&e.readify();
e.settings.showEvent===e.settings.hideEvent&&"click"===e.settings.showEvent?e.$el.toggle(function(c){"click"===e.settings.showEvent&&"A"==e.$el[0].tagName&&c.preventDefault();0<e.settings.delay?e.delaytimer=window.setTimeout(function(){e.show(c)},e.settings.delay):e.show(c)},function(c){"click"===e.settings.showEvent&&"A"==e.$el[0].tagName&&c.preventDefault();window.clearTimeout(e.delaytimer);e.delaytimer=null;e.hide(c)}):e.$el.bind(e.settings.showEvent,function(c){"click"===e.settings.showEvent&&
"A"==e.$el[0].tagName&&c.preventDefault();0<e.settings.delay?e.delaytimer=window.setTimeout(function(){e.show(c)},e.settings.delay):e.show(c)}).bind(e.settings.hideEvent,function(c){"click"===e.settings.showEvent&&"A"==e.$el[0].tagName&&c.preventDefault();window.clearTimeout(e.delaytimer);e.delaytimer=null;e.hide(c)})};c.tooltipsy.prototype.show=function(e){var f=this;!1===f.ready&&f.readify();!1===f.shown&&(0<function(a){var b=0,c;for(c in a)a.hasOwnProperty(c)&&b++;return b}(f.settings.css)&&f.$tip.css(f.settings.css),
f.width=f.$tipsy.outerWidth(),f.height=f.$tipsy.outerHeight());if("cursor"===f.settings.alignTo&&e){var b=[e.pageX+f.settings.offset[0],e.pageY+f.settings.offset[1]];c(window).width()}else b=[function(a){return f.settings.offset[0]<0?a.left-Math.abs(f.settings.offset[0])-f.width:f.settings.offset[0]===0?a.left-(f.width-f.$el.outerWidth())/2:a.left+f.$el.outerWidth()+f.settings.offset[0]}(f.offset(f.$el[0])),function(a){return f.settings.offset[1]<0?a.top-Math.abs(f.settings.offset[1])-f.height:f.settings.offset[1]===
0?a.top-(f.height-f.$el.outerHeight())/2:a.top+f.$el.outerHeight()+f.settings.offset[1]}(f.offset(f.$el[0]))];f.$tipsy.css({top:b[1]+"px",left:b[0]+"px"});f.settings.show(e,f.$tipsy.stop(!0,!0))};c.tooltipsy.prototype.hide=function(c){var f=this;!1!==f.ready&&(c&&c.relatedTarget===f.$tip[0]?f.$tip.bind("mouseleave",function(b){b.relatedTarget!==f.$el[0]&&f.settings.hide(b,f.$tipsy.stop(!0,!0))}):f.settings.hide(c,f.$tipsy.stop(!0,!0)))};c.tooltipsy.prototype.readify=function(){this.ready=!0;this.$tipsy=
c('<div id="tooltipsy'+this.random+'" style="position:absolute;z-index:2147483647;display:none">').appendTo("body");this.$tip=c('<div class="'+this.settings.className+'">').appendTo(this.$tipsy);this.$tip.data("rootel",this.$el);var e=this.$el,f=this.$tip;this.$tip.html(""!=this.settings.content?"string"==typeof this.settings.content?this.settings.content:this.settings.content(e,f):this.title)};c.tooltipsy.prototype.offset=function(c){var f=ot=0;if(c.offsetParent){do"BODY"!=c.tagName&&(f+=c.offsetLeft-
c.scrollLeft,ot+=c.offsetTop-c.scrollTop);while(c=c.offsetParent)}return{left:f,top:ot}};c.tooltipsy.prototype.destroy=function(){this.$tipsy.remove();c.removeData(this.$el,"tooltipsy")};c.tooltipsy.prototype.defaults={alignTo:"element",offset:[0,-1],content:"",show:function(c,f){f.fadeIn(100)},hide:function(c,f){f.fadeOut(100)},css:{},className:"tooltipsy",delay:200,showEvent:"mouseenter",hideEvent:"mouseleave"};c.fn.tooltipsy=function(e){return this.each(function(){new c.tooltipsy(this,e)})}})(jQuery)})},
"simplekey/results":function(){define("simplekey/results","util/document_is_ready bridge/jquery bridge/ember bridge/shadowbox util/shadowbox_init bridge/underscore gobotany/utils simplekey/App3 simplekey/Filter simplekey/FilterController simplekey/animation simplekey/cookie simplekey/glossarize simplekey/resources simplekey/ResultsPageState".split(" "),function(c,e,f,b,a,g,j,k,h,d,m,p,o,q,s){return{results_page_init:function(a){var t=a.pile_slug,v;global_speciessectionhelper=null;Filter=h;FilterController=
d;glossarize=o;k.taxa=f.Object.create({len:"Loading",show_list:false});k.image_types=f.ArrayProxy.create({content:[]});k.TaxaView=f.View.extend({show_listBinding:"App3.taxa.show_list",taxa_countBinding:"App3.taxa.len",switch_photo_list:function(a){global_speciessectionhelper&&global_speciessectionhelper.toggle_view(a)}});var z=e.Deferred(),w=e.Deferred(),x=e.Deferred(),r=e.Deferred(),B=e.Deferred(),A=q.key_vector("simple"),C=e.Deferred(),D=q.pile_species(t),F=e.Deferred();D.done(function(a){C.resolve(g.pluck(a,
"id"))});k.addObserver("image_type",function(){B.resolve()});k.taxa_by_sciname={};D.done(function(a){g.each(a,function(a){k.taxa_by_sciname[a.scientific_name]=a})});e.when(w,A,D).done(function(a,b,c){var d=b[0].species,c=g.filter(c,function(a){return g.indexOf(d,a.id)!=-1});k.set("taxadata",c);var e=FilterController.create({taxadata:c,plain_filters:[],add:function(a){this._super(a);a.slug!="family"&&a.slug!="genus"&&this.plain_filters.addObject(a)}});e.filtermap.family.set("value",a.family_value);
e.filtermap.genus.set("value",a.genus_value);g.each(a.other_filters,function(a){e.add(a)});k.set("filter_controller",e);k.set("family_filter",e.filtermap.family);k.set("genus_filter",e.filtermap.genus);x.resolve()});e.when(x,c).done(function(){e(".loading").hide()});var E=function(a){var b=k.filter_controller.compute(a),a=g.filter(a.values,function(a){return g.intersect(a.taxa,b).length}),a=g.pluck(a,"choice");a.sort();a.splice(0,0,"");return a};k.reopen({family_choices:function(){var a=[];k.family_filter&&
(a=E(k.family_filter));return a}.property("filter_controller.taxa"),genus_choices:function(){var a=[];k.genus_filter&&(a=E(k.genus_filter));return a}.property("filter_controller.taxa"),family_value:function(a,b){if(!k.family_filter)return"";if(arguments.length===1)return k.family_filter.get("value")||"";k.family_filter.set("value",b||null)}.property("App3.family_filter.value"),genus_value:function(a,b){if(!k.genus_filter)return"";if(arguments.length===1)return k.genus_filter.get("value")||"";k.genus_filter.set("value",
b||null)}.property("App3.genus_filter.value")});e("#family_clear").live("click",function(){k.set("family_value","")});e("#genus_clear").live("click",function(){k.set("genus_value","")});k.FilterView=f.View.extend({templateName:"filter-view",filterBinding:"content",classNameBindings:["answered"],elementId:function(){return this.content.slug}.property("content"),didInsertElement:function(){var a=this.get("elementId");glossarize(e("#"+a+" span.name"))},answered:function(){return!!this.filter.value}.property("filter.value"),
display_value:function(){var a=this.get("filter"),b=a.get("value");return b===null?"":b==="NA"?"does not apply":a.value_type==="TEXT"?a.choicemap[b].friendly_text||b:a.is_length?j.pretty_length(a.display_units||"mm",b):b+""}.property("filter.value"),clear:function(){v.filter_section.working_area&&v.filter_section.working_area.dismiss();this.filter.set("value",null)},click:function(a){if(!e(a.target).hasClass("clear-filter")){var b=this.get("filter"),a=e(a.target).closest("li");e(".option-list li .active").removeClass("active");
a.addClass("active");var c=a.offset().top-15,a=q.character_vector(this.filter.slug);e.when(C,a).done(function(a,d){b.install_values({pile_taxa:a,values:d});v.filter_section.show_filter_working_onload(b,c)})}}});e.when(c,x).done(function(){k.filters_view=f.CollectionView.create({tagName:"ul",classNames:["option-list"],contentBinding:"App3.filter_controller.plain_filters",itemViewClass:k.FilterView});k.filters_view.appendTo("#questions-go-here")});var y=null;require(["bridge/jquery.jscrollpane"],function(){e.when(c,
z).done(function(){y=e(".scroll").bind("jsp-scroll-y",function(){v.filter_section.working_area&&v.filter_section.working_area.dismiss()}).jScrollPane({maintainPosition:true,stickToBottom:true,verticalGutter:0,showArrows:true});setInterval(function(){v.filter_section.working_area===null&&y.data("jsp").reinitialise()},500)})});e.when(x,c).done(function(){e("#sidebar a.clear-all-btn").click(function(){v.filter_section.working_area!==null&&v.filter_section.working_area.dismiss();var a=k.filter_controller.get("plain_filters");
g.each(a,function(a){a.set("value",null)});k.set("family_value","");k.set("genus_value","")})});var J=function(){var a=k.taxa.show_list?"list":"photos",b=k.get("image_type");if(b){var c=Object.keys(k.filter_controller.filtermap),d={},e;for(key in k.filter_controller.filtermap)if(k.filter_controller.filtermap.hasOwnProperty(key)){e=k.filter_controller.filtermap[key];if(e.value&&e.value.toString().length>0)d[key]=e.value}b=s.create({filter_names:c,filter_values:d,image_type:b,tab_view:a}).hash();a=
true;window.location.hash===""&&(a=false);b=window.location.href.split("#")[0]+b;a?window.location.assign(b):window.location.replace(b);p("last_plant_id_url",window.location.href,{path:"/"})}};x.done(function(){J();k.addObserver("filter_controller.@each.value",function(){J()});k.addObserver("image_type",function(){J()});k.addObserver("taxa.show_list",function(){J()})});if(window.location.hash!==""){var H=s.create({hash:window.location.hash}),l=H.filter_names(),G=H.filter_values(),A=H.image_type();
if(A!==""){k.image_types.get("content").length===0&&k.image_types.set("content",[A]);k.set("image_type",A)}e.when(q.pile(t),q.pile_characters(t)).done(function(a,b){var c={},d=b.concat(a.default_filters);g.each(d,function(a){c[a.short_name]=a});var d=g.pluck(a.default_filters,"short_name"),f=g.difference(l,d),d=d.concat(f),h=[],j={family_value:G.family||null,genus_value:G.genus||null,other_filters:[]};g.each(d,function(a){var b=c[a];if(typeof b!=="undefined"){var d=Filter.create({slug:b.short_name,
value_type:b.value_type,info:b});j.other_filters.push(d);if(g.has(G,a)){d.set("value",G[a]);var f=e.Deferred();h.push(f);e.when(C,q.character_vector(a)).done(function(a,b){d.install_values({pile_taxa:a,values:b});f.resolve()})}}});e.when.apply(this,h).done(function(){w.resolve(j)});d=H.tab_view()==="list"?true:false;k.taxa.set("show_list",d)})}else q.pile(t).done(function(a){var b={family_value:null,genus_value:null,other_filters:[]};g.each(a.default_filters,function(a){a=Filter.create({slug:a.short_name,
value_type:a.value_type,info:a});b.other_filters.push(a)});w.resolve(b)});var K=[];e.when(c).done(function(){e("#sidebar .get-choices").click(function(){v.filter_section.working_area!==null&&v.filter_section.working_area.dismiss();b.open({content:e("#modal").html(),player:"html",height:450,options:{fadeDuration:0.1,onFinish:function(){e("#sb-container input").each(function(a,b){var c=e(b).val(),c=g.indexOf(K,c)!=-1;e(b).prop("checked",c)});e("#sb-container a.get-choices").addClass("get-choices-ready")}}})})});
e("#sb-container a.get-choices").live("click",function(){K=[];e("#sb-container input").each(function(a,b){e(b).prop("checked")&&K.push(e(b).val())});var a=[];g.each(k.filter_controller.content,function(b){a.push(b.slug)});simplekey_resources.more_questions({pile_slug:t,species_ids:k.filter_controller.taxa,character_group_ids:K,exclude_characters:a}).done(N);b.close()});var N=function(a){if(a.length===0)j.notify("No more questions left for the boxes checked");else{g.each(a,function(a){k.filter_controller.add(Filter.create({slug:a.short_name,
value_type:a.value_type,info:a}))});f.run.next(function(){var b=e("#sidebar ul li"),b=b.slice(b.length-a.length);m.bright_change(b);y.data("jsp").reinitialise();y.data("jsp").scrollToPercentY(100,true)});j.notify("More questions added")}};e(window).bind("hashchange",function(){var a=window.location.href,b=p("last_plant_id_url");b===void 0&&(b="");a!==b&&window.location.reload()});var ma=function(){var a=k.filter_controller.taxa,b=g.filter(k.taxadata,function(b){return g.indexOf(a,b.id)!=-1});b.sort(function(a,
b){return a.scientific_name<b.scientific_name?-1:1});k.set("filtered_sorted_taxadata",b);r.resolve()};k.reopen({run_filtered_sorted_taxadata:function(){ma();r.resolve()}.observes("filter_controller.taxa")});e.when(z,r,F).done(function(a){a.species_counts._update_counts(k.filtered_sorted_taxadata);a.species_section.display_results(k.filtered_sorted_taxadata);a.load_selected_image_type();k.addObserver("filtered_sorted_taxadata",function(){a.species_counts._update_counts(k.filtered_sorted_taxadata);
a.species_section.display_results(k.filtered_sorted_taxadata)});k.addObserver("image_type",function(){a.load_selected_image_type()})});require(["simplekey/results_overlay","simplekey/results_photo_menu"],function(b){b(a)});require(["gobotany/sk/photo","gobotany/sk/ResultsHelper","gobotany/sk/SpeciesSectionHelper","gobotany/sk/working_area","gobotany/sk/SearchSuggest"],function(){alert("Loaded ResultsHelper");require(["util/activate_search_suggest","util/activate_image_gallery","util/sidebar"],function(){alert("Loaded util scripts");
dojo.require("gobotany.sk.ResultsHelper");dojo.addOnLoad(function(){v=gobotany.sk.ResultsHelper(a.pile_slug,F);z.resolve(v)})})})}}})},"util/document_is_ready":function(){define("util/document_is_ready",["bridge/jquery"],function(c){var e=c.Deferred();c(document).ready(function(){e.resolve()});return e})},"gobotany/utils":function(){define("gobotany/utils","dojo/dom dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/dom-class dojo/_base/window dojo/window dojo/_base/fx".split(" "),function(c,
e,f,b,a,g,j,k){return{notify:function(h){var d=c.byId("notification-msg");d===null&&(d=e.place('<div class="hidden" id="notification-msg"></div>',g.body()));d.innerHTML=h;var h=j.getBox(),m=f.position(d);b.set(d,{position:"absolute",top:h.t+"px",left:h.w/2-m.w/2+"px"});a.remove(d,"hidden");k.fadeIn({node:d,duration:1}).play();setTimeout(function(){k.fadeOut({node:d}).play()},5E3)},clone:function(a,b){var c=a instanceof Array?[]:{};for(i in a)c[i]=a[i];if(b!==void 0)for(var e in b)b.hasOwnProperty(e)&&
(c[e]=b[e]);return c},pretty_length:function(a,b,c){c===void 0&&(c=true);var e=parseFloat(b);isNaN(e);b="";if(a=="mm")b=e.toFixed(2);else if(a==="cm")b=(e/10).toFixed(2);else if(a==="m")b=(e/1E3).toFixed(2);else{a="in";inches=e/25.4;feet=Math.floor(inches/12);inches=inches%12;feet>0&&(b=b+(feet+"\u00a0ft\u00a0"));e=Math.floor(inches);e>0&&(b=b+e);var g=Math.floor(inches%1*8);g>0&&(b=b+" \u215b\u00bc\u215c\u00bd\u215d\u00be\u215e"[g]);e===0&&g===0&&(b=b+"0")}b.indexOf(".00",b.length-3)!==-1?b=b.substring(0,
b.length-3):b.indexOf(".0",b.length-2)!==-1?b=b.substring(0,b.length-2):/\d?\.\d+0/.test(b)&&(b=b.substring(0,b.length-1));c&&(b=b+("\u00a0"+a));return b},convert:function(a,b,c){a=parseFloat(a);isNaN(a);return b===c?a:b==="cm"&&c==="mm"?a*10:b==="mm"&&c==="cm"?a/10:a},click_link:function(a){if(document.createEvent){var b=document.createEvent("MouseEvents");b.initMouseEvent("click",true,true,window,0,0,0,0,0,false,false,false,false,0,null);a.dispatchEvent(b)}else a.fireEvent&&a.fireEvent("onclick")}}})},
"dojo/window":function(){define("dojo/window","./_base/lang ./_base/sniff ./_base/window ./dom ./dom-geometry ./dom-style".split(" "),function(c,e,f,b,a,g){var j=c.getObject("dojo.window",true);j.getBox=function(){var b=f.doc.compatMode=="BackCompat"?f.body():f.doc.documentElement,c=a.docScroll(),d;if(e("touch")){var g=f.doc.parentWindow||f.doc.defaultView;d=g.innerWidth||b.clientWidth;b=g.innerHeight||b.clientHeight}else{d=b.clientWidth;b=b.clientHeight}return{l:c.x,t:c.y,w:d,h:b}};j.get=function(a){if(e("ie")&&
j!==document.parentWindow){a.parentWindow.execScript("document._parentWindow = window;","Javascript");var b=a._parentWindow;a._parentWindow=null;return b}return a.parentWindow||a.defaultView};j.scrollIntoView=function(c,h){try{var c=b.byId(c),d=c.ownerDocument||f.doc,j=d.body||f.body(),p=d.documentElement||j.parentNode,o=e("ie"),q=e("webkit");if((!e("mozilla")&&!o&&!q&&!e("opera")||c==j||c==p)&&typeof c.scrollIntoView!="undefined")c.scrollIntoView(false);else{var s=d.compatMode=="BackCompat",u=o>=
9&&c.ownerDocument.parentWindow.frameElement?p.clientHeight>0&&p.clientWidth>0&&(j.clientHeight==0||j.clientWidth==0||j.clientHeight>p.clientHeight||j.clientWidth>p.clientWidth)?p:j:s?j:p,d=q?j:u,t=u.clientWidth,v=u.clientHeight,z=!a.isBodyLtr(),w=h||a.position(c),x=c.parentNode,u=function(a){return o<=6||o&&s?false:g.get(a,"position").toLowerCase()=="fixed"};if(!u(c))for(;x;){x==j&&(x=d);var r=a.position(x),B=u(x);if(x==d){r.w=t;r.h=v;if(d==p&&o&&z)r.x=r.x+(d.offsetWidth-r.w);if(r.x<0||!o)r.x=0;
if(r.y<0||!o)r.y=0}else{var A=a.getPadBorderExtents(x);r.w=r.w-A.w;r.h=r.h-A.h;r.x=r.x+A.l;r.y=r.y+A.t;var C=x.clientWidth,D=r.w-C;if(C>0&&D>0){r.w=C;r.x=r.x+(z&&(o||x.clientLeft>A.l)?D:0)}C=x.clientHeight;D=r.h-C;if(C>0&&D>0)r.h=C}if(B){if(r.y<0){r.h=r.h+r.y;r.y=0}if(r.x<0){r.w=r.w+r.x;r.x=0}if(r.y+r.h>v)r.h=v-r.y;if(r.x+r.w>t)r.w=t-r.x}var F=w.x-r.x,E=w.y-Math.max(r.y,0),y=F+w.w-r.w,J=E+w.h-r.h;if(y*F>0){var H=Math[F<0?"max":"min"](F,y);if(z&&(o==8&&!s||o>=9))H=-H;w.x=w.x+x.scrollLeft;x.scrollLeft=
x.scrollLeft+H;w.x=w.x-x.scrollLeft}if(J*E>0){w.y=w.y+x.scrollTop;x.scrollTop=x.scrollTop+Math[E<0?"max":"min"](E,J);w.y=w.y-x.scrollTop}x=x!=d&&!B&&x.parentNode}}}catch(l){console.error("scrollIntoView: "+l);c.scrollIntoView(false)}};return j})},"simplekey/App3":function(){define("simplekey/App3",["bridge/ember"],function(c){return App3=c.Application.create()})},"simplekey/Filter":function(){define("simplekey/Filter",["bridge/ember","bridge/underscore"],function(c,e){return c.Object.extend({init:function(){var c=
this.slug;this.set("is_length",-1<c.indexOf("length")||-1<c.indexOf("width")||-1<c.indexOf("height")||-1<c.indexOf("thickness")||-1<c.indexOf("diameter"));this.set("value",null);this.set("values",null);this.set("choicemap",{})},install_values:function(c){var b=e.filter(c.values,function(a){a.taxa=e.intersect(a.taxa,c.pile_taxa);return a.taxa.length}),a=[],g={};e.each(b,function(b){a=e.union(a,b.taxa);b.choice&&(g[b.choice]=b)});this.set("values",b);this.set("choicemap",g);this.set("valueless_taxa",
e.difference(c.pile_taxa,a))},taxa_matching:function(c){0==arguments.length&&(c=this.get("value"));if("TEXT"===this.value_type)return this.choicemap[c].taxa;if("LENGTH"===this.value_type){var b=e.filter(this.values,function(a){return 0==a.min&&0==a.max?!1:c>=a.min&&c<=a.max});return e.uniq(e.flatten(e.pluck(b,"taxa")))}},allowed_ranges:function(c){var b=[];e.each(this.values,function(a){var g=a.min,j=a.max;if(!(null===g||null===j)&&!(0===g&&0===j)&&0!=e.intersect(c,a.taxa).length){var k;for(k=0;k<
b.length&&b[k].max<a.min;k++);for(;k<b.length&&g<=b[k].max&&b[k].min<=j;)g=Math.min(b[k].min,g),j=Math.max(b[k].max,j),b.splice(k,1);b.splice(k,0,{min:g,max:j})}});return b}})})},"simplekey/FilterController":function(){define("simplekey/FilterController",["bridge/ember","bridge/jquery","bridge/underscore","simplekey/Filter"],function(c,e,f,b){return c.ArrayController.extend({init:function(){var a=this.taxadata;delete this.taxadata;this.set("content",[]);this.set("filtermap",{});this.set("pile_taxa",
f.sortBy(f.pluck(a,"id"),this.numsort));this.build_classification_filter("family",a);this.build_classification_filter("genus",a);this.update()},build_classification_filter:function(a,c){var e=b.create({slug:a,value_type:"TEXT"}),k=f.chain(c).groupBy(a).map(function(a,b){return{choice:b,taxa:f.pluck(a,"id")}}).value();e.install_values({pile_taxa:this.pile_taxa,values:k});this.add(e)},add:function(a){this.addObject(a);this.get("filtermap")[a.slug]=a},compute:function(a){var b=this.get("pile_taxa");
this.forEach(function(c){c!==a&&(null!==c.value&&""!=c.value)&&(c=c.taxa_matching().concat(c.valueless_taxa),b=f.intersect(b,c))});return f.sortBy(b,this.numsort)},update:function(){this.set("taxa",this.compute())}.observes("@each.value"),numsort:function(a,b){return a-b}})})},"simplekey/animation":function(){define("simplekey/animation",["bridge/jquery","bridge/jquery.animate-colors"],function(){return{bright_change:function(c,e){var e=e||{},f=e.end_color||"#fff";c.css("background-color",e.start_color||
"#ff0");c.animate({backgroundColor:f},3E3,"linear",function(){c.attr("style","").removeAttr("style")})}}})},"bridge/jquery.animate-colors":function(){define("bridge/jquery.animate-colors",["bridge/jquery","jquery/jquery.animate-colors"],function(c){var e;c.fx.step.borderColor&&(e=c);return e})},"jquery/jquery.animate-colors":function(){define(["dojo","dijit","dojox"],function(){(function(c){function e(a,b,e){var f="rgb"+(c.support.rgba?"a":"")+"("+parseInt(a[0]+e*(b[0]-a[0]),10)+","+parseInt(a[1]+
e*(b[1]-a[1]),10)+","+parseInt(a[2]+e*(b[2]-a[2]),10);c.support.rgba&&(f+=","+(a&&b?parseFloat(a[3]+e*(b[3]-a[3])):1));return f+")"}function f(a){var b,c;if(b=/#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})/.exec(a))c=[parseInt(b[1],16),parseInt(b[2],16),parseInt(b[3],16),1];else if(b=/#([0-9a-fA-F])([0-9a-fA-F])([0-9a-fA-F])/.exec(a))c=[17*parseInt(b[1],16),17*parseInt(b[2],16),17*parseInt(b[3],16),1];else if(b=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(a))c=[parseInt(b[1]),
parseInt(b[2]),parseInt(b[3]),1];else if(b=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9\.]*)\s*\)/.exec(a))c=[parseInt(b[1],10),parseInt(b[2],10),parseInt(b[3],10),parseFloat(b[4])];return c}c.extend(!0,c,{support:{rgba:function(){var a=c("script:first"),b=a.css("color"),e=false;if(/^rgba/.test(b))e=true;else try{e=b!=a.css("color","rgba(0, 0, 0, 0.5)").css("color");a.css("color",b)}catch(f){}return e}()}});var b="color backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor outlineColor".split(" ");
c.each(b,function(a,b){c.fx.step[b]=function(a){a.init||(a.begin=f(c(a.elem).css(b)),a.end=f(a.end),a.init=!0);a.elem.style[b]=e(a.begin,a.end,a.pos)}});c.fx.step.borderColor=function(a){a.init||(a.end=f(a.end));var g=b.slice(2,6);c.each(g,function(b,g){a.init||(a[g]={begin:f(c(a.elem).css(g))});a.elem.style[g]=e(a[g].begin,a.end,a.pos)});a.init=!0}})(jQuery)})},"simplekey/cookie":function(){define("simplekey/cookie",["bridge/jquery","bridge/jquery.cookie"],function(c){return c.cookie})},"bridge/jquery.cookie":function(){define("bridge/jquery.cookie",
["bridge/jquery","jquery/jquery.cookie"],function(c){var e;c.cookie&&(e=c);return e})},"jquery/jquery.cookie":function(){define(["dojo","dijit","dojox"],function(){(function(c){c.cookie=function(e,f,b){if(1<arguments.length&&(!/Object/.test(Object.prototype.toString.call(f))||null===f||void 0===f)){b=c.extend({},b);if(null===f||void 0===f)b.expires=-1;if("number"===typeof b.expires){var a=b.expires,g=b.expires=new Date;g.setDate(g.getDate()+a)}f=""+f;return document.cookie=[encodeURIComponent(e),
"=",b.raw?f:encodeURIComponent(f),b.expires?"; expires="+b.expires.toUTCString():"",b.path?"; path="+b.path:"",b.domain?"; domain="+b.domain:"",b.secure?"; secure":""].join("")}for(var b=f||{},a=b.raw?function(a){return a}:decodeURIComponent,g=document.cookie.split("; "),j=0,k;k=g[j]&&g[j].split("=");j++)if(a(k[0])===e)return a(k[1]||"");return null}})(jQuery)})},"simplekey/ResultsPageState":function(){define("simplekey/ResultsPageState",["bridge/ember"],function(c){return c.Object.extend({init:function(){var c=
this.hash||"",f=this.filter_names||[],b=this.filter_values||[],a=this.image_type||"",g=this.tab_view||"";delete this.hash;delete this.filter_names;delete this.filter_values;delete this.image_type;delete this.tab_view;"#"===c[0]&&(c=c.substr(1));this.set("_hash",c);this.set("_filter_names",f);this.set("_filter_values",b);this.set("_image_type",a);this.set("_tab_view",g)},hash_has_filters:function(){return-1<this._hash.indexOf("_filters=")},filter_names:function(){var c=[],f,b,a=this._hash.split("&");
for(b=0;b<a.length;b+=1)if(-1<a[b].indexOf("_filters=")){f=a[b];break}f&&(f=f.split("=")[1],c=f.split(","));return c},filter_values:function(){var c={},f,b=decodeURIComponent(this._hash).split("&"),a;for(f=0;f<b.length;f+=1)a=b[f].split("="),"_"!==a[0][0]&&(c[a[0]]=a[1]);return c},_parameter_from_hash:function(c){var f,b,a=this._hash.split("&");f="_"+c;for(c=0;c<a.length;c+=1)if(-1<a[c].indexOf(f)){b=a[c].split("=")[1];break}return b},tab_view:function(){return this._parameter_from_hash("view")},
image_type:function(){return this._parameter_from_hash("show")},hash:function(){var c="#_filters=",f,b;for(f=0;f<this._filter_names.length;f+=1)0<f&&(c+=","),c+=this._filter_names[f];for(b in this._filter_values)this._filter_values.hasOwnProperty(b)&&(c+="&"+b+"="+encodeURIComponent(this._filter_values[b]));c+="&_view="+this._tab_view;return c+="&_show="+this._image_type}})})},"bridge/jquery.jscrollpane":function(){define("bridge/jquery.jscrollpane",["bridge/jquery","jquery/jquery.jscrollpane"],function(c){var e;
c.fn.jScrollPane&&(e=c);return e})},"jquery/jquery.jscrollpane":function(){define(["dojo","dijit","dojox"],function(){(function(c,e,f){c.fn.jScrollPane=function(b){function a(a,b){function k(b){var d,e,j,l,p,q=!1,r=!1;n=b;if(O===f)l=a.scrollTop(),p=a.scrollLeft(),a.css({overflow:"hidden",padding:0}),R=a.innerWidth()+ca,P=a.innerHeight(),a.width(R),O=c('<div class="jspPane" />').css("padding",xa).append(a.children()),M=c('<div class="jspContainer" />').css({width:R+"px",height:P+"px"}).append(O).appendTo(a);
else{a.css("width","");q=n.stickToBottom&&y();r=n.stickToRight&&J();if(j=a.innerWidth()+ca!=R||a.outerHeight()!=P)R=a.innerWidth()+ca,P=a.innerHeight(),M.css({width:R+"px",height:P+"px"});if(!j&&Ja==U&&O.outerHeight()==L){a.width(R);return}Ja=U;O.css("width","");a.width(R);M.find(">.jspVerticalBar,>.jspHorizontalBar").remove().end()}O.css("overflow","auto");U=b.contentWidth?b.contentWidth:O[0].scrollWidth;L=O[0].scrollHeight;O.css("overflow","");va=U/R;ra=L/P;V=1<ra;ga=1<va;if(!ga&&!V)a.removeClass("jspScrollable"),
O.css({top:0,width:M.width()-ca}),M.unbind(La),O.find(":input,a").unbind("focus.jsp"),a.attr("tabindex","-1").removeAttr("tabindex").unbind("keydown.jsp keypress.jsp"),v();else{a.addClass("jspScrollable");if(b=n.maintainPosition&&(T||Q))d=F(),e=E();h();m();o();b&&(C(r?U-R:d,!1),A(q?L-P:e,!1));G();H();na();n.enableKeyboardNavigation&&K();n.clickOnTrack&&t();N();n.hijackInternalLinks&&ma()}n.autoReinitialise&&!aa?aa=setInterval(function(){k(n)},n.autoReinitialiseDelay):!n.autoReinitialise&&aa&&clearInterval(aa);
l&&a.scrollTop(0)&&A(l,!1);p&&a.scrollLeft(0)&&C(p,!1);a.trigger("jsp-initialised",[ga||V])}function h(){V&&(M.append(c('<div class="jspVerticalBar" />').append(c('<div class="jspCap jspCapTop" />'),c('<div class="jspTrack" />').append(c('<div class="jspDrag" />').append(c('<div class="jspDragTop" />'),c('<div class="jspDragBottom" />'))),c('<div class="jspCap jspCapBottom" />'))),sa=M.find(">.jspVerticalBar"),ka=sa.find(">.jspTrack"),S=ka.find(">.jspDrag"),n.showArrows&&(qa=c('<a class="jspArrow jspArrowUp" />').bind("mousedown.jsp",
s(0,-1)).bind("click.jsp",l),ta=c('<a class="jspArrow jspArrowDown" />').bind("mousedown.jsp",s(0,1)).bind("click.jsp",l),n.arrowScrollOnHover&&(qa.bind("mouseover.jsp",s(0,-1,qa)),ta.bind("mouseover.jsp",s(0,1,ta))),q(ka,n.verticalArrowPositions,qa,ta)),ba=P,M.find(">.jspVerticalBar>.jspCap:visible,>.jspVerticalBar>.jspArrow").each(function(){ba=ba-c(this).outerHeight()}),S.hover(function(){S.addClass("jspHover")},function(){S.removeClass("jspHover")}).bind("mousedown.jsp",function(a){c("html").bind("dragstart.jsp selectstart.jsp",
l);S.addClass("jspActive");var b=a.pageY-S.position().top;c("html").bind("mousemove.jsp",function(a){w(a.pageY-b,false)}).bind("mouseup.jsp mouseleave.jsp",z);return false}),d())}function d(){ka.height(ba+"px");T=0;ja=n.verticalGutter+ka.outerWidth();O.width(R-ja-ca);try{0===sa.position().left&&O.css("margin-left",ja+"px")}catch(a){}}function m(){ga&&(M.append(c('<div class="jspHorizontalBar" />').append(c('<div class="jspCap jspCapLeft" />'),c('<div class="jspTrack" />').append(c('<div class="jspDrag" />').append(c('<div class="jspDragLeft" />'),
c('<div class="jspDragRight" />'))),c('<div class="jspCap jspCapRight" />'))),wa=M.find(">.jspHorizontalBar"),W=wa.find(">.jspTrack"),da=W.find(">.jspDrag"),n.showArrows&&(oa=c('<a class="jspArrow jspArrowLeft" />').bind("mousedown.jsp",s(-1,0)).bind("click.jsp",l),la=c('<a class="jspArrow jspArrowRight" />').bind("mousedown.jsp",s(1,0)).bind("click.jsp",l),n.arrowScrollOnHover&&(oa.bind("mouseover.jsp",s(-1,0,oa)),la.bind("mouseover.jsp",s(1,0,la))),q(W,n.horizontalArrowPositions,oa,la)),da.hover(function(){da.addClass("jspHover")},
function(){da.removeClass("jspHover")}).bind("mousedown.jsp",function(a){c("html").bind("dragstart.jsp selectstart.jsp",l);da.addClass("jspActive");var b=a.pageX-da.position().left;c("html").bind("mousemove.jsp",function(a){r(a.pageX-b,false)}).bind("mouseup.jsp mouseleave.jsp",z);return false}),X=M.innerWidth(),p())}function p(){M.find(">.jspHorizontalBar>.jspCap:visible,>.jspHorizontalBar>.jspArrow").each(function(){X-=c(this).outerWidth()});W.width(X+"px");Q=0}function o(){if(ga&&V){var a=W.outerHeight(),
b=ka.outerWidth();ba-=a;c(wa).find(">.jspCap:visible,>.jspArrow").each(function(){X+=c(this).outerWidth()});X-=b;P-=b;R-=a;W.parent().append(c('<div class="jspCorner" />').css("width",a+"px"));d();p()}ga&&O.width(M.outerWidth()-ca+"px");L=O.outerHeight();ra=L/P;ga&&(Z=Math.ceil(1/va*X),Z>n.horizontalDragMaxWidth?Z=n.horizontalDragMaxWidth:Z<n.horizontalDragMinWidth&&(Z=n.horizontalDragMinWidth),da.width(Z+"px"),Y=X-Z,B(Q));V&&(ea=Math.ceil(1/ra*ba),ea>n.verticalDragMaxHeight?ea=n.verticalDragMaxHeight:
ea<n.verticalDragMinHeight&&(ea=n.verticalDragMinHeight),S.height(ea+"px"),ia=ba-ea,x(T))}function q(a,b,c,d){var e="before",g="after";"os"==b&&(b=/Mac/.test(navigator.platform)?"after":"split");b==e?g=b:b==g&&(e=b,b=c,c=d,d=b);a[e](c)[g](d)}function s(a,b,c){return function(){u(a,b,this,c);this.blur();return!1}}function u(a,b,d,e){var d=c(d).addClass("jspActive"),g,f,h=!0,j=function(){0!==a&&I.scrollByX(a*n.arrowButtonSpeed);0!==b&&I.scrollByY(b*n.arrowButtonSpeed);f=setTimeout(j,h?n.initialDelay:
n.arrowRepeatFreq);h=!1};j();g=e?"mouseout.jsp":"mouseup.jsp";e=e||c("html");e.bind(g,function(){d.removeClass("jspActive");f&&clearTimeout(f);f=null;e.unbind(g)})}function t(){v();V&&ka.bind("mousedown.jsp",function(a){if(a.originalTarget===f||a.originalTarget==a.currentTarget){var b=c(this),d=b.offset(),e=a.pageY-d.top-T,g,h=!0,j=function(){var c=b.offset(),c=a.pageY-c.top-ea/2,d=P*n.scrollPagePercent,f=ia*d/(L-P);if(0>e)T-f>c?I.scrollByY(-d):w(c);else if(0<e)T+f<c?I.scrollByY(d):w(c);else{k();
return}g=setTimeout(j,h?n.initialDelay:n.trackClickRepeatFreq);h=!1},k=function(){g&&clearTimeout(g);g=null;c(document).unbind("mouseup.jsp",k)};j();c(document).bind("mouseup.jsp",k);return!1}});ga&&W.bind("mousedown.jsp",function(a){if(a.originalTarget===f||a.originalTarget==a.currentTarget){var b=c(this),d=b.offset(),e=a.pageX-d.left-Q,g,h=!0,j=function(){var c=b.offset(),c=a.pageX-c.left-Z/2,d=R*n.scrollPagePercent,f=Y*d/(U-R);if(0>e)Q-f>c?I.scrollByX(-d):r(c);else if(0<e)Q+f<c?I.scrollByX(d):
r(c);else{k();return}g=setTimeout(j,h?n.initialDelay:n.trackClickRepeatFreq);h=!1},k=function(){g&&clearTimeout(g);g=null;c(document).unbind("mouseup.jsp",k)};j();c(document).bind("mouseup.jsp",k);return!1}})}function v(){W&&W.unbind("mousedown.jsp");ka&&ka.unbind("mousedown.jsp")}function z(){c("html").unbind("dragstart.jsp selectstart.jsp mousemove.jsp mouseup.jsp mouseleave.jsp");S&&S.removeClass("jspActive");da&&da.removeClass("jspActive")}function w(a,b){V&&((0>a?a=0:a>ia&&(a=ia),b===f&&(b=n.animateScroll),
b)?I.animate(S,"top",a,x):(S.css("top",a),x(a)))}function x(b){b===f&&(b=S.position().top);M.scrollTop(0);T=b;var c=0===T,d=T==ia,b=-(b/ia)*(L-P);if(Ha!=c||ha!=d)Ha=c,ha=d,a.trigger("jsp-arrow-change",[Ha,ha,Ga,Aa]);n.showArrows&&(qa[c?"addClass":"removeClass"]("jspDisabled"),ta[d?"addClass":"removeClass"]("jspDisabled"));O.css("top",b);a.trigger("jsp-scroll-y",[-b,c,d]).trigger("scroll")}function r(a,b){ga&&((0>a?a=0:a>Y&&(a=Y),b===f&&(b=n.animateScroll),b)?I.animate(da,"left",a,B):(da.css("left",
a),B(a)))}function B(b){b===f&&(b=da.position().left);M.scrollTop(0);Q=b;var c=0===Q,d=Q==Y,b=-(b/Y)*(U-R);if(Ga!=c||Aa!=d)Ga=c,Aa=d,a.trigger("jsp-arrow-change",[Ha,ha,Ga,Aa]);n.showArrows&&(oa[c?"addClass":"removeClass"]("jspDisabled"),la[d?"addClass":"removeClass"]("jspDisabled"));O.css("left",b);a.trigger("jsp-scroll-x",[-b,c,d]).trigger("scroll")}function A(a,b){w(a/(L-P)*ia,b)}function C(a,b){r(a/(U-R)*Y,b)}function D(a,b,d){var e,g,f=0,h=0,j,k,l;try{e=c(a)}catch(m){return}g=e.outerHeight();
a=e.outerWidth();M.scrollTop(0);for(M.scrollLeft(0);!e.is(".jspPane");)if(f+=e.position().top,h+=e.position().left,e=e.offsetParent(),/^body|html$/i.test(e[0].nodeName))return;e=E();j=e+P;f<e||b?k=f-n.verticalGutter:f+g>j&&(k=f-P+g+n.verticalGutter);k&&A(k,d);f=F();k=f+R;h<f||b?l=h-n.horizontalGutter:h+a>k&&(l=h-R+a+n.horizontalGutter);l&&C(l,d)}function F(){return-O.position().left}function E(){return-O.position().top}function y(){var a=L-P;return 20<a&&10>a-E()}function J(){var a=U-R;return 20<
a&&10>a-F()}function H(){M.unbind(La).bind(La,function(a,b,c,d){a=Q;b=T;I.scrollBy(c*n.mouseWheelSpeed,-d*n.mouseWheelSpeed,!1);return a==Q&&b==T})}function l(){return!1}function G(){O.find(":input,a").unbind("focus.jsp").bind("focus.jsp",function(a){D(a.target,!1)})}function K(){function b(){var a=Q,c=T;switch(d){case 40:I.scrollByY(n.keyboardSpeed,!1);break;case 38:I.scrollByY(-n.keyboardSpeed,!1);break;case 34:case 32:I.scrollByY(P*n.scrollPagePercent,!1);break;case 33:I.scrollByY(-P*n.scrollPagePercent,
!1);break;case 39:I.scrollByX(n.keyboardSpeed,!1);break;case 37:I.scrollByX(-n.keyboardSpeed,!1)}return e=a!=Q||c!=T}var d,e,f=[];ga&&f.push(wa[0]);V&&f.push(sa[0]);O.focus(function(){a.focus()});a.attr("tabindex",0).unbind("keydown.jsp keypress.jsp").bind("keydown.jsp",function(a){if(!(a.target!==this&&(!f.length||!c(a.target).closest(f).length))){var g=Q,h=T;switch(a.keyCode){case 40:case 38:case 34:case 32:case 33:case 39:case 37:d=a.keyCode;b();break;case 35:A(L-P);d=null;break;case 36:A(0),d=
null}e=a.keyCode==d&&g!=Q||h!=T;return!e}}).bind("keypress.jsp",function(a){a.keyCode==d&&b();return!e});n.hideFocus?(a.css("outline","none"),"hideFocus"in M[0]&&a.attr("hideFocus",!0)):(a.css("outline",""),"hideFocus"in M[0]&&a.attr("hideFocus",!1))}function N(){if(location.hash&&1<location.hash.length){var a,b,d=escape(location.hash.substr(1));try{a=c("#"+d+', a[name="'+d+'"]')}catch(e){return}a.length&&O.find(d)&&(0===M.scrollTop()?b=setInterval(function(){0<M.scrollTop()&&(D(a,!0),c(document).scrollTop(M.position().top),
clearInterval(b))},50):(D(a,!0),c(document).scrollTop(M.position().top)))}}function ma(){c(document.body).data("jspHijack")||(c(document.body).data("jspHijack",!0),c(document.body).delegate("a[href*=#]","click",function(a){var b=this.href.substr(0,this.href.indexOf("#")),d=location.href,g;-1!==location.href.indexOf("#")&&(d=location.href.substr(0,location.href.indexOf("#")));if(b===d){b=escape(this.href.substr(this.href.indexOf("#")+1));g;try{g=c("#"+b+', a[name="'+b+'"]')}catch(f){return}g.length&&
(b=g.closest(".jspScrollable"),d=b.data("jsp"),d.scrollToElement(g,!0),b[0].scrollIntoView&&(d=c(e).scrollTop(),g=g.offset().top,(g<d||g>d+c(e).height())&&b[0].scrollIntoView()),a.preventDefault())}}))}function na(){var a,b,c,d,e,g=!1;M.unbind("touchstart.jsp touchmove.jsp touchend.jsp click.jsp-touchclick").bind("touchstart.jsp",function(f){f=f.originalEvent.touches[0];a=F();b=E();c=f.pageX;d=f.pageY;e=!1;g=!0}).bind("touchmove.jsp",function(f){if(g){var f=f.originalEvent.touches[0],h=Q,j=T;I.scrollTo(a+
c-f.pageX,b+d-f.pageY);e=e||5<Math.abs(c-f.pageX)||5<Math.abs(d-f.pageY);return h==Q&&j==T}}).bind("touchend.jsp",function(){g=!1}).bind("click.jsp-touchclick",function(){if(e)return e=!1})}var n,I=this,O,R,P,M,U,L,va,ra,V,ga,S,ia,T,da,Y,Q,sa,ka,ja,ba,ea,qa,ta,wa,W,X,Z,oa,la,aa,xa,ca,Ja,Ha=!0,Ga=!0,ha=!1,Aa=!1,Ka=a.clone(!1,!1).empty(),La=c.fn.mwheelIntent?"mwheelIntent.jsp":"mousewheel.jsp";xa=a.css("paddingTop")+" "+a.css("paddingRight")+" "+a.css("paddingBottom")+" "+a.css("paddingLeft");ca=(parseInt(a.css("paddingLeft"),
10)||0)+(parseInt(a.css("paddingRight"),10)||0);c.extend(I,{reinitialise:function(a){a=c.extend({},n,a);k(a)},scrollToElement:function(a,b,c){D(a,b,c)},scrollTo:function(a,b,c){C(a,c);A(b,c)},scrollToX:function(a,b){C(a,b)},scrollToY:function(a,b){A(a,b)},scrollToPercentX:function(a,b){C(a*(U-R),b)},scrollToPercentY:function(a,b){A(a*(L-P),b)},scrollBy:function(a,b,c){I.scrollByX(a,c);I.scrollByY(b,c)},scrollByX:function(a,b){var c=(F()+Math[0>a?"floor":"ceil"](a))/(U-R);r(c*Y,b)},scrollByY:function(a,
b){var c=(E()+Math[0>a?"floor":"ceil"](a))/(L-P);w(c*ia,b)},positionDragX:function(a,b){r(a,b)},positionDragY:function(a,b){w(a,b)},animate:function(a,b,c,d){var e={};e[b]=c;a.animate(e,{duration:n.animateDuration,easing:n.animateEase,queue:!1,step:d})},getContentPositionX:function(){return F()},getContentPositionY:function(){return E()},getContentWidth:function(){return U},getContentHeight:function(){return L},getPercentScrolledX:function(){return F()/(U-R)},getPercentScrolledY:function(){return E()/
(L-P)},getIsScrollableH:function(){return ga},getIsScrollableV:function(){return V},getContentPane:function(){return O},scrollToBottom:function(a){w(ia,a)},hijackInternalLinks:c.noop,destroy:function(){var b=E(),c=F();a.removeClass("jspScrollable").unbind(".jsp");a.replaceWith(Ka.append(O.children()));Ka.scrollTop(b);Ka.scrollLeft(c);aa&&clearInterval(aa)}});k(b)}b=c.extend({},c.fn.jScrollPane.defaults,b);c.each(["mouseWheelSpeed","arrowButtonSpeed","trackClickSpeed","keyboardSpeed"],function(){b[this]=
b[this]||b.speed});return this.each(function(){var e=c(this),f=e.data("jsp");f?f.reinitialise(b):(f=new a(e,b),e.data("jsp",f))})};c.fn.jScrollPane.defaults={showArrows:!1,maintainPosition:!0,stickToBottom:!1,stickToRight:!1,clickOnTrack:!0,autoReinitialise:!1,autoReinitialiseDelay:500,verticalDragMinHeight:0,verticalDragMaxHeight:99999,horizontalDragMinWidth:0,horizontalDragMaxWidth:99999,contentWidth:f,animateScroll:!1,animateDuration:300,animateEase:"linear",hijackInternalLinks:!1,verticalGutter:4,
horizontalGutter:4,mouseWheelSpeed:0,arrowButtonSpeed:0,arrowRepeatFreq:50,arrowScrollOnHover:!1,trackClickSpeed:0,trackClickRepeatFreq:70,verticalArrowPositions:"split",horizontalArrowPositions:"split",enableKeyboardNavigation:!0,hideFocus:!1,keyboardSpeed:0,initialDelay:300,speed:30,scrollPagePercent:0.8}})(jQuery,this)})},"simplekey/results_overlay":function(){define("simplekey/results_overlay",["util/document_is_ready","bridge/jquery","simplekey/resources"],function(c,e,f){return function(b){e.when(c,
f.base_vector({key_name:"simple",pile_slug:b.pile_slug})).done(function(a,b){e(".number-of-species .number").html(b.length)});e.when(c,f.pile_characters(b.pile_slug,[])).done(function(a,b){e(".number-of-questions .number").html(b.length)});c.done(function(){original_location_hash||(e("#intro-overlay").overlay({mask:{color:e("body").css("background-color"),loadSpeed:500,opacity:0.5,top:0},closeOnClick:!0,load:!0}).click(function(){e("#intro-overlay").data("overlay").close()}),e("#exposeMask").css("position",
"fixed"))})}})},"simplekey/results_photo_menu":function(){define("simplekey/results_photo_menu",[],function(){return{"woody-angiosperms":{"default":"plant form",omit:["additional features","stems"]},"woody-gymnosperms":{"default":"plant form",omit:[]},"non-thalloid-aquatic":{"default":"plant form",omit:"additional features;detail of leaf and/or divisions;flowers and fruits;leaf;leaves and auricles;ligules;shoots;sori;special features;spikelets;spore cones;spores;stems and sheaths;vegetative leaves".split(";")},
"thalloid-aquatic":{"default":"plant form",omit:[]},carex:{"default":"plant form",omit:[]},poaceae:{"default":"plant form",omit:["flowers and fruits","stems"]},"remaining-graminoids":{"default":"plant form",omit:["leaves","special features","stems"]},"orchid-monocots":{"default":"flowers",omit:[]},"non-orchid-monocots":{"default":"flowers",omit:["flowers and fruits","special features","stems"]},monilophytes:{"default":"plant form",omit:["flowers and fruits","inflorescences","stems"]},lycophytes:{"default":"plant form",
omit:["flowers and fruits","inflorescences","leaves","stems"]},equisetaceae:{"default":"plant form",omit:[]},composites:{"default":"flowers",omit:[]},"remaining-non-monocots":{"default":"flowers",omit:"additional features;bark;flowers and fruits;inflorescences;special features;winter buds".split(";")}}})},"gobotany/sk/ResultsHelper":function(){define(["dojo","dijit","dojox","dojo/require!gobotany/sk/FilterSectionHelper,gobotany/sk/SpeciesSectionHelper,gobotany/sk/working_area"],function(c){c.provide("gobotany.sk.ResultsHelper");
c.require("gobotany.sk.FilterSectionHelper");c.require("gobotany.sk.SpeciesSectionHelper");c.require("gobotany.sk.working_area");c.declare("gobotany.sk.ResultsHelper",null,{constructor:function(e,f){this.pile_slug=e;this.species_section=new gobotany.sk.SpeciesSectionHelper(e,f);this.species_counts=new gobotany.sk.SpeciesCounts(this);this.filter_section=new gobotany.sk.FilterSectionHelper(this);simplekey_resources.pile(this.pile_slug).done(c.hitch(this,function(b){this.filter_section._setup_character_groups(b.character_groups)}));
c.connect(document.body,"onkeypress",c.hitch(this,this.handle_keys))},handle_keys:function(e){switch(e.charOrCode){case c.keys.ESCAPE:this.filter_section.working_area&&this.filter_section.working_area.dismiss()}},load_selected_image_type:function(){var e=App3.get("image_type");if(e){var f=c.query(".plant-list img"),b;for(b=0;b<f.length;b++){var a=f[b],g=c.attr(a,"x-plant-id");taxon=App3.taxa_by_sciname[g];(g=_.find(taxon.images,function(a){return a.type===e}))?(c.attr(a,"x-tmp-src",g.thumb_url),c.attr(a,
"alt",g.title),c.query("+ div.missing-image",a).orphan(),c.style(a,"display","inline")):"none"!==c.style(a,"display")&&(c.style(a,"display","none"),c.create("div",{"class":"missing-image",innerHTML:"<p>Image not available yet</p>"},a,"after"))}this.species_section.lazy_load_images()}}})})},"gobotany/sk/FilterSectionHelper":function(){define(["dojo","dijit","dojox","dojo/require!gobotany/sk/working_area"],function(c){c.provide("gobotany.sk.FilterSectionHelper");c.require("gobotany.sk.working_area");
c.declare("gobotany.sk.FilterSectionHelper",null,{working_area:null,_setup_character_groups:function(e){var f=c.query("ul.char-groups")[0];c.empty(f);var b;for(b=0;b<e.length;b++){var a=e[b],a=c.create("li",{innerHTML:'<label><input type="checkbox" value="'+a.id+'"> '+a.name+"</label>"});c.place(a,f)}},show_filter_working_onload:function(e,f){null!==this.working_area&&this.working_area.dismiss();this.working_area=gobotany.sk.working_area.select_working_area(e)({div:$("div.working-area")[0],filter:e,
y:f,on_dismiss:c.hitch(this,"on_working_area_dismiss")});sidebar_set_height()},on_working_area_dismiss:function(){this.working_area=null;$(".option-list li").removeClass("active")}})})},"gobotany/sk/working_area":function(){define(["dojo","dijit","dojox","dojo/require!gobotany/utils,dojo/NodeList-html,dijit/form/HorizontalSlider"],function(c,e){c.provide("gobotany.sk.working_area");c.require("gobotany.utils");c.require("dojo.NodeList-html");c.require("dijit.form.HorizontalSlider");gobotany.sk.working_area.select_working_area=
function(a){return"TEXT"==a.value_type?gobotany.sk.working_area.Choice:a.is_length?gobotany.sk.working_area.Length:gobotany.sk.working_area.Slider};c.declare("gobotany.sk.working_area.Choice",null,{div_map:null,close_button_connection:null,constructor:function(a){this.div=a.div;this.filter=a.filter;this._draw_basics(a.y);this._draw_specifics();this.on_dismiss=a.on_dismiss;c.subscribe("/sk/filter/change",this,"_on_filter_change");this._on_filter_change()},clear:function(){c.query("input",this.div_map[""]).attr("checked",
!0)},dismiss:function(a){a&&a.preventDefault();c.disconnect(this.close_button_connection);c.disconnect(this.apply_button_connection);this.apply_button_connection=this.close_button_connection=null;$(this.div).hide();$(".option-list li").removeClass("active");this.on_dismiss(this.filter)},_draw_basics:function(a){var b=c.query(this.div),e=this.filter;glossarize($("h4").html(e.info.question));$("h4").css("display","block");glossarize($(".hint").html(e.info.hint?"<p>"+e.info.hint+"</p>":e.info.hint));
$(".info").css("display","block");e.info.image_url?(e='<img id="'+this._get_image_id_from_path(e.info.image_url)+'" src="'+e.info.image_url+'" alt="character illustration">',b.query(".dld").html(e).style({display:"block"})):b.query(".dld").html("").style({display:"none"});$(b).css("top",a+"px").slideDown("fast");a=b.query(".close")[0];this.close_button_connection=c.connect(a,"onclick",c.hitch(this,"dismiss"));a=c.query(".apply-btn",this.div)[0];this.apply_button_connection=c.connect(a,"onclick",c.hitch(this,
"_apply_button_clicked"))},_draw_specifics:function(){var a=this.filter,e=c.query("div.working-area .values");e.empty().addClass("multiple").removeClass("numeric");var j=gobotany.utils.clone(a.values);j.sort(b);var k=c.create("div",{"class":"choices"},e[0]),h=c.create("div",{"class":"row"},k);this.div_map={};var d='<div><label><input name="char_name"'+(null===a.value?" checked":"")+' type="radio" value=""> '+f()+"</label></div>";this.div_map[""]=c.place(d,h);for(var m=1,p=0;p<j.length;p++){var o=
j[p],d='<label><input name="char_name" type="radio"'+(a.value===o.choice?" checked":"")+' value="'+o.choice+'">',q=o.image_url;if(0<q.length)var s=this._get_image_id_from_path(q),d=d+('<img id="'+s+'" src="'+q+'" alt="drawing showing '+o.friendly_text+'"><br>');d+=' <span class="label">'+f(o)+'</span> <span class="count">(n)</span></label>';0===m%5&&(h=c.create("div",{"class":"row"},k));m+=1;d=c.create("div",{innerHTML:d},h);this.div_map[o.choice]=d;0<q.length&&(o='<img class="char-value-larger" id="'+
s+'" src="'+q+'" alt="drawing showing '+o.friendly_text+'">',$("#"+s).tooltipsy({alignTo:"cursor",content:o,offset:[0,-200]}));glossarize($("span.label",d))}for(var a=e.query("input"),p=0;p<a.length;p++)c.connect(a[p],"onclick",c.hitch(this,"_on_choice_change"));this._on_choice_change()},_current_value:function(){return c.query("input:checked",this.div).attr("value")[0]||null},_on_choice_change:function(){var a=c.query(".apply-btn",this.div);this._current_value()===this.filter.value?a.addClass("disabled"):
a.removeClass("disabled")},_get_image_id_from_path:function(a){var b=a.lastIndexOf("/"),c=a.indexOf(".",b);return a.substring(b+1,c)},_on_filter_change:function(){var a=App3.filter_controller.compute(this.filter),b=this.div_map;_.map(this.filter.values,function(e){var f=_.intersect(e.taxa,a).length,e=b[e.choice];c.query(".count",e).html("("+f+")");var h=c.query("input",e);0===f?($(e).addClass("disabled"),h.attr("disabled","disabled")):($(e).removeClass("disabled"),h.attr("disabled",!1))})},_apply_button_clicked:function(a){c.stopEvent(a);
a=$(".apply-btn");a.hasClass("disabled")||(a.removeClass("disabled"),this._apply_filter_value(),this.dismiss())},_apply_filter_value:function(){var a=this._current_value();null!==a&&0==this.filter.taxa_matching(a).length||this.filter.set("value",a)}});c.declare("gobotany.sk.working_area.Slider",[gobotany.sk.working_area.Choice],{slider_node:null,simple_slider:null,clear:function(){},dismiss:function(){this.simple_slider&&this.simple_slider.destroy();this.slide_node&&c.query(this.slider_node).orphan();
this.simple_slider=this.slider_node=null;this.inherited(arguments)},_compute_min_and_max:function(){var a=this.filter.allowed_ranges(App3.filter_controller.compute(this.filter));this.min=a[0].min;this.max=a[a.length-1].max},_draw_specifics:function(){this._compute_min_and_max();var a=this.filter,b=this.max-this.min+1,f=Math.ceil(b/2);null!==a.value&&(f=a.get("value"));a=c.query("div.working-area .values");a.addClass("multiple").removeClass("numeric").html("<label>Select a number between<br>"+this.min+
" and "+this.max+"</label>");this.slider_node=c.create("div",null,a[0]);this.simple_slider=new e.form.HorizontalSlider({id:"simple-slider",name:"simple-slider",value:f,minimum:this.min,maximum:this.max,discreteValues:b,intermediateChanges:!0,showButtons:!1,onChange:c.hitch(this,this._value_changed),onMouseUp:c.hitch(this,this._value_changed)},this.slider_node);c.create("div",{"class":"count",innerHTML:f},this.simple_slider.containerNode);this._value_changed()},_current_value:function(){return e.byId("simple-slider").value},
_value_changed:function(){this._compute_min_and_max();var a=c.query(".apply-btn",this.div),b=this._current_value(),e=this.filter.get("value");b==e?a.addClass("disabled"):a.removeClass("disabled");a=c.query("#simple-slider .count");b=this._current_value();a.html(b+"");var e=c.query("div.dijitSliderBarContainerH")[0],f=this.max-this.min,e=(25+c.style(e,"width")-25)/f,e=Math.floor((b-this.min)*e),f=0;10<=b&&(f=-4);c.style(a[0],"left",e+25+f+"px")},_on_filter_change:function(){}});c.declare("gobotany.sk.working_area.Length",
[gobotany.sk.working_area.Choice],{permitted_ranges:[],species_vector:[],unit:"mm",is_metric:!0,factor:1,factormap:{mm:1,cm:10,m:1E3,"in":25.4,ft:304.8},clear:function(){},_draw_specifics:function(){var a=c.query("div.working-area .values");this._set_unit(this.filter.display_units||"mm");this_unit=this.unit;var b=this.filter.get("value"),b=null===b?"":b/this.factor,e=function(a){return'<label><input name="units" type="radio" value="'+a+'"'+(a===this_unit?" checked":"")+">"+a+"</label>"},f=function(a,
c){return'<input class="'+a+'" name="'+a+'" type="text"'+(c?' value="'+b+'"':" disabled")+">"};a.empty().addClass("numeric").removeClass("multiple").html('<div class="permitted_ranges"></div><div class="current_length"></div><div class="measurement">Metric length: '+f("measure_metric",this.is_metric)+e("mm")+e("cm")+e("m")+'</div><div class="measurement">English length: '+f("measure_english",!this.is_metric)+e("in")+e("ft")+'</div><div class="instructions"></div>');a.query('[name="units"]').connect("onchange",
this,"_unit_changed");a.query('[type="text"]').connect("onchange",this,"_measure_changed");a.query('[type="text"]').connect("onkeyup",this,"_key_pressed")},_key_pressed:function(a){10==a.keyCode||13==a.keyCode?this._apply_filter_value():this._measure_changed()},_parse_value:function(a){a=parseFloat(a);return isNaN(a)?null:a},_current_value:function(){var a=this._parse_value(c.query(this.is_metric?'[name="measure_metric"]':'[name="measure_english"]',this.div).attr("value")[0]);return null===a?null:
a*this.factor},_set_unit:function(a){this.unit=a;this.factor=this.factormap[this.unit];this.is_metric=/m$/.test(this.unit)},_unit_changed:function(a){this._set_unit(a.target.value);c.query(".measure_metric").attr("disabled",!this.is_metric);c.query(".measure_english").attr("disabled",this.is_metric);this._redraw_permitted_ranges();this._measure_changed()},_measure_changed:function(){var a=this._current_value(),b=this._parse_value(this.filter.get("value")),e=this.filter.taxa_matching(a),e=_.intersect(e,
this.species_vector),f=c.query(".instructions",this.div),h=c.query(".apply-btn",this.div);b===a?(instructions="Change the value to narrow your selection to a new set of matching species.",h.addClass("disabled")):0<e.length?(instructions="Press \u201cApply\u201d to narrow your selection to the "+e.length+" matching species.",h.removeClass("disabled")):(instructions="",h.addClass("disabled"));f.html(instructions);this.filter.display_units=this.unit},_redraw_permitted_ranges:function(){for(var a="Please enter a measurement in the range ",
b=function(a,b){var c=Math.pow(10,b||0);return""+Math.round(a*c)/c},e=0;e<this.permitted_ranges.length;e++){var f=this.permitted_ranges[e];e&&(a+=" or ");a+=b(f.min/this.factor,2)+"&nbsp;"+this.unit+"&nbsp;\u2013&nbsp;"+b(f.max/this.factor,2)+"&nbsp;"+this.unit}c.query(".permitted_ranges",this.div).html(a)},_on_filter_change:function(){var a=App3.filter_controller.compute(this.filter);this.species_vector=a;this.permitted_ranges=this.filter.allowed_ranges(a);this._redraw_permitted_ranges();this._measure_changed()}});
var f=function(a){return void 0===a?"don't know":a.friendly_text?a.friendly_text:"NA"===a.choice?"doesn't apply":a.choice?a.choice:"don't know"},b=function(a,b){var c=a.friendly_text.toLowerCase(),e=b.friendly_text.toLowerCase(),f=a.choice.toLowerCase(),d=b.choice.toLowerCase(),m=parseInt(c,10),p=parseInt(e,10);if(!isNaN(m)&&!isNaN(p))return m-p;m=parseInt(f,10);p=parseInt(d,10);return!isNaN(m)&&!isNaN(p)?m-p:"na"===f?1:"na"===d||c<e?-1:c>e?1:f<d?-1:f>d?1:0}})},"dojo/NodeList-html":function(){define("dojo/NodeList-html",
["./query","./_base/lang","./html"],function(c,e,f){c=c.NodeList;e.extend(c,{html:function(b,a){var c=new f._ContentSetter(a||{});this.forEach(function(a){c.node=a;c.set(b);c.tearDown()});return this}});return c})},"dojo/html":function(){define("dojo/html","./_base/kernel ./_base/lang ./_base/array ./_base/declare ./dom ./dom-construct ./parser".split(" "),function(c,e,f,b,a,g,j){e.getObject("html",true,c);var k=0;c.html._secureForInnerHtml=function(a){return a.replace(/(?:\s*<!DOCTYPE\s[^>]+>|<title[^>]*>[\s\S]*?<\/title>)/ig,
"")};c.html._emptyNode=g.empty;c.html._setNodeContent=function(a,b){g.empty(a);if(b){typeof b=="string"&&(b=g.toDom(b,a.ownerDocument));if(!b.nodeType&&e.isArrayLike(b))for(var c=b.length,f=0;f<b.length;f=c==b.length?f+1:0)g.place(b[f],a,"last");else g.place(b,a,"last")}return a};b("dojo.html._ContentSetter",null,{node:"",content:"",id:"",cleanContent:false,extractContent:false,parseContent:false,parserScope:c._scopeName,startup:true,constructor:function(b,c){e.mixin(this,b||{});c=this.node=a.byId(this.node||
c);if(!this.id)this.id=["Setter",c?c.id||c.tagName:"",k++].join("_")},set:function(a,b){if(void 0!==a)this.content=a;b&&this._mixin(b);this.onBegin();this.setContent();this.onEnd();return this.node},setContent:function(){var a=this.node;if(!a)throw Error(this.declaredClass+": setContent given no node");try{a=c.html._setNodeContent(a,this.content)}catch(b){var e=this.onContentError(b);try{a.innerHTML=e}catch(g){console.error("Fatal "+this.declaredClass+".setContent could not change content due to "+
g.message,g)}}this.node=a},empty:function(){if(this.parseResults&&this.parseResults.length){f.forEach(this.parseResults,function(a){a.destroy&&a.destroy()});delete this.parseResults}c.html._emptyNode(this.node)},onBegin:function(){var a=this.content;if(e.isString(a)){this.cleanContent&&(a=c.html._secureForInnerHtml(a));if(this.extractContent){var b=a.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);b&&(a=b[1])}}this.empty();this.content=a;return this.node},onEnd:function(){this.parseContent&&this._parse();
return this.node},tearDown:function(){delete this.parseResults;delete this.node;delete this.content},onContentError:function(a){return"Error occured setting content: "+a},_mixin:function(a){var b={},c;for(c in a)c in b||(this[c]=a[c])},_parse:function(){var a=this.node;try{var b={};f.forEach(["dir","lang","textDir"],function(a){this[a]&&(b[a]=this[a])},this);this.parseResults=j.parse({rootNode:a,noStart:!this.startup,inherited:b,scope:this.parserScope})}catch(c){this._onError("Content",c,"Error parsing in _ContentSetter#"+
this.id)}},_onError:function(a,b,e){a=this["on"+a+"Error"].call(this,b);e?console.error(e,b):a&&c.html._setNodeContent(this.node,a,true)}});c.html.set=function(a,b,g){void 0==b&&(b="");return!g?c.html._setNodeContent(a,b,true):(new c.html._ContentSetter(e.mixin(g,{content:b,node:a}))).set()};return c.html})},"dojo/parser":function(){define("dojo/parser","./_base/kernel ./_base/lang ./_base/array ./_base/html ./_base/window ./_base/url ./_base/json ./aspect ./date/stamp ./query ./on ./ready".split(" "),
function(c,e,f,b,a,g,j,k,h,d,m){new Date("X");var p={"dom-attributes-explicit":document.createElement("div").attributes.length<40};c.parser=new function(){function g(a){var b={},c;for(c in a)c.charAt(0)!="_"&&(b[c.toLowerCase()]=c);return b}var q={};k.after(e,"extend",function(){q={}},true);var s={};this._functionFromScript=function(a,b){var c="",d="",e=a.getAttribute(b+"args")||a.getAttribute("args");e&&f.forEach(e.split(/\s*,\s*/),function(a,b){c=c+("var "+a+" = arguments["+b+"]; ")});(e=a.getAttribute("with"))&&
e.length&&f.forEach(e.split(/\s*,\s*/),function(a){c=c+("with("+a+"){");d=d+"}"});return new Function(c+a.innerHTML+d)};this.instantiate=function(a,b,v){var z=[],b=b||{},v=v||{},w=(v.scope||c._scopeName)+"Type",x="data-"+(v.scope||c._scopeName)+"-",r=x+"type",B={};f.forEach([x+"props",r,w,x+"id","jsId",x+"attach-point",x+"attach-event","dojoAttachPoint","dojoAttachEvent","class","style"],function(a){B[a.toLowerCase()]=a.replace(v.scope,"dojo")});f.forEach(a,function(a){if(a){var u=a.node||a,D=w in
b?b[w]:a.node?a.type:u.getAttribute(r)||u.getAttribute(w),F=s[D]||(s[D]=e.getObject(D)),E=F&&F.prototype;if(!F)throw Error("Could not load class '"+D);var y={};v.defaults&&e.mixin(y,v.defaults);a.inherited&&e.mixin(y,a.inherited);var J;if(p["dom-attributes-explicit"])J=u.attributes;else{var H=(/^input$|^img$/i.test(u.nodeName)?u:u.cloneNode(false)).outerHTML.replace(/=[^\s"']+|="[^"]*"|='[^']*'/g,"").replace(/^\s*<[a-zA-Z0-9]*/,"").replace(/>.*$/,"");J=f.map(H.split(/\s+/),function(a){var b=a.toLowerCase();
return{name:a,value:u.nodeName=="LI"&&a=="value"||b=="enctype"?u.getAttribute(b):u.getAttributeNode(b).value,specified:true}})}for(var H=0,l;l=J[H++];)if(l&&l.specified){var G=l.name,K=G.toLowerCase();l=l.value;if(K in B)switch(B[K]){case "data-dojo-props":var N=l;break;case "data-dojo-id":case "jsId":var ma=l;break;case "data-dojo-attach-point":case "dojoAttachPoint":y.dojoAttachPoint=l;break;case "data-dojo-attach-event":case "dojoAttachEvent":y.dojoAttachEvent=l;break;case "class":y["class"]=u.className;
break;case "style":y.style=u.style&&u.style.cssText}else{G in E||(G=(q[D]||(q[D]=g(E)))[K]||G);if(G in E)switch(typeof E[G]){case "string":y[G]=l;break;case "number":y[G]=l.length?Number(l):NaN;break;case "boolean":y[G]=l.toLowerCase()!="false";break;case "function":y[G]=l===""||l.search(/[^\w\.]+/i)!=-1?new Function(l):e.getObject(l,false)||new Function(l);break;default:K=E[G];y[G]=K&&"length"in K?l?l.split(/\s*,\s*/):[]:K instanceof Date?l==""?new Date(""):l=="now"?new Date:h.fromISOString(l):K instanceof
c._Url?c.baseUrl+l:j.fromJson(l)}else y[G]=l}}if(N)try{N=j.fromJson.call(v.propsThis,"{"+N+"}");e.mixin(y,N)}catch(na){throw Error(na.toString()+" in data-dojo-props='"+N+"'");}e.mixin(y,b);K=a.node?a.scripts:F&&(F._noScript||E._noScript)?[]:d("> script[type^='dojo/']",u);a=[];N=[];J=[];G=[];if(K)for(H=0;H<K.length;H++){var n=K[H];u.removeChild(n);l=n.getAttribute(x+"event")||n.getAttribute("event");var I=n.getAttribute(x+"prop"),D=n.getAttribute("type"),n=this._functionFromScript(n,x);l?D=="dojo/connect"?
a.push({event:l,func:n}):D=="dojo/on"?G.push({event:l,func:n}):y[l]=n:D=="dojo/watch"?J.push({prop:I,func:n}):N.push(n)}F=(D=F.markupFactory||E.markupFactory)?D(y,u,F):new F(y,u);z.push(F);ma&&e.setObject(ma,F);for(H=0;H<a.length;H++)k.after(F,a[H].event,c.hitch(F,a[H].func),true);for(H=0;H<N.length;H++)N[H].call(F);for(H=0;H<J.length;H++)F.watch(J[H].prop,J[H].func);for(H=0;H<G.length;H++)m(F,G[H].event,G[H].func)}},this);b._started||f.forEach(z,function(a){!v.noStart&&(a&&e.isFunction(a.startup)&&
!a._started)&&a.startup()});return z};this.parse=function(d,g){function f(a){if(!a.inherited){a.inherited={};var b=a.node,c=f(a.parent),b={dir:b.getAttribute("dir")||c.dir,lang:b.getAttribute("lang")||c.lang,textDir:b.getAttribute(o)||c.textDir},d;for(d in b)b[d]&&(a.inherited[d]=b[d])}return a.inherited}var h;if(!g&&d&&d.rootNode){g=d;h=g.rootNode}else h=d;h=h?b.byId(h):a.body();var g=g||{},j=(g.scope||c._scopeName)+"Type",k="data-"+(g.scope||c._scopeName)+"-",m=k+"type",o=k+"textdir",k=[],p=h.firstChild,
q=g&&g.inherited;if(!q){var D=function(b,c){return b.getAttribute&&b.getAttribute(c)||(b!==a.doc&&b!==a.doc.documentElement&&b.parentNode?D(b.parentNode,c):null)},q={dir:D(h,"dir"),lang:D(h,"lang"),textDir:D(h,o)},F;for(F in q)q[F]||delete q[F]}for(var q={inherited:q},E,y;;)if(p)if(p.nodeType!=1)p=p.nextSibling;else if(E&&p.nodeName.toLowerCase()=="script"){(h=p.getAttribute("type"))&&/^dojo\/\w/i.test(h)&&E.push(p);p=p.nextSibling}else if(y)p=p.nextSibling;else{h=p.getAttribute(m)||p.getAttribute(j);
F=p.firstChild;if(!h&&(!F||F.nodeType==3&&!F.nextSibling))p=p.nextSibling;else{q={node:p,scripts:E,parent:q};E=(y=h&&(s[h]||(s[h]=e.getObject(h))))&&!y.prototype._noScript?[]:null;h&&k.push({type:h,node:p,scripts:E,inherited:f(q)});p=F;y=y&&y.prototype.stopParser&&!(g&&g.template)}}else{if(!q||!q.node)break;p=q.node.nextSibling;E=q.scripts;y=false;q=q.parent}return this.instantiate(k,g&&g.template?{template:true}:null,g)}};c.config.parseOnLoad&&c.ready(100,c.parser,"parse");return c.parser})},"dojo/_base/url":function(){define("dojo/_base/url",
["./kernel"],function(c){var e=/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/,f=/^((([^\[:]+):)?([^@]+)@)?(\[([^\]]+)\]|([^\[:]*))(:([0-9]+))?$/,b=function(){for(var a=arguments,c=[a[0]],j=1;j<a.length;j++)if(a[j]){var k=new b(a[j]+""),c=new b(c[0]+"");if(""==k.path&&!k.scheme&&!k.authority&&!k.query)null!=k.fragment&&(c.fragment=k.fragment),k=c;else if(!k.scheme&&(k.scheme=c.scheme,!k.authority&&(k.authority=c.authority,"/"!=k.path.charAt(0)))){for(var c=(c.path.substring(0,c.path.lastIndexOf("/")+
1)+k.path).split("/"),h=0;h<c.length;h++)"."==c[h]?h==c.length-1?c[h]="":(c.splice(h,1),h--):0<h&&(!(1==h&&""==c[0])&&".."==c[h]&&".."!=c[h-1])&&(h==c.length-1?(c.splice(h,1),c[h-1]=""):(c.splice(h-1,2),h-=2));k.path=c.join("/")}c=[];k.scheme&&c.push(k.scheme,":");k.authority&&c.push("//",k.authority);c.push(k.path);k.query&&c.push("?",k.query);k.fragment&&c.push("#",k.fragment)}this.uri=c.join("");a=this.uri.match(e);this.scheme=a[2]||(a[1]?"":null);this.authority=a[4]||(a[3]?"":null);this.path=
a[5];this.query=a[7]||(a[6]?"":null);this.fragment=a[9]||(a[8]?"":null);null!=this.authority&&(a=this.authority.match(f),this.user=a[3]||null,this.password=a[4]||null,this.host=a[6]||a[7],this.port=a[9]||null)};b.prototype.toString=function(){return this.uri};return c._Url=b})},"dijit/form/HorizontalSlider":function(){require({cache:{"url:dijit/form/templates/HorizontalSlider.html":'<table class="dijit dijitReset dijitSlider dijitSliderH" cellspacing="0" cellpadding="0" border="0" rules="none" data-dojo-attach-event="onkeypress:_onKeyPress,onkeyup:_onKeyUp"\n\t><tr class="dijitReset"\n\t\t><td class="dijitReset" colspan="2"></td\n\t\t><td data-dojo-attach-point="topDecoration" class="dijitReset dijitSliderDecoration dijitSliderDecorationT dijitSliderDecorationH"></td\n\t\t><td class="dijitReset" colspan="2"></td\n\t></tr\n\t><tr class="dijitReset"\n\t\t><td class="dijitReset dijitSliderButtonContainer dijitSliderButtonContainerH"\n\t\t\t><div class="dijitSliderDecrementIconH" style="display:none" data-dojo-attach-point="decrementButton"><span class="dijitSliderButtonInner">-</span></div\n\t\t></td\n\t\t><td class="dijitReset"\n\t\t\t><div class="dijitSliderBar dijitSliderBumper dijitSliderBumperH dijitSliderLeftBumper" data-dojo-attach-event="press:_onClkDecBumper"></div\n\t\t></td\n\t\t><td class="dijitReset"\n\t\t\t><input data-dojo-attach-point="valueNode" type="hidden" ${!nameAttrSetting}\n\t\t\t/><div class="dijitReset dijitSliderBarContainerH" role="presentation" data-dojo-attach-point="sliderBarContainer"\n\t\t\t\t><div role="presentation" data-dojo-attach-point="progressBar" class="dijitSliderBar dijitSliderBarH dijitSliderProgressBar dijitSliderProgressBarH" data-dojo-attach-event="press:_onBarClick"\n\t\t\t\t\t><div class="dijitSliderMoveable dijitSliderMoveableH"\n\t\t\t\t\t\t><div data-dojo-attach-point="sliderHandle,focusNode" class="dijitSliderImageHandle dijitSliderImageHandleH" data-dojo-attach-event="press:_onHandleClick" role="slider" valuemin="${minimum}" valuemax="${maximum}"></div\n\t\t\t\t\t></div\n\t\t\t\t></div\n\t\t\t\t><div role="presentation" data-dojo-attach-point="remainingBar" class="dijitSliderBar dijitSliderBarH dijitSliderRemainingBar dijitSliderRemainingBarH" data-dojo-attach-event="press:_onBarClick"></div\n\t\t\t></div\n\t\t></td\n\t\t><td class="dijitReset"\n\t\t\t><div class="dijitSliderBar dijitSliderBumper dijitSliderBumperH dijitSliderRightBumper" data-dojo-attach-event="press:_onClkIncBumper"></div\n\t\t></td\n\t\t><td class="dijitReset dijitSliderButtonContainer dijitSliderButtonContainerH"\n\t\t\t><div class="dijitSliderIncrementIconH" style="display:none" data-dojo-attach-point="incrementButton"><span class="dijitSliderButtonInner">+</span></div\n\t\t></td\n\t></tr\n\t><tr class="dijitReset"\n\t\t><td class="dijitReset" colspan="2"></td\n\t\t><td data-dojo-attach-point="containerNode,bottomDecoration" class="dijitReset dijitSliderDecoration dijitSliderDecorationB dijitSliderDecorationH"></td\n\t\t><td class="dijitReset" colspan="2"></td\n\t></tr\n></table>\n'}});
define("dijit/form/HorizontalSlider","dojo/_base/array dojo/_base/declare dojo/dnd/move dojo/_base/event dojo/_base/fx dojo/dom-geometry dojo/dom-style dojo/keys dojo/_base/lang dojo/_base/sniff dojo/dnd/Moveable dojo/dnd/Mover dojo/query ../registry ../focus ../typematic ./Button ./_FormValueWidget ../_Container dojo/text!./templates/HorizontalSlider.html".split(" "),function(c,e,f,b,a,g,j,k,h,d,m,p,o,q,s,u,t,v,z,w){var x=e("dijit.form._SliderMover",p,{onMouseMove:function(a){var b=this.widget,c=
b._abspos;if(!c){c=b._abspos=g.position(b.sliderBarContainer,true);b._setPixelValue_=h.hitch(b,"_setPixelValue");b._isReversed_=b._isReversed()}a=a[b._mousePixelCoord]-c[b._startingPixelCoord];b._setPixelValue_(b._isReversed_?c[b._pixelCount]-a:a,c[b._pixelCount],false)},destroy:function(a){p.prototype.destroy.apply(this,arguments);var b=this.widget;b._abspos=null;b._setValueAttr(b.value,true)}}),f=e("dijit.form.HorizontalSlider",[v,z],{templateString:w,value:0,showButtons:true,minimum:0,maximum:100,
discreteValues:Infinity,pageIncrement:2,clickSelect:true,slideDuration:q.defaultDuration,_setIdAttr:"",baseClass:"dijitSlider",cssStateNodes:{incrementButton:"dijitSliderIncrementButton",decrementButton:"dijitSliderDecrementButton",focusNode:"dijitSliderThumb"},_mousePixelCoord:"pageX",_pixelCount:"w",_startingPixelCoord:"x",_handleOffsetCoord:"left",_progressPixelSize:"width",_onKeyUp:function(a){!this.disabled&&(!this.readOnly&&!a.altKey&&!a.ctrlKey&&!a.metaKey)&&this._setValueAttr(this.value,true)},
_onKeyPress:function(a){if(!this.disabled&&!this.readOnly&&!a.altKey&&!a.ctrlKey&&!a.metaKey){switch(a.charOrCode){case k.HOME:this._setValueAttr(this.minimum,false);break;case k.END:this._setValueAttr(this.maximum,false);break;case this._descending||this.isLeftToRight()?k.RIGHT_ARROW:k.LEFT_ARROW:case this._descending===false?k.DOWN_ARROW:k.UP_ARROW:case this._descending===false?k.PAGE_DOWN:k.PAGE_UP:this.increment(a);break;case this._descending||this.isLeftToRight()?k.LEFT_ARROW:k.RIGHT_ARROW:case this._descending===
false?k.UP_ARROW:k.DOWN_ARROW:case this._descending===false?k.PAGE_UP:k.PAGE_DOWN:this.decrement(a);break;default:return}b.stop(a)}},_onHandleClick:function(a){if(!this.disabled&&!this.readOnly){d("ie")||s.focus(this.sliderHandle);b.stop(a)}},_isReversed:function(){return!this.isLeftToRight()},_onBarClick:function(a){if(!this.disabled&&!this.readOnly&&this.clickSelect){s.focus(this.sliderHandle);b.stop(a);var c=g.position(this.sliderBarContainer,true),d=a[this._mousePixelCoord]-c[this._startingPixelCoord];
this._setPixelValue(this._isReversed()?c[this._pixelCount]-d:d,c[this._pixelCount],true);this._movable.onMouseDown(a)}},_setPixelValue:function(a,b,c){if(!this.disabled&&!this.readOnly){var d=this.discreteValues;if(d<=1||d==Infinity)d=b;d--;a=Math.round(a/(b/d));this._setValueAttr(Math.max(Math.min((this.maximum-this.minimum)*a/d+this.minimum,this.maximum),this.minimum),c)}},_setValueAttr:function(b,c){this._set("value",b);this.valueNode.value=b;this.focusNode.setAttribute("aria-valuenow",b);this.inherited(arguments);
var d=(b-this.minimum)/(this.maximum-this.minimum),e=this._descending===false?this.remainingBar:this.progressBar,g=this._descending===false?this.progressBar:this.remainingBar;this._inProgressAnim&&this._inProgressAnim.status!="stopped"&&this._inProgressAnim.stop(true);if(c&&this.slideDuration>0&&e.style[this._progressPixelSize]){var f=this,h={},j=parseFloat(e.style[this._progressPixelSize]),k=this.slideDuration*(d-j/100);if(k!=0){k<0&&(k=0-k);h[this._progressPixelSize]={start:j,end:d*100,units:"%"};
this._inProgressAnim=a.animateProperty({node:e,duration:k,onAnimate:function(a){g.style[f._progressPixelSize]=100-parseFloat(a[f._progressPixelSize])+"%"},onEnd:function(){delete f._inProgressAnim},properties:h});this._inProgressAnim.play()}}else{e.style[this._progressPixelSize]=d*100+"%";g.style[this._progressPixelSize]=(1-d)*100+"%"}},_bumpValue:function(a,b){if(!this.disabled&&!this.readOnly){var c=j.getComputedStyle(this.sliderBarContainer),d=g.getContentBox(this.sliderBarContainer,c),c=this.discreteValues;
if(c<=1||c==Infinity)c=d[this._pixelCount];c--;d=(this.value-this.minimum)*c/(this.maximum-this.minimum)+a;d<0&&(d=0);d>c&&(d=c);d=d*(this.maximum-this.minimum)/c+this.minimum;this._setValueAttr(d,b)}},_onClkBumper:function(a){!this.disabled&&(!this.readOnly&&this.clickSelect)&&this._setValueAttr(a,true)},_onClkIncBumper:function(){this._onClkBumper(this._descending===false?this.minimum:this.maximum)},_onClkDecBumper:function(){this._onClkBumper(this._descending===false?this.maximum:this.minimum)},
decrement:function(a){this._bumpValue(a.charOrCode==k.PAGE_DOWN?-this.pageIncrement:-1)},increment:function(a){this._bumpValue(a.charOrCode==k.PAGE_UP?this.pageIncrement:1)},_mouseWheeled:function(a){b.stop(a);var c=!d("mozilla");this._bumpValue(a[c?"wheelDelta":"detail"]*(c?1:-1)<0?-1:1,true)},startup:function(){if(!this._started){c.forEach(this.getChildren(),function(a){this[a.container]!=this.containerNode&&this[a.container].appendChild(a.domNode)},this);this.inherited(arguments)}},_typematicCallback:function(a,
b,c){if(a==-1)this._setValueAttr(this.value,true);else this[b==(this._descending?this.incrementButton:this.decrementButton)?"decrement":"increment"](c)},buildRendering:function(){this.inherited(arguments);if(this.showButtons){this.incrementButton.style.display="";this.decrementButton.style.display=""}var a=o('label[for="'+this.id+'"]');if(a.length){a[0].id=this.id+"_label";this.focusNode.setAttribute("aria-labelledby",a[0].id)}this.focusNode.setAttribute("aria-valuemin",this.minimum);this.focusNode.setAttribute("aria-valuemax",
this.maximum)},postCreate:function(){this.inherited(arguments);if(this.showButtons){this._connects.push(u.addMouseListener(this.decrementButton,this,"_typematicCallback",25,500));this._connects.push(u.addMouseListener(this.incrementButton,this,"_typematicCallback",25,500))}this.connect(this.domNode,!d("mozilla")?"onmousewheel":"DOMMouseScroll","_mouseWheeled");var a=e(x,{widget:this});this._movable=new m(this.sliderHandle,{mover:a});this._layoutHackIE7()},destroy:function(){this._movable.destroy();
this._inProgressAnim&&this._inProgressAnim.status!="stopped"&&this._inProgressAnim.stop(true);this._supportingWidgets=q.findWidgets(this.domNode);this.inherited(arguments)}});f._Mover=x;return f})},"dojo/dnd/move":function(){define("dojo/dnd/move",["../main","./Mover","./Moveable"],function(c){c.declare("dojo.dnd.move.constrainedMoveable",c.dnd.Moveable,{constraints:function(){},within:!1,constructor:function(c,f){f||(f={});this.constraints=f.constraints;this.within=f.within},onFirstMove:function(e){var f=
this.constraintBox=this.constraints.call(this,e);f.r=f.l+f.w;f.b=f.t+f.h;this.within&&(e=c._getMarginSize(e.node),f.r-=e.w,f.b-=e.h)},onMove:function(c,f){var b=this.constraintBox,a=c.node.style;this.onMoving(c,f);f.l=f.l<b.l?b.l:b.r<f.l?b.r:f.l;f.t=f.t<b.t?b.t:b.b<f.t?b.b:f.t;a.left=f.l+"px";a.top=f.t+"px";this.onMoved(c,f)}});c.declare("dojo.dnd.move.boxConstrainedMoveable",c.dnd.move.constrainedMoveable,{box:{},constructor:function(c,f){var b=f&&f.box;this.constraints=function(){return b}}});c.declare("dojo.dnd.move.parentConstrainedMoveable",
c.dnd.move.constrainedMoveable,{area:"content",constructor:function(e,f){var b=f&&f.area;this.constraints=function(){var a=this.node.parentNode,e=c.getComputedStyle(a),f=c._getMarginBox(a,e);if("margin"==b)return f;var k=c._getMarginExtents(a,e);f.l+=k.l;f.t+=k.t;f.w-=k.w;f.h-=k.h;if("border"==b)return f;k=c._getBorderExtents(a,e);f.l+=k.l;f.t+=k.t;f.w-=k.w;f.h-=k.h;if("padding"==b)return f;k=c._getPadExtents(a,e);f.l+=k.l;f.t+=k.t;f.w-=k.w;f.h-=k.h;return f}}});c.dnd.constrainedMover=c.dnd.move.constrainedMover;
c.dnd.boxConstrainedMover=c.dnd.move.boxConstrainedMover;c.dnd.parentConstrainedMover=c.dnd.move.parentConstrainedMover;return c.dnd.move})},"dojo/dnd/Mover":function(){define("dojo/dnd/Mover",["../main","../Evented","../touch","./common","./autoscroll"],function(c,e,f){c.declare("dojo.dnd.Mover",[e],{constructor:function(b,a,e){this.node=c.byId(b);this.marginBox={l:a.pageX,t:a.pageY};this.mouseButton=a.button;a=this.host=e;b=b.ownerDocument;this.events=[c.connect(b,f.move,this,"onFirstMove"),c.connect(b,
f.move,this,"onMouseMove"),c.connect(b,f.release,this,"onMouseUp"),c.connect(b,"ondragstart",c.stopEvent),c.connect(b.body,"onselectstart",c.stopEvent)];if(a&&a.onMoveStart)a.onMoveStart(this)},onMouseMove:function(b){c.dnd.autoScroll(b);var a=this.marginBox;this.host.onMove(this,{l:a.l+b.pageX,t:a.t+b.pageY},b);c.stopEvent(b)},onMouseUp:function(b){(c.isWebKit&&c.isMac&&2==this.mouseButton?0==b.button:this.mouseButton==b.button)&&this.destroy();c.stopEvent(b)},onFirstMove:function(b){var a=this.node.style,
e,f=this.host;switch(a.position){case "relative":case "absolute":e=Math.round(parseFloat(a.left))||0;a=Math.round(parseFloat(a.top))||0;break;default:a.position="absolute";a=c.marginBox(this.node);e=c.doc.body;var k=c.getComputedStyle(e),h=c._getMarginBox(e,k),k=c._getContentBox(e,k);e=a.l-(k.l-h.l);a=a.t-(k.t-h.t)}this.marginBox.l=e-this.marginBox.l;this.marginBox.t=a-this.marginBox.t;if(f&&f.onFirstMove)f.onFirstMove(this,b);c.disconnect(this.events.shift())},destroy:function(){c.forEach(this.events,
c.disconnect);var b=this.host;if(b&&b.onMoveStop)b.onMoveStop(this);this.events=this.node=this.host=null}});return c.dnd.Mover})},"dojo/touch":function(){define("dojo/touch",["./_base/kernel","./on","./has","./mouse"],function(c,e,f,b){function a(a){return function(b,c){return e(b,a,c)}}f=f("touch");c.touch={press:a(f?"touchstart":"mousedown"),move:a(f?"touchmove":"mousemove"),release:a(f?"touchend":"mouseup"),cancel:f?a("touchcancel"):b.leave};return c.touch})},"dojo/dnd/common":function(){define("dojo/dnd/common",
["../main"],function(c){c.getObject("dnd",!0,c);c.dnd.getCopyKeyState=c.isCopyKey;c.dnd._uniqueId=0;c.dnd.getUniqueId=function(){var e;do e=c._scopeName+"Unique"+ ++c.dnd._uniqueId;while(c.byId(e));return e};c.dnd._empty={};c.dnd.isFormElement=function(c){c=c.target;3==c.nodeType&&(c=c.parentNode);return 0<=" button textarea input select option ".indexOf(" "+c.tagName.toLowerCase()+" ")};return c.dnd})},"dojo/dnd/autoscroll":function(){define("dojo/dnd/autoscroll",["../main","../window"],function(c){c.getObject("dnd",
!0,c);c.dnd.getViewport=c.window.getBox;c.dnd.V_TRIGGER_AUTOSCROLL=32;c.dnd.H_TRIGGER_AUTOSCROLL=32;c.dnd.V_AUTOSCROLL_VALUE=16;c.dnd.H_AUTOSCROLL_VALUE=16;c.dnd.autoScroll=function(e){var f=c.window.getBox(),b=0,a=0;e.clientX<c.dnd.H_TRIGGER_AUTOSCROLL?b=-c.dnd.H_AUTOSCROLL_VALUE:e.clientX>f.w-c.dnd.H_TRIGGER_AUTOSCROLL&&(b=c.dnd.H_AUTOSCROLL_VALUE);e.clientY<c.dnd.V_TRIGGER_AUTOSCROLL?a=-c.dnd.V_AUTOSCROLL_VALUE:e.clientY>f.h-c.dnd.V_TRIGGER_AUTOSCROLL&&(a=c.dnd.V_AUTOSCROLL_VALUE);window.scrollBy(b,
a)};c.dnd._validNodes={div:1,p:1,td:1};c.dnd._validOverflow={auto:1,scroll:1};c.dnd.autoScrollNodes=function(e){for(var f,b,a,g,j,k,h=0,d=0,m=e.target;m;){if(1==m.nodeType&&m.tagName.toLowerCase()in c.dnd._validNodes){a=c.getComputedStyle(m);g=a.overflow.toLowerCase()in c.dnd._validOverflow;j=a.overflowX.toLowerCase()in c.dnd._validOverflow;k=a.overflowY.toLowerCase()in c.dnd._validOverflow;if(g||j||k)f=c._getContentBox(m,a),b=c.position(m,!0);if(g||j){a=Math.min(c.dnd.H_TRIGGER_AUTOSCROLL,f.w/2);
j=e.pageX-b.x;if(c.isWebKit||c.isOpera)j+=c.body().scrollLeft;h=0;0<j&&j<f.w&&(j<a?h=-a:j>f.w-a&&(h=a),m.scrollLeft+=h)}if(g||k){g=Math.min(c.dnd.V_TRIGGER_AUTOSCROLL,f.h/2);k=e.pageY-b.y;if(c.isWebKit||c.isOpera)k+=c.body().scrollTop;d=0;0<k&&k<f.h&&(k<g?d=-g:k>f.h-g&&(d=g),m.scrollTop+=d)}if(h||d)return}try{m=m.parentNode}catch(p){m=null}}c.dnd.autoScroll(e)};return c.dnd})},"dojo/dnd/Moveable":function(){define("dojo/dnd/Moveable",["../main","../Evented","../touch","./Mover"],function(c,e,f){c.declare("dojo.dnd.Moveable",
[e],{handle:"",delay:0,skip:!1,constructor:function(b,a){this.node=c.byId(b);a||(a={});this.handle=a.handle?c.byId(a.handle):null;this.handle||(this.handle=this.node);this.delay=0<a.delay?a.delay:0;this.skip=a.skip;this.mover=a.mover?a.mover:c.dnd.Mover;this.events=[c.connect(this.handle,f.press,this,"onMouseDown"),c.connect(this.handle,"ondragstart",this,"onSelectStart"),c.connect(this.handle,"onselectstart",this,"onSelectStart")]},markupFactory:function(b,a,c){return new c(a,b)},destroy:function(){c.forEach(this.events,
c.disconnect);this.events=this.node=this.handle=null},onMouseDown:function(b){if(!this.skip||!c.dnd.isFormElement(b)){if(this.delay)this.events.push(c.connect(this.handle,f.move,this,"onMouseMove"),c.connect(this.handle,f.release,this,"onMouseUp")),this._lastX=b.pageX,this._lastY=b.pageY;else this.onDragDetected(b);c.stopEvent(b)}},onMouseMove:function(b){if(Math.abs(b.pageX-this._lastX)>this.delay||Math.abs(b.pageY-this._lastY)>this.delay)this.onMouseUp(b),this.onDragDetected(b);c.stopEvent(b)},
onMouseUp:function(b){for(var a=0;2>a;++a)c.disconnect(this.events.pop());c.stopEvent(b)},onSelectStart:function(b){(!this.skip||!c.dnd.isFormElement(b))&&c.stopEvent(b)},onDragDetected:function(b){new this.mover(this.node,b,this)},onMoveStart:function(b){c.publish("/dnd/move/start",[b]);c.addClass(c.body(),"dojoMove");c.addClass(this.node,"dojoMoveItem")},onMoveStop:function(b){c.publish("/dnd/move/stop",[b]);c.removeClass(c.body(),"dojoMove");c.removeClass(this.node,"dojoMoveItem")},onFirstMove:function(){},
onMove:function(b,a){this.onMoving(b,a);var c=b.node.style;c.left=a.l+"px";c.top=a.t+"px";this.onMoved(b,a)},onMoving:function(){},onMoved:function(){}});return c.dnd.Moveable})},"dijit/registry":function(){define("dijit/registry",["dojo/_base/array","dojo/_base/sniff","dojo/_base/unload","dojo/_base/window","."],function(c,e,f,b,a){var g={},j={},k={length:0,add:function(a){if(j[a.id])throw Error("Tried to register widget with id=="+a.id+" but that id is already registered");j[a.id]=a;this.length++},
remove:function(a){j[a]&&(delete j[a],this.length--)},byId:function(a){return"string"==typeof a?j[a]:a},byNode:function(a){return j[a.getAttribute("widgetId")]},toArray:function(){var a=[],b;for(b in j)a.push(j[b]);return a},getUniqueId:function(b){var c;do c=b+"_"+(b in g?++g[b]:g[b]=0);while(j[c]);return"dijit"==a._scopeName?c:a._scopeName+"_"+c},findWidgets:function(a){function b(a){for(a=a.firstChild;a;a=a.nextSibling)if(1==a.nodeType){var e=a.getAttribute("widgetId");e?(e=j[e])&&c.push(e):b(a)}}
var c=[];b(a);return c},_destroyAll:function(){a._curFocus=null;a._prevFocus=null;a._activeStack=[];c.forEach(k.findWidgets(b.body()),function(a){a._destroyed||(a.destroyRecursive?a.destroyRecursive():a.destroy&&a.destroy())})},getEnclosingWidget:function(a){for(;a;){var b=a.getAttribute&&a.getAttribute("widgetId");if(b)return j[b];a=a.parentNode}return null},_hash:j};e("ie")&&f.addOnWindowUnload(function(){k._destroyAll()});return a.registry=k})},"dijit/focus":function(){define("dijit/focus","dojo/aspect dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-construct dojo/Evented dojo/_base/lang dojo/on dojo/ready dojo/_base/sniff dojo/Stateful dojo/_base/unload dojo/_base/window dojo/window ./a11y ./registry .".split(" "),
function(c,e,f,b,a,g,j,k,h,d,m,p,o,q,s,u,t){var v=new (e([m,g],{curNode:null,activeStack:[],constructor:function(){var b=j.hitch(this,function(a){f.isDescendant(this.curNode,a)&&this.set("curNode",null);f.isDescendant(this.prevNode,a)&&this.set("prevNode",null)});c.before(a,"empty",b);c.before(a,"destroy",b)},registerIframe:function(a){return this.registerWin(a.contentWindow,a)},registerWin:function(a,b){var c=this,e=function(a){c._justMouseDowned=true;setTimeout(function(){c._justMouseDowned=false},
0);if(!d("ie")||!a||!(a.srcElement&&a.srcElement.parentNode==null))c._onTouchNode(b||a.target||a.srcElement,"mouse")},g=d("ie")?a.document.documentElement:a.document;if(g){if(d("ie")){a.document.body.attachEvent("onmousedown",e);var f=function(a){var d=a.srcElement.tagName.toLowerCase();d=="#document"||d=="body"||(s.isTabNavigable(a.srcElement)?c._onFocusNode(b||a.srcElement):c._onTouchNode(b||a.srcElement))};g.attachEvent("onactivate",f);var h=function(a){c._onBlurNode(b||a.srcElement)};g.attachEvent("ondeactivate",
h);return{remove:function(){a.document.detachEvent("onmousedown",e);g.detachEvent("onactivate",f);g.detachEvent("ondeactivate",h);g=null}}}g.body.addEventListener("mousedown",e,true);g.body.addEventListener("touchstart",e,true);var j=function(a){c._onFocusNode(b||a.target)};g.addEventListener("focus",j,true);var k=function(a){c._onBlurNode(b||a.target)};g.addEventListener("blur",k,true);return{remove:function(){g.body.removeEventListener("mousedown",e,true);g.body.removeEventListener("touchstart",
e,true);g.removeEventListener("focus",j,true);g.removeEventListener("blur",k,true);g=null}}}},_onBlurNode:function(){this.set("prevNode",this.curNode);this.set("curNode",null);if(!this._justMouseDowned){this._clearActiveWidgetsTimer&&clearTimeout(this._clearActiveWidgetsTimer);this._clearActiveWidgetsTimer=setTimeout(j.hitch(this,function(){delete this._clearActiveWidgetsTimer;this._setStack([]);this.prevNode=null}),100)}},_onTouchNode:function(a,c){if(this._clearActiveWidgetsTimer){clearTimeout(this._clearActiveWidgetsTimer);
delete this._clearActiveWidgetsTimer}var d=[];try{for(;a;){var e=b.get(a,"dijitPopupParent");if(e)a=u.byId(e).domNode;else if(a.tagName&&a.tagName.toLowerCase()=="body"){if(a===o.body())break;a=q.get(a.ownerDocument).frameElement}else{var g=a.getAttribute&&a.getAttribute("widgetId"),f=g&&u.byId(g);f&&!(c=="mouse"&&f.get("disabled"))&&d.unshift(g);a=a.parentNode}}}catch(h){}this._setStack(d,c)},_onFocusNode:function(a){if(a&&a.nodeType!=9){this._onTouchNode(a);a!=this.curNode&&this.set("curNode",a)}},
_setStack:function(a,b){var c=this.activeStack;this.set("activeStack",a);for(var d=0;d<Math.min(c.length,a.length);d++)if(c[d]!=a[d])break;for(var e,g=c.length-1;g>=d;g--)if(e=u.byId(c[g])){e._hasBeenBlurred=true;e.set("focused",false);e._focusManager==this&&e._onBlur(b);this.emit("widget-blur",e,b)}for(g=d;g<a.length;g++)if(e=u.byId(a[g])){e.set("focused",true);e._focusManager==this&&e._onFocus(b);this.emit("widget-focus",e,b)}},focus:function(a){if(a)try{a.focus()}catch(b){}}}));h(function(){var a=
v.registerWin(o.doc.parentWindow||o.doc.defaultView);d("ie")&&p.addOnWindowUnload(function(){a.remove();a=null})});t.focus=function(a){v.focus(a)};for(var z in v)/^_/.test(z)||(t.focus[z]=typeof v[z]=="function"?j.hitch(v,z):v[z]);v.watch(function(a,b,c){t.focus[a]=c});return v})},"dojo/Stateful":function(){define("dojo/Stateful",["./_base/kernel","./_base/declare","./_base/lang","./_base/array"],function(c,e,f,b){return c.declare("dojo.Stateful",null,{postscript:function(a){a&&f.mixin(this,a)},get:function(a){return this[a]},
set:function(a,b){if("object"===typeof a){for(var c in a)this.set(c,a[c]);return this}c=this[a];this[a]=b;this._watchCallbacks&&this._watchCallbacks(a,c,b);return this},watch:function(a,c){var e=this._watchCallbacks;if(!e)var f=this,e=this._watchCallbacks=function(a,b,c,g){var h=function(e){if(e)for(var e=e.slice(),g=0,h=e.length;g<h;g++)try{e[g].call(f,a,b,c)}catch(j){console.error(j)}};h(e["_"+a]);g||h(e["*"])};!c&&"function"===typeof a?(c=a,a="*"):a="_"+a;var h=e[a];"object"!==typeof h&&(h=e[a]=
[]);h.push(c);return{unwatch:function(){h.splice(b.indexOf(h,c),1)}}}})})},"dijit/a11y":function(){define("dijit/a11y","dojo/_base/array dojo/_base/config dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-style dojo/_base/sniff ./_base/manager .".split(" "),function(c,e,f,b,a,g,j,k,h){var d=h._isElementShown=function(b){var c=g.get(b);return c.visibility!="hidden"&&c.visibility!="collapsed"&&c.display!="none"&&a.get(b,"type")!="hidden"};h.hasDefaultTabStop=function(b){switch(b.nodeName.toLowerCase()){case "a":return a.has(b,
"href");case "area":case "button":case "input":case "object":case "select":case "textarea":return true;case "iframe":var c;try{var d=b.contentDocument;if("designMode"in d&&d.designMode=="on")return true;c=d.body}catch(e){try{c=b.contentWindow.document.body}catch(g){return false}}return c&&(c.contentEditable=="true"||c.firstChild&&c.firstChild.contentEditable=="true");default:return b.contentEditable=="true"}};var m=h.isTabNavigable=function(b){return a.get(b,"disabled")?false:a.has(b,"tabIndex")?
a.get(b,"tabIndex")>=0:h.hasDefaultTabStop(b)};h._getTabNavigable=function(b){function c(a){return a&&a.tagName.toLowerCase()=="input"&&a.type&&a.type.toLowerCase()=="radio"&&a.name&&a.name.toLowerCase()}var e,g,f,h,k,z,w={},x=function(b){for(b=b.firstChild;b;b=b.nextSibling)if(!(b.nodeType!=1||j("ie")&&b.scopeName!=="HTML"||!d(b))){if(m(b)){var p=a.get(b,"tabIndex");if(!a.has(b,"tabIndex")||p==0){e||(e=b);g=b}else if(p>0){if(!f||p<h){h=p;f=b}if(!k||p>=z){z=p;k=b}}p=c(b);a.get(b,"checked")&&p&&(w[p]=
b)}b.nodeName.toUpperCase()!="SELECT"&&x(b)}};d(b)&&x(b);return{first:w[c(e)]||e,last:w[c(g)]||g,lowest:w[c(f)]||f,highest:w[c(k)]||k}};h.getFirstInTabbingOrder=function(a){a=h._getTabNavigable(b.byId(a));return a.lowest?a.lowest:a.first};h.getLastInTabbingOrder=function(a){a=h._getTabNavigable(b.byId(a));return a.last?a.last:a.highest};return{hasDefaultTabStop:h.hasDefaultTabStop,isTabNavigable:h.isTabNavigable,_getTabNavigable:h._getTabNavigable,getFirstInTabbingOrder:h.getFirstInTabbingOrder,getLastInTabbingOrder:h.getLastInTabbingOrder}})},
"dijit/_base/manager":function(){define("dijit/_base/manager",["dojo/_base/array","dojo/_base/config","../registry",".."],function(c,e,f,b){c.forEach("byId getUniqueId findWidgets _destroyAll byNode getEnclosingWidget".split(" "),function(a){b[a]=f[a]});b.defaultDuration=e.defaultDuration||200;return b})},"dijit/typematic":function(){define("dijit/typematic","dojo/_base/array dojo/_base/connect dojo/_base/event dojo/_base/kernel dojo/_base/lang dojo/on dojo/_base/sniff .".split(" "),function(c,e,
f,b,a,g,j,k){var h=k.typematic={_fireEventAndReload:function(){this._timer=null;this._callback(++this._count,this._node,this._evt);this._currentTimeout=Math.max(this._currentTimeout<0?this._initialDelay:this._subsequentDelay>1?this._subsequentDelay:Math.round(this._currentTimeout*this._subsequentDelay),this._minDelay);this._timer=setTimeout(a.hitch(this,"_fireEventAndReload"),this._currentTimeout)},trigger:function(b,c,e,g,f,h,j,k){if(f!=this._obj){this.stop();this._initialDelay=j||500;this._subsequentDelay=
h||0.9;this._minDelay=k||10;this._obj=f;this._evt=b;this._node=e;this._count=this._currentTimeout=-1;this._callback=a.hitch(c,g);this._fireEventAndReload();this._evt=a.mixin({faux:true},b)}},stop:function(){if(this._timer){clearTimeout(this._timer);this._timer=null}if(this._obj){this._callback(-1,this._node,this._evt);this._obj=null}},addKeyListener:function(d,j,k,o,q,s,u){if(j.keyCode){j.charOrCode=j.keyCode;b.deprecated("keyCode attribute parameter for dijit.typematic.addKeyListener is deprecated. Use charOrCode instead.",
"","2.0")}else if(j.charCode){j.charOrCode=String.fromCharCode(j.charCode);b.deprecated("charCode attribute parameter for dijit.typematic.addKeyListener is deprecated. Use charOrCode instead.","","2.0")}var t=[g(d,e._keypress,a.hitch(this,function(a){if(a.charOrCode==j.charOrCode&&(j.ctrlKey===void 0||j.ctrlKey==a.ctrlKey)&&(j.altKey===void 0||j.altKey==a.altKey)&&(j.metaKey===void 0||j.metaKey==(a.metaKey||false))&&(j.shiftKey===void 0||j.shiftKey==a.shiftKey)){f.stop(a);h.trigger(a,k,d,o,j,q,s,
u)}else h._obj==j&&h.stop()})),g(d,"keyup",a.hitch(this,function(){h._obj==j&&h.stop()}))];return{remove:function(){c.forEach(t,function(a){a.remove()})}}},addMouseListener:function(b,e,k,o,q,s){var u=[g(b,"mousedown",a.hitch(this,function(a){f.stop(a);h.trigger(a,e,b,k,b,o,q,s)})),g(b,"mouseup",a.hitch(this,function(a){this._obj&&f.stop(a);h.stop()})),g(b,"mouseout",a.hitch(this,function(a){f.stop(a);h.stop()})),g(b,"mousemove",a.hitch(this,function(a){a.preventDefault()})),g(b,"dblclick",a.hitch(this,
function(c){f.stop(c);if(j("ie")){h.trigger(c,e,b,k,b,o,q,s);setTimeout(a.hitch(this,h.stop),50)}}))];return{remove:function(){c.forEach(u,function(a){a.remove()})}}},addListener:function(a,b,e,g,f,h,j,k){var v=[this.addKeyListener(b,e,g,f,h,j,k),this.addMouseListener(a,g,f,h,j,k)];return{remove:function(){c.forEach(v,function(a){a.remove()})}}}};return h})},"dijit/form/Button":function(){require({cache:{"url:dijit/form/templates/Button.html":'<span class="dijit dijitReset dijitInline" role="presentation"\n\t><span class="dijitReset dijitInline dijitButtonNode"\n\t\tdata-dojo-attach-event="ondijitclick:_onClick" role="presentation"\n\t\t><span class="dijitReset dijitStretch dijitButtonContents"\n\t\t\tdata-dojo-attach-point="titleNode,focusNode"\n\t\t\trole="button" aria-labelledby="${id}_label"\n\t\t\t><span class="dijitReset dijitInline dijitIcon" data-dojo-attach-point="iconNode"></span\n\t\t\t><span class="dijitReset dijitToggleButtonIconChar">&#x25CF;</span\n\t\t\t><span class="dijitReset dijitInline dijitButtonText"\n\t\t\t\tid="${id}_label"\n\t\t\t\tdata-dojo-attach-point="containerNode"\n\t\t\t></span\n\t\t></span\n\t></span\n\t><input ${!nameAttrSetting} type="${type}" value="${value}" class="dijitOffScreen"\n\t\ttabIndex="-1" role="presentation" data-dojo-attach-point="valueNode"\n/></span>\n'}});
define("dijit/form/Button","require dojo/_base/declare dojo/dom-class dojo/_base/kernel dojo/_base/lang dojo/ready ./_FormWidget ./_ButtonMixin dojo/text!./templates/Button.html".split(" "),function(c,e,f,b,a,g,j,k,h){b.isAsync||g(0,function(){c(["dijit/form/DropDownButton","dijit/form/ComboButton","dijit/form/ToggleButton"])});return e("dijit.form.Button",[j,k],{showLabel:true,iconClass:"dijitNoIcon",_setIconClassAttr:{node:"iconNode",type:"class"},baseClass:"dijitButton",templateString:h,_setValueAttr:"valueNode",
_onClick:function(a){var b=this.inherited(arguments);if(b&&this.valueNode){this.valueNode.click();a.preventDefault()}return b},_fillContent:function(b){if(b&&(!this.params||!("label"in this.params)))if(b=a.trim(b.innerHTML))this.label=b},_setShowLabelAttr:function(a){this.containerNode&&f.toggle(this.containerNode,"dijitDisplayNone",!a);this._set("showLabel",a)},setLabel:function(a){b.deprecated("dijit.form.Button.setLabel() is deprecated.  Use set('label', ...) instead.","","2.0");this.set("label",
a)},_setLabelAttr:function(b){this.inherited(arguments);if(!this.showLabel&&!("title"in this.params))this.titleNode.title=a.trim(this.containerNode.innerText||this.containerNode.textContent||"")}})})},"dijit/form/_FormWidget":function(){define("dijit/form/_FormWidget","dojo/_base/declare dojo/_base/kernel dojo/ready ../_Widget ../_CssStateMixin ../_TemplatedMixin ./_FormWidgetMixin".split(" "),function(c,e,f,b,a,g,j){e.isAsync||f(0,function(){require(["dijit/form/_FormValueWidget"])});return c("dijit.form._FormWidget",
[b,g,a,j],{setDisabled:function(a){e.deprecated("setDisabled("+a+") is deprecated. Use set('disabled',"+a+") instead.","","2.0");this.set("disabled",a)},setValue:function(a){e.deprecated("dijit.form._FormWidget:setValue("+a+") is deprecated.  Use set('value',"+a+") instead.","","2.0");this.set("value",a)},getValue:function(){e.deprecated(this.declaredClass+"::getValue() is deprecated. Use get('value') instead.","","2.0");return this.get("value")},postMixInProperties:function(){this.nameAttrSetting=
this.name?'name="'+this.name.replace(/'/g,"&quot;")+'"':"";this.inherited(arguments)},_setTypeAttr:null})})},"dijit/_Widget":function(){define("dijit/_Widget","dojo/aspect dojo/_base/config dojo/_base/connect dojo/_base/declare dojo/_base/kernel dojo/_base/lang dojo/query dojo/ready ./registry ./_WidgetBase ./_OnDijitClickMixin ./_FocusMixin dojo/uacss ./hccss".split(" "),function(c,e,f,b,a,g,j,k,h,d,m,p){function o(){}function q(a){return function(b,c,d,e){return b&&typeof c=="string"&&b[c]==o?b.on(c.substring(2).toLowerCase(),
g.hitch(d,e)):a.apply(f,arguments)}}c.around(f,"connect",q);a.connect&&c.around(a,"connect",q);c=b("dijit._Widget",[d,m,p],{onClick:o,onDblClick:o,onKeyDown:o,onKeyPress:o,onKeyUp:o,onMouseDown:o,onMouseMove:o,onMouseOut:o,onMouseOver:o,onMouseLeave:o,onMouseEnter:o,onMouseUp:o,constructor:function(a){this._toConnect={};for(var b in a)if(this[b]===o){this._toConnect[b.replace(/^on/,"").toLowerCase()]=a[b];delete a[b]}},postCreate:function(){this.inherited(arguments);for(var a in this._toConnect)this.on(a,
this._toConnect[a]);delete this._toConnect},on:function(a,b){return this[this._onMap(a)]===o?f.connect(this.domNode,a.toLowerCase(),this,b):this.inherited(arguments)},_setFocusedAttr:function(a){this._focused=a;this._set("focused",a)},setAttribute:function(b,c){a.deprecated(this.declaredClass+"::setAttribute(attr, value) is deprecated. Use set() instead.","","2.0");this.set(b,c)},attr:function(b,c){if(e.isDebug){var d=arguments.callee._ach||(arguments.callee._ach={}),g=(arguments.callee.caller||"unknown caller").toString();
if(!d[g]){a.deprecated(this.declaredClass+"::attr() is deprecated. Use get() or set() instead, called from "+g,"","2.0");d[g]=true}}return arguments.length>=2||typeof b==="object"?this.set.apply(this,arguments):this.get(b)},getDescendants:function(){a.deprecated(this.declaredClass+"::getDescendants() is deprecated. Use getChildren() instead.","","2.0");return this.containerNode?j("[widgetId]",this.containerNode).map(h.byNode):[]},_onShow:function(){this.onShow()},onShow:function(){},onHide:function(){},
onClose:function(){return true}});a.isAsync||k(0,function(){require(["dijit/_base"])});return c})},"dijit/_WidgetBase":function(){define("dijit/_WidgetBase","require dojo/_base/array dojo/aspect dojo/_base/config dojo/_base/connect dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/_base/kernel dojo/_base/lang dojo/on dojo/ready dojo/Stateful dojo/topic dojo/_base/window ./registry".split(" "),function(c,e,f,b,a,g,j,k,h,d,m,p,o,q,s,u,
t,v,z,w){function x(a){return function(b){k[b?"set":"remove"](this.domNode,a,b);this._set(a,b)}}o.isAsync||u(0,function(){c(["dijit/_base/manager"])});var r={};return g("dijit._WidgetBase",t,{id:"",_setIdAttr:"domNode",lang:"",_setLangAttr:x("lang"),dir:"",_setDirAttr:x("dir"),textDir:"","class":"",_setClassAttr:{node:"domNode",type:"class"},style:"",title:"",tooltip:"",baseClass:"",srcNodeRef:null,domNode:null,containerNode:null,attributeMap:{},_blankGif:b.blankGif||c.toUrl("dojo/resources/blank.gif"),
postscript:function(a,b){this.create(a,b)},create:function(a,b){this.srcNodeRef=j.byId(b);this._connects=[];this._supportingWidgets=[];if(this.srcNodeRef&&typeof this.srcNodeRef.id=="string")this.id=this.srcNodeRef.id;if(a){this.params=a;q.mixin(this,a)}this.postMixInProperties();if(!this.id)this.id=w.getUniqueId(this.declaredClass.replace(/\./g,"_"));w.add(this);this.buildRendering();if(this.domNode){this._applyAttributes();var c=this.srcNodeRef;c&&(c.parentNode&&this.domNode!==c)&&c.parentNode.replaceChild(this.domNode,
c)}this.domNode&&this.domNode.setAttribute("widgetId",this.id);this.postCreate();this.srcNodeRef&&!this.srcNodeRef.parentNode&&delete this.srcNodeRef;this._created=true},_applyAttributes:function(){var a=this.constructor,b=a._setterAttrs;if(!b){var b=a._setterAttrs=[],c;for(c in this.attributeMap)b.push(c);var a=a.prototype,d;for(d in a)d in this.attributeMap||"_set"+d.replace(/^[a-z]|-[a-zA-Z]/g,function(a){return a.charAt(a.length-1).toUpperCase()})+"Attr"in a&&b.push(d)}e.forEach(b,function(a){this.params&&
a in this.params||this[a]&&this.set(a,this[a])},this);for(var g in this.params)this.set(g,this[g])},postMixInProperties:function(){},buildRendering:function(){if(!this.domNode)this.domNode=this.srcNodeRef||d.create("div");if(this.baseClass){var a=this.baseClass.split(" ");this.isLeftToRight()||(a=a.concat(e.map(a,function(a){return a+"Rtl"})));h.add(this.domNode,a)}},postCreate:function(){},startup:function(){if(!this._started){this._started=true;e.forEach(this.getChildren(),function(a){if(!a._started&&
!a._destroyed&&q.isFunction(a.startup)){a.startup();a._started=true}})}},destroyRecursive:function(a){this._beingDestroyed=true;this.destroyDescendants(a);this.destroy(a)},destroy:function(a){this._beingDestroyed=true;this.uninitialize();for(var b;b=this._connects.pop();)b.remove();for(;b=this._supportingWidgets.pop();)b.destroyRecursive?b.destroyRecursive():b.destroy&&b.destroy();this.destroyRendering(a);w.remove(this.id);this._destroyed=true},destroyRendering:function(a){if(this.bgIframe){this.bgIframe.destroy(a);
delete this.bgIframe}if(this.domNode){a?k.remove(this.domNode,"widgetId"):d.destroy(this.domNode);delete this.domNode}if(this.srcNodeRef){a||d.destroy(this.srcNodeRef);delete this.srcNodeRef}},destroyDescendants:function(a){e.forEach(this.getChildren(),function(b){b.destroyRecursive&&b.destroyRecursive(a)})},uninitialize:function(){return false},_setStyleAttr:function(a){var b=this.domNode;q.isObject(a)?p.set(b,a):b.style.cssText=b.style.cssText?b.style.cssText+("; "+a):a;this._set("style",a)},_attrToDom:function(a,
b,c){c=arguments.length>=3?c:this.attributeMap[a];e.forEach(q.isArray(c)?c:[c],function(c){var d=this[c.node||c||"domNode"];switch(c.type||"attribute"){case "attribute":q.isFunction(b)&&(b=q.hitch(this,b));c=c.attribute?c.attribute:/^on[A-Z][a-zA-Z]*$/.test(a)?a.toLowerCase():a;k.set(d,c,b);break;case "innerText":d.innerHTML="";d.appendChild(z.doc.createTextNode(b));break;case "innerHTML":d.innerHTML=b;break;case "class":h.replace(d,b,this[a])}},this)},get:function(a){var b=this._getAttrNames(a);
return this[b.g]?this[b.g]():this[a]},set:function(a,b){if(typeof a==="object"){for(var c in a)this.set(c,a[c]);return this}c=this._getAttrNames(a);var d=this[c.s];if(q.isFunction(d))var e=d.apply(this,Array.prototype.slice.call(arguments,1));else{var d=this.focusNode&&!q.isFunction(this.focusNode)?"focusNode":"domNode",g=this[d].tagName,f;if(!(f=r[g])){f=this[d];var h={},j;for(j in f)h[j.toLowerCase()]=true;f=r[g]=h}j=a in this.attributeMap?this.attributeMap[a]:c.s in this?this[c.s]:c.l in f&&typeof b!=
"function"||/^aria-|^data-|^role$/.test(a)?d:null;j!=null&&this._attrToDom(a,b,j);this._set(a,b)}return e||this},_attrPairNames:{},_getAttrNames:function(a){var b=this._attrPairNames;if(b[a])return b[a];var c=a.replace(/^[a-z]|-[a-zA-Z]/g,function(a){return a.charAt(a.length-1).toUpperCase()});return b[a]={n:a+"Node",s:"_set"+c+"Attr",g:"_get"+c+"Attr",l:c.toLowerCase()}},_set:function(a,b){var c=this[a];this[a]=b;this._watchCallbacks&&(this._created&&b!==c)&&this._watchCallbacks(a,c,b)},on:function(a,
b){return f.after(this,this._onMap(a),b,true)},_onMap:function(a){var b=this.constructor,c=b._onMap;if(!c){var c=b._onMap={},d;for(d in b.prototype)/^on/.test(d)&&(c[d.replace(/^on/,"").toLowerCase()]=d)}return c[a.toLowerCase()]},toString:function(){return"[Widget "+this.declaredClass+", "+(this.id||"NO ID")+"]"},getChildren:function(){return this.containerNode?w.findWidgets(this.containerNode):[]},getParent:function(){return w.getEnclosingWidget(this.domNode.parentNode)},connect:function(b,c,d){b=
a.connect(b,c,this,d);this._connects.push(b);return b},disconnect:function(a){var b=e.indexOf(this._connects,a);if(b!=-1){a.remove();this._connects.splice(b,1)}},subscribe:function(a,b){var c=v.subscribe(a,q.hitch(this,b));this._connects.push(c);return c},unsubscribe:function(a){this.disconnect(a)},isLeftToRight:function(){return this.dir?this.dir=="ltr":m.isBodyLtr()},isFocusable:function(){return this.focus&&p.get(this.domNode,"display")!="none"},placeAt:function(a,b){a.declaredClass&&a.addChild?
a.addChild(this,b):d.place(this.domNode,a,b);return this},getTextDir:function(a,b){return b},applyTextDir:function(){}})})},"dijit/_OnDijitClickMixin":function(){define("dijit/_OnDijitClickMixin","dojo/on dojo/_base/array dojo/keys dojo/_base/declare dojo/_base/sniff dojo/_base/unload dojo/_base/window".split(" "),function(c,e,f,b,a,g,j){var k=null;a("ie")?function(){var a=function(a){k=a.srcElement};j.doc.attachEvent("onkeydown",a);g.addOnWindowUnload(function(){j.doc.detachEvent("onkeydown",a)})}():
j.doc.addEventListener("keydown",function(a){k=a.target},true);var h=function(a,b){if(/input|button/i.test(a.nodeName))return c(a,"click",b);var g=function(a){return(a.keyCode==f.ENTER||a.keyCode==f.SPACE)&&!a.ctrlKey&&!a.shiftKey&&!a.altKey&&!a.metaKey},h=[c(a,"keypress",function(a){if(g(a)){k=a.target;a.preventDefault()}}),c(a,"keyup",function(a){if(g(a)&&a.target==k){k=null;b.call(this,a)}}),c(a,"click",function(a){b.call(this,a)})];return{remove:function(){e.forEach(h,function(a){a.remove()})}}};
return b("dijit._OnDijitClickMixin",null,{connect:function(a,b,c){return this.inherited(arguments,[a,b=="ondijitclick"?h:b,c])}})})},"dijit/_FocusMixin":function(){define("dijit/_FocusMixin",["./focus","./_WidgetBase","dojo/_base/declare","dojo/_base/lang"],function(c,e,f,b){b.extend(e,{focused:!1,onFocus:function(){},onBlur:function(){},_onFocus:function(){this.onFocus()},_onBlur:function(){this.onBlur()}});return f("dijit._FocusMixin",null,{_focusManager:c})})},"dojo/uacss":function(){define("dojo/uacss",
["./dom-geometry","./_base/lang","./ready","./_base/sniff","./_base/window"],function(c,e,f,b,a){var g=a.doc.documentElement,j=b("ie"),k=b("opera"),h=Math.floor,d=b("ff"),a=c.boxModel.replace(/-/,""),j={dj_ie:j,dj_ie6:6==h(j),dj_ie7:7==h(j),dj_ie8:8==h(j),dj_ie9:9==h(j),dj_quirks:b("quirks"),dj_iequirks:j&&b("quirks"),dj_opera:k,dj_khtml:b("khtml"),dj_webkit:b("webkit"),dj_safari:b("safari"),dj_chrome:b("chrome"),dj_gecko:b("mozilla"),dj_ff3:3==h(d)};j["dj_"+a]=!0;var m="",p;for(p in j)j[p]&&(m+=
p+" ");g.className=e.trim(g.className+" "+m);f(90,function(){if(!c.isBodyLtr()){var a="dj_rtl dijitRtl "+m.replace(/ /g,"-rtl ");g.className=e.trim(g.className+" "+a+"dj_rtl dijitRtl "+m.replace(/ /g,"-rtl "))}});return b})},"dijit/hccss":function(){define("dijit/hccss","require dojo/_base/config dojo/dom-class dojo/dom-construct dojo/dom-style dojo/ready dojo/_base/sniff dojo/_base/window".split(" "),function(c,e,f,b,a,g,j,k){(j("ie")||j("mozilla"))&&g(90,function(){var g=b.create("div",{id:"a11yTestNode",
style:{cssText:'border: 1px solid;border-color:red green;position: absolute;height: 5px;top: -999px;background-image: url("'+(e.blankGif||c.toUrl("dojo/resources/blank.gif"))+'");'}},k.body()),d=a.getComputedStyle(g);if(d){var m=d.backgroundImage;(d.borderTopColor==d.borderRightColor||m!=null&&(m=="none"||m=="url(invalid-url:)"))&&f.add(k.body(),"dijit_a11y");j("ie")?g.outerHTML="":k.body().removeChild(g)}})})},"dijit/_CssStateMixin":function(){define("dijit/_CssStateMixin","dojo/touch dojo/_base/array dojo/_base/declare dojo/dom-class dojo/_base/lang dojo/_base/window".split(" "),
function(c,e,f,b,a,g){return f("dijit._CssStateMixin",[],{cssStateNodes:{},hovering:false,active:false,_applyAttributes:function(){this.inherited(arguments);e.forEach(["onmouseenter","onmouseleave",c.press],function(a){this.connect(this.domNode,a,"_cssMouseEvent")},this);e.forEach(["disabled","readOnly","checked","selected","focused","state","hovering","active"],function(b){this.watch(b,a.hitch(this,"_setStateClass"))},this);for(var b in this.cssStateNodes)this._trackMouseState(this[b],this.cssStateNodes[b]);
this._setStateClass()},_cssMouseEvent:function(a){if(!this.disabled)switch(a.type){case "mouseenter":case "mouseover":this._set("hovering",true);this._set("active",this._mouseDown);break;case "mouseleave":case "mouseout":this._set("hovering",false);this._set("active",false);break;case "mousedown":case "touchpress":this._set("active",true);this._mouseDown=true;var b=this.connect(g.body(),c.release,function(){this._mouseDown=false;this._set("active",false);this.disconnect(b)})}},_setStateClass:function(){function a(c){b=
b.concat(e.map(b,function(a){return a+c}),"dijit"+c)}var b=this.baseClass.split(" ");this.isLeftToRight()||a("Rtl");var c=this.checked=="mixed"?"Mixed":this.checked?"Checked":"";this.checked&&a(c);this.state&&a(this.state);this.selected&&a("Selected");this.disabled?a("Disabled"):this.readOnly?a("ReadOnly"):this.active?a("Active"):this.hovering&&a("Hover");this.focused&&a("Focused");var c=this.stateNode||this.domNode,d={};e.forEach(c.className.split(" "),function(a){d[a]=true});"_stateClasses"in this&&
e.forEach(this._stateClasses,function(a){delete d[a]});e.forEach(b,function(a){d[a]=true});var g=[],f;for(f in d)g.push(f);c.className=g.join(" ");this._stateClasses=b},_trackMouseState:function(e,g){function f(){var a="disabled"in o&&o.disabled||"readonly"in o&&o.readonly;b.toggle(e,g+"Hover",d&&!m&&!a);b.toggle(e,g+"Active",m&&!a);b.toggle(e,g+"Focused",p&&!a)}var d=false,m=false,p=false,o=this,q=a.hitch(this,"connect",e);q("onmouseenter",function(){d=true;f()});q("onmouseleave",function(){m=d=
false;f()});q(c.press,function(){m=true;f()});q(c.release,function(){m=false;f()});q("onfocus",function(){p=true;f()});q("onblur",function(){p=false;f()});this.watch("disabled",f);this.watch("readOnly",f)}})})},"dijit/_TemplatedMixin":function(){define("dijit/_TemplatedMixin","dojo/_base/lang dojo/touch ./_WidgetBase dojo/string dojo/cache dojo/_base/array dojo/_base/declare dojo/dom-construct dojo/_base/sniff dojo/_base/unload dojo/_base/window".split(" "),function(c,e,f,b,a,g,j,k,h,d,m){var p=j("dijit._TemplatedMixin",
null,{templateString:null,templatePath:null,_skipNodeCache:false,_earlyTemplatedStartup:false,constructor:function(){this._attachPoints=[];this._attachEvents=[]},_stringRepl:function(a){var d=this.declaredClass,e=this;return b.substitute(a,this,function(a,b){b.charAt(0)=="!"&&(a=c.getObject(b.substr(1),false,e));if(typeof a=="undefined")throw Error(d+" template:"+b);return a==null?"":b.charAt(0)=="!"?a:a.toString().replace(/"/g,"&quot;")},this)},buildRendering:function(){if(!this.templateString)this.templateString=
a(this.templatePath,{sanitize:true});var b=p.getCachedTemplate(this.templateString,this._skipNodeCache),d;if(c.isString(b)){d=k.toDom(this._stringRepl(b));if(d.nodeType!=1)throw Error("Invalid template: "+b);}else d=b.cloneNode(true);this.domNode=d;this.inherited(arguments);this._attachTemplateNodes(d,function(a,b){return a.getAttribute(b)});this._beforeFillContent();this._fillContent(this.srcNodeRef)},_beforeFillContent:function(){},_fillContent:function(a){var b=this.containerNode;if(a&&b)for(;a.hasChildNodes();)b.appendChild(a.firstChild)},
_attachTemplateNodes:function(a,b){for(var d=c.isArray(a)?a:a.all||a.getElementsByTagName("*"),g=c.isArray(a)?0:-1;g<d.length;g++){var f=g==-1?a:d[g];if(!this.widgetsInTemplate||!b(f,"dojoType")&&!b(f,"data-dojo-type")){var h=b(f,"dojoAttachPoint")||b(f,"data-dojo-attach-point");if(h)for(var j=h.split(/\s*,\s*/);h=j.shift();){c.isArray(this[h])?this[h].push(f):this[h]=f;this._attachPoints.push(h)}if(h=b(f,"dojoAttachEvent")||b(f,"data-dojo-attach-event"))for(var j=h.split(/\s*,\s*/),k=c.trim;h=j.shift();)if(h){var m=
null;if(h.indexOf(":")!=-1){m=h.split(":");h=k(m[0]);m=k(m[1])}else h=k(h);m||(m=h);this._attachEvents.push(this.connect(f,e[h]||h,m))}}}},destroyRendering:function(){g.forEach(this._attachPoints,function(a){delete this[a]},this);this._attachPoints=[];g.forEach(this._attachEvents,this.disconnect,this);this._attachEvents=[];this.inherited(arguments)}});p._templateCache={};p.getCachedTemplate=function(a,c){var d=p._templateCache,e=a,g=d[e];if(g){try{if(!g.ownerDocument||g.ownerDocument==m.doc)return g}catch(f){}k.destroy(g)}a=
b.trim(a);if(c||a.match(/\$\{([^\}]+)\}/g))return d[e]=a;g=k.toDom(a);if(g.nodeType!=1)throw Error("Invalid template: "+a);return d[e]=g};h("ie")&&d.addOnWindowUnload(function(){var a=p._templateCache,b;for(b in a){var c=a[b];typeof c=="object"&&k.destroy(c);delete a[b]}});c.extend(f,{dojoAttachEvent:"",dojoAttachPoint:""});return p})},"dojo/string":function(){define("dojo/string",["./_base/kernel","./_base/lang"],function(c,e){e.getObject("string",!0,c);c.string.rep=function(c,b){if(0>=b||!c)return"";
for(var a=[];;){b&1&&a.push(c);if(!(b>>=1))break;c+=c}return a.join("")};c.string.pad=function(e,b,a,g){a||(a="0");e=""+e;b=c.string.rep(a,Math.ceil((b-e.length)/a.length));return g?e+b:b+e};c.string.substitute=function(f,b,a,g){g=g||c.global;a=a?e.hitch(g,a):function(a){return a};return f.replace(/\$\{([^\s\:\}]+)(?:\:([^\s\:\}]+))?\}/g,function(c,f,h){c=e.getObject(f,!1,b);h&&(c=e.getObject(h,!1,g).call(g,c,f));return a(c,f).toString()})};c.string.trim=String.prototype.trim?e.trim:function(c){for(var c=
c.replace(/^\s+/,""),b=c.length-1;0<=b;b--)if(/\S/.test(c.charAt(b))){c=c.substring(0,b+1);break}return c};return c.string})},"dojo/cache":function(){define("dojo/cache",["./_base/kernel","./text"],function(c){return c.cache})},"dojo/text":function(){define("dojo/text",["./_base/kernel","require","./has","./_base/xhr"],function(c,e,f,b){var a;a=function(a,c,e){b("GET",{url:a,sync:!!c,load:e})};var g={},j=function(a){if(a){var a=a.replace(/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,
""),b=a.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);b&&(a=b[1])}else a="";return a},k={},h={};c.cache=function(b,c,f){var h;"string"==typeof b?/\//.test(b)?(h=b,f=c):h=e.toUrl(b.replace(/\./g,"/")+(c?"/"+c:"")):(h=b+"",f=c);b=void 0!=f&&"string"!=typeof f?f.value:f;f=f&&f.sanitize;if("string"==typeof b)return g[h]=b,f?j(b):b;if(null===b)return delete g[h],null;h in g||a(h,!0,function(a){g[h]=a});return f?j(g[h]):g[h]};return{dynamic:!0,normalize:function(a,b){var c=a.split("!"),e=c[0];return(/^\./.test(e)?
b(e):e)+(c[1]?"!"+c[1]:"")},load:function(b,c,e){var b=b.split("!"),f=1<b.length,q=b[0],s=c.toUrl(b[0]),b=k,u=function(a){e(f?j(a):a)};q in g?b=g[q]:s in c.cache?b=c.cache[s]:s in g&&(b=g[s]);if(b===k)if(h[s])h[s].push(u);else{var t=h[s]=[u];a(s,!c.async,function(a){g[q]=g[s]=a;for(var b=0;b<t.length;)t[b++](a);delete h[s]})}else u(b)}}})},"dijit/form/_FormWidgetMixin":function(){define("dijit/form/_FormWidgetMixin","dojo/_base/array dojo/_base/declare dojo/dom-attr dojo/dom-style dojo/_base/lang dojo/mouse dojo/_base/sniff dojo/_base/window dojo/window ../a11y".split(" "),
function(c,e,f,b,a,g,j,k,h,d){return e("dijit.form._FormWidgetMixin",null,{name:"",alt:"",value:"",type:"text",tabIndex:"0",_setTabIndexAttr:"focusNode",disabled:false,intermediateChanges:false,scrollOnFocus:true,_setIdAttr:"focusNode",postCreate:function(){this.inherited(arguments);this.connect(this.domNode,"onmousedown","_onMouseDown")},_setDisabledAttr:function(b){this._set("disabled",b);f.set(this.focusNode,"disabled",b);this.valueNode&&f.set(this.valueNode,"disabled",b);this.focusNode.setAttribute("aria-disabled",
b);if(b){this._set("hovering",false);this._set("active",false);b="tabIndex"in this.attributeMap?this.attributeMap.tabIndex:"_setTabIndexAttr"in this?this._setTabIndexAttr:"focusNode";c.forEach(a.isArray(b)?b:[b],function(a){a=this[a];j("webkit")||d.hasDefaultTabStop(a)?a.setAttribute("tabIndex","-1"):a.removeAttribute("tabIndex")},this)}else this.tabIndex!=""&&this.set("tabIndex",this.tabIndex)},_onFocus:function(a){this.scrollOnFocus&&h.scrollIntoView(this.domNode);this.inherited(arguments)},isFocusable:function(){return!this.disabled&&
this.focusNode&&b.get(this.domNode,"display")!="none"},focus:function(){if(!this.disabled&&this.focusNode.focus)try{this.focusNode.focus()}catch(a){}},compare:function(a,b){return typeof a=="number"&&typeof b=="number"?isNaN(a)&&isNaN(b)?0:a-b:a>b?1:a<b?-1:0},onChange:function(){},_onChangeActive:false,_handleOnChange:function(b,c){if(this._lastValueReported==void 0&&(c===null||!this._onChangeActive))this._resetValue=this._lastValueReported=b;this._pendingOnChange=this._pendingOnChange||typeof b!=
typeof this._lastValueReported||this.compare(b,this._lastValueReported)!=0;if((this.intermediateChanges||c||c===void 0)&&this._pendingOnChange){this._lastValueReported=b;this._pendingOnChange=false;if(this._onChangeActive){this._onChangeHandle&&clearTimeout(this._onChangeHandle);this._onChangeHandle=setTimeout(a.hitch(this,function(){this._onChangeHandle=null;this.onChange(b)}),0)}}},create:function(){this.inherited(arguments);this._onChangeActive=true},destroy:function(){if(this._onChangeHandle){clearTimeout(this._onChangeHandle);
this.onChange(this._lastValueReported)}this.inherited(arguments)},_onMouseDown:function(a){if((!this.focused||!j("ie"))&&!a.ctrlKey&&g.isLeft(a)&&this.isFocusable())var b=this.connect(k.body(),"onmouseup",function(){this.isFocusable()&&this.focus();this.disconnect(b)})}})})},"dijit/form/_ButtonMixin":function(){define("dijit/form/_ButtonMixin",["dojo/_base/declare","dojo/dom","dojo/_base/event","../registry"],function(c,e,f,b){return c("dijit.form._ButtonMixin",null,{label:"",type:"button",_onClick:function(a){if(this.disabled)return f.stop(a),
!1;var c=!1===this.onClick(a);if(!c&&"submit"==this.type&&!(this.valueNode||this.focusNode).form)for(var e=this.domNode;e.parentNode;e=e.parentNode){var k=b.byNode(e);if(k&&"function"==typeof k._onSubmit){k._onSubmit(a);c=!0;break}}c&&a.preventDefault();return!c},postCreate:function(){this.inherited(arguments);e.setSelectable(this.focusNode,!1)},onClick:function(){return!0},_setLabelAttr:function(a){this._set("label",a);(this.containerNode||this.focusNode).innerHTML=a}})})},"url:dijit/form/templates/Button.html":'<span class="dijit dijitReset dijitInline" role="presentation"\n\t><span class="dijitReset dijitInline dijitButtonNode"\n\t\tdata-dojo-attach-event="ondijitclick:_onClick" role="presentation"\n\t\t><span class="dijitReset dijitStretch dijitButtonContents"\n\t\t\tdata-dojo-attach-point="titleNode,focusNode"\n\t\t\trole="button" aria-labelledby="${id}_label"\n\t\t\t><span class="dijitReset dijitInline dijitIcon" data-dojo-attach-point="iconNode"></span\n\t\t\t><span class="dijitReset dijitToggleButtonIconChar">&#x25CF;</span\n\t\t\t><span class="dijitReset dijitInline dijitButtonText"\n\t\t\t\tid="${id}_label"\n\t\t\t\tdata-dojo-attach-point="containerNode"\n\t\t\t></span\n\t\t></span\n\t></span\n\t><input ${!nameAttrSetting} type="${type}" value="${value}" class="dijitOffScreen"\n\t\ttabIndex="-1" role="presentation" data-dojo-attach-point="valueNode"\n/></span>\n',
"dijit/form/_FormValueWidget":function(){define("dijit/form/_FormValueWidget",["dojo/_base/declare","dojo/_base/sniff","./_FormWidget","./_FormValueMixin"],function(c,e,f,b){return c("dijit.form._FormValueWidget",[f,b],{_layoutHackIE7:function(){if(7==e("ie"))for(var a=this.domNode,b=a.parentNode,c=a.firstChild||a,f=c.style.filter,h=this;b&&0==b.clientHeight;)(function(){var a=h.connect(b,"onscroll",function(){h.disconnect(a);c.style.filter=(new Date).getMilliseconds();setTimeout(function(){c.style.filter=
f},0)})})(),b=b.parentNode}})})},"dijit/form/_FormValueMixin":function(){define("dijit/form/_FormValueMixin",["dojo/_base/declare","dojo/dom-attr","dojo/keys","dojo/_base/sniff","./_FormWidgetMixin"],function(c,e,f,b,a){return c("dijit.form._FormValueMixin",a,{readOnly:!1,_setReadOnlyAttr:function(a){e.set(this.focusNode,"readOnly",a);this.focusNode.setAttribute("aria-readonly",a);this._set("readOnly",a)},postCreate:function(){this.inherited(arguments);b("ie")&&this.connect(this.focusNode||this.domNode,
"onkeydown",this._onKeyDown);void 0===this._resetValue&&(this._lastValueReported=this._resetValue=this.value)},_setValueAttr:function(a,b){this._handleOnChange(a,b)},_handleOnChange:function(a,b){this._set("value",a);this.inherited(arguments)},undo:function(){this._setValueAttr(this._lastValueReported,!1)},reset:function(){this._hasBeenBlurred=!1;this._setValueAttr(this._resetValue,!0)},_onKeyDown:function(a){if(a.keyCode==f.ESCAPE&&!a.ctrlKey&&!a.altKey&&!a.metaKey){var c;if(9>b("ie")||b("ie")&&
b("quirks"))a.preventDefault(),c=document.createEventObject(),c.keyCode=f.ESCAPE,c.shiftKey=a.shiftKey,a.srcElement.fireEvent("onkeypress",c)}}})})},"dijit/_Container":function(){define("dijit/_Container",["dojo/_base/array","dojo/_base/declare","dojo/dom-construct","./registry"],function(c,e,f,b){return e("dijit._Container",null,{buildRendering:function(){this.inherited(arguments);this.containerNode||(this.containerNode=this.domNode)},addChild:function(a,b){var c=this.containerNode;if(b&&"number"==
typeof b){var e=this.getChildren();e&&e.length>=b&&(c=e[b-1].domNode,b="after")}f.place(a.domNode,c,b);this._started&&!a._started&&a.startup()},removeChild:function(a){"number"==typeof a&&(a=this.getChildren()[a]);a&&(a=a.domNode)&&a.parentNode&&a.parentNode.removeChild(a)},hasChildren:function(){return 0<this.getChildren().length},_getSiblingOfChild:function(a,c){var e=a.domNode,f=0<c?"nextSibling":"previousSibling";do e=e[f];while(e&&(1!=e.nodeType||!b.byNode(e)));return e&&b.byNode(e)},getIndexOfChild:function(a){return c.indexOf(this.getChildren(),
a)}})})},"url:dijit/form/templates/HorizontalSlider.html":'<table class="dijit dijitReset dijitSlider dijitSliderH" cellspacing="0" cellpadding="0" border="0" rules="none" data-dojo-attach-event="onkeypress:_onKeyPress,onkeyup:_onKeyUp"\n\t><tr class="dijitReset"\n\t\t><td class="dijitReset" colspan="2"></td\n\t\t><td data-dojo-attach-point="topDecoration" class="dijitReset dijitSliderDecoration dijitSliderDecorationT dijitSliderDecorationH"></td\n\t\t><td class="dijitReset" colspan="2"></td\n\t></tr\n\t><tr class="dijitReset"\n\t\t><td class="dijitReset dijitSliderButtonContainer dijitSliderButtonContainerH"\n\t\t\t><div class="dijitSliderDecrementIconH" style="display:none" data-dojo-attach-point="decrementButton"><span class="dijitSliderButtonInner">-</span></div\n\t\t></td\n\t\t><td class="dijitReset"\n\t\t\t><div class="dijitSliderBar dijitSliderBumper dijitSliderBumperH dijitSliderLeftBumper" data-dojo-attach-event="press:_onClkDecBumper"></div\n\t\t></td\n\t\t><td class="dijitReset"\n\t\t\t><input data-dojo-attach-point="valueNode" type="hidden" ${!nameAttrSetting}\n\t\t\t/><div class="dijitReset dijitSliderBarContainerH" role="presentation" data-dojo-attach-point="sliderBarContainer"\n\t\t\t\t><div role="presentation" data-dojo-attach-point="progressBar" class="dijitSliderBar dijitSliderBarH dijitSliderProgressBar dijitSliderProgressBarH" data-dojo-attach-event="press:_onBarClick"\n\t\t\t\t\t><div class="dijitSliderMoveable dijitSliderMoveableH"\n\t\t\t\t\t\t><div data-dojo-attach-point="sliderHandle,focusNode" class="dijitSliderImageHandle dijitSliderImageHandleH" data-dojo-attach-event="press:_onHandleClick" role="slider" valuemin="${minimum}" valuemax="${maximum}"></div\n\t\t\t\t\t></div\n\t\t\t\t></div\n\t\t\t\t><div role="presentation" data-dojo-attach-point="remainingBar" class="dijitSliderBar dijitSliderBarH dijitSliderRemainingBar dijitSliderRemainingBarH" data-dojo-attach-event="press:_onBarClick"></div\n\t\t\t></div\n\t\t></td\n\t\t><td class="dijitReset"\n\t\t\t><div class="dijitSliderBar dijitSliderBumper dijitSliderBumperH dijitSliderRightBumper" data-dojo-attach-event="press:_onClkIncBumper"></div\n\t\t></td\n\t\t><td class="dijitReset dijitSliderButtonContainer dijitSliderButtonContainerH"\n\t\t\t><div class="dijitSliderIncrementIconH" style="display:none" data-dojo-attach-point="incrementButton"><span class="dijitSliderButtonInner">+</span></div\n\t\t></td\n\t></tr\n\t><tr class="dijitReset"\n\t\t><td class="dijitReset" colspan="2"></td\n\t\t><td data-dojo-attach-point="containerNode,bottomDecoration" class="dijitReset dijitSliderDecoration dijitSliderDecorationB dijitSliderDecorationH"></td\n\t\t><td class="dijitReset" colspan="2"></td\n\t></tr\n></table>\n',
"gobotany/sk/SpeciesSectionHelper":function(){define(["dojo","dijit","dojox","dojo/require!dojo/hash,dojo/html,dojo/NodeList-fx,gobotany/utils,dijit/_base/place,simplekey/results_photo_menu"],function(c,e){c.provide("gobotany.sk.SpeciesSectionHelper");c.require("dojo.hash");c.require("dojo.html");c.require("dojo.NodeList-fx");c.require("gobotany.utils");c.require("dijit._base.place");var f=c.require("simplekey/results_photo_menu");c.declare("gobotany.sk.SpeciesSectionHelper",null,{constructor:function(b,
a){this.PHOTOS_VIEW="photos";this.LIST_VIEW="list";this.animation=null;this.pile_slug=b;this.plant_list=c.query("#main .plant-list")[0];this.plant_data=[];this.plant_divs=[];this.plant_divs_displayed_yet=!1;this.plant_divs_ready=a;this.current_view=this.PHOTOS_VIEW;simplekey_resources.pile_species(b).done($.proxy(this,"create_plant_divs"));var e;c.connect(window,"onscroll",this,function(){clearTimeout(e);e=setTimeout(this.lazy_load_images,0)});var f;c.connect(window,"onresize",this,function(){clearTimeout(f);
f=setTimeout(this.lazy_load_images,500)});c.query("#results-tabs a").onclick(this,this.toggle_view);var k=c.queryToObject(c.hash());void 0!==k._view&&(this.current_view=k._view,this.set_navigation_to_view(this.current_view))},default_image:function(b){var a;for(a=0;a<b.images.length;a+=1){var c=b.images[a];if(1===c.rank&&"habit"===c.type)return c}return{}},get_multivalue_list:function(b,a){var c,e;if("string"!==typeof b){c="<ul";a&&(c+=' class="compact"');c+=">";for(e=0;e<b.length;e++)c+="<li",e===
b.length-1&&(c+=' class="last"'),c+=">"+b[e]+"</li>";c+="</ul>"}else c=b;return c},connect_plant_preview_popup:function(b,a){c.connect(b,"onclick",this,function(e){e.preventDefault();var f=/^habitat|habitat_general|state_distribution$/,e=a.scientific_name+" <span>"+a.common_name+"</span>";c.html.set(c.query("#plant-detail-modal h3")[0],e);var e=simplekey_resources.taxon_info(a.scientific_name),k=simplekey_resources.pile(this.pile_slug);$.when(e,k).done($.proxy(function(e,d){c.html.set(c.query("#plant-detail-modal div.details p.facts")[0],
e.factoid);for(var g=d.plant_preview_characters,k="",o=0,q=0;q<g.length;q++){var s=g[q];if(s.partner_site===gobotany_sk_partner_site){var u="",t=e[s.character_short_name];void 0!==t&&null!==t&&(u=t,"LENGTH"===s.value_type?(u=t[1],t=gobotany.utils.convert(t[0],s.unit,"mm"),u=gobotany.utils.convert(u,s.unit,"mm"),u=gobotany.utils.pretty_length(s.unit,t,!1)+"&#8211;"+gobotany.utils.pretty_length(s.unit,u)):"string"!==typeof u&&(t=f.test(s.character_short_name),u=this.get_multivalue_list(u,t)));void 0!==
u&&""!==u&&6>o&&(k+="<dl><dt>"+s.friendly_name+"</dt><dd>"+u+"</dd></dl>",o+=1)}}q=c.query("#plant-detail-modal .details .characteristics")[0];c.html.set(q,k);q=window.location.pathname.split("#")[0]+a.scientific_name.toLowerCase().replace(" ","/")+"/";k=c.query("#plant-detail-modal a.go-to-species-page")[0];c.attr(k,"href",q);k="";g=$("img",b).attr("src");void 0!==g&&(g=g.substr(g.lastIndexOf("/")+1));o=$("div.missing-image",b).length?!0:!1;for(q=0;q<e.images.length;q++)s=e.images[q],u='<img src="'+
s.large_thumb_url+'" alt="'+s.title+'">',s=s.large_thumb_url,s=s.substr(s.lastIndexOf("/")+1),k=g===s&&!o?u+k:k+u;c.html.set(c.query("#plant-detail-modal div.images")[0],k);q=c.query("#plant-detail-modal")[0];Shadowbox.open({content:q.innerHTML,player:"html",height:520,width:935,options:{onFinish:c.hitch(this,function(){var a=$("#sb-container"),b=a.find("p, dt, dd, li");a.find(".img-container").scrollable();glossarize(b)})}})},this))})},set_navigation_to_view:function(b){var a=c.query("#results-tabs li:first-child a")[0],
e=c.query("#results-tabs li:last-child a")[0],f=c.query(".show")[0];b===this.PHOTOS_VIEW?(c.removeClass(e,"current"),c.addClass(a,"current"),c.removeClass(f,"hidden")):b===this.LIST_VIEW&&(c.removeClass(a,"current"),c.addClass(e,"current"),c.addClass(f,"hidden"))},toggle_view:function(b){b.target.innerHTML.toLowerCase()!==this.current_view&&(c.query("#results-tabs li:first-child a"),c.query("#results-tabs li:last-child a"),c.query(".show"),this.current_view===this.PHOTOS_VIEW?(App3.taxa.set("show_list",
!0),this.current_view=this.LIST_VIEW):(App3.taxa.set("show_list",!1),this.current_view=this.PHOTOS_VIEW),this.set_navigation_to_view(this.current_view),this.display_results())},get_number_of_rows_to_span:function(b,a){var c=1,e;for(e=a;e<b.length&&!(e===b.length-1||b[e].genus!==b[e+1].genus);e+=1)c+=1;return c},get_image:function(b,a){var c,e;for(c=e=0;c<b.images.length;c++)if(b.images[c].type===a){e=c;break}return b.images[e]},display_in_list_view:function(b){c.query(".plant.in-results").removeClass("in-results");
c.query(".plant-list table").orphan();var a='<caption class="hidden">List of matching plants</caption><tr class="hidden"><th>Genus</th><th>Scientific Name</th><th>Common Name</th><th>Details</th></tr>',e;for(e=0;e<b.length;e+=1){a=0<e?a+"<tr>":a+'<tr class="first-visible">';if(0===e||b[e].genus!==b[e-1].genus)var f=this.get_number_of_rows_to_span(b,e),a=a+('<td class="genus" rowspan="'+f+'">Genus: '+b[e].genus+"</td>");a+='<td class="scientific-name">';f=this.get_image(b[e],"habit");void 0!==f&&(a+=
'<a href="'+f.large_thumb_url+'" title="Photo"><img src="/static/images/icons/icon-camera.png" alt=""></a>');a+=b[e].scientific_name+"</td>";a+='<td class="common-name">'+b[e].common_name+"</td>";a+='<td class="details"><a href="'+b[e].scientific_name.toLowerCase().replace(" ","/")+'/">Details</a></td>';a+="</tr>"}c.create("table",{innerHTML:a},this.plant_list);$(".plant-list").removeAttr("style");sidebar_set_height();Shadowbox.setup(".plant-list table td.scientific-name a",{title:""})},create_plant_divs:function(b){for(var b=
b.sort(function(a,b){return a.scientific_name<b.scientific_name?-1:1}),a=0;a<b.length;a++){var e=b[a],f=c.create("div",{"class":"plant"},this.plant_list),k=window.location.pathname.split("#")[0]+e.scientific_name.toLowerCase().replace(" ","/")+"/",k=c.create("a",{href:k},f);c.create("div",{"class":"frame"},k);var h=c.create("div",{"class":"plant-img-container"},k),h=c.create("img",{alt:""},h);c.attr(h,"x-plant-id",e.scientific_name);var d=this.default_image(e).thumb_url;d&&c.attr(h,"x-tmp-src",d);
h='<span class="latin">'+e.scientific_name+"</span>";e.common_name&&(h+=" "+e.common_name);c.create("p",{"class":"plant-name",innerHTML:h},k);this.connect_plant_preview_popup(k,e);this.plant_data.push(e);this.plant_divs.push(f)}this.plant_divs_ready.resolve()},display_in_photos_view:function(b){c.query(".plant-list table").orphan();for(var a={},e=0;e<b.length;e++)a[b[e].id]=1;for(var b=[],f=[],k=[],h=0,e=0;e<this.plant_divs.length;e++){var d=this.plant_data[e],m=this.plant_divs[e];if(1===a[d.id]){f.push(d);
k.push(m);var d=178*(h%4),p=232*Math.floor(h/4),h=h+1;c.removeClass(m,"genus_alt");c.removeClass(m,"genus_join_left");c.removeClass(m,"genus_join_right");c.hasClass(m,"in-results")?b.push(c.animateProperty({node:m,properties:{left:{end:d},top:{end:p}}})):(c.addClass(m,"in-results"),m.style.top=p+"px",b.push(c.animateProperty({node:m,properties:{left:{start:2800,end:d}}})))}else c.removeClass(m,"in-results")}var o=this;b.push(c.animateProperty({node:this.plant_list,properties:{height:{end:p+232}},
onEnd:function(){this.animation=null;sidebar_set_height();o.lazy_load_images();for(var a=!1,b=f[0],d=0;d<f.length;d++){var e=k[d];a&&c.addClass(e,"genus_alt");if(d<f.length-1){var g=b.genus,b=f[d+1];b.genus===g?3!=d%4&&(c.addClass(e,"genus_join_right"),c.addClass(k[d+1],"genus_join_left")):a=!a}}}}));this.animation=c.fx.combine(b);this.animation.play()},display_results:function(b){null!==this.animation&&(this.animation.stop(),this.animation=null);if(this.current_view===this.PHOTOS_VIEW){var a=c.query(".show")[0];
c.removeClass(a,"hidden")}c.query(".wait",this.plant_list).orphan();this.current_view===this.LIST_VIEW?this.display_in_list_view(b):this.display_in_photos_view(b);var e=c.query(".list-all").removeClass(e,"hidden");this.current_view===this.PHOTOS_VIEW&&(this.populate_image_types(b),this.lazy_load_images())},populate_image_types:function(b){var a=f[this.pile_slug],b=_.flatten(_.pluck(b,"images")),b=_.uniq(_.pluck(b,"type")),b=_.difference(b,a.omit);b.sort();if(!_.isEqual(App3.image_types.get("content"),
b)){App3.image_types.set("content",b);var c=App3.get("image_type");-1===b.indexOf(c)&&(a=a["default"],-1===b.indexOf(a)&&(a=b[0]),App3.set("image_type",a))}},lazy_load_images:function(){if(!(0<c.query(".plant-list table").length)){var b=e.getViewport().h,a=0;window.pageYOffset||window.pageXOffset?a=window.pageYOffset:document.documentElement&&document.documentElement.scrollTop?a=document.documentElement.scrollTop:document.body&&(a=document.body.scrollTop);var g=c.query("div.plant-list img"),f;for(f=
0;f<g.length;f+=1){var k=g[f];if("none"!==k.style.display){for(var h=k,d=h.offsetTop;null!==h.offsetParent;)h=h.offsetParent,d+=h.offsetTop;h=!1;d>a-k.height&&d<b+a&&(h=!0);!0===h&&(d=c.attr(k,"x-tmp-src"),null!==d&&c.attr(k,"src",d))}}}}});c.declare("gobotany.sk.SpeciesCounts",null,{animation:null,_update_counts:function(b){App3.taxa.set("len",b.length);null!==this.animation&&this.animation.stop();this.animation=c.query(".species-count-heading > span").animateProperty({duration:2E3,properties:{backgroundColor:{start:"#FF0",
end:"#F0F0C0"}}});this.animation.play()}})})},"dojo/hash":function(){define("dojo/hash","./_base/kernel require ./_base/connect ./_base/lang ./ready ./_base/sniff".split(" "),function(c,e,f,b,a,g){function j(a,b){var c=a.indexOf(b);return c>=0?a.substring(c+1):""}function k(){return j(location.href,"#")}function h(){f.publish("/dojo/hashchange",[k()])}function d(){if(k()!==o){o=k();h()}}function m(a){if(q)if(q.isTransitioning())setTimeout(b.hitch(null,m,a),u);else{var c=q.iframe.location.href,e=c.indexOf("?");
q.iframe.location.replace(c.substring(0,e)+"?"+a)}else{location.replace("#"+a);!s&&d()}}function p(){function a(){o=k();f=s?o:j(C.href,"?");m=false;p=null}var d=document.createElement("iframe"),g=c.config.dojoBlankHtmlUrl||e.toUrl("./resources/blank.html");d.id="dojo-hash-iframe";d.src=g+"?"+k();d.style.display="none";document.body.appendChild(d);this.iframe=c.global["dojo-hash-iframe"];var f,m,p,q,s,C=this.iframe.location;this.isTransitioning=function(){return m};this.pollLocation=function(){if(!s)try{var c=
j(C.href,"?");if(document.title!=q)q=this.iframe.document.title=document.title}catch(e){s=true;console.error("dojo.hash: Error adding history entry. Server unreachable.")}var E=k();if(m&&o===E)if(s||c===p){a();h()}else{setTimeout(b.hitch(this,this.pollLocation),0);return}else if(!(o===E&&(s||f===c))){if(o!==E){o=E;m=true;p=E;d.src=g+"?"+p;s=false;setTimeout(b.hitch(this,this.pollLocation),0);return}if(!s){location.href="#"+C.search.substring(1);a();h()}}setTimeout(b.hitch(this,this.pollLocation),
u)};a();setTimeout(b.hitch(this,this.pollLocation),u)}c.hash=function(a,b){if(!arguments.length)return k();a.charAt(0)=="#"&&(a=a.substring(1));b?m(a):location.href="#"+a;return a};var o,q,s,u=c.config.hashPollFrequency||100;a(function(){if("onhashchange"in c.global&&(!g("ie")||g("ie")>=8&&document.compatMode!="BackCompat"))s=f.connect(c.global,"onhashchange",h);else if(document.addEventListener){o=k();setInterval(d,u)}else document.attachEvent&&(q=new p)});return c.hash})},"dojo/NodeList-fx":function(){define("dojo/NodeList-fx",
["dojo/_base/NodeList","./_base/lang","./_base/connect","./_base/fx","./fx"],function(c,e,f,b,a){e.extend(c,{_anim:function(b,c,f){var f=f||{},h=a.combine(this.map(function(a){a={node:a};e.mixin(a,f);return b[c](a)}));return f.auto?h.play()&&this:h},wipeIn:function(b){return this._anim(a,"wipeIn",b)},wipeOut:function(b){return this._anim(a,"wipeOut",b)},slideTo:function(b){return this._anim(a,"slideTo",b)},fadeIn:function(a){return this._anim(b,"fadeIn",a)},fadeOut:function(a){return this._anim(b,
"fadeOut",a)},animateProperty:function(a){return this._anim(b,"animateProperty",a)},anim:function(c,e,k,h,d){var m=a.combine(this.map(function(a){return b.animateProperty({node:a,properties:c,duration:e||350,easing:k})}));h&&f.connect(m,"onEnd",h);return m.play(d||0)}});return c})},"dojo/fx":function(){define("dojo/fx","./_base/lang ./Evented ./_base/kernel ./_base/array ./_base/connect ./_base/fx ./dom ./dom-style ./dom-geometry ./ready require".split(" "),function(c,e,f,b,a,g,j,k,h,d,m){f.isAsync||
d(0,function(){m(["./fx/Toggler"])});var f=f.fx={},d={_fire:function(a,b){this[a]&&this[a].apply(this,b||[]);return this}},p=function(a){this._index=-1;this._animations=a||[];this._current=this._onAnimateCtx=this._onEndCtx=null;this.duration=0;b.forEach(this._animations,function(a){this.duration=this.duration+a.duration;if(a.delay)this.duration=this.duration+a.delay},this)};p.prototype=new e;c.extend(p,{_onAnimate:function(){this._fire("onAnimate",arguments)},_onEnd:function(){a.disconnect(this._onAnimateCtx);
a.disconnect(this._onEndCtx);this._onAnimateCtx=this._onEndCtx=null;if(this._index+1==this._animations.length)this._fire("onEnd");else{this._current=this._animations[++this._index];this._onAnimateCtx=a.connect(this._current,"onAnimate",this,"_onAnimate");this._onEndCtx=a.connect(this._current,"onEnd",this,"_onEnd");this._current.play(0,true)}},play:function(b,c){if(!this._current)this._current=this._animations[this._index=0];if(!c&&this._current.status()=="playing")return this;var d=a.connect(this._current,
"beforeBegin",this,function(){this._fire("beforeBegin")}),e=a.connect(this._current,"onBegin",this,function(a){this._fire("onBegin",arguments)}),f=a.connect(this._current,"onPlay",this,function(b){this._fire("onPlay",arguments);a.disconnect(d);a.disconnect(e);a.disconnect(f)});this._onAnimateCtx&&a.disconnect(this._onAnimateCtx);this._onAnimateCtx=a.connect(this._current,"onAnimate",this,"_onAnimate");this._onEndCtx&&a.disconnect(this._onEndCtx);this._onEndCtx=a.connect(this._current,"onEnd",this,
"_onEnd");this._current.play.apply(this._current,arguments);return this},pause:function(){if(this._current){var b=a.connect(this._current,"onPause",this,function(c){this._fire("onPause",arguments);a.disconnect(b)});this._current.pause()}return this},gotoPercent:function(a,c){this.pause();var d=this.duration*a;this._current=null;b.some(this._animations,function(a){if(a.duration<=d){this._current=a;return true}d=d-a.duration;return false});this._current&&this._current.gotoPercent(d/this._current.duration,
c);return this},stop:function(b){if(this._current){if(b){for(;this._index+1<this._animations.length;++this._index)this._animations[this._index].stop(true);this._current=this._animations[this._index]}var c=a.connect(this._current,"onStop",this,function(b){this._fire("onStop",arguments);a.disconnect(c)});this._current.stop()}return this},status:function(){return this._current?this._current.status():"stopped"},destroy:function(){this._onAnimateCtx&&a.disconnect(this._onAnimateCtx);this._onEndCtx&&a.disconnect(this._onEndCtx)}});
c.extend(p,d);f.chain=function(a){return new p(a)};var o=function(c){this._animations=c||[];this._connects=[];this.duration=this._finished=0;b.forEach(c,function(b){var c=b.duration;b.delay&&(c=c+b.delay);if(this.duration<c)this.duration=c;this._connects.push(a.connect(b,"onEnd",this,"_onEnd"))},this);this._pseudoAnimation=new g.Animation({curve:[0,1],duration:this.duration});var d=this;b.forEach(["beforeBegin","onBegin","onPlay","onAnimate","onPause","onStop","onEnd"],function(b){d._connects.push(a.connect(d._pseudoAnimation,
b,function(){d._fire(b,arguments)}))})};c.extend(o,{_doAction:function(a,c){b.forEach(this._animations,function(b){b[a].apply(b,c)});return this},_onEnd:function(){++this._finished>this._animations.length&&this._fire("onEnd")},_call:function(a,b){var c=this._pseudoAnimation;c[a].apply(c,b)},play:function(a,b){this._finished=0;this._doAction("play",arguments);this._call("play",arguments);return this},pause:function(){this._doAction("pause",arguments);this._call("pause",arguments);return this},gotoPercent:function(a,
c){var d=this.duration*a;b.forEach(this._animations,function(a){a.gotoPercent(a.duration<d?1:d/a.duration,c)});this._call("gotoPercent",arguments);return this},stop:function(a){this._doAction("stop",arguments);this._call("stop",arguments);return this},status:function(){return this._pseudoAnimation.status()},destroy:function(){b.forEach(this._connects,a.disconnect)}});c.extend(o,d);f.combine=function(a){return new o(a)};f.wipeIn=function(b){var d=b.node=j.byId(b.node),e=d.style,f,b=g.animateProperty(c.mixin({properties:{height:{start:function(){f=
e.overflow;e.overflow="hidden";if(e.visibility=="hidden"||e.display=="none"){e.height="1px";e.display="";e.visibility="";return 1}var a=k.get(d,"height");return Math.max(a,1)},end:function(){return d.scrollHeight}}}},b)),h=function(){e.height="auto";e.overflow=f};a.connect(b,"onStop",h);a.connect(b,"onEnd",h);return b};f.wipeOut=function(b){var d=(b.node=j.byId(b.node)).style,e,b=g.animateProperty(c.mixin({properties:{height:{end:1}}},b));a.connect(b,"beforeBegin",function(){e=d.overflow;d.overflow=
"hidden";d.display=""});var f=function(){d.overflow=e;d.height="auto";d.display="none"};a.connect(b,"onStop",f);a.connect(b,"onEnd",f);return b};f.slideTo=function(b){var d=null,e=null,f=function(a){return function(){var b=k.getComputedStyle(a),c=b.position;d=c=="absolute"?a.offsetTop:parseInt(b.top)||0;e=c=="absolute"?a.offsetLeft:parseInt(b.left)||0;if(c!="absolute"&&c!="relative"){b=h.position(a,true);d=b.y;e=b.x;a.style.position="absolute";a.style.top=d+"px";a.style.left=e+"px"}}}(b.node=j.byId(b.node));
f();b=g.animateProperty(c.mixin({properties:{top:b.top||0,left:b.left||0}},b));a.connect(b,"beforeBegin",b,f);return b};return f})},"dijit/_base/place":function(){define("dijit/_base/place",["dojo/_base/array","dojo/_base/lang","dojo/window","../place",".."],function(c,e,f,b,a){a.getViewport=function(){return f.getBox()};a.placeOnScreen=b.at;a.placeOnScreenAroundElement=function(a,c,f,h){var d;if(e.isArray(f))d=f;else{d=[];for(var m in f)d.push({aroundCorner:m,corner:f[m]})}return b.around(a,c,d,
!0,h)};a.placeOnScreenAroundNode=a.placeOnScreenAroundElement;a.placeOnScreenAroundRectangle=a.placeOnScreenAroundElement;a.getPopupAroundAlignment=function(a,b){var e={};c.forEach(a,function(a){var c=b;switch(a){case "after":e[b?"BR":"BL"]=b?"BL":"BR";break;case "before":e[b?"BL":"BR"]=b?"BR":"BL";break;case "below-alt":c=!c;case "below":e[c?"BL":"BR"]=c?"TL":"TR";e[c?"BR":"BL"]=c?"TR":"TL";break;case "above-alt":c=!c;default:e[c?"TL":"TR"]=c?"BL":"BR",e[c?"TR":"TL"]=c?"BR":"BL"}});return e};return a})},
"dijit/place":function(){define("dijit/place","dojo/_base/array dojo/dom-geometry dojo/dom-style dojo/_base/kernel dojo/_base/window dojo/window .".split(" "),function(c,e,f,b,a,g,j){function k(b,d,f,j){var k=g.getBox();(!b.parentNode||(""+b.parentNode.tagName).toLowerCase()!="body")&&a.body().appendChild(b);var q=null;c.some(d,function(a){var c=a.corner,d=a.pos,g=0,s={w:{L:k.l+k.w-d.x,R:d.x-k.l,M:k.w}[c.charAt(1)],h:{T:k.t+k.h-d.y,B:d.y-k.t,M:k.h}[c.charAt(0)]};if(f){g=f(b,a.aroundCorner,c,s,j);
g=typeof g=="undefined"?0:g}var x=b.style,r=x.display,B=x.visibility;if(x.display=="none"){x.visibility="hidden";x.display=""}var A=e.getMarginBox(b);x.display=r;x.visibility=B;r={L:d.x,R:d.x-A.w,M:Math.max(k.l,Math.min(k.l+k.w,d.x+(A.w>>1))-A.w)}[c.charAt(1)];B={T:d.y,B:d.y-A.h,M:Math.max(k.t,Math.min(k.t+k.h,d.y+(A.h>>1))-A.h)}[c.charAt(0)];d=Math.max(k.l,r);x=Math.max(k.t,B);r=Math.min(k.l+k.w,r+A.w);B=Math.min(k.t+k.h,B+A.h);r=r-d;B=B-x;g=g+(A.w-r+(A.h-B));if(q==null||g<q.overflow)q={corner:c,
aroundCorner:a.aroundCorner,x:d,y:x,w:r,h:B,overflow:g,spaceAvailable:s};return!g});q.overflow&&f&&f(b,q.aroundCorner,q.corner,q.spaceAvailable,j);var d=e.isBodyLtr(),s=b.style;s.top=q.y+"px";s[d?"left":"right"]=(d?q.x:k.w-q.x-q.w)+"px";s[d?"right":"left"]="auto";return q}return j.place={at:function(a,b,e,f){e=c.map(e,function(a){var c={corner:a,pos:{x:b.x,y:b.y}};if(f){c.pos.x=c.pos.x+(a.charAt(1)=="L"?f.x:-f.x);c.pos.y=c.pos.y+(a.charAt(0)=="T"?f.y:-f.y)}return c});return k(a,e)},around:function(a,
d,g,j,o){function q(a,b){B.push({aroundCorner:a,corner:b,pos:{x:{L:z,R:z+x,M:z+(x>>1)}[a.charAt(1)],y:{T:w,B:w+r,M:w+(r>>1)}[a.charAt(0)]}})}var s=typeof d=="string"||"offsetWidth"in d?e.position(d,true):d;if(d.parentNode)for(d=d.parentNode;d&&d.nodeType==1&&d.nodeName!="BODY";){var u=e.position(d,true),t=f.getComputedStyle(d).overflow;if(t=="hidden"||t=="auto"||t=="scroll"){var t=Math.min(s.y+s.h,u.y+u.h),v=Math.min(s.x+s.w,u.x+u.w);s.x=Math.max(s.x,u.x);s.y=Math.max(s.y,u.y);s.h=t-s.y;s.w=v-s.x}d=
d.parentNode}var z=s.x,w=s.y,x="w"in s?s.w:s.w=s.width,r="h"in s?s.h:(b.deprecated("place.around: dijit.place.__Rectangle: { x:"+z+", y:"+w+", height:"+s.height+", width:"+x+" } has been deprecated.  Please use { x:"+z+", y:"+w+", h:"+s.height+", w:"+x+" }","","2.0"),s.h=s.height),B=[];c.forEach(g,function(a){var b=j;switch(a){case "above-centered":q("TM","BM");break;case "below-centered":q("BM","TM");break;case "after-centered":b=!b;case "before-centered":q(b?"ML":"MR",b?"MR":"ML");break;case "after":b=
!b;case "before":q(b?"TL":"TR",b?"TR":"TL");q(b?"BL":"BR",b?"BR":"BL");break;case "below-alt":b=!b;case "below":q(b?"BL":"BR",b?"TL":"TR");q(b?"BR":"BL",b?"TR":"TL");break;case "above-alt":b=!b;case "above":q(b?"TL":"TR",b?"BL":"BR");q(b?"TR":"TL",b?"BR":"BL");break;default:q(a.aroundCorner,a.corner)}});a=k(a,B,o,{w:x,h:r});a.aroundNodePos=s;return a}}})},"simplekey/species":function(){define("simplekey/species","util/activate_search_suggest bridge/shadowbox util/shadowbox_init util/sidebar simplekey/glossarize util/activate_smooth_div_scroll".split(" "),
function(c,e,f,b,a){glossarize=a;dojo.require("gobotany.sk.species");dojo.addOnLoad(function(){gobotany.sk.species.SpeciesPageHelper().setup()})})},"util/activate_smooth_div_scroll":function(){require(["bridge/jquery","bridge/jquery-ui","bridge/jquery.easing","bridge/jquery.smoothdivscroll"],function(c){c(document).ready(function(){c("#species-images").smoothDivScroll({autoScrollingMode:"onstart",autoScrollingDirection:"backandforth",autoScrollingStep:1,autoScrollingInterval:75,visibleHotSpotBackgrounds:"always"})})})},
"bridge/jquery-ui":function(){define("bridge/jquery-ui",["bridge/jquery","jquery/jquery-ui-1.8.16.custom.min"],function(c){var e;c.ui&&(e=c);return e})},"jquery/jquery-ui-1.8.16.custom.min":function(){define(["dojo","dijit","dojox"],function(){(function(c,e){if(c.cleanData){var f=c.cleanData;c.cleanData=function(a){for(var b=0,e;null!=(e=a[b]);b++)try{c(e).triggerHandler("remove")}catch(k){}f(a)}}else{var b=c.fn.remove;c.fn.remove=function(a,e){return this.each(function(){e||(!a||c.filter(a,[this]).length)&&
c("*",this).add([this]).each(function(){try{c(this).triggerHandler("remove")}catch(a){}});return b.call(c(this),a,e)})}}c.widget=function(a,b,e){var f=a.split(".")[0],h,a=a.split(".")[1];h=f+"-"+a;e||(e=b,b=c.Widget);c.expr[":"][h]=function(b){return!!c.data(b,a)};c[f]=c[f]||{};c[f][a]=function(a,b){arguments.length&&this._createWidget(a,b)};b=new b;b.options=c.extend(!0,{},b.options);c[f][a].prototype=c.extend(!0,b,{namespace:f,widgetName:a,widgetEventPrefix:c[f][a].prototype.widgetEventPrefix||
a,widgetBaseClass:h},e);c.widget.bridge(a,c[f][a])};c.widget.bridge=function(a,b){c.fn[a]=function(f){var k="string"===typeof f,h=Array.prototype.slice.call(arguments,1),d=this,f=!k&&h.length?c.extend.apply(null,[!0,f].concat(h)):f;if(k&&"_"===f.charAt(0))return d;k?this.each(function(){var b=c.data(this,a),g=b&&c.isFunction(b[f])?b[f].apply(b,h):b;if(g!==b&&g!==e)return d=g,!1}):this.each(function(){var d=c.data(this,a);d?d.option(f||{})._init():c.data(this,a,new b(f,this))});return d}};c.Widget=
function(a,b){arguments.length&&this._createWidget(a,b)};c.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:!1},_createWidget:function(a,b){c.data(b,this.widgetName,this);this.element=c(b);this.options=c.extend(!0,{},this.options,this._getCreateOptions(),a);var e=this;this.element.bind("remove."+this.widgetName,function(){e.destroy()});this._create();this._trigger("create");this._init()},_getCreateOptions:function(){return c.metadata&&c.metadata.get(this.element[0])[this.widgetName]},
_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName);this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled ui-state-disabled")},widget:function(){return this.element},option:function(a,b){var f=a;if(0===arguments.length)return c.extend({},this.options);if("string"===typeof a){if(b===e)return this.options[a];f={};f[a]=b}this._setOptions(f);return this},_setOptions:function(a){var b=
this;c.each(a,function(a,c){b._setOption(a,c)});return this},_setOption:function(a,b){this.options[a]=b;"disabled"===a&&this.widget()[b?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",b);return this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_trigger:function(a,b,e){var f=this.options[a],b=c.Event(b);b.type=(a===this.widgetEventPrefix?a:this.widgetEventPrefix+a).toLowerCase();
e=e||{};if(b.originalEvent)for(var a=c.event.props.length,h;a;)h=c.event.props[--a],b[h]=b.originalEvent[h];this.element.trigger(b,e);return!(c.isFunction(f)&&!1===f.call(this.element[0],b,e)||b.isDefaultPrevented())}}})(jQuery)})},"bridge/jquery.easing":function(){define("bridge/jquery.easing",["bridge/jquery","bridge/jquery-ui","jquery/jquery.easing.1.3"],function(c){var e;"easeOutQuad"==c.easing.def&&(e=c);return e})},"jquery/jquery.easing.1.3":function(){define(["dojo","dijit","dojox"],function(){jQuery.easing.jswing=
jQuery.easing.swing;jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(c,e,f,b,a){return jQuery.easing[jQuery.easing.def](c,e,f,b,a)},easeInQuad:function(c,e,f,b,a){return b*(e/=a)*e+f},easeOutQuad:function(c,e,f,b,a){return-b*(e/=a)*(e-2)+f},easeInOutQuad:function(c,e,f,b,a){return 1>(e/=a/2)?b/2*e*e+f:-b/2*(--e*(e-2)-1)+f},easeInCubic:function(c,e,f,b,a){return b*(e/=a)*e*e+f},easeOutCubic:function(c,e,f,b,a){return b*((e=e/a-1)*e*e+1)+f},easeInOutCubic:function(c,e,f,b,a){return 1>(e/=
a/2)?b/2*e*e*e+f:b/2*((e-=2)*e*e+2)+f},easeInQuart:function(c,e,f,b,a){return b*(e/=a)*e*e*e+f},easeOutQuart:function(c,e,f,b,a){return-b*((e=e/a-1)*e*e*e-1)+f},easeInOutQuart:function(c,e,f,b,a){return 1>(e/=a/2)?b/2*e*e*e*e+f:-b/2*((e-=2)*e*e*e-2)+f},easeInQuint:function(c,e,f,b,a){return b*(e/=a)*e*e*e*e+f},easeOutQuint:function(c,e,f,b,a){return b*((e=e/a-1)*e*e*e*e+1)+f},easeInOutQuint:function(c,e,f,b,a){return 1>(e/=a/2)?b/2*e*e*e*e*e+f:b/2*((e-=2)*e*e*e*e+2)+f},easeInSine:function(c,e,f,b,
a){return-b*Math.cos(e/a*(Math.PI/2))+b+f},easeOutSine:function(c,e,f,b,a){return b*Math.sin(e/a*(Math.PI/2))+f},easeInOutSine:function(c,e,f,b,a){return-b/2*(Math.cos(Math.PI*e/a)-1)+f},easeInExpo:function(c,e,f,b,a){return 0==e?f:b*Math.pow(2,10*(e/a-1))+f},easeOutExpo:function(c,e,f,b,a){return e==a?f+b:b*(-Math.pow(2,-10*e/a)+1)+f},easeInOutExpo:function(c,e,f,b,a){return 0==e?f:e==a?f+b:1>(e/=a/2)?b/2*Math.pow(2,10*(e-1))+f:b/2*(-Math.pow(2,-10*--e)+2)+f},easeInCirc:function(c,e,f,b,a){return-b*
(Math.sqrt(1-(e/=a)*e)-1)+f},easeOutCirc:function(c,e,f,b,a){return b*Math.sqrt(1-(e=e/a-1)*e)+f},easeInOutCirc:function(c,e,f,b,a){return 1>(e/=a/2)?-b/2*(Math.sqrt(1-e*e)-1)+f:b/2*(Math.sqrt(1-(e-=2)*e)+1)+f},easeInElastic:function(c,e,f,b,a){var c=1.70158,g=0,j=b;if(0==e)return f;if(1==(e/=a))return f+b;g||(g=0.3*a);j<Math.abs(b)?(j=b,c=g/4):c=g/(2*Math.PI)*Math.asin(b/j);return-(j*Math.pow(2,10*(e-=1))*Math.sin((e*a-c)*2*Math.PI/g))+f},easeOutElastic:function(c,e,f,b,a){var c=1.70158,g=0,j=b;
if(0==e)return f;if(1==(e/=a))return f+b;g||(g=0.3*a);j<Math.abs(b)?(j=b,c=g/4):c=g/(2*Math.PI)*Math.asin(b/j);return j*Math.pow(2,-10*e)*Math.sin((e*a-c)*2*Math.PI/g)+b+f},easeInOutElastic:function(c,e,f,b,a){var c=1.70158,g=0,j=b;if(0==e)return f;if(2==(e/=a/2))return f+b;g||(g=a*0.3*1.5);j<Math.abs(b)?(j=b,c=g/4):c=g/(2*Math.PI)*Math.asin(b/j);return 1>e?-0.5*j*Math.pow(2,10*(e-=1))*Math.sin((e*a-c)*2*Math.PI/g)+f:0.5*j*Math.pow(2,-10*(e-=1))*Math.sin((e*a-c)*2*Math.PI/g)+b+f},easeInBack:function(c,
e,f,b,a,g){void 0==g&&(g=1.70158);return b*(e/=a)*e*((g+1)*e-g)+f},easeOutBack:function(c,e,f,b,a,g){void 0==g&&(g=1.70158);return b*((e=e/a-1)*e*((g+1)*e+g)+1)+f},easeInOutBack:function(c,e,f,b,a,g){void 0==g&&(g=1.70158);return 1>(e/=a/2)?b/2*e*e*(((g*=1.525)+1)*e-g)+f:b/2*((e-=2)*e*(((g*=1.525)+1)*e+g)+2)+f},easeInBounce:function(c,e,f,b,a){return b-jQuery.easing.easeOutBounce(c,a-e,0,b,a)+f},easeOutBounce:function(c,e,f,b,a){return(e/=a)<1/2.75?b*7.5625*e*e+f:e<2/2.75?b*(7.5625*(e-=1.5/2.75)*
e+0.75)+f:e<2.5/2.75?b*(7.5625*(e-=2.25/2.75)*e+0.9375)+f:b*(7.5625*(e-=2.625/2.75)*e+0.984375)+f},easeInOutBounce:function(c,e,f,b,a){return e<a/2?0.5*jQuery.easing.easeInBounce(c,2*e,0,b,a)+f:0.5*jQuery.easing.easeOutBounce(c,2*e-a,0,b,a)+0.5*b+f}})})},"bridge/jquery.smoothdivscroll":function(){define("bridge/jquery.smoothdivscroll",["bridge/jquery","bridge/jquery-ui","bridge/jquery.mousewheel","jquery/jquery.smoothDivScroll-1.2-mod"],function(c){var e;c.fn.smoothDivScroll&&(e=c);return e})},"jquery/jquery.smoothDivScroll-1.2-mod":function(){define(["dojo",
"dijit","dojox"],function(){(function(c){c.widget("thomaskahn.smoothDivScroll",{options:{scrollingHotSpotLeftClass:"scrollingHotSpotLeft",scrollingHotSpotRightClass:"scrollingHotSpotRight",scrollableAreaClass:"scrollableArea",scrollWrapperClass:"scrollWrapper",hiddenOnStart:!1,ajaxContentURL:"",countOnlyClass:"",startAtElementId:"",hotSpotScrolling:!0,hotSpotScrollingStep:15,hotSpotScrollingInterval:10,hotSpotMouseDownSpeedBooster:3,visibleHotSpotBackgrounds:"onstart",hotSpotsVisibleTime:5E3,easingAfterHotSpotScrolling:!0,
easingAfterHotSpotScrollingDistance:10,easingAfterHotSpotScrollingDuration:300,easingAfterHotSpotScrollingFunction:"easeOutQuart",mousewheelScrolling:!1,mousewheelScrollingStep:70,easingAfterMouseWheelScrolling:!0,easingAfterMouseWheelScrollingDuration:300,easingAfterMouseWheelScrollingFunction:"easeOutQuart",manualContinuousScrolling:!1,autoScrollingMode:"",autoScrollingDirection:"endlessloopright",autoScrollingStep:1,autoScrollingInterval:10,scrollToAnimationDuration:1E3,scrollToEasingFunction:"easeOutQuart"},
_create:function(){var e=this,f=this.options,b=this.element;b.wrapInner("<div class='"+f.scrollableAreaClass+"'>").wrapInner("<div class='"+f.scrollWrapperClass+"'>");b.prepend("<div class='"+f.scrollingHotSpotLeftClass+"'></div><div class='"+f.scrollingHotSpotRightClass+"'></div>");b.data("scrollWrapper",b.find("."+f.scrollWrapperClass));b.data("scrollingHotSpotRight",b.find("."+f.scrollingHotSpotRightClass));b.data("scrollingHotSpotLeft",b.find("."+f.scrollingHotSpotLeftClass));b.data("scrollableArea",
b.find("."+f.scrollableAreaClass));b.data("speedBooster",1);b.data("scrollXPos",0);b.data("hotSpotWidth",b.data("scrollingHotSpotLeft").innerWidth());b.data("scrollableAreaWidth",0);b.data("startingPosition",0);b.data("rightScrollingInterval",null);b.data("leftScrollingInterval",null);b.data("autoScrollingInterval",null);b.data("hideHotSpotBackgroundsInterval",null);b.data("previousScrollLeft",0);b.data("pingPongDirection","right");b.data("getNextElementWidth",!0);b.data("swapAt",null);b.data("startAtElementHasNotPassed",
!0);b.data("swappedElement",null);b.data("originalElements",b.data("scrollableArea").children(f.countOnlyClass));b.data("visible",!0);b.data("enabled",!0);b.data("scrollableAreaHeight",b.data("scrollableArea").height());b.data("scrollerOffset",b.offset());b.data("initialAjaxContentLoaded",!1);b.data("scrollingHotSpotRight").bind("mousemove",function(a){a=a.pageX-(this.offsetLeft+b.data("scrollerOffset").left);b.data("scrollXPos",Math.round(a/b.data("hotSpotWidth")*f.hotSpotScrollingStep));Infinity===
b.data("scrollXPos")&&b.data("scrollXPos",0)});b.data("scrollingHotSpotRight").bind("mouseover",function(){b.data("scrollWrapper").stop(!0,!1);e.stopAutoScrolling();b.data("rightScrollingInterval",setInterval(function(){0<b.data("scrollXPos")&&b.data("enabled")&&(b.data("scrollWrapper").scrollLeft(b.data("scrollWrapper").scrollLeft()+b.data("scrollXPos")*b.data("speedBooster")),f.manualContinuousScrolling&&e._checkContinuousSwapRight(),e._showHideHotSpots())},f.hotSpotScrollingInterval));e._trigger("mouseOverRightHotSpot")});
b.data("scrollingHotSpotRight").bind("mouseout",function(){clearInterval(b.data("rightScrollingInterval"));b.data("scrollXPos",0);f.easingAfterHotSpotScrolling&&b.data("enabled")&&b.data("scrollWrapper").animate({scrollLeft:b.data("scrollWrapper").scrollLeft()+f.easingAfterHotSpotScrollingDistance},{duration:f.easingAfterHotSpotScrollingDuration,easing:f.easingAfterHotSpotScrollingFunction})});b.data("scrollingHotSpotRight").bind("mousedown",function(){b.data("speedBooster",f.hotSpotMouseDownSpeedBooster)});
c("body").bind("mouseup",function(){b.data("speedBooster",1)});b.data("scrollingHotSpotLeft").bind("mousemove",function(a){a=this.offsetLeft+b.data("scrollerOffset").left+b.data("hotSpotWidth")-a.pageX;b.data("scrollXPos",Math.round(a/b.data("hotSpotWidth")*f.hotSpotScrollingStep));Infinity===b.data("scrollXPos")&&b.data("scrollXPos",0)});b.data("scrollingHotSpotLeft").bind("mouseover",function(){b.data("scrollWrapper").stop(!0,!1);e.stopAutoScrolling();b.data("leftScrollingInterval",setInterval(function(){0<
b.data("scrollXPos")&&b.data("enabled")&&(b.data("scrollWrapper").scrollLeft(b.data("scrollWrapper").scrollLeft()-b.data("scrollXPos")*b.data("speedBooster")),f.manualContinuousScrolling&&e._checkContinuousSwapLeft(),e._showHideHotSpots())},f.hotSpotScrollingInterval));e._trigger("mouseOverLeftHotSpot")});b.data("scrollingHotSpotLeft").bind("mouseout",function(){clearInterval(b.data("leftScrollingInterval"));b.data("scrollXPos",0);f.easingAfterHotSpotScrolling&&b.data("enabled")&&b.data("scrollWrapper").animate({scrollLeft:b.data("scrollWrapper").scrollLeft()-
f.easingAfterHotSpotScrollingDistance},{duration:f.easingAfterHotSpotScrollingDuration,easing:f.easingAfterHotSpotScrollingFunction})});b.data("scrollingHotSpotLeft").bind("mousedown",function(){b.data("speedBooster",f.hotSpotMouseDownSpeedBooster)});b.data("scrollableArea").mousewheel(function(a,c){if(b.data("enabled")&&f.mousewheelScrolling){a.preventDefault();e.stopAutoScrolling();var j=Math.round(f.mousewheelScrollingStep*c);e.move(j)}});f.mousewheelScrolling&&b.data("scrollingHotSpotLeft").add(b.data("scrollingHotSpotRight")).mousewheel(function(a){a.preventDefault()});
c(window).bind("resize",function(){e._showHideHotSpots();e._trigger("windowResized")});0<f.ajaxContentURL.length?e.changeContent(f.ajaxContentURL,"","html","replace"):e.recalculateScrollableArea();if("always"!==f.autoScrollingMode)switch(f.visibleHotSpotBackgrounds){case "always":e.showHotSpotBackgrounds();break;case "onstart":e.showHotSpotBackgrounds(),b.data("hideHotSpotBackgroundsInterval",setTimeout(function(){e.hideHotSpotBackgrounds("slow")},f.hotSpotsVisibleTime))}f.hiddenOnStart&&e.hide();
c(window).load(function(){f.hiddenOnStart||e.recalculateScrollableArea();0<f.autoScrollingMode.length&&!f.hiddenOnStart&&e.startAutoScrolling()})},_setOption:function(c,f){var b=this.options,a=this.element;b[c]=f;"hotSpotScrolling"===c?!0===f?this._showHideHotSpots():(a.data("scrollingHotSpotLeft").hide(),a.data("scrollingHotSpotRight").hide()):"autoScrollingStep"===c||"easingAfterHotSpotScrollingDistance"===c||"easingAfterHotSpotScrollingDuration"===c||"easingAfterMouseWheelScrollingDuration"===
c?b[c]=parseInt(f,10):"autoScrollingInterval"===c&&(b[c]=parseInt(f,10),this.startAutoScrolling())},showHotSpotBackgrounds:function(c){var f=this.element;void 0!==c?(f.data("scrollingHotSpotLeft").add(f.data("scrollingHotSpotRight")).css("opacity","0.0"),f.data("scrollingHotSpotLeft").addClass("scrollingHotSpotLeftVisible"),f.data("scrollingHotSpotRight").addClass("scrollingHotSpotRightVisible"),f.data("scrollingHotSpotLeft").add(f.data("scrollingHotSpotRight")).fadeTo(c,0.35)):(f.data("scrollingHotSpotLeft").addClass("scrollingHotSpotLeftVisible"),
f.data("scrollingHotSpotLeft").removeAttr("style"),f.data("scrollingHotSpotRight").addClass("scrollingHotSpotRightVisible"),f.data("scrollingHotSpotRight").removeAttr("style"));this._showHideHotSpots()},hideHotSpotBackgrounds:function(c){var f=this.element;void 0!==c?(f.data("scrollingHotSpotLeft").fadeTo(c,0,function(){f.data("scrollingHotSpotLeft").removeClass("scrollingHotSpotLeftVisible")}),f.data("scrollingHotSpotRight").fadeTo(c,0,function(){f.data("scrollingHotSpotRight").removeClass("scrollingHotSpotRightVisible")})):
(f.data("scrollingHotSpotLeft").removeClass("scrollingHotSpotLeftVisible").removeAttr("style"),f.data("scrollingHotSpotRight").removeClass("scrollingHotSpotRightVisible").removeAttr("style"))},_showHideHotSpots:function(){var c=this.element,f=this.options;f.manualContinuousScrolling&&f.hotSpotScrolling?(c.data("scrollingHotSpotLeft").show(),c.data("scrollingHotSpotRight").show()):"always"!==f.autoScrollingMode&&f.hotSpotScrolling?c.data("scrollableAreaWidth")<=c.data("scrollWrapper").innerWidth()?
(c.data("scrollingHotSpotLeft").hide(),c.data("scrollingHotSpotRight").hide()):0===c.data("scrollWrapper").scrollLeft()?(c.data("scrollingHotSpotLeft").hide(),c.data("scrollingHotSpotRight").show(),this._trigger("scrollerLeftLimitReached"),clearInterval(c.data("leftScrollingInterval")),c.data("leftScrollingInterval",null)):c.data("scrollableAreaWidth")<=c.data("scrollWrapper").innerWidth()+c.data("scrollWrapper").scrollLeft()?(c.data("scrollingHotSpotLeft").show(),c.data("scrollingHotSpotRight").hide(),
this._trigger("scrollerRightLimitReached"),clearInterval(c.data("rightScrollingInterval")),c.data("rightScrollingInterval",null)):(c.data("scrollingHotSpotLeft").show(),c.data("scrollingHotSpotRight").show()):(c.data("scrollingHotSpotLeft").hide(),c.data("scrollingHotSpotRight").hide())},_setElementScrollPosition:function(e,f){var b=this.element,a=this.options,g=0;switch(e){case "first":return b.data("scrollXPos",0),!0;case "start":return""!==a.startAtElementId&&b.data("scrollableArea").has("#"+a.startAtElementId)?
(g=c("#"+a.startAtElementId).position().left,b.data("scrollXPos",g),!0):!1;case "last":return b.data("scrollXPos",b.data("scrollableAreaWidth")-b.data("scrollWrapper").innerWidth()),!0;case "number":return!isNaN(f)?(g=b.data("scrollableArea").children(a.countOnlyClass).eq(f-1).position().left,b.data("scrollXPos",g),!0):!1;case "id":return 0<f.length&&b.data("scrollableArea").has("#"+f)?(g=c("#"+f).position().left,b.data("scrollXPos",g),!0):!1;default:return!1}},jumpToElement:function(c,f){var b=this.element;
if(b.data("enabled")&&this._setElementScrollPosition(c,f))switch(b.data("scrollWrapper").scrollLeft(b.data("scrollXPos")),this._showHideHotSpots(),c){case "first":this._trigger("jumpedToFirstElement");break;case "start":this._trigger("jumpedToStartElement");break;case "last":this._trigger("jumpedToLastElement");break;case "number":this._trigger("jumpedToElementNumber",null,{elementNumber:f});break;case "id":this._trigger("jumpedToElementId",null,{elementId:f})}},scrollToElement:function(c,f){var b=
this,a=this.element,g=this.options,j=!1;a.data("enabled")&&b._setElementScrollPosition(c,f)&&(null!==a.data("autoScrollingInterval")&&(b.stopAutoScrolling(),j=!0),a.data("scrollWrapper").stop(!0,!1),a.data("scrollWrapper").animate({scrollLeft:a.data("scrollXPos")},{duration:g.scrollToAnimationDuration,easing:g.scrollToEasingFunction,complete:function(){j&&b.startAutoScrolling();b._showHideHotSpots();switch(c){case "first":b._trigger("scrolledToFirstElement");break;case "start":b._trigger("scrolledToStartElement");
break;case "last":b._trigger("scrolledToLastElement");break;case "number":b._trigger("scrolledToElementNumber",null,{elementNumber:f});break;case "id":b._trigger("scrolledToElementId",null,{elementId:f})}}}))},move:function(c){var f=this,b=this.element,a=this.options;b.data("scrollWrapper").stop(!0,!0);if(0>c&&0<b.data("scrollWrapper").scrollLeft()||0<c&&b.data("scrollableAreaWidth")>b.data("scrollWrapper").innerWidth()+b.data("scrollWrapper").scrollLeft())a.easingAfterMouseWheelScrolling?b.data("scrollWrapper").animate({scrollLeft:b.data("scrollWrapper").scrollLeft()+
c},{duration:a.easingAfterMouseWheelScrollingDuration,easing:a.easingAfterMouseWheelFunction,complete:function(){f._showHideHotSpots();a.manualContinuousScrolling&&(0<c?f._checkContinuousSwapRight():f._checkContinuousSwapLeft())}}):(b.data("scrollWrapper").scrollLeft(b.data("scrollWrapper").scrollLeft()+c),f._showHideHotSpots(),a.manualContinuousScrolling&&(0<c?f._checkContinuousSwapRight():f._checkContinuousSwapLeft()))},changeContent:function(e,f,b,a){var g=this,j=this.element;switch(f){case "flickrFeed":c.getJSON(e,
function(e){function f(e,k){var q=e.media.m.replace("_m",m[k].letter);c("<img />").attr("src",q).load(function(){this.height<j.data("scrollableAreaHeight")?k+1<m.length?f(e,k+1):d(this):d(this);if(u===s){switch(b){case "add":"first"===a?j.data("scrollableArea").children(":first").before(p):j.data("scrollableArea").children(":last").after(p);break;default:j.data("scrollableArea").html(p)}j.data("initialAjaxContentLoaded")?g.recalculateScrollableArea():j.data("initialAjaxContentLoaded",!0);g._showHideHotSpots();
g._trigger("addedFlickrContent",null,{addedElementIds:o})}})}function d(a){var b=j.data("scrollableAreaHeight")/a.height,b=Math.round(a.width*b),d=c(a).attr("src").split("/"),d=d[d.length-1].split(".");c(a).attr("id",d[0]);c(a).css({height:j.data("scrollableAreaHeight"),width:b});o.push(d[0]);p.push(a);u++}var m=[{size:"small square",pixels:75,letter:"_s"},{size:"thumbnail",pixels:100,letter:"_t"},{size:"small",pixels:240,letter:"_m"},{size:"medium",pixels:500,letter:""},{size:"medium 640",pixels:640,
letter:"_z"},{size:"large",pixels:1024,letter:"_b"}],p=[],o=[],q,s=e.items.length,u=0;q=75>=j.data("scrollableAreaHeight")?0:100>=j.data("scrollableAreaHeight")?1:240>=j.data("scrollableAreaHeight")?2:500>=j.data("scrollableAreaHeight")?3:640>=j.data("scrollableAreaHeight")?4:5;c.each(e.items,function(a,b){f(b,q)})});break;default:c.get(e,function(c){switch(b){case "add":"first"===a?j.data("scrollableArea").children(":first").before(c):j.data("scrollableArea").children(":last").after(c);break;default:j.data("scrollableArea").html(c)}j.data("initialAjaxContentLoaded")?
g.recalculateScrollableArea():j.data("initialAjaxContentLoaded",!0);g._showHideHotSpots();g._trigger("addedHtmlContent")})}},recalculateScrollableArea:function(){var e=0,f=!1,b=this.options,a=this.element;a.data("scrollableArea").children(b.countOnlyClass).each(function(){0<b.startAtElementId.length&&c(this).attr("id")===b.startAtElementId&&(a.data("startingPosition",e),f=!0);e+=c(this).outerWidth(!0)});f||a.data("startAtElementId","");a.data("scrollableAreaWidth",e);a.data("scrollableArea").width(a.data("scrollableAreaWidth"));
a.data("scrollWrapper").scrollLeft(a.data("startingPosition"));a.data("scrollXPos",a.data("startingPosition"))},stopAutoScrolling:function(){var c=this.element;null!==c.data("autoScrollingInterval")&&(clearInterval(c.data("autoScrollingInterval")),c.data("autoScrollingInterval",null),this._showHideHotSpots(),this._trigger("autoScrollingStopped"))},startAutoScrolling:function(){var c=this,f=this.element,b=this.options;f.data("enabled")&&(c._showHideHotSpots(),clearInterval(f.data("autoScrollingInterval")),
f.data("autoScrollingInterval",null),c._trigger("autoScrollingStarted"),f.data("autoScrollingInterval",setInterval(function(){c._showHideHotSpots();if(!f.data("visible")||f.data("scrollableAreaWidth")<=f.data("scrollWrapper").innerWidth())clearInterval(f.data("autoScrollingInterval")),f.data("autoScrollingInterval",null);else switch(f.data("previousScrollLeft",f.data("scrollWrapper").scrollLeft()),b.autoScrollingDirection){case "right":f.data("scrollWrapper").scrollLeft(f.data("scrollWrapper").scrollLeft()+
b.autoScrollingStep);f.data("previousScrollLeft")===f.data("scrollWrapper").scrollLeft()&&(c._trigger("autoScrollingRightLimitReached"),clearInterval(f.data("autoScrollingInterval")),f.data("autoScrollingInterval",null),c._trigger("autoScrollingIntervalStopped"));break;case "left":f.data("scrollWrapper").scrollLeft(f.data("scrollWrapper").scrollLeft()-b.autoScrollingStep);f.data("previousScrollLeft")===f.data("scrollWrapper").scrollLeft()&&(c._trigger("autoScrollingLeftLimitReached"),clearInterval(f.data("autoScrollingInterval")),
f.data("autoScrollingInterval",null),c._trigger("autoScrollingIntervalStopped"));break;case "backandforth":"right"===f.data("pingPongDirection")?f.data("scrollWrapper").scrollLeft(f.data("scrollWrapper").scrollLeft()+b.autoScrollingStep):f.data("scrollWrapper").scrollLeft(f.data("scrollWrapper").scrollLeft()-b.autoScrollingStep);f.data("previousScrollLeft")===f.data("scrollWrapper").scrollLeft()&&("right"===f.data("pingPongDirection")?(f.data("pingPongDirection","left"),c._trigger("autoScrollingRightLimitReached")):
(f.data("pingPongDirection","right"),c._trigger("autoScrollingLeftLimitReached")));break;case "endlessloopright":f.data("scrollWrapper").scrollLeft(f.data("scrollWrapper").scrollLeft()+b.autoScrollingStep);c._checkContinuousSwapRight();break;case "endlessloopleft":f.data("scrollWrapper").scrollLeft(f.data("scrollWrapper").scrollLeft()-b.autoScrollingStep),c._checkContinuousSwapLeft()}},b.autoScrollingInterval)))},_checkContinuousSwapRight:function(){var e=this.element,f=this.options;e.data("getNextElementWidth")&&
(0<f.startAtElementId.length&&e.data("startAtElementHasNotPassed")?(e.data("swapAt",c("#"+f.startAtElementId).outerWidth(!0)),e.data("startAtElementHasNotPassed",!1)):e.data("swapAt",e.data("scrollableArea").children(":first").outerWidth(!0)),e.data("getNextElementWidth",!1));e.data("swapAt")<=e.data("scrollWrapper").scrollLeft()&&(e.data("swappedElement",e.data("scrollableArea").children(":first").detach()),e.data("scrollableArea").append(e.data("swappedElement")),f=e.data("scrollWrapper").scrollLeft(),
e.data("scrollWrapper").scrollLeft(f-e.data("swappedElement").outerWidth(!0)),e.data("getNextElementWidth",!0))},_checkContinuousSwapLeft:function(){var e=this.element,f=this.options;e.data("getNextElementWidth")&&(0<f.startAtElementId.length&&e.data("startAtElementHasNotPassed")?(e.data("swapAt",c("#"+f.startAtElementId).outerWidth(!0)),e.data("startAtElementHasNotPassed",!1)):e.data("swapAt",e.data("scrollableArea").children(":first").outerWidth(!0)),e.data("getNextElementWidth",!1));0===e.data("scrollWrapper").scrollLeft()&&
(e.data("swappedElement",e.data("scrollableArea").children(":last").detach()),e.data("scrollableArea").prepend(e.data("swappedElement")),e.data("scrollWrapper").scrollLeft(e.data("scrollWrapper").scrollLeft()+e.data("swappedElement").outerWidth(!0)),e.data("getNextElementWidth",!0))},restoreOriginalElements:function(){var c=this.element;c.data("scrollableArea").html(c.data("originalElements"));this.recalculateScrollableArea();this.jumpToElement("first")},show:function(){var c=this.element;c.data("visible",
!0);c.show()},hide:function(){var c=this.element;c.data("visible",!1);c.hide()},enable:function(){this.element.data("enabled",!0)},disable:function(){var c=this.element;this.stopAutoScrolling();clearInterval(c.data("rightScrollingInterval"));clearInterval(c.data("leftScrollingInterval"));clearInterval(c.data("hideHotSpotBackgroundsInterval"));c.data("enabled",!1)},destroy:function(){var e=this.element;this.stopAutoScrolling();clearInterval(e.data("rightScrollingInterval"));clearInterval(e.data("leftScrollingInterval"));
clearInterval(e.data("hideHotSpotBackgroundsInterval"));e.data("scrollingHotSpotRight").unbind("mouseover");e.data("scrollingHotSpotRight").unbind("mouseout");e.data("scrollingHotSpotRight").unbind("mousedown");e.data("scrollingHotSpotLeft").unbind("mouseover");e.data("scrollingHotSpotLeft").unbind("mouseout");e.data("scrollingHotSpotLeft").unbind("mousedown");e.data("scrollingHotSpotRight").remove();e.data("scrollingHotSpotLeft").remove();e.data("scrollableArea").remove();e.data("scrollWrapper").remove();
e.html(e.data("originalElements"));c.Widget.prototype.destroy.apply(this,arguments)}})})(jQuery)})},"simplekey/family":function(){define("simplekey/family",["bridge/jquery","simplekey/glossarize"],function(c,e){return function(f){c(document).ready(function(){e(c(".description"))});require(["util/activate_search_suggest","bridge/shadowbox","util/shadowbox_init"]);require(["util/sidebar"],function(){dojo.require("gobotany.sk.family");dojo.addOnLoad(function(){gobotany.sk.family.init(f.family_slug)})})}})},
"simplekey/genus":function(){define("simplekey/genus",["bridge/jquery","simplekey/glossarize"],function(c,e){return function(f){c(document).ready(function(){e(c(".description"))});require(["util/activate_search_suggest","bridge/shadowbox","util/shadowbox_init"]);require(["util/sidebar"],function(){dojo.require("gobotany.sk.genus");dojo.addOnLoad(function(){gobotany.sk.genus.init(f.genus_slug)})})}})},"simplekey/help":function(){require(["util/activate_search_suggest","util/activate_video_links"]);
require(["bridge/shadowbox","util/shadowbox_init","util/sidebar"])},"simplekey/help_glossary":function(){require(["util/activate_search_suggest","bridge/shadowbox","util/shadowbox_init","util/sidebar"]);require(["simplekey/glossarize"],function(c){$(document).ready(function(){c($("#terms dd"))})})},"simplekey/help_map":function(){require(["util/activate_search_suggest","bridge/shadowbox","util/shadowbox_init","util/activate_video_links","util/sidebar"]);require(["dojo/ready","gobotany/sk/help"],function(c,
e){return c(function(){(new e).setup()})})},"gobotany/sk/help":function(){define("gobotany/sk/help","dojo/_base/declare dojo/query dojo/dom-geometry dojo/_base/array dojo/dom-class dojo/dom-style dojo/_base/connect dojo/_base/lang".split(" "),function(c,e,f,b,a,g,j,k){return c("gobotany.sk.help.MapToGroupsHelper",null,{groups:null,subgroup_sets:null,constructor:function(){this.groups=e(".plant-group");this.subgroup_sets=e(".subgroups")},get_left_margin_for_subgroup_set:function(a){var c=f.position(this.groups[0]).x,
g=f.position(this.groups[this.groups.length-1]),g=g.x+g.w,j=f.position(this.groups[a]),j=j.x+Math.floor(j.w/2),k=0;b.forEach(e(".plant-subgroup",this.subgroup_sets[a]),function(a){a=f.position(a).w;k=k+a});g=g-c-k-22;c=j-Math.floor(k/2)-c;a===this.groups.length-1&&(g=g+11);c<0?c=0:c>=g&&(c=g);return c},activate_group:function(b){this.groups.forEach(function(c,d){d===b?a.add(c,"active"):a.remove(c,"active")});var c=this;this.subgroup_sets.forEach(function(e,f){if(f===b){a.remove(e,"hidden");var j=
c.get_left_margin_for_subgroup_set(f);g.set(e,"marginLeft",j.toString()+"px")}else a.add(e,"hidden")})},setup:function(){var a;for(a=0;a<this.groups.length;a=a+1)j.connect(this.groups[a],"onclick",k.hitch(this,this.activate_group,a));this.activate_group(0)}})})},"simplekey/search":function(){require(["util/activate_search_suggest","util/sidebar"])}}});require(["dojo/i18n"],function(c){c._preloadLocalizations("deploy/nls/gobotany.application",[])});define("deploy/gobotany.application",[],1);