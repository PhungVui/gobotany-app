/*
 RequireJS 2.0.4 Copyright (c) 2010-2012, The Dojo Foundation All Rights Reserved.
 Available via the MIT or new BSD license.
 see: http://github.com/jrburke/requirejs for details
 Color animation jQuery-plugin
 http://www.bitstorm.org/jquery/color-animation/
 Copyright 2011 Edwin Martin <edwin@bitstorm.org>
 Released under the MIT and GPL licenses.

 ==========================================================================
 Ember
 Copyright ©2006-2011, Strobe Inc. and contributors.
 Portions copyright ©2008-2011 Apple Inc. All rights reserved.

 Permission is hereby granted, free of charge, to any person obtaining a
 copy of this software and associated documentation files (the "Software"),
 to deal in the Software without restriction, including without limitation
 the rights to use, copy, modify, merge, publish, distribute, sublicense,
 and/or sell copies of the Software, and to permit persons to whom the
 Software is furnished to do so, subject to the following conditions:

 The above copyright notice and this permission notice shall be included in
 all copies or substantial portions of the Software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
 DEALINGS IN THE SOFTWARE.

 For more information about Ember, visit http://www.emberjs.com

 ==========================================================================
*/
var requirejs,require,define;
(function(a){function b(a){return"[object Function]"===I.call(a)}function d(a){return"[object Array]"===I.call(a)}function c(a,b){if(a){var c;for(c=0;c<a.length&&(!a[c]||!b(a[c],c,a));c+=1);}}function e(a,b){if(a){var c;for(c=a.length-1;-1<c&&(!a[c]||!b(a[c],c,a));c-=1);}}function h(a,b){for(var c in a)if(a.hasOwnProperty(c)&&b(a[c],c))break}function f(a,b,c,d){b&&h(b,function(b,g){if(c||!a.hasOwnProperty(g))d&&"string"!==typeof b?(a[g]||(a[g]={}),f(a[g],b,c,d)):a[g]=b});return a}function o(a,b){return function(){return b.apply(a,
arguments)}}function k(b){if(!b)return b;var d=a;c(b.split("."),function(a){d=d[a]});return d}function s(a,c,d){return function(){var g=Y.call(arguments,0),f;if(d&&b(f=g[g.length-1]))f.__requireJsBuild=!0;g.push(c);return a.apply(null,g)}}function B(a,b,d){c([["toUrl"],["undef"],["defined","requireDefined"],["specified","requireSpecified"]],function(c){var g=c[1]||c[0];a[c[0]]=b?s(b[g],d):function(){var a=M[C];return a[g].apply(a,arguments)}})}function r(a,b,c,d){b=Error(b+"\nhttp://requirejs.org/docs/errors.html#"+
a);b.requireType=a;b.requireModules=d;c&&(b.originalError=c);return b}function z(g){function e(a,b,c){var d=b&&b.split("/"),g=d,f=X.map,h=f&&f["*"],q,l,k;if(a&&"."===a.charAt(0))if(b){g=X.pkgs[b]?d=[b]:d.slice(0,d.length-1);b=a=g.concat(a.split("/"));for(g=0;b[g];g+=1)if(q=b[g],"."===q)b.splice(g,1),g-=1;else if(".."===q)if(1===g&&(".."===b[2]||".."===b[0]))break;else 0<g&&(b.splice(g-1,2),g-=2);g=X.pkgs[b=a[0]];a=a.join("/");g&&a===b+"/"+g.main&&(a=b)}else 0===a.indexOf("./")&&(a=a.substring(2));
if(c&&(d||h)&&f){b=a.split("/");for(g=b.length;0<g;g-=1){l=b.slice(0,g).join("/");if(d)for(q=d.length;0<q;q-=1)if(c=f[d.slice(0,q).join("/")])if(c=c[l]){k=c;break}!k&&(h&&h[l])&&(k=h[l]);if(k){b.splice(0,g,k);a=b.join("/");break}}}return a}function E(a){n&&c(document.getElementsByTagName("script"),function(b){if(b.getAttribute("data-requiremodule")===a&&b.getAttribute("data-requirecontext")===D.contextName)return b.parentNode.removeChild(b),!0})}function Q(a){var b=X.paths[a];if(b&&d(b)&&1<b.length)return E(a),
b.shift(),D.undef(a),D.require([a]),!0}function G(a,b,c,d){var g=a?a.indexOf("!"):-1,f=null,h=b?b.name:null,q=a,l=!0,k="",o,E;a||(l=!1,a="_@r"+(bb+=1));-1!==g&&(f=a.substring(0,g),a=a.substring(g+1,a.length));f&&(f=e(f,h,d),E=ba[f]);a&&(f?k=E&&E.normalize?E.normalize(a,function(a){return e(a,h,d)}):e(a,h,d):(k=e(a,h,d),o=D.nameToUrl(k)));a=f&&!E&&!c?"_unnormalized"+(fa+=1):"";return{prefix:f,name:k,parentMap:b,unnormalized:!!a,url:o,originalName:q,isDefine:l,id:(f?f+"!"+k:k)+a}}function A(a){var b=
a.id,c=ca[b];c||(c=ca[b]=new D.Module(a));return c}function v(a,b,c){var d=a.id,g=ca[d];if(ba.hasOwnProperty(d)&&(!g||g.defineEmitComplete))"defined"===b&&c(ba[d]);else A(a).on(b,c)}function I(a,b){var d=a.requireModules,g=!1;if(b)b(a);else if(c(d,function(b){if(b=ca[b])b.error=a,b.events.error&&(g=!0,b.emit("error",a))}),!g)q.onError(a)}function w(){O.length&&(ga.apply(pa,[pa.length-1,0].concat(O)),O=[])}function C(a,b,c){a=a&&a.map;b=s(c||D.require,a,b);B(b,D,a);b.isBrowser=n;return b}function da(a){delete ca[a];
c(ia,function(b,c){if(b.map.id===a)return ia.splice(c,1),b.defined||(D.waitCount-=1),!0})}function Y(a,b){var d=a.map.id,g=a.depMaps,e;if(a.inited){if(b[d])return a;b[d]=!0;c(g,function(a){if(a=ca[a.id])return!a.inited||!a.enabled?(e=null,delete b[d],!0):e=Y(a,f({},b))});return e}}function z(a,b,d){var g=a.map.id,f=a.depMaps;if(a.inited&&a.map.isDefine){if(b[g])return ba[g];b[g]=a;c(f,function(c){var c=c.id,f=ca[c];!J[c]&&f&&(!f.inited||!f.enabled?d[g]=!0:(f=z(f,b,d),d[c]||a.defineDepById(c,f)))});
a.check(!0);return ba[g]}}function M(a){a.check()}function V(){var a=1E3*X.waitSeconds,b=a&&D.startTime+a<(new Date).getTime(),d=[],g=!1,f=!0,e,q,k;if(!U){U=!0;h(ca,function(a){e=a.map;q=e.id;if(a.enabled&&!a.error)if(!a.inited&&b)Q(q)?g=k=!0:(d.push(q),E(q));else if(!a.inited&&(a.fetched&&e.isDefine)&&(g=!0,!e.prefix))return f=!1});if(b&&d.length)return a=r("timeout","Load timeout for modules: "+d,null,d),a.contextName=D.contextName,I(a);f&&(c(ia,function(a){if(!a.defined){var a=Y(a,{}),b={};a&&
(z(a,b,{}),h(b,M))}}),h(ca,M));if((!b||k)&&g)if((n||T)&&!H)H=setTimeout(function(){H=0;V()},50);U=!1}}function Z(a){A(G(a[0],null,!0)).init(a[1],a[2])}function R(a){var a=a.currentTarget||a.srcElement,b=D.onScriptLoad;a.detachEvent&&!t?a.detachEvent("onreadystatechange",b):a.removeEventListener("load",b,!1);b=D.onScriptError;(!a.detachEvent||t)&&a.removeEventListener("error",b,!1);return{node:a,id:a&&a.getAttribute("data-requiremodule")}}var X={waitSeconds:7,baseUrl:"./",paths:{},pkgs:{},shim:{}},
ca={},Ya={},pa=[],ba={},ja={},bb=1,fa=1,ia=[],U,F,D,J,H;J={require:function(a){return C(a)},exports:function(a){a.usingExports=!0;if(a.map.isDefine)return a.exports=ba[a.map.id]={}},module:function(a){return a.module={id:a.map.id,uri:a.map.url,config:function(){return X.config&&X.config[a.map.id]||{}},exports:ba[a.map.id]}}};F=function(a){this.events=Ya[a.id]||{};this.map=a;this.shim=X.shim[a.id];this.depExports=[];this.depMaps=[];this.depMatched=[];this.pluginMaps={};this.depCount=0};F.prototype=
{init:function(a,b,c,d){d=d||{};if(!this.inited){this.factory=b;if(c)this.on("error",c);else this.events.error&&(c=o(this,function(a){this.emit("error",a)}));this.depMaps=a&&a.slice(0);this.depMaps.rjsSkipMap=a.rjsSkipMap;this.errback=c;this.inited=!0;this.ignore=d.ignore;d.enabled||this.enabled?this.enable():this.check()}},defineDepById:function(a,b){var d;c(this.depMaps,function(b,c){if(b.id===a)return d=c,!0});return this.defineDep(d,b)},defineDep:function(a,b){this.depMatched[a]||(this.depMatched[a]=
!0,this.depCount-=1,this.depExports[a]=b)},fetch:function(){if(!this.fetched){this.fetched=!0;D.startTime=(new Date).getTime();var a=this.map;if(this.shim)C(this,!0)(this.shim.deps||[],o(this,function(){return a.prefix?this.callPlugin():this.load()}));else return a.prefix?this.callPlugin():this.load()}},load:function(){var a=this.map.url;ja[a]||(ja[a]=!0,D.load(this.map.id,a))},check:function(a){if(this.enabled&&!this.enabling){var c=this.map.id,d=this.depExports,g=this.exports,f=this.factory,e;if(this.inited)if(this.error)this.emit("error",
this.error);else{if(!this.defining){this.defining=!0;if(1>this.depCount&&!this.defined){if(b(f)){if(this.events.error)try{g=D.execCb(c,f,d,g)}catch(h){e=h}else g=D.execCb(c,f,d,g);this.map.isDefine&&((d=this.module)&&void 0!==d.exports&&d.exports!==this.exports?g=d.exports:void 0===g&&this.usingExports&&(g=this.exports));if(e)return e.requireMap=this.map,e.requireModules=[this.map.id],e.requireType="define",I(this.error=e)}else g=f;this.exports=g;if(this.map.isDefine&&!this.ignore&&(ba[c]=g,q.onResourceLoad))q.onResourceLoad(D,
this.map,this.depMaps);delete ca[c];this.defined=!0;D.waitCount-=1;0===D.waitCount&&(ia=[])}this.defining=!1;!a&&(this.defined&&!this.defineEmitted)&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}}else this.fetch()}},callPlugin:function(){var a=this.map,b=a.id,c=G(a.prefix,null,!1,!0);v(c,"defined",o(this,function(c){var d=this.map.name,g=this.map.parentMap?this.map.parentMap.name:null;if(this.map.unnormalized){if(c.normalize&&(d=c.normalize(d,function(a){return e(a,
g,!0)})||""),c=G(a.prefix+"!"+d,this.map.parentMap,!1,!0),v(c,"defined",o(this,function(a){this.init([],function(){return a},null,{enabled:!0,ignore:!0})})),c=ca[c.id]){if(this.events.error)c.on("error",o(this,function(a){this.emit("error",a)}));c.enable()}}else d=o(this,function(a){this.init([],function(){return a},null,{enabled:!0})}),d.error=o(this,function(a){this.inited=!0;this.error=a;a.requireModules=[b];h(ca,function(a){0===a.map.id.indexOf(b+"_unnormalized")&&da(a.map.id)});I(a)}),d.fromText=
function(a,b){var c=x;c&&(x=!1);A(G(a));q.exec(b);c&&(x=!0);D.completeLoad(a)},c.load(a.name,C(a.parentMap,!0,function(a,b){a.rjsSkipMap=true;return D.require(a,b)}),d,X)}));D.enable(c,this);this.pluginMaps[c.id]=c},enable:function(){this.enabled=!0;this.waitPushed||(ia.push(this),D.waitCount+=1,this.waitPushed=!0);this.enabling=!0;c(this.depMaps,o(this,function(a,b){var c,d;if(typeof a==="string"){a=G(a,this.map.isDefine?this.map:this.map.parentMap,false,!this.depMaps.rjsSkipMap);this.depMaps[b]=
a;if(c=J[a.id]){this.depExports[b]=c(this);return}this.depCount=this.depCount+1;v(a,"defined",o(this,function(a){this.defineDep(b,a);this.check()}));this.errback&&v(a,"error",this.errback)}c=a.id;d=ca[c];!J[c]&&(d&&!d.enabled)&&D.enable(a,this)}));h(this.pluginMaps,o(this,function(a){var b=ca[a.id];b&&!b.enabled&&D.enable(a,this)}));this.enabling=!1;this.check()},on:function(a,b){var c=this.events[a];c||(c=this.events[a]=[]);c.push(b)},emit:function(a,b){c(this.events[a],function(a){a(b)});"error"===
a&&delete this.events[a]}};return D={config:X,contextName:g,registry:ca,defined:ba,urlFetched:ja,waitCount:0,defQueue:pa,Module:F,makeModuleMap:G,configure:function(a){a.baseUrl&&"/"!==a.baseUrl.charAt(a.baseUrl.length-1)&&(a.baseUrl+="/");var b=X.pkgs,g=X.shim,e=X.paths,q=X.map;f(X,a,!0);X.paths=f(e,a.paths,!0);a.map&&(X.map=f(q||{},a.map,!0,!0));a.shim&&(h(a.shim,function(a,b){d(a)&&(a={deps:a});if(a.exports&&!a.exports.__buildReady)a.exports=D.makeShimExports(a.exports);g[b]=a}),X.shim=g);a.packages&&
(c(a.packages,function(a){a=typeof a==="string"?{name:a}:a;b[a.name]={name:a.name,location:a.location||a.name,main:(a.main||"main").replace(P,"").replace(u,"")}}),X.pkgs=b);h(ca,function(a,b){a.map=G(b)});if(a.deps||a.callback)D.require(a.deps||[],a.callback)},makeShimExports:function(b){var c;return"string"===typeof b?(c=function(){return k(b)},c.exports=b,c):function(){return b.apply(a,arguments)}},requireDefined:function(a,b){var c=G(a,b,!1,!0).id;return ba.hasOwnProperty(c)},requireSpecified:function(a,
b){a=G(a,b,!1,!0).id;return ba.hasOwnProperty(a)||ca.hasOwnProperty(a)},require:function(a,c,d,f){var e;if("string"===typeof a){if(b(c))return I(r("requireargs","Invalid require call"),d);if(q.get)return q.get(D,a,c);a=G(a,c,!1,!0);a=a.id;return!ba.hasOwnProperty(a)?I(r("notloaded",'Module name "'+a+'" has not been loaded yet for context: '+g)):ba[a]}d&&!b(d)&&(f=d,d=void 0);c&&!b(c)&&(f=c,c=void 0);for(w();pa.length;){e=pa.shift();if(null===e[0])return I(r("mismatch","Mismatched anonymous define() module: "+
e[e.length-1]));Z(e)}A(G(null,f)).init(a,c,d,{enabled:!0});V();return D.require},undef:function(a){var b=G(a,null,!0),c=ca[a];delete ba[a];delete ja[b.url];delete Ya[a];c&&(c.events.defined&&(Ya[a]=c.events),da(a))},enable:function(a){ca[a.id]&&A(a).enable()},completeLoad:function(a){var b=X.shim[a]||{},c=b.exports&&b.exports.exports,d,g;for(w();pa.length;){g=pa.shift();if(null===g[0]){g[0]=a;if(d)break;d=!0}else g[0]===a&&(d=!0);Z(g)}g=ca[a];if(!d&&!ba[a]&&g&&!g.inited){if(X.enforceDefine&&(!c||
!k(c)))return Q(a)?void 0:I(r("nodefine","No define call for "+a,null,[a]));Z([a,b.deps||[],b.exports])}V()},toUrl:function(a,b){var c=a.lastIndexOf("."),d=null;-1!==c&&(d=a.substring(c,a.length),a=a.substring(0,c));return D.nameToUrl(e(a,b&&b.id,!0),d)},nameToUrl:function(a,b){var c,g,f,e,h,k;if(q.jsExtRegExp.test(a))e=a+(b||"");else{c=X.paths;g=X.pkgs;e=a.split("/");for(h=e.length;0<h;h-=1)if(k=e.slice(0,h).join("/"),f=g[k],k=c[k]){d(k)&&(k=k[0]);e.splice(0,h,k);break}else if(f){c=a===f.name?f.location+
"/"+f.main:f.location;e.splice(0,h,c);break}e=e.join("/")+(b||".js");e=("/"===e.charAt(0)||e.match(/^[\w\+\.\-]+:/)?"":X.baseUrl)+e}return X.urlArgs?e+((-1===e.indexOf("?")?"?":"&")+X.urlArgs):e},load:function(a,b){q.load(D,a,b)},execCb:function(a,b,c,d){return b.apply(d,c)},onScriptLoad:function(a){if("load"===a.type||za.test((a.currentTarget||a.srcElement).readyState))l=null,a=R(a),D.completeLoad(a.id)},onScriptError:function(a){var b=R(a);if(!Q(b.id))return I(r("scripterror","Script error",a,[b.id]))}}}
var v=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/mg,w=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,u=/\.js$/,P=/^\.\//,I=Object.prototype.toString,A=Array.prototype,Y=A.slice,ga=A.splice,n=!!("undefined"!==typeof window&&navigator&&document),T=!n&&"undefined"!==typeof importScripts,za=n&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,C="_",t="undefined"!==typeof opera&&"[object Opera]"===opera.toString(),M={},g={},O=[],x=!1,q,E,Q,G,da,l,V,Z,R;if("undefined"===typeof define){if("undefined"!==
typeof requirejs){if(b(requirejs))return;g=requirejs;requirejs=void 0}"undefined"!==typeof require&&!b(require)&&(g=require,require=void 0);q=requirejs=function(a,b,c,g){var f=C,e;if(!d(a)&&typeof a!=="string"){e=a;if(d(b)){a=b;b=c;c=g}else a=[]}if(e&&e.context)f=e.context;(g=M[f])||(g=M[f]=q.s.newContext(f));e&&g.configure(e);return g.require(a,b,c)};q.config=function(a){return q(a)};require||(require=q);q.version="2.0.4";q.jsExtRegExp=/^\/|:|\?|\.js$/;q.isBrowser=n;A=q.s={contexts:M,newContext:z};
q({});B(q);if(n&&(E=A.head=document.getElementsByTagName("head")[0],Q=document.getElementsByTagName("base")[0]))E=A.head=Q.parentNode;q.onError=function(a){throw a;};q.load=function(a,b,c){var d=a&&a.config||{},g;if(n){g=d.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script");g.type=d.scriptType||"text/javascript";g.charset="utf-8";g.async=true;g.setAttribute("data-requirecontext",a.contextName);g.setAttribute("data-requiremodule",b);if(g.attachEvent&&
!(g.attachEvent.toString&&g.attachEvent.toString().indexOf("[native code")<0)&&!t){x=true;g.attachEvent("onreadystatechange",a.onScriptLoad)}else{g.addEventListener("load",a.onScriptLoad,false);g.addEventListener("error",a.onScriptError,false)}g.src=c;V=g;Q?E.insertBefore(g,Q):E.appendChild(g);V=null;return g}if(T){importScripts(c);a.completeLoad(b)}};n&&e(document.getElementsByTagName("script"),function(a){if(!E)E=a.parentNode;if(G=a.getAttribute("data-main")){if(!g.baseUrl){da=G.split("/");Z=da.pop();
R=da.length?da.join("/")+"/":"./";g.baseUrl=R;G=Z}G=G.replace(u,"");g.deps=g.deps?g.deps.concat(G):[G];return true}});define=function(a,c,g){var f,h;if(typeof a!=="string"){g=c;c=a;a=null}if(!d(c)){g=c;c=[]}if(!c.length&&b(g)&&g.length){g.toString().replace(v,"").replace(w,function(a,b){c.push(b)});c=(g.length===1?["require"]:["require","exports","module"]).concat(c)}if(x){if(!(f=V)){l&&l.readyState==="interactive"||e(document.getElementsByTagName("script"),function(a){if(a.readyState==="interactive")return l=
a});f=l}if(f){a||(a=f.getAttribute("data-requiremodule"));h=M[f.getAttribute("data-requirecontext")]}}(h?h.defQueue:O).push([a,c,g])};define.amd={jQuery:!0};q.exec=function(a){return eval(a)};q(g)}})(this);define("lib/require",function(){});
(function(a,b){function d(j,a,c){if(c===b&&1===j.nodeType)if(c="data-"+a.replace(Ja,"-$1").toLowerCase(),c=j.getAttribute(c),"string"===typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:g.isNumeric(c)?+c:Bb.test(c)?g.parseJSON(c):c}catch(d){}g.data(j,a,c)}else c=b;return c}function c(j){for(var a in j)if(!("data"===a&&g.isEmptyObject(j[a]))&&"toJSON"!==a)return!1;return!0}function e(j,a,b){var c=a+"defer",d=a+"queue",f=a+"mark",e=g._data(j,c);e&&(("queue"===b||!g._data(j,d))&&("mark"===
b||!g._data(j,f)))&&setTimeout(function(){!g._data(j,d)&&!g._data(j,f)&&(g.removeData(j,c,!0),e.fire())},0)}function h(){return!1}function f(){return!0}function o(j,a,b){a=a||0;if(g.isFunction(a))return g.grep(j,function(j,c){return!!a.call(j,c,j)===b});if(a.nodeType)return g.grep(j,function(j){return j===a===b});if("string"===typeof a){var c=g.grep(j,function(j){return 1===j.nodeType});if(Rb.test(a))return g.filter(a,c,!b);a=g.filter(a,c)}return g.grep(j,function(j){return 0<=g.inArray(j,a)===b})}
function k(j){var a=Bc.split("|"),j=j.createDocumentFragment();if(j.createElement)for(;a.length;)j.createElement(a.pop());return j}function s(j,a){if(1===a.nodeType&&g.hasData(j)){var b,c,d;c=g._data(j);var f=g._data(a,c),e=c.events;if(e)for(b in delete f.handle,f.events={},e){c=0;for(d=e[b].length;c<d;c++)g.event.add(a,b,e[b][c])}f.data&&(f.data=g.extend({},f.data))}}function B(j,a){var b;if(1===a.nodeType){a.clearAttributes&&a.clearAttributes();a.mergeAttributes&&a.mergeAttributes(j);b=a.nodeName.toLowerCase();
if("object"===b)a.outerHTML=j.outerHTML;else if("input"===b&&("checkbox"===j.type||"radio"===j.type)){if(j.checked&&(a.defaultChecked=a.checked=j.checked),a.value!==j.value)a.value=j.value}else"option"===b?a.selected=j.defaultSelected:"input"===b||"textarea"===b?a.defaultValue=j.defaultValue:"script"===b&&a.text!==j.text&&(a.text=j.text);a.removeAttribute(g.expando);a.removeAttribute("_submit_attached");a.removeAttribute("_change_attached")}}function r(j){return"undefined"!==typeof j.getElementsByTagName?
j.getElementsByTagName("*"):"undefined"!==typeof j.querySelectorAll?j.querySelectorAll("*"):[]}function z(j){if("checkbox"===j.type||"radio"===j.type)j.defaultChecked=j.checked}function v(j){var a=(j.nodeName||"").toLowerCase();"input"===a?z(j):"script"!==a&&"undefined"!==typeof j.getElementsByTagName&&g.grep(j.getElementsByTagName("input"),z)}function w(j,a,b){var c="width"===a?j.offsetWidth:j.offsetHeight,d="width"===a?1:0;if(0<c){if("border"!==b)for(;4>d;d+=2)b||(c-=parseFloat(g.css(j,"padding"+
Sb[d]))||0),c="margin"===b?c+(parseFloat(g.css(j,b+Sb[d]))||0):c-(parseFloat(g.css(j,"border"+Sb[d]+"Width"))||0);return c+"px"}c=ac(j,a);if(0>c||null==c)c=j.style[a];if(bc.test(c))return c;c=parseFloat(c)||0;if(b)for(;4>d;d+=2)c+=parseFloat(g.css(j,"padding"+Sb[d]))||0,"padding"!==b&&(c+=parseFloat(g.css(j,"border"+Sb[d]+"Width"))||0),"margin"===b&&(c+=parseFloat(g.css(j,b+Sb[d]))||0);return c+"px"}function u(j){return function(a,b){"string"!==typeof a&&(b=a,a="*");if(g.isFunction(b))for(var c=a.toLowerCase().split(Qc),
d=0,f=c.length,e,m;d<f;d++)e=c[d],(m=/^\+/.test(e))&&(e=e.substr(1)||"*"),e=j[e]=j[e]||[],e[m?"unshift":"push"](b)}}function P(j,a,c,d,g,f){g=g||a.dataTypes[0];f=f||{};f[g]=!0;for(var g=j[g],e=0,m=g?g.length:0,h=j===Cc,p;e<m&&(h||!p);e++)p=g[e](a,c,d),"string"===typeof p&&(!h||f[p]?p=b:(a.dataTypes.unshift(p),p=P(j,a,c,d,p,f)));if((h||!p)&&!f["*"])p=P(j,a,c,d,"*",f);return p}function I(j,a){var c,d,f=g.ajaxSettings.flatOptions||{};for(c in a)a[c]!==b&&((f[c]?j:d||(d={}))[c]=a[c]);d&&g.extend(!0,j,
d)}function A(j,a,b,c){if(g.isArray(a))g.each(a,function(a,Sa){b||wd.test(j)?c(j,Sa):A(j+"["+("object"===typeof Sa?a:"")+"]",Sa,b,c)});else if(!b&&"object"===g.type(a))for(var d in a)A(j+"["+d+"]",a[d],b,c);else c(j,a)}function Y(){try{return new a.XMLHttpRequest}catch(j){}}function ga(){setTimeout(n,0);return cc=g.now()}function n(){cc=b}function T(j,a){var b={};g.each(jc.concat.apply([],jc.slice(0,a)),function(){b[this]=j});return b}function za(j){if(!dc[j]){var a=t.body,b=g("<"+j+">").appendTo(a),
c=b.css("display");b.remove();if("none"===c||""===c){$a||($a=t.createElement("iframe"),$a.frameBorder=$a.width=$a.height=0);a.appendChild($a);if(!Tb||!$a.createElement)Tb=($a.contentWindow||$a.contentDocument).document,Tb.write((g.support.boxModel?"<!doctype html>":"")+"<html><body>"),Tb.close();b=Tb.createElement(j);Tb.body.appendChild(b);c=g.css(b,"display");a.removeChild($a)}dc[j]=c}return dc[j]}function C(j){return g.isWindow(j)?j:9===j.nodeType?j.defaultView||j.parentWindow:!1}var t=a.document,
M=a.location,g,O=function(){if(!x.isReady){try{t.documentElement.doScroll("left")}catch(j){setTimeout(O,1);return}x.ready()}},x=function(j,a){return new x.fn.init(j,a,Q)},q=a.jQuery,E=a.$,Q,G=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,da=/\S/,l=/^\s+/,V=/\s+$/,Z=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,R=/^[\],:{}\s]*$/,na=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,Ea=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,W=/(?:^|:|,)(?:\s*\[)+/g,ha=/(webkit)[ \/]([\w.]+)/,Fa=/(opera)(?:.*version)?[ \/]([\w.]+)/,
Ia=/(msie) ([\w.]+)/,ka=/(mozilla)(?:.*? rv:([\w.]+))?/,Na=/-([a-z]|[0-9])/ig,sa=/^-ms-/,Qa=function(j,a){return(a+"").toUpperCase()},Ra=a.navigator.userAgent,xa,ya,Ha,Xa=Object.prototype.toString,La=Object.prototype.hasOwnProperty,Oa=Array.prototype.push,X=Array.prototype.slice,ca=String.prototype.trim,Ya=Array.prototype.indexOf,pa={};x.fn=x.prototype={constructor:x,init:function(j,a,c){var d;if(!j)return this;if(j.nodeType)return this.context=this[0]=j,this.length=1,this;if("body"===j&&!a&&t.body)return this.context=
t,this[0]=t.body,this.selector=j,this.length=1,this;if("string"===typeof j){if((d="<"===j.charAt(0)&&">"===j.charAt(j.length-1)&&3<=j.length?[null,j,null]:G.exec(j))&&(d[1]||!a)){if(d[1])return c=(a=a instanceof x?a[0]:a)?a.ownerDocument||a:t,(j=Z.exec(j))?x.isPlainObject(a)?(j=[t.createElement(j[1])],x.fn.attr.call(j,a,!0)):j=[c.createElement(j[1])]:(j=x.buildFragment([d[1]],[c]),j=(j.cacheable?x.clone(j.fragment):j.fragment).childNodes),x.merge(this,j);if((a=t.getElementById(d[2]))&&a.parentNode){if(a.id!==
d[2])return c.find(j);this.length=1;this[0]=a}this.context=t;this.selector=j;return this}return!a||a.jquery?(a||c).find(j):this.constructor(a).find(j)}if(x.isFunction(j))return c.ready(j);j.selector!==b&&(this.selector=j.selector,this.context=j.context);return x.makeArray(j,this)},selector:"",jquery:"1.7.2",length:0,size:function(){return this.length},toArray:function(){return X.call(this,0)},get:function(j){return null==j?this.toArray():0>j?this[this.length+j]:this[j]},pushStack:function(j,a,b){var c=
this.constructor();x.isArray(j)?Oa.apply(c,j):x.merge(c,j);c.prevObject=this;c.context=this.context;"find"===a?c.selector=this.selector+(this.selector?" ":"")+b:a&&(c.selector=this.selector+"."+a+"("+b+")");return c},each:function(j,a){return x.each(this,j,a)},ready:function(j){x.bindReady();ya.add(j);return this},eq:function(j){j=+j;return-1===j?this.slice(j):this.slice(j,j+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(X.apply(this,
arguments),"slice",X.call(arguments).join(","))},map:function(j){return this.pushStack(x.map(this,function(a,b){return j.call(a,b,a)}))},end:function(){return this.prevObject||this.constructor(null)},push:Oa,sort:[].sort,splice:[].splice};x.fn.init.prototype=x.fn;x.extend=x.fn.extend=function(){var j,a,c,d,g,f=arguments[0]||{},e=1,m=arguments.length,h=!1;"boolean"===typeof f&&(h=f,f=arguments[1]||{},e=2);"object"!==typeof f&&!x.isFunction(f)&&(f={});m===e&&(f=this,--e);for(;e<m;e++)if(null!=(j=arguments[e]))for(a in j)c=
f[a],d=j[a],f!==d&&(h&&d&&(x.isPlainObject(d)||(g=x.isArray(d)))?(g?(g=!1,c=c&&x.isArray(c)?c:[]):c=c&&x.isPlainObject(c)?c:{},f[a]=x.extend(h,c,d)):d!==b&&(f[a]=d));return f};x.extend({noConflict:function(j){a.$===x&&(a.$=E);j&&a.jQuery===x&&(a.jQuery=q);return x},isReady:!1,readyWait:1,holdReady:function(j){j?x.readyWait++:x.ready(!0)},ready:function(j){if(!0===j&&!--x.readyWait||!0!==j&&!x.isReady){if(!t.body)return setTimeout(x.ready,1);x.isReady=!0;!0!==j&&0<--x.readyWait||(ya.fireWith(t,[x]),
x.fn.trigger&&x(t).trigger("ready").off("ready"))}},bindReady:function(){if(!ya){ya=x.Callbacks("once memory");if("complete"===t.readyState)return setTimeout(x.ready,1);if(t.addEventListener)t.addEventListener("DOMContentLoaded",Ha,!1),a.addEventListener("load",x.ready,!1);else if(t.attachEvent){t.attachEvent("onreadystatechange",Ha);a.attachEvent("onload",x.ready);var j=!1;try{j=null==a.frameElement}catch(b){}t.documentElement.doScroll&&j&&O()}}},isFunction:function(j){return"function"===x.type(j)},
isArray:Array.isArray||function(j){return"array"===x.type(j)},isWindow:function(j){return null!=j&&j==j.window},isNumeric:function(j){return!isNaN(parseFloat(j))&&isFinite(j)},type:function(j){return null==j?String(j):pa[Xa.call(j)]||"object"},isPlainObject:function(j){if(!j||"object"!==x.type(j)||j.nodeType||x.isWindow(j))return!1;try{if(j.constructor&&!La.call(j,"constructor")&&!La.call(j.constructor.prototype,"isPrototypeOf"))return!1}catch(a){return!1}for(var c in j);return c===b||La.call(j,c)},
isEmptyObject:function(j){for(var a in j)return!1;return!0},error:function(j){throw Error(j);},parseJSON:function(j){if("string"!==typeof j||!j)return null;j=x.trim(j);if(a.JSON&&a.JSON.parse)return a.JSON.parse(j);if(R.test(j.replace(na,"@").replace(Ea,"]").replace(W,"")))return(new Function("return "+j))();x.error("Invalid JSON: "+j)},parseXML:function(j){if("string"!==typeof j||!j)return null;var c,d;try{a.DOMParser?(d=new DOMParser,c=d.parseFromString(j,"text/xml")):(c=new ActiveXObject("Microsoft.XMLDOM"),
c.async="false",c.loadXML(j))}catch(g){c=b}(!c||!c.documentElement||c.getElementsByTagName("parsererror").length)&&x.error("Invalid XML: "+j);return c},noop:function(){},globalEval:function(j){j&&da.test(j)&&(a.execScript||function(j){a.eval.call(a,j)})(j)},camelCase:function(j){return j.replace(sa,"ms-").replace(Na,Qa)},nodeName:function(j,a){return j.nodeName&&j.nodeName.toUpperCase()===a.toUpperCase()},each:function(j,a,c){var d,g=0,f=j.length,e=f===b||x.isFunction(j);if(c)if(e)for(d in j){if(!1===
a.apply(j[d],c))break}else for(;g<f&&!1!==a.apply(j[g++],c););else if(e)for(d in j){if(!1===a.call(j[d],d,j[d]))break}else for(;g<f&&!1!==a.call(j[g],g,j[g++]););return j},trim:ca?function(j){return null==j?"":ca.call(j)}:function(j){return null==j?"":j.toString().replace(l,"").replace(V,"")},makeArray:function(j,a){var b=a||[];if(null!=j){var c=x.type(j);null==j.length||"string"===c||"function"===c||"regexp"===c||x.isWindow(j)?Oa.call(b,j):x.merge(b,j)}return b},inArray:function(j,a,b){var c;if(a){if(Ya)return Ya.call(a,
j,b);c=a.length;for(b=b?0>b?Math.max(0,c+b):b:0;b<c;b++)if(b in a&&a[b]===j)return b}return-1},merge:function(j,a){var c=j.length,d=0;if("number"===typeof a.length)for(var g=a.length;d<g;d++)j[c++]=a[d];else for(;a[d]!==b;)j[c++]=a[d++];j.length=c;return j},grep:function(j,a,b){for(var c=[],d,b=!!b,g=0,f=j.length;g<f;g++)d=!!a(j[g],g),b!==d&&c.push(j[g]);return c},map:function(j,a,c){var d,g,f=[],e=0,m=j.length;if(j instanceof x||m!==b&&"number"===typeof m&&(0<m&&j[0]&&j[m-1]||0===m||x.isArray(j)))for(;e<
m;e++)d=a(j[e],e,c),null!=d&&(f[f.length]=d);else for(g in j)d=a(j[g],g,c),null!=d&&(f[f.length]=d);return f.concat.apply([],f)},guid:1,proxy:function(j,a){if("string"===typeof a)var c=j[a],a=j,j=c;if(!x.isFunction(j))return b;var d=X.call(arguments,2),c=function(){return j.apply(a,d.concat(X.call(arguments)))};c.guid=j.guid=j.guid||c.guid||x.guid++;return c},access:function(j,a,c,d,g,f,e){var m,h=null==c,p=0,y=j.length;if(c&&"object"===typeof c){for(p in c)x.access(j,a,p,c[p],1,f,d);g=1}else if(d!==
b){m=e===b&&x.isFunction(d);h&&(m?(m=a,a=function(j,a,b){return m.call(x(j),b)}):(a.call(j,d),a=null));if(a)for(;p<y;p++)a(j[p],c,m?d.call(j[p],p,a(j[p],c)):d,e);g=1}return g?j:h?a.call(j):y?a(j[0],c):f},now:function(){return(new Date).getTime()},uaMatch:function(j){j=j.toLowerCase();j=ha.exec(j)||Fa.exec(j)||Ia.exec(j)||0>j.indexOf("compatible")&&ka.exec(j)||[];return{browser:j[1]||"",version:j[2]||"0"}},sub:function(){function j(a,b){return new j.fn.init(a,b)}x.extend(!0,j,this);j.superclass=this;
j.fn=j.prototype=this();j.fn.constructor=j;j.sub=this.sub;j.fn.init=function(b,c){c&&(c instanceof x&&!(c instanceof j))&&(c=j(c));return x.fn.init.call(this,b,c,a)};j.fn.init.prototype=j.fn;var a=j(t);return j},browser:{}});x.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(j,a){pa["[object "+a+"]"]=a.toLowerCase()});xa=x.uaMatch(Ra);xa.browser&&(x.browser[xa.browser]=!0,x.browser.version=xa.version);x.browser.webkit&&(x.browser.safari=!0);da.test("\u00a0")&&(l=
/^[\s\xA0]+/,V=/[\s\xA0]+$/);Q=x(t);t.addEventListener?Ha=function(){t.removeEventListener("DOMContentLoaded",Ha,false);x.ready()}:t.attachEvent&&(Ha=function(){if(t.readyState==="complete"){t.detachEvent("onreadystatechange",Ha);x.ready()}});g=x;var ba={};g.Callbacks=function(j){var a;if(j){if(!(a=ba[j])){a=j;var c=ba[a]={},d,f;a=a.split(/\s+/);d=0;for(f=a.length;d<f;d++)c[a[d]]=true;a=c}}else a={};var j=a,e=[],m=[],h,p,y,q,k,l,o=function(a){var b,c,d,Sa;b=0;for(c=a.length;b<c;b++){d=a[b];Sa=g.type(d);
Sa==="array"?o(d):Sa==="function"&&(!j.unique||!E.has(d))&&e.push(d)}},Ba=function(a,b){b=b||[];h=!j.memory||[a,b];y=p=true;l=q||0;q=0;for(k=e.length;e&&l<k;l++)if(e[l].apply(a,b)===false&&j.stopOnFalse){h=true;break}y=false;if(e)if(j.once)h===true?E.disable():e=[];else if(m&&m.length){h=m.shift();E.fireWith(h[0],h[1])}},E={add:function(){if(e){var j=e.length;o(arguments);if(y)k=e.length;else if(h&&h!==true){q=j;Ba(h[0],h[1])}}return this},remove:function(){if(e)for(var a=arguments,b=0,c=a.length;b<
c;b++)for(var d=0;d<e.length;d++)if(a[b]===e[d]){if(y&&d<=k){k--;d<=l&&l--}e.splice(d--,1);if(j.unique)break}return this},has:function(j){if(e)for(var a=0,b=e.length;a<b;a++)if(j===e[a])return true;return false},empty:function(){e=[];return this},disable:function(){e=m=h=b;return this},disabled:function(){return!e},lock:function(){m=b;(!h||h===true)&&E.disable();return this},locked:function(){return!m},fireWith:function(a,b){m&&(y?j.once||m.push([a,b]):(!j.once||!h)&&Ba(a,b));return this},fire:function(){E.fireWith(this,
arguments);return this},fired:function(){return!!p}};return E};var ja=[].slice;g.extend({Deferred:function(j){var a=g.Callbacks("once memory"),b=g.Callbacks("once memory"),c=g.Callbacks("memory"),d="pending",f={resolve:a,reject:b,notify:c},e={done:a.add,fail:b.add,progress:c.add,state:function(){return d},isResolved:a.fired,isRejected:b.fired,then:function(j,a,b){m.done(j).fail(a).progress(b);return this},always:function(){m.done.apply(m,arguments).fail.apply(m,arguments);return this},pipe:function(j,
a,b){return g.Deferred(function(c){g.each({done:[j,"resolve"],fail:[a,"reject"],progress:[b,"notify"]},function(j,a){var b=a[0],d=a[1],Sa;if(g.isFunction(b))m[j](function(){if((Sa=b.apply(this,arguments))&&g.isFunction(Sa.promise))Sa.promise().then(c.resolve,c.reject,c.notify);else c[d+"With"](this===m?c:this,[Sa])});else m[j](c[d])})}).promise()},promise:function(j){if(j==null)j=e;else for(var a in e)j[a]=e[a];return j}},m=e.promise({}),h;for(h in f){m[h]=f[h].fire;m[h+"With"]=f[h].fireWith}m.done(function(){d=
"resolved"},b.disable,c.lock).fail(function(){d="rejected"},a.disable,c.lock);j&&j.call(m,m);return m},when:function(j){function a(j){return function(a){c[j]=arguments.length>1?ja.call(arguments,0):a;--m||h.resolveWith(h,c)}}function b(j){return function(a){e[j]=arguments.length>1?ja.call(arguments,0):a;h.notifyWith(p,e)}}var c=ja.call(arguments,0),d=0,f=c.length,e=Array(f),m=f,h=f<=1&&j&&g.isFunction(j.promise)?j:g.Deferred(),p=h.promise();if(f>1){for(;d<f;d++)c[d]&&c[d].promise&&g.isFunction(c[d].promise)?
c[d].promise().then(a(d),h.reject,b(d)):--m;m||h.resolveWith(h,c)}else h!==j&&h.resolveWith(h,f?[j]:[]);return p}});var bb=g,fa;var ia,U,F,D,J,H,ma,ra,Za,rb,oa,N=t.createElement("div");N.setAttribute("className","t");N.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>";U=N.getElementsByTagName("*");F=N.getElementsByTagName("a")[0];if(!U||!U.length||!F)fa={};else{D=t.createElement("select");J=D.appendChild(t.createElement("option"));
H=N.getElementsByTagName("input")[0];ia={leadingWhitespace:3===N.firstChild.nodeType,tbody:!N.getElementsByTagName("tbody").length,htmlSerialize:!!N.getElementsByTagName("link").length,style:/top/.test(F.getAttribute("style")),hrefNormalized:"/a"===F.getAttribute("href"),opacity:/^0.55/.test(F.style.opacity),cssFloat:!!F.style.cssFloat,checkOn:"on"===H.value,optSelected:J.selected,getSetAttribute:"t"!==N.className,enctype:!!t.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==t.createElement("nav").cloneNode(!0).outerHTML,
submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,pixelMargin:!0};g.boxModel=ia.boxModel="CSS1Compat"===t.compatMode;H.checked=!0;ia.noCloneChecked=H.cloneNode(!0).checked;D.disabled=!0;ia.optDisabled=!J.disabled;try{delete N.test}catch(Va){ia.deleteExpando=!1}!N.addEventListener&&(N.attachEvent&&N.fireEvent)&&(N.attachEvent("onclick",function(){ia.noCloneEvent=false}),N.cloneNode(!0).fireEvent("onclick"));
H=t.createElement("input");H.value="t";H.setAttribute("type","radio");ia.radioValue="t"===H.value;H.setAttribute("checked","checked");H.setAttribute("name","t");N.appendChild(H);ma=t.createDocumentFragment();ma.appendChild(N.lastChild);ia.checkClone=ma.cloneNode(!0).cloneNode(!0).lastChild.checked;ia.appendChecked=H.checked;ma.removeChild(H);ma.appendChild(N);if(N.attachEvent)for(rb in{submit:1,change:1,focusin:1})Za="on"+rb,oa=Za in N,oa||(N.setAttribute(Za,"return;"),oa="function"===typeof N[Za]),
ia[rb+"Bubbles"]=oa;ma.removeChild(N);ma=D=J=N=H=null;g(function(){var j,b,c,d,f=t.getElementsByTagName("body")[0];if(f){j=t.createElement("div");j.style.cssText="padding:0;margin:0;border:0;visibility:hidden;width:0;height:0;position:static;top:0;margin-top:1px";f.insertBefore(j,f.firstChild);N=t.createElement("div");j.appendChild(N);N.innerHTML="<table><tr><td style='padding:0;margin:0;border:0;display:none'></td><td>t</td></tr></table>";ra=N.getElementsByTagName("td");oa=ra[0].offsetHeight===0;
ra[0].style.display="";ra[1].style.display="none";ia.reliableHiddenOffsets=oa&&ra[0].offsetHeight===0;if(a.getComputedStyle){N.innerHTML="";b=t.createElement("div");b.style.width="0";b.style.marginRight="0";N.style.width="2px";N.appendChild(b);ia.reliableMarginRight=(parseInt((a.getComputedStyle(b,null)||{marginRight:0}).marginRight,10)||0)===0}if(typeof N.style.zoom!=="undefined"){N.innerHTML="";N.style.width=N.style.padding="1px";N.style.border=0;N.style.overflow="hidden";N.style.display="inline";
N.style.zoom=1;ia.inlineBlockNeedsLayout=N.offsetWidth===3;N.style.display="block";N.style.overflow="visible";N.innerHTML="<div style='width:5px;'></div>";ia.shrinkWrapBlocks=N.offsetWidth!==3}N.style.cssText="position:absolute;top:0;left:0;width:1px;height:1px;padding:0;margin:0;border:0;visibility:hidden;";N.innerHTML="<div style='position:absolute;top:0;left:0;width:1px;height:1px;padding:0;margin:0;border:5px solid #000;display:block;'><div style='padding:0;margin:0;border:0;display:block;overflow:hidden;'></div></div><table style='position:absolute;top:0;left:0;width:1px;height:1px;padding:0;margin:0;border:5px solid #000;' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>";
b=N.firstChild;c=b.firstChild;d=b.nextSibling.firstChild.firstChild;d={doesNotAddBorder:c.offsetTop!==5,doesAddBorderForTableAndCells:d.offsetTop===5};c.style.position="fixed";c.style.top="20px";d.fixedPosition=c.offsetTop===20||c.offsetTop===15;c.style.position=c.style.top="";b.style.overflow="hidden";b.style.position="relative";d.subtractsBorderForOverflowNotVisible=c.offsetTop===-5;d.doesNotIncludeMarginInBodyOffset=f.offsetTop!==1;if(a.getComputedStyle){N.style.marginTop="1%";ia.pixelMargin=(a.getComputedStyle(N,
null)||{marginTop:0}).marginTop!=="1%"}if(typeof j.style.zoom!=="undefined")j.style.zoom=1;f.removeChild(j);N=null;g.extend(ia,d)}});fa=ia}bb.support=fa;var Bb=/^(?:\{.*\}|\[.*\])$/,Ja=/([A-Z])/g;g.extend({cache:{},uuid:0,expando:"jQuery"+(g.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(j){j=j.nodeType?g.cache[j[g.expando]]:j[g.expando];return!!j&&!c(j)},data:function(j,a,c,d){if(g.acceptData(j)){var f;f=
g.expando;var e=typeof a==="string",m=j.nodeType,h=m?g.cache:j,p=m?j[f]:j[f]&&f,y=a==="events";if(p&&h[p]&&(y||d||h[p].data)||!(e&&c===b)){p||(m?j[f]=p=++g.uuid:p=f);if(!h[p]){h[p]={};if(!m)h[p].toJSON=g.noop}if(typeof a==="object"||typeof a==="function")d?h[p]=g.extend(h[p],a):h[p].data=g.extend(h[p].data,a);f=j=h[p];if(!d){if(!j.data)j.data={};j=j.data}c!==b&&(j[g.camelCase(a)]=c);if(y&&!j[a])return f.events;if(e){c=j[a];c==null&&(c=j[g.camelCase(a)])}else c=j;return c}}},removeData:function(j,
a,b){if(g.acceptData(j)){var d,f,e,m=g.expando,h=j.nodeType,p=h?g.cache:j,y=h?j[m]:m;if(p[y]){if(a)if(d=b?p[y]:p[y].data){if(!g.isArray(a))if(a in d)a=[a];else{a=g.camelCase(a);a=a in d?[a]:a.split(" ")}f=0;for(e=a.length;f<e;f++)delete d[a[f]];if(!(b?c:g.isEmptyObject)(d))return}if(!b){delete p[y].data;if(!c(p[y]))return}g.support.deleteExpando||!p.setInterval?delete p[y]:p[y]=null;h&&(g.support.deleteExpando?delete j[m]:j.removeAttribute?j.removeAttribute(m):j[m]=null)}}},_data:function(a,b,c){return g.data(a,
b,c,true)},acceptData:function(a){if(a.nodeName){var b=g.noData[a.nodeName.toLowerCase()];if(b)return!(b===true||a.getAttribute("classid")!==b)}return true}});g.fn.extend({data:function(a,c){var f,e,m,h,p,y=this[0],q=0,k=null;if(a===b){if(this.length){k=g.data(y);if(y.nodeType===1&&!g._data(y,"parsedAttrs")){m=y.attributes;for(p=m.length;q<p;q++){h=m[q].name;if(h.indexOf("data-")===0){h=g.camelCase(h.substring(5));d(y,h,k[h])}}g._data(y,"parsedAttrs",true)}}return k}if(typeof a==="object")return this.each(function(){g.data(this,
a)});f=a.split(".",2);f[1]=f[1]?"."+f[1]:"";e=f[1]+"!";return g.access(this,function(c){if(c===b){k=this.triggerHandler("getData"+e,[f[0]]);if(k===b&&y){k=g.data(y,a);k=d(y,a,k)}return k===b&&f[1]?this.data(f[0]):k}f[1]=c;this.each(function(){var b=g(this);b.triggerHandler("setData"+e,f);g.data(this,a,c);b.triggerHandler("changeData"+e,f)})},null,c,arguments.length>1,null,false)},removeData:function(a){return this.each(function(){g.removeData(this,a)})}});g.extend({_mark:function(a,b){if(a){b=(b||
"fx")+"mark";g._data(a,b,(g._data(a,b)||0)+1)}},_unmark:function(a,b,c){if(a!==true){c=b;b=a;a=false}if(b){var c=c||"fx",d=c+"mark";if(a=a?0:(g._data(b,d)||1)-1)g._data(b,d,a);else{g.removeData(b,d,true);e(b,c,"mark")}}},queue:function(a,b,c){var d;if(a){b=(b||"fx")+"queue";d=g._data(a,b);c&&(!d||g.isArray(c)?d=g._data(a,b,g.makeArray(c)):d.push(c));return d||[]}},dequeue:function(a,b){var b=b||"fx",c=g.queue(a,b),d=c.shift(),f={};d==="inprogress"&&(d=c.shift());if(d){b==="fx"&&c.unshift("inprogress");
g._data(a,b+".run",f);d.call(a,function(){g.dequeue(a,b)},f)}if(!c.length){g.removeData(a,b+"queue "+b+".run",true);e(a,b,"queue")}}});g.fn.extend({queue:function(a,c){var d=2;if(typeof a!=="string"){c=a;a="fx";d--}return arguments.length<d?g.queue(this[0],a):c===b?this:this.each(function(){var b=g.queue(this,a,c);a==="fx"&&b[0]!=="inprogress"&&g.dequeue(this,a)})},dequeue:function(a){return this.each(function(){g.dequeue(this,a)})},delay:function(a,b){a=g.fx?g.fx.speeds[a]||a:a;return this.queue(b||
"fx",function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,c){function d(){--h||f.resolveWith(e,[e])}if(typeof a!=="string"){c=a;a=b}for(var a=a||"fx",f=g.Deferred(),e=this,m=e.length,h=1,p=a+"defer",y=a+"queue",q=a+"mark",k;m--;)if(k=g.data(e[m],p,b,true)||(g.data(e[m],y,b,true)||g.data(e[m],q,b,true))&&g.data(e[m],p,g.Callbacks("once memory"),true)){h++;k.add(d)}d();return f.promise(c)}});var Pa=/[\n\t\r]/g,
Ga=/\s+/,Ka=/\r/g,Wa=/^(?:button|input)$/i,sb=/^(?:button|input|object|select|textarea)$/i,qa=/^a(?:rea)?$/i,Ma=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,ab=g.support.getSetAttribute,Ta,Aa,m;g.fn.extend({attr:function(a,b){return g.access(this,g.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){g.removeAttr(this,a)})},prop:function(a,b){return g.access(this,g.prop,a,b,arguments.length>
1)},removeProp:function(a){a=g.propFix[a]||a;return this.each(function(){try{this[a]=b;delete this[a]}catch(c){}})},addClass:function(a){var b,c,d,f,e,m,h;if(g.isFunction(a))return this.each(function(b){g(this).addClass(a.call(this,b,this.className))});if(a&&typeof a==="string"){b=a.split(Ga);c=0;for(d=this.length;c<d;c++){f=this[c];if(f.nodeType===1)if(!f.className&&b.length===1)f.className=a;else{e=" "+f.className+" ";m=0;for(h=b.length;m<h;m++)~e.indexOf(" "+b[m]+" ")||(e=e+(b[m]+" "));f.className=
g.trim(e)}}}return this},removeClass:function(a){var c,d,f,e,m,h,p;if(g.isFunction(a))return this.each(function(b){g(this).removeClass(a.call(this,b,this.className))});if(a&&typeof a==="string"||a===b){c=(a||"").split(Ga);d=0;for(f=this.length;d<f;d++){e=this[d];if(e.nodeType===1&&e.className)if(a){m=(" "+e.className+" ").replace(Pa," ");h=0;for(p=c.length;h<p;h++)m=m.replace(" "+c[h]+" "," ");e.className=g.trim(m)}else e.className=""}}return this},toggleClass:function(a,b){var c=typeof a,d=typeof b===
"boolean";return g.isFunction(a)?this.each(function(c){g(this).toggleClass(a.call(this,c,this.className,b),b)}):this.each(function(){if(c==="string")for(var f,e=0,m=g(this),h=b,p=a.split(Ga);f=p[e++];){h=d?h:!m.hasClass(f);m[h?"addClass":"removeClass"](f)}else if(c==="undefined"||c==="boolean"){this.className&&g._data(this,"__className__",this.className);this.className=this.className||a===false?"":g._data(this,"__className__")||""}})},hasClass:function(a){for(var a=" "+a+" ",b=0,c=this.length;b<c;b++)if(this[b].nodeType===
1&&(" "+this[b].className+" ").replace(Pa," ").indexOf(a)>-1)return true;return false},val:function(a){var c,d,f,e=this[0];if(arguments.length){f=g.isFunction(a);return this.each(function(d){var e=g(this);if(this.nodeType===1){d=f?a.call(this,d,e.val()):a;d==null?d="":typeof d==="number"?d=d+"":g.isArray(d)&&(d=g.map(d,function(a){return a==null?"":a+""}));c=g.valHooks[this.type]||g.valHooks[this.nodeName.toLowerCase()];if(!c||!("set"in c)||c.set(this,d,"value")===b)this.value=d}})}if(e){if((c=g.valHooks[e.type]||
g.valHooks[e.nodeName.toLowerCase()])&&"get"in c&&(d=c.get(e,"value"))!==b)return d;d=e.value;return typeof d==="string"?d.replace(Ka,""):d==null?"":d}}});g.extend({valHooks:{option:{get:function(a){var b=a.attributes.value;return!b||b.specified?a.value:a.text}},select:{get:function(a){var b,c,d=a.selectedIndex,f=[],e=a.options,m=a.type==="select-one";if(d<0)return null;a=m?d:0;for(c=m?d+1:e.length;a<c;a++){b=e[a];if(b.selected&&(g.support.optDisabled?!b.disabled:b.getAttribute("disabled")===null)&&
(!b.parentNode.disabled||!g.nodeName(b.parentNode,"optgroup"))){b=g(b).val();if(m)return b;f.push(b)}}return m&&!f.length&&e.length?g(e[d]).val():f},set:function(a,b){var c=g.makeArray(b);g(a).find("option").each(function(){this.selected=g.inArray(g(this).val(),c)>=0});if(!c.length)a.selectedIndex=-1;return c}}},attrFn:{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0},attr:function(a,c,d,f){var e,m,h=a.nodeType;if(a&&!(h===3||h===8||h===2)){if(f&&c in g.attrFn)return g(a)[c](d);
if(typeof a.getAttribute==="undefined")return g.prop(a,c,d);if(f=h!==1||!g.isXMLDoc(a)){c=c.toLowerCase();m=g.attrHooks[c]||(Ma.test(c)?Aa:Ta)}if(d!==b)if(d===null)g.removeAttr(a,c);else{if(m&&"set"in m&&f&&(e=m.set(a,d,c))!==b)return e;a.setAttribute(c,""+d);return d}else{if(m&&"get"in m&&f&&(e=m.get(a,c))!==null)return e;e=a.getAttribute(c);return e===null?b:e}}},removeAttr:function(a,b){var c,d,f,e,m,h=0;if(b&&a.nodeType===1){d=b.toLowerCase().split(Ga);for(e=d.length;h<e;h++)if(f=d[h]){c=g.propFix[f]||
f;(m=Ma.test(f))||g.attr(a,f,"");a.removeAttribute(ab?f:c);m&&c in a&&(a[c]=false)}}},attrHooks:{type:{set:function(a,b){if(Wa.test(a.nodeName)&&a.parentNode)g.error("type property can't be changed");else if(!g.support.radioValue&&b==="radio"&&g.nodeName(a,"input")){var c=a.value;a.setAttribute("type",b);if(c)a.value=c;return b}}},value:{get:function(a,b){return Ta&&g.nodeName(a,"button")?Ta.get(a,b):b in a?a.value:null},set:function(a,b,c){if(Ta&&g.nodeName(a,"button"))return Ta.set(a,b,c);a.value=
b}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(a,c,d){var f,e,m;m=a.nodeType;if(a&&!(m===3||m===8||m===2)){if(m=m!==1||!g.isXMLDoc(a)){c=g.propFix[c]||c;e=g.propHooks[c]}return d!==b?e&&"set"in e&&(f=e.set(a,d,c))!==b?f:a[c]=d:e&&"get"in e&&(f=e.get(a,c))!==
null?f:a[c]}},propHooks:{tabIndex:{get:function(a){var c=a.getAttributeNode("tabindex");return c&&c.specified?parseInt(c.value,10):sb.test(a.nodeName)||qa.test(a.nodeName)&&a.href?0:b}}}});g.attrHooks.tabindex=g.propHooks.tabIndex;Aa={get:function(a,c){var d,f=g.prop(a,c);return f===true||typeof f!=="boolean"&&(d=a.getAttributeNode(c))&&d.nodeValue!==false?c.toLowerCase():b},set:function(a,b,c){if(b===false)g.removeAttr(a,c);else{b=g.propFix[c]||c;b in a&&(a[b]=true);a.setAttribute(c,c.toLowerCase())}return c}};
ab||(m={name:!0,id:!0,coords:!0},Ta=g.valHooks.button={get:function(a,c){var d;return(d=a.getAttributeNode(c))&&(m[c]?d.nodeValue!=="":d.specified)?d.nodeValue:b},set:function(a,b,c){var d=a.getAttributeNode(c);if(!d){d=t.createAttribute(c);a.setAttributeNode(d)}return d.nodeValue=b+""}},g.attrHooks.tabindex.set=Ta.set,g.each(["width","height"],function(a,b){g.attrHooks[b]=g.extend(g.attrHooks[b],{set:function(a,j){if(j===""){a.setAttribute(b,"auto");return j}}})}),g.attrHooks.contenteditable={get:Ta.get,
set:function(a,b,c){b===""&&(b="false");Ta.set(a,b,c)}});g.support.hrefNormalized||g.each(["href","src","width","height"],function(a,c){g.attrHooks[c]=g.extend(g.attrHooks[c],{get:function(a){a=a.getAttribute(c,2);return a===null?b:a}})});g.support.style||(g.attrHooks.style={get:function(a){return a.style.cssText.toLowerCase()||b},set:function(a,b){return a.style.cssText=""+b}});g.support.optSelected||(g.propHooks.selected=g.extend(g.propHooks.selected,{get:function(a){if(a=a.parentNode){a.selectedIndex;
a.parentNode&&a.parentNode.selectedIndex}return null}}));g.support.enctype||(g.propFix.enctype="encoding");g.support.checkOn||g.each(["radio","checkbox"],function(){g.valHooks[this]={get:function(a){return a.getAttribute("value")===null?"on":a.value}}});g.each(["radio","checkbox"],function(){g.valHooks[this]=g.extend(g.valHooks[this],{set:function(a,b){if(g.isArray(b))return a.checked=g.inArray(g(a).val(),b)>=0}})});var y=/^(?:textarea|input|select)$/i,Ba=/^([^\.]*)?(?:\.(.+))?$/,gb=/(?:^|\s)hover(\.\S+)?\b/,
cb=/^key/,Kb=/^(?:mouse|contextmenu)|click/,yb=/^(?:focusinfocus|focusoutblur)$/,Ub=/^(\w*)(?:#([\w\-]+))?(?:\.([\w\-]+))?$/,Lb=function(a){if(a=Ub.exec(a)){a[1]=(a[1]||"").toLowerCase();a[3]=a[3]&&RegExp("(?:^|\\s)"+a[3]+"(?:\\s|$)")}return a},kc=function(a){return g.event.special.hover?a:a.replace(gb,"mouseenter$1 mouseleave$1")};g.event={add:function(a,c,d,f,e){var m,h,p,y,q,k,l,o,E;if(!(a.nodeType===3||a.nodeType===8||!c||!d||!(m=g._data(a)))){if(d.handler){l=d;d=l.handler;e=l.selector}if(!d.guid)d.guid=
g.guid++;p=m.events;if(!p)m.events=p={};h=m.handle;if(!h){m.handle=h=function(a){return typeof g!=="undefined"&&(!a||g.event.triggered!==a.type)?g.event.dispatch.apply(h.elem,arguments):b};h.elem=a}c=g.trim(kc(c)).split(" ");for(m=0;m<c.length;m++){y=Ba.exec(c[m])||[];q=y[1];k=(y[2]||"").split(".").sort();E=g.event.special[q]||{};q=(e?E.delegateType:E.bindType)||q;E=g.event.special[q]||{};y=g.extend({type:q,origType:y[1],data:f,handler:d,guid:d.guid,selector:e,quick:e&&Lb(e),namespace:k.join(".")},
l);o=p[q];if(!o){o=p[q]=[];o.delegateCount=0;if(!E.setup||E.setup.call(a,f,k,h)===false)a.addEventListener?a.addEventListener(q,h,false):a.attachEvent&&a.attachEvent("on"+q,h)}if(E.add){E.add.call(a,y);if(!y.handler.guid)y.handler.guid=d.guid}e?o.splice(o.delegateCount++,0,y):o.push(y);g.event.global[q]=true}a=null}},global:{},remove:function(a,b,c,d,f){var e=g.hasData(a)&&g._data(a),m,h,p,y,q,k,l,o,E,n;if(e&&(l=e.events)){b=g.trim(kc(b||"")).split(" ");for(m=0;m<b.length;m++){h=Ba.exec(b[m])||[];
p=y=h[1];h=h[2];if(p){o=g.event.special[p]||{};p=(d?o.delegateType:o.bindType)||p;E=l[p]||[];q=E.length;h=h?RegExp("(^|\\.)"+h.split(".").sort().join("\\.(?:.*\\.)?")+"(\\.|$)"):null;for(k=0;k<E.length;k++){n=E[k];if((f||y===n.origType)&&(!c||c.guid===n.guid)&&(!h||h.test(n.namespace))&&(!d||d===n.selector||d==="**"&&n.selector)){E.splice(k--,1);n.selector&&E.delegateCount--;o.remove&&o.remove.call(a,n)}}if(E.length===0&&q!==E.length){(!o.teardown||o.teardown.call(a,h)===false)&&g.removeEvent(a,p,
e.handle);delete l[p]}}else for(p in l)g.event.remove(a,p+b[m],c,d,true)}if(g.isEmptyObject(l)){if(b=e.handle)b.elem=null;g.removeData(a,["events","handle"],true)}}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(j,c,d,f){if(!d||!(d.nodeType===3||d.nodeType===8)){var e=j.type||j,m=[],h,p,y,q,k;if(!yb.test(e+g.event.triggered)){if(e.indexOf("!")>=0){e=e.slice(0,-1);h=true}if(e.indexOf(".")>=0){m=e.split(".");e=m.shift();m.sort()}if(d&&!g.event.customEvent[e]||g.event.global[e]){j=
typeof j==="object"?j[g.expando]?j:new g.Event(e,j):new g.Event(e);j.type=e;j.isTrigger=true;j.exclusive=h;j.namespace=m.join(".");j.namespace_re=j.namespace?RegExp("(^|\\.)"+m.join("\\.(?:.*\\.)?")+"(\\.|$)"):null;h=e.indexOf(":")<0?"on"+e:"";if(d){j.result=b;if(!j.target)j.target=d;c=c!=null?g.makeArray(c):[];c.unshift(j);y=g.event.special[e]||{};if(!(y.trigger&&y.trigger.apply(d,c)===false)){k=[[d,y.bindType||e]];if(!f&&!y.noBubble&&!g.isWindow(d)){q=y.delegateType||e;m=yb.test(q+e)?d:d.parentNode;
for(p=null;m;m=m.parentNode){k.push([m,q]);p=m}p&&p===d.ownerDocument&&k.push([p.defaultView||p.parentWindow||a,q])}for(p=0;p<k.length&&!j.isPropagationStopped();p++){m=k[p][0];j.type=k[p][1];(q=(g._data(m,"events")||{})[j.type]&&g._data(m,"handle"))&&q.apply(m,c);(q=h&&m[h])&&(g.acceptData(m)&&q.apply(m,c)===false)&&j.preventDefault()}j.type=e;if(!f&&!j.isDefaultPrevented()&&(!y._default||y._default.apply(d.ownerDocument,c)===false)&&!(e==="click"&&g.nodeName(d,"a"))&&g.acceptData(d))if(h&&d[e]&&
(e!=="focus"&&e!=="blur"||j.target.offsetWidth!==0)&&!g.isWindow(d)){(p=d[h])&&(d[h]=null);g.event.triggered=e;d[e]();g.event.triggered=b;p&&(d[h]=p)}return j.result}}else{d=g.cache;for(p in d)d[p].events&&d[p].events[e]&&g.event.trigger(j,c,d[p].handle.elem,true)}}}}},dispatch:function(j){var j=g.event.fix(j||a.event),c=(g._data(this,"events")||{})[j.type]||[],d=c.delegateCount,f=[].slice.call(arguments,0),e=!j.exclusive&&!j.namespace,m=g.event.special[j.type]||{},h=[],p,y,q,k,l,o,E;f[0]=j;j.delegateTarget=
this;if(!(m.preDispatch&&m.preDispatch.call(this,j)===false)){if(d&&!(j.button&&j.type==="click")){q=g(this);q.context=this.ownerDocument||this;for(y=j.target;y!=this;y=y.parentNode||this)if(y.disabled!==true){l={};o=[];q[0]=y;for(p=0;p<d;p++){k=c[p];E=k.selector;if(l[E]===b){var Ba=l,n=E,aa;if(k.quick){aa=k.quick;var Q=y.attributes||{};aa=(!aa[1]||y.nodeName.toLowerCase()===aa[1])&&(!aa[2]||(Q.id||{}).value===aa[2])&&(!aa[3]||aa[3].test((Q["class"]||{}).value))}else aa=q.is(E);Ba[n]=aa}l[E]&&o.push(k)}o.length&&
h.push({elem:y,matches:o})}}c.length>d&&h.push({elem:this,matches:c.slice(d)});for(p=0;p<h.length&&!j.isPropagationStopped();p++){d=h[p];j.currentTarget=d.elem;for(c=0;c<d.matches.length&&!j.isImmediatePropagationStopped();c++){k=d.matches[c];if(e||!j.namespace&&!k.namespace||j.namespace_re&&j.namespace_re.test(k.namespace)){j.data=k.data;j.handleObj=k;k=((g.event.special[k.origType]||{}).handle||k.handler).apply(d.elem,f);if(k!==b){j.result=k;if(k===false){j.preventDefault();j.stopPropagation()}}}}}m.postDispatch&&
m.postDispatch.call(this,j);return j.result}},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:["char","charCode","key","keyCode"],filter:function(a,b){if(a.which==null)a.which=b.charCode!=null?b.charCode:b.keyCode;return a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),
filter:function(a,c){var d,g,f=c.button,e=c.fromElement;if(a.pageX==null&&c.clientX!=null){d=a.target.ownerDocument||t;g=d.documentElement;d=d.body;a.pageX=c.clientX+(g&&g.scrollLeft||d&&d.scrollLeft||0)-(g&&g.clientLeft||d&&d.clientLeft||0);a.pageY=c.clientY+(g&&g.scrollTop||d&&d.scrollTop||0)-(g&&g.clientTop||d&&d.clientTop||0)}if(!a.relatedTarget&&e)a.relatedTarget=e===a.target?c.toElement:e;if(!a.which&&f!==b)a.which=f&1?1:f&2?3:f&4?2:0;return a}},fix:function(a){if(a[g.expando])return a;var c,
d,f=a,e=g.event.fixHooks[a.type]||{},m=e.props?this.props.concat(e.props):this.props,a=g.Event(f);for(c=m.length;c;){d=m[--c];a[d]=f[d]}if(!a.target)a.target=f.srcElement||t;if(a.target.nodeType===3)a.target=a.target.parentNode;if(a.metaKey===b)a.metaKey=a.ctrlKey;return e.filter?e.filter(a,f):a},special:{ready:{setup:g.bindReady},load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(a,b,c){if(g.isWindow(this))this.onbeforeunload=c},teardown:function(a,
b){if(this.onbeforeunload===b)this.onbeforeunload=null}}},simulate:function(a,b,c,d){a=g.extend(new g.Event,c,{type:a,isSimulated:true,originalEvent:{}});d?g.event.trigger(a,null,b):g.event.dispatch.call(b,a);a.isDefaultPrevented()&&c.preventDefault()}};g.event.handle=g.event.dispatch;g.removeEvent=t.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,false)}:function(a,b,c){a.detachEvent&&a.detachEvent("on"+b,c)};g.Event=function(a,b){if(!(this instanceof g.Event))return new g.Event(a,
b);if(a&&a.type){this.originalEvent=a;this.type=a.type;this.isDefaultPrevented=a.defaultPrevented||a.returnValue===false||a.getPreventDefault&&a.getPreventDefault()?f:h}else this.type=a;b&&g.extend(this,b);this.timeStamp=a&&a.timeStamp||g.now();this[g.expando]=true};g.Event.prototype={preventDefault:function(){this.isDefaultPrevented=f;var a=this.originalEvent;if(a)a.preventDefault?a.preventDefault():a.returnValue=false},stopPropagation:function(){this.isPropagationStopped=f;var a=this.originalEvent;
if(a){a.stopPropagation&&a.stopPropagation();a.cancelBubble=true}},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=f;this.stopPropagation()},isDefaultPrevented:h,isPropagationStopped:h,isImmediatePropagationStopped:h};g.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){g.event.special[a]={delegateType:b,bindType:b,handle:function(a){var j=a.relatedTarget,c=a.handleObj,d;if(!j||j!==this&&!g.contains(this,j)){a.type=c.origType;d=c.handler.apply(this,arguments);
a.type=b}return d}}});g.support.submitBubbles||(g.event.special.submit={setup:function(){if(g.nodeName(this,"form"))return false;g.event.add(this,"click._submit keypress._submit",function(a){a=a.target;if((a=g.nodeName(a,"input")||g.nodeName(a,"button")?a.form:b)&&!a._submit_attached){g.event.add(a,"submit._submit",function(a){a._submit_bubble=true});a._submit_attached=true}})},postDispatch:function(a){if(a._submit_bubble){delete a._submit_bubble;this.parentNode&&!a.isTrigger&&g.event.simulate("submit",
this.parentNode,a,true)}},teardown:function(){if(g.nodeName(this,"form"))return false;g.event.remove(this,"._submit")}});g.support.changeBubbles||(g.event.special.change={setup:function(){if(y.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio"){g.event.add(this,"propertychange._change",function(a){if(a.originalEvent.propertyName==="checked")this._just_changed=true});g.event.add(this,"click._change",function(a){if(this._just_changed&&!a.isTrigger){this._just_changed=false;g.event.simulate("change",
this,a,true)}})}return false}g.event.add(this,"beforeactivate._change",function(a){a=a.target;if(y.test(a.nodeName)&&!a._change_attached){g.event.add(a,"change._change",function(a){this.parentNode&&(!a.isSimulated&&!a.isTrigger)&&g.event.simulate("change",this.parentNode,a,true)});a._change_attached=true}})},handle:function(a){var b=a.target;if(this!==b||a.isSimulated||a.isTrigger||b.type!=="radio"&&b.type!=="checkbox")return a.handleObj.handler.apply(this,arguments)},teardown:function(){g.event.remove(this,
"._change");return y.test(this.nodeName)}});g.support.focusinBubbles||g.each({focus:"focusin",blur:"focusout"},function(a,b){var c=0,d=function(a){g.event.simulate(b,a.target,g.event.fix(a),true)};g.event.special[b]={setup:function(){c++===0&&t.addEventListener(a,d,true)},teardown:function(){--c===0&&t.removeEventListener(a,d,true)}}});g.fn.extend({on:function(a,c,d,f,e){var m,p;if(typeof a==="object"){if(typeof c!=="string"){d=d||c;c=b}for(p in a)this.on(p,c,d,a[p],e);return this}if(d==null&&f==
null){f=c;d=c=b}else if(f==null)if(typeof c==="string"){f=d;d=b}else{f=d;d=c;c=b}if(f===false)f=h;else if(!f)return this;if(e===1){m=f;f=function(a){g().off(a);return m.apply(this,arguments)};f.guid=m.guid||(m.guid=g.guid++)}return this.each(function(){g.event.add(this,a,f,d,c)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,c,d){if(a&&a.preventDefault&&a.handleObj){var f=a.handleObj;g(a.delegateTarget).off(f.namespace?f.origType+"."+f.namespace:f.origType,f.selector,f.handler);
return this}if(typeof a==="object"){for(f in a)this.off(f,c,a[f]);return this}if(c===false||typeof c==="function"){d=c;c=b}d===false&&(d=h);return this.each(function(){g.event.remove(this,a,d,c)})},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},live:function(a,b,c){g(this.context).on(a,this.selector,b,c);return this},die:function(a,b){g(this.context).off(a,this.selector||"**",b);return this},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,
b,c){return arguments.length==1?this.off(a,"**"):this.off(b,a,c)},trigger:function(a,b){return this.each(function(){g.event.trigger(a,b,this)})},triggerHandler:function(a,b){if(this[0])return g.event.trigger(a,b,this[0],true)},toggle:function(a){var b=arguments,c=a.guid||g.guid++,d=0,f=function(c){var f=(g._data(this,"lastToggle"+a.guid)||0)%d;g._data(this,"lastToggle"+a.guid,f+1);c.preventDefault();return b[f].apply(this,arguments)||false};for(f.guid=c;d<b.length;)b[d++].guid=c;return this.click(f)},
hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}});g.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){g.fn[b]=function(a,c){if(c==null){c=a;a=null}return arguments.length>0?this.on(b,null,a,c):this.trigger(b)};g.attrFn&&(g.attrFn[b]=true);if(cb.test(b))g.event.fixHooks[b]=g.event.keyHooks;if(Kb.test(b))g.event.fixHooks[b]=
g.event.mouseHooks});var ec=function(a,b,c,d,g,f){for(var g=0,e=d.length;g<e;g++){var m=d[g];if(m){for(var h=false,m=m[a];m;){if(m[hb]===c){h=d[m.sizset];break}if(m.nodeType===1&&!f){m[hb]=c;m.sizset=g}if(m.nodeName.toLowerCase()===b){h=m;break}m=m[a]}d[g]=h}}},lc=function(a,b,c,d,g,f){for(var g=0,e=d.length;g<e;g++){var m=d[g];if(m){for(var h=false,m=m[a];m;){if(m[hb]===c){h=d[m.sizset];break}if(m.nodeType===1){if(!f){m[hb]=c;m.sizset=g}if(typeof b!=="string"){if(m===b){h=true;break}}else if(L.filter(b,
[m]).length>0){h=m;break}}m=m[a]}d[g]=h}}},Db=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,hb="sizcache"+(Math.random()+"").replace(".",""),Eb=0,Vb=Object.prototype.toString,Ca=!1,tb=!0,ua=/\\/g,Fb=/\r\n/g,kb=/\W/;[0,0].sort(function(){tb=false;return 0});var L=function(a,b,c,d){var c=c||[],g=b=b||t;if(b.nodeType!==1&&b.nodeType!==9)return[];if(!a||typeof a!=="string")return c;var f,e,m,h,p,y=true,k=L.isXML(b),
q=[],l=a;do{Db.exec("");if(f=Db.exec(l)){l=f[3];q.push(f[1]);if(f[2]){h=f[3];break}}}while(f);if(q.length>1&&lb.exec(a))if(q.length===2&&S.relative[q[0]])e=fc(q[0]+q[1],b,d);else for(e=S.relative[q[0]]?[b]:L(q.shift(),b);q.length;){a=q.shift();S.relative[a]&&(a=a+q.shift());e=fc(a,e,d)}else{if(!d&&q.length>1&&b.nodeType===9&&!k&&S.match.ID.test(q[0])&&!S.match.ID.test(q[q.length-1])){f=L.find(q.shift(),b,k);b=f.expr?L.filter(f.expr,f.set)[0]:f.set[0]}if(b){f=d?{expr:q.pop(),set:db(d)}:L.find(q.pop(),
q.length===1&&(q[0]==="~"||q[0]==="+")&&b.parentNode?b.parentNode:b,k);e=f.expr?L.filter(f.expr,f.set):f.set;for(q.length>0?m=db(e):y=false;q.length;){f=p=q.pop();S.relative[p]?f=q.pop():p="";f==null&&(f=b);S.relative[p](m,f,k)}}else m=[]}m||(m=e);m||L.error(p||a);if(Vb.call(m)==="[object Array]")if(y)if(b&&b.nodeType===1)for(a=0;m[a]!=null;a++)m[a]&&(m[a]===true||m[a].nodeType===1&&L.contains(b,m[a]))&&c.push(e[a]);else for(a=0;m[a]!=null;a++)m[a]&&m[a].nodeType===1&&c.push(e[a]);else c.push.apply(c,
m);else db(m,c);if(h){L(h,g,c,d);L.uniqueSort(c)}return c};L.uniqueSort=function(a){if(Wb){Ca=tb;a.sort(Wb);if(Ca)for(var b=1;b<a.length;b++)a[b]===a[b-1]&&a.splice(b--,1)}return a};L.matches=function(a,b){return L(a,null,null,b)};L.matchesSelector=function(a,b){return L(b,null,null,[a]).length>0};L.find=function(a,b,c){var d,g,f,e,m,h;if(!a)return[];g=0;for(f=S.order.length;g<f;g++){m=S.order[g];if(e=S.leftMatch[m].exec(a)){h=e[1];e.splice(1,1);if(h.substr(h.length-1)!=="\\"){e[1]=(e[1]||"").replace(ua,
"");d=S.find[m](e,b,c);if(d!=null){a=a.replace(S.match[m],"");break}}}}d||(d=typeof b.getElementsByTagName!=="undefined"?b.getElementsByTagName("*"):[]);return{set:d,expr:a}};L.filter=function(a,c,d,g){for(var f,e,m,h,p,y,q,k,l=a,o=[],E=c,Ba=c&&c[0]&&L.isXML(c[0]);a&&c.length;){for(m in S.filter)if((f=S.leftMatch[m].exec(a))!=null&&f[2]){y=S.filter[m];p=f[1];e=false;f.splice(1,1);if(p.substr(p.length-1)!=="\\"){E===o&&(o=[]);if(S.preFilter[m])if(f=S.preFilter[m](f,E,d,o,g,Ba)){if(f===true)continue}else e=
h=true;if(f)for(q=0;(p=E[q])!=null;q++)if(p){h=y(p,f,q,E);k=g^h;if(d&&h!=null)k?e=true:E[q]=false;else if(k){o.push(p);e=true}}if(h!==b){d||(E=o);a=a.replace(S.match[m],"");if(!e)return[];break}}}if(a===l)if(e==null)L.error(a);else break;l=a}return E};L.error=function(a){throw Error("Syntax error, unrecognized expression: "+a);};var eb=L.getText=function(a){var b,c;b=a.nodeType;var d="";if(b)if(b===1||b===9||b===11){if(typeof a.textContent==="string")return a.textContent;if(typeof a.innerText==="string")return a.innerText.replace(Fb,
"");for(a=a.firstChild;a;a=a.nextSibling)d=d+eb(a)}else{if(b===3||b===4)return a.nodeValue}else for(b=0;c=a[b];b++)c.nodeType!==8&&(d=d+eb(c));return d},S=L.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,
POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(a){return a.getAttribute("href")},type:function(a){return a.getAttribute("type")}},relative:{"+":function(a,b){var c=typeof b==="string",d=c&&!kb.test(b),c=c&&!d;d&&(b=b.toLowerCase());for(var d=0,g=a.length,f;d<g;d++)if(f=a[d]){for(;(f=f.previousSibling)&&f.nodeType!==
1;);a[d]=c||f&&f.nodeName.toLowerCase()===b?f||false:f===b}c&&L.filter(b,a,true)},">":function(a,b){var c,d=typeof b==="string",g=0,f=a.length;if(d&&!kb.test(b))for(b=b.toLowerCase();g<f;g++){if(c=a[g]){c=c.parentNode;a[g]=c.nodeName.toLowerCase()===b?c:false}}else{for(;g<f;g++)(c=a[g])&&(a[g]=d?c.parentNode:c.parentNode===b);d&&L.filter(b,a,true)}},"":function(a,b,c){var d,g=Eb++,f=lc;if(typeof b==="string"&&!kb.test(b)){d=b=b.toLowerCase();f=ec}f("parentNode",b,g,a,d,c)},"~":function(a,b,c){var d,
g=Eb++,f=lc;if(typeof b==="string"&&!kb.test(b)){d=b=b.toLowerCase();f=ec}f("previousSibling",b,g,a,d,c)}},find:{ID:function(a,b,c){if(typeof b.getElementById!=="undefined"&&!c)return(a=b.getElementById(a[1]))&&a.parentNode?[a]:[]},NAME:function(a,b){if(typeof b.getElementsByName!=="undefined"){for(var c=[],d=b.getElementsByName(a[1]),g=0,f=d.length;g<f;g++)d[g].getAttribute("name")===a[1]&&c.push(d[g]);return c.length===0?null:c}},TAG:function(a,b){if(typeof b.getElementsByTagName!=="undefined")return b.getElementsByTagName(a[1])}},
preFilter:{CLASS:function(a,b,c,d,g,f){a=" "+a[1].replace(ua,"")+" ";if(f)return a;for(var f=0,e;(e=b[f])!=null;f++)e&&(g^(e.className&&(" "+e.className+" ").replace(/[\t\n\r]/g," ").indexOf(a)>=0)?c||d.push(e):c&&(b[f]=false));return false},ID:function(a){return a[1].replace(ua,"")},TAG:function(a){return a[1].replace(ua,"").toLowerCase()},CHILD:function(a){if(a[1]==="nth"){a[2]||L.error(a[0]);a[2]=a[2].replace(/^\+|\s*/g,"");var b=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec(a[2]==="even"&&"2n"||a[2]==="odd"&&
"2n+1"||!/\D/.test(a[2])&&"0n+"+a[2]||a[2]);a[2]=b[1]+(b[2]||1)-0;a[3]=b[3]-0}else a[2]&&L.error(a[0]);a[0]=Eb++;return a},ATTR:function(a,b,c,d,g,f){b=a[1]=a[1].replace(ua,"");!f&&S.attrMap[b]&&(a[1]=S.attrMap[b]);a[4]=(a[4]||a[5]||"").replace(ua,"");a[2]==="~="&&(a[4]=" "+a[4]+" ");return a},PSEUDO:function(a,b,c,d,g){if(a[1]==="not")if((Db.exec(a[3])||"").length>1||/^\w/.test(a[3]))a[3]=L(a[3],null,null,b);else{a=L.filter(a[3],b,c,1^g);c||d.push.apply(d,a);return false}else if(S.match.POS.test(a[0])||
S.match.CHILD.test(a[0]))return true;return a},POS:function(a){a.unshift(true);return a}},filters:{enabled:function(a){return a.disabled===false&&a.type!=="hidden"},disabled:function(a){return a.disabled===true},checked:function(a){return a.checked===true},selected:function(a){a.parentNode&&a.parentNode.selectedIndex;return a.selected===true},parent:function(a){return!!a.firstChild},empty:function(a){return!a.firstChild},has:function(a,b,c){return!!L(c[3],a).length},header:function(a){return/h\d/i.test(a.nodeName)},
text:function(a){var b=a.getAttribute("type"),c=a.type;return a.nodeName.toLowerCase()==="input"&&"text"===c&&(b===c||b===null)},radio:function(a){return a.nodeName.toLowerCase()==="input"&&"radio"===a.type},checkbox:function(a){return a.nodeName.toLowerCase()==="input"&&"checkbox"===a.type},file:function(a){return a.nodeName.toLowerCase()==="input"&&"file"===a.type},password:function(a){return a.nodeName.toLowerCase()==="input"&&"password"===a.type},submit:function(a){var b=a.nodeName.toLowerCase();
return(b==="input"||b==="button")&&"submit"===a.type},image:function(a){return a.nodeName.toLowerCase()==="input"&&"image"===a.type},reset:function(a){var b=a.nodeName.toLowerCase();return(b==="input"||b==="button")&&"reset"===a.type},button:function(a){var b=a.nodeName.toLowerCase();return b==="input"&&"button"===a.type||b==="button"},input:function(a){return/input|select|textarea|button/i.test(a.nodeName)},focus:function(a){return a===a.ownerDocument.activeElement}},setFilters:{first:function(a,
b){return b===0},last:function(a,b,c,d){return b===d.length-1},even:function(a,b){return b%2===0},odd:function(a,b){return b%2===1},lt:function(a,b,c){return b<c[3]-0},gt:function(a,b,c){return b>c[3]-0},nth:function(a,b,c){return c[3]-0===b},eq:function(a,b,c){return c[3]-0===b}},filter:{PSEUDO:function(a,b,c,d){var g=b[1],f=S.filters[g];if(f)return f(a,c,b,d);if(g==="contains")return(a.textContent||a.innerText||eb([a])||"").indexOf(b[3])>=0;if(g==="not"){b=b[3];c=0;for(d=b.length;c<d;c++)if(b[c]===
a)return false;return true}L.error(g)},CHILD:function(a,b){var c,d,g,f,e,m;c=b[1];m=a;switch(c){case "only":case "first":for(;m=m.previousSibling;)if(m.nodeType===1)return false;if(c==="first")return true;m=a;case "last":for(;m=m.nextSibling;)if(m.nodeType===1)return false;return true;case "nth":c=b[2];d=b[3];if(c===1&&d===0)return true;g=b[0];if((f=a.parentNode)&&(f[hb]!==g||!a.nodeIndex)){e=0;for(m=f.firstChild;m;m=m.nextSibling)if(m.nodeType===1)m.nodeIndex=++e;f[hb]=g}m=a.nodeIndex-d;return c===
0?m===0:m%c===0&&m/c>=0}},ID:function(a,b){return a.nodeType===1&&a.getAttribute("id")===b},TAG:function(a,b){return b==="*"&&a.nodeType===1||!!a.nodeName&&a.nodeName.toLowerCase()===b},CLASS:function(a,b){return(" "+(a.className||a.getAttribute("class"))+" ").indexOf(b)>-1},ATTR:function(a,b){var c=b[1],c=L.attr?L.attr(a,c):S.attrHandle[c]?S.attrHandle[c](a):a[c]!=null?a[c]:a.getAttribute(c),d=c+"",g=b[2],f=b[4];return c==null?g==="!=":!g&&L.attr?c!=null:g==="="?d===f:g==="*="?d.indexOf(f)>=0:g===
"~="?(" "+d+" ").indexOf(f)>=0:!f?d&&c!==false:g==="!="?d!==f:g==="^="?d.indexOf(f)===0:g==="$="?d.substr(d.length-f.length)===f:g==="|="?d===f||d.substr(0,f.length+1)===f+"-":false},POS:function(a,b,c,d){var g=S.setFilters[b[2]];if(g)return g(a,c,b,d)}}},lb=S.match.POS,mc=function(a,b){return"\\"+(b-0+1)},ub;for(ub in S.match)S.match[ub]=RegExp(S.match[ub].source+/(?![^\[]*\])(?![^\(]*\))/.source),S.leftMatch[ub]=RegExp(/(^(?:.|\r|\n)*?)/.source+S.match[ub].source.replace(/\\(\d+)/g,mc));S.match.globalPOS=
lb;var db=function(a,b){a=Array.prototype.slice.call(a,0);if(b){b.push.apply(b,a);return b}return a};try{Array.prototype.slice.call(t.documentElement.childNodes,0)[0].nodeType}catch(Xb){db=function(a,b){var c=0,d=b||[];if(Vb.call(a)==="[object Array]")Array.prototype.push.apply(d,a);else if(typeof a.length==="number")for(var g=a.length;c<g;c++)d.push(a[c]);else for(;a[c];c++)d.push(a[c]);return d}}var Wb,Da;t.documentElement.compareDocumentPosition?Wb=function(a,b){if(a===b){Ca=true;return 0}return!a.compareDocumentPosition||
!b.compareDocumentPosition?a.compareDocumentPosition?-1:1:a.compareDocumentPosition(b)&4?-1:1}:(Wb=function(a,b){if(a===b){Ca=true;return 0}if(a.sourceIndex&&b.sourceIndex)return a.sourceIndex-b.sourceIndex;var c,d,g=[],f=[];c=a.parentNode;d=b.parentNode;var e=c;if(c===d)return Da(a,b);if(c){if(!d)return 1}else return-1;for(;e;){g.unshift(e);e=e.parentNode}for(e=d;e;){f.unshift(e);e=e.parentNode}c=g.length;d=f.length;for(e=0;e<c&&e<d;e++)if(g[e]!==f[e])return Da(g[e],f[e]);return e===c?Da(a,f[e],
-1):Da(g[e],b,1)},Da=function(a,b,c){if(a===b)return c;for(a=a.nextSibling;a;){if(a===b)return-1;a=a.nextSibling}return 1});var p=t.createElement("div"),aa="script"+(new Date).getTime(),vb=t.documentElement;p.innerHTML="<a name='"+aa+"'/>";vb.insertBefore(p,vb.firstChild);t.getElementById(aa)&&(S.find.ID=function(a,c,d){if(typeof c.getElementById!=="undefined"&&!d)return(c=c.getElementById(a[1]))?c.id===a[1]||typeof c.getAttributeNode!=="undefined"&&c.getAttributeNode("id").nodeValue===a[1]?[c]:b:
[]},S.filter.ID=function(a,b){var c=typeof a.getAttributeNode!=="undefined"&&a.getAttributeNode("id");return a.nodeType===1&&c&&c.nodeValue===b});vb.removeChild(p);var vb=p=null,Ua=t.createElement("div");Ua.appendChild(t.createComment(""));0<Ua.getElementsByTagName("*").length&&(S.find.TAG=function(a,b){var c=b.getElementsByTagName(a[1]);if(a[1]==="*"){for(var d=[],g=0;c[g];g++)c[g].nodeType===1&&d.push(c[g]);c=d}return c});Ua.innerHTML="<a href='#'></a>";Ua.firstChild&&("undefined"!==typeof Ua.firstChild.getAttribute&&
"#"!==Ua.firstChild.getAttribute("href"))&&(S.attrHandle.href=function(a){return a.getAttribute("href",2)});Ua=null;if(t.querySelectorAll){var Gb=L,va=t.createElement("div");va.innerHTML="<p class='TEST'></p>";if(!(va.querySelectorAll&&0===va.querySelectorAll(".TEST").length)){var L=function(a,b,c,d){b=b||t;if(!d&&!L.isXML(b)){var g=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(a);if(g&&(b.nodeType===1||b.nodeType===9)){if(g[1])return db(b.getElementsByTagName(a),c);if(g[2]&&S.find.CLASS&&b.getElementsByClassName)return db(b.getElementsByClassName(g[2]),
c)}if(b.nodeType===9){if(a==="body"&&b.body)return db([b.body],c);if(g&&g[3]){var f=b.getElementById(g[3]);if(f&&f.parentNode){if(f.id===g[3])return db([f],c)}else return db([],c)}try{return db(b.querySelectorAll(a),c)}catch(e){}}else if(b.nodeType===1&&b.nodeName.toLowerCase()!=="object"){var g=b,m=(f=b.getAttribute("id"))||"__sizzle__",h=b.parentNode,p=/^\s*[+~]/.test(a);f?m=m.replace(/'/g,"\\$&"):b.setAttribute("id",m);if(p&&h)b=b.parentNode;try{if(!p||h)return db(b.querySelectorAll("[id='"+m+
"'] "+a),c)}catch(y){}finally{f||g.removeAttribute("id")}}}return Gb(a,b,c,d)},mb;for(mb in Gb)L[mb]=Gb[mb];va=null}}var Yb=t.documentElement,Hb=Yb.matchesSelector||Yb.mozMatchesSelector||Yb.webkitMatchesSelector||Yb.msMatchesSelector;if(Hb){var Fc=!Hb.call(t.createElement("div"),"div"),Sc=!1;try{Hb.call(t.documentElement,"[test!='']:sizzle")}catch(ce){Sc=!0}L.matchesSelector=function(a,b){b=b.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");if(!L.isXML(a))try{if(Sc||!S.match.PSEUDO.test(b)&&!/!=/.test(b)){var c=
Hb.call(a,b);if(c||!Fc||a.document&&a.document.nodeType!==11)return c}}catch(d){}return L(b,null,null,[a]).length>0}}var Zb=t.createElement("div");Zb.innerHTML="<div class='test e'></div><div class='test'></div>";Zb.getElementsByClassName&&0!==Zb.getElementsByClassName("e").length&&(Zb.lastChild.className="e",1!==Zb.getElementsByClassName("e").length&&(S.order.splice(1,0,"CLASS"),S.find.CLASS=function(a,b,c){if(typeof b.getElementsByClassName!=="undefined"&&!c)return b.getElementsByClassName(a[1])},
Zb=null));L.contains=t.documentElement.contains?function(a,b){return a!==b&&(a.contains?a.contains(b):true)}:t.documentElement.compareDocumentPosition?function(a,b){return!!(a.compareDocumentPosition(b)&16)}:function(){return false};L.isXML=function(a){return(a=(a?a.ownerDocument||a:0).documentElement)?a.nodeName!=="HTML":false};var fc=function(a,b,c){for(var d,g=[],f="",b=b.nodeType?[b]:b;d=S.match.PSEUDO.exec(a);){f=f+d[0];a=a.replace(S.match.PSEUDO,"")}a=S.relative[a]?a+"*":a;d=0;for(var e=b.length;d<
e;d++)L(a,b[d],g,c);return L.filter(f,g)};L.attr=g.attr;L.selectors.attrMap={};g.find=L;g.expr=L.selectors;g.expr[":"]=g.expr.filters;g.unique=L.uniqueSort;g.text=L.getText;g.isXMLDoc=L.isXML;g.contains=L.contains;var Tc=/Until$/,Gc=/^(?:parents|prevUntil|prevAll)/,yd=/,/,Rb=/^.[^:#\[\.,]*$/,zd=Array.prototype.slice,Mb=g.expr.match.globalPOS,$b={children:!0,contents:!0,next:!0,prev:!0};g.fn.extend({find:function(a){var b=this,c,d;if(typeof a!=="string")return g(a).filter(function(){c=0;for(d=b.length;c<
d;c++)if(g.contains(b[c],this))return true});var f=this.pushStack("","find",a),e,m,h;c=0;for(d=this.length;c<d;c++){e=f.length;g.find(a,this[c],f);if(c>0)for(m=e;m<f.length;m++)for(h=0;h<e;h++)if(f[h]===f[m]){f.splice(m--,1);break}}return f},has:function(a){var b=g(a);return this.filter(function(){for(var a=0,c=b.length;a<c;a++)if(g.contains(this,b[a]))return true})},not:function(a){return this.pushStack(o(this,a,false),"not",a)},filter:function(a){return this.pushStack(o(this,a,true),"filter",a)},
is:function(a){return!!a&&(typeof a==="string"?Mb.test(a)?g(a,this.context).index(this[0])>=0:g.filter(a,this).length>0:this.filter(a).length>0)},closest:function(a,b){var c=[],d,f,e=this[0];if(g.isArray(a)){for(f=1;e&&e.ownerDocument&&e!==b;){for(d=0;d<a.length;d++)g(e).is(a[d])&&c.push({selector:a[d],elem:e,level:f});e=e.parentNode;f++}return c}var m=Mb.test(a)||typeof a!=="string"?g(a,b||this.context):0;d=0;for(f=this.length;d<f;d++)for(e=this[d];e;)if(m?m.index(e)>-1:g.find.matchesSelector(e,
a)){c.push(e);break}else{e=e.parentNode;if(!e||!e.ownerDocument||e===b||e.nodeType===11)break}c=c.length>1?g.unique(c):c;return this.pushStack(c,"closest",a)},index:function(a){return!a?this[0]&&this[0].parentNode?this.prevAll().length:-1:typeof a==="string"?g.inArray(this[0],g(a)):g.inArray(a.jquery?a[0]:a,this)},add:function(a,b){var c=typeof a==="string"?g(a,b):g.makeArray(a&&a.nodeType?[a]:a),d=g.merge(this.get(),c);return this.pushStack(!c[0]||!c[0].parentNode||c[0].parentNode.nodeType===11||
!d[0]||!d[0].parentNode||d[0].parentNode.nodeType===11?d:g.unique(d))},andSelf:function(){return this.add(this.prevObject)}});g.each({parent:function(a){return(a=a.parentNode)&&a.nodeType!==11?a:null},parents:function(a){return g.dir(a,"parentNode")},parentsUntil:function(a,b,c){return g.dir(a,"parentNode",c)},next:function(a){return g.nth(a,2,"nextSibling")},prev:function(a){return g.nth(a,2,"previousSibling")},nextAll:function(a){return g.dir(a,"nextSibling")},prevAll:function(a){return g.dir(a,
"previousSibling")},nextUntil:function(a,b,c){return g.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return g.dir(a,"previousSibling",c)},siblings:function(a){return g.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return g.sibling(a.firstChild)},contents:function(a){return g.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:g.makeArray(a.childNodes)}},function(a,b){g.fn[a]=function(c,d){var f=g.map(this,b,c);Tc.test(a)||(d=c);d&&typeof d==="string"&&(f=g.filter(d,
f));f=this.length>1&&!$b[a]?g.unique(f):f;if((this.length>1||yd.test(d))&&Gc.test(a))f=f.reverse();return this.pushStack(f,a,zd.call(arguments).join(","))}});g.extend({filter:function(a,b,c){c&&(a=":not("+a+")");return b.length===1?g.find.matchesSelector(b[0],a)?[b[0]]:[]:g.find.matches(a,b)},dir:function(a,c,d){for(var f=[],a=a[c];a&&a.nodeType!==9&&(d===b||a.nodeType!==1||!g(a).is(d));){a.nodeType===1&&f.push(a);a=a[c]}return f},nth:function(a,b,c){for(var b=b||1,d=0;a;a=a[c])if(a.nodeType===1&&
++d===b)break;return a},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)a.nodeType===1&&a!==b&&c.push(a);return c}});var Bc="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Hc=/ jQuery\d+="(?:\d+|null)"/g,Ic=/^\s+/,Jc=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,Uc=/<([\w:]+)/,Ad=/<tbody/i,Vc=/<|&#?\w+;/,Bd=/<(?:script|style)/i,Cd=/<(?:script|object|embed|option|style)/i,
Wc=RegExp("<(?:"+Bc+")[\\s/>]","i"),Xc=/checked\s*(?:[^=]|=\s*.checked.)/i,Yc=/\/(java|ecma)script/i,Dd=/^\s*<!(?:\[CDATA\[|\-\-)/,ib={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},Kc=k(t);ib.optgroup=ib.option;ib.tbody=
ib.tfoot=ib.colgroup=ib.caption=ib.thead;ib.th=ib.td;g.support.htmlSerialize||(ib._default=[1,"div<div>","</div>"]);g.fn.extend({text:function(a){return g.access(this,function(a){return a===b?g.text(this):this.empty().append((this[0]&&this[0].ownerDocument||t).createTextNode(a))},null,a,arguments.length)},wrapAll:function(a){if(g.isFunction(a))return this.each(function(b){g(this).wrapAll(a.call(this,b))});if(this[0]){var b=g(a,this[0].ownerDocument).eq(0).clone(true);this[0].parentNode&&b.insertBefore(this[0]);
b.map(function(){for(var a=this;a.firstChild&&a.firstChild.nodeType===1;)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return g.isFunction(a)?this.each(function(b){g(this).wrapInner(a.call(this,b))}):this.each(function(){var b=g(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=g.isFunction(a);return this.each(function(c){g(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){g.nodeName(this,"body")||
g(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,true,function(a){this.nodeType===1&&this.appendChild(a)})},prepend:function(){return this.domManip(arguments,true,function(a){this.nodeType===1&&this.insertBefore(a,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,false,function(a){this.parentNode.insertBefore(a,this)});if(arguments.length){var a=g.clean(arguments);a.push.apply(a,this.toArray());return this.pushStack(a,
"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,false,function(a){this.parentNode.insertBefore(a,this.nextSibling)});if(arguments.length){var a=this.pushStack(this,"after",arguments);a.push.apply(a,g.clean(arguments));return a}},remove:function(a,b){for(var c=0,d;(d=this[c])!=null;c++)if(!a||g.filter(a,[d]).length){if(!b&&d.nodeType===1){g.cleanData(d.getElementsByTagName("*"));g.cleanData([d])}d.parentNode&&d.parentNode.removeChild(d)}return this},
empty:function(){for(var a=0,b;(b=this[a])!=null;a++)for(b.nodeType===1&&g.cleanData(b.getElementsByTagName("*"));b.firstChild;)b.removeChild(b.firstChild);return this},clone:function(a,b){a=a==null?false:a;b=b==null?a:b;return this.map(function(){return g.clone(this,a,b)})},html:function(a){return g.access(this,function(a){var c=this[0]||{},d=0,f=this.length;if(a===b)return c.nodeType===1?c.innerHTML.replace(Hc,""):null;if(typeof a==="string"&&!Bd.test(a)&&(g.support.leadingWhitespace||!Ic.test(a))&&
!ib[(Uc.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(Jc,"<$1></$2>");try{for(;d<f;d++){c=this[d]||{};if(c.nodeType===1){g.cleanData(c.getElementsByTagName("*"));c.innerHTML=a}}c=0}catch(e){}}c&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(a){if(this[0]&&this[0].parentNode){if(g.isFunction(a))return this.each(function(b){var c=g(this),d=c.html();c.replaceWith(a.call(this,b,d))});typeof a!=="string"&&(a=g(a).detach());return this.each(function(){var b=this.nextSibling,
c=this.parentNode;g(this).remove();b?g(b).before(a):g(c).append(a)})}return this.length?this.pushStack(g(g.isFunction(a)?a():a),"replaceWith",a):this},detach:function(a){return this.remove(a,true)},domManip:function(a,c,d){var f,e,m,h=a[0],p=[];if(!g.support.checkClone&&arguments.length===3&&typeof h==="string"&&Xc.test(h))return this.each(function(){g(this).domManip(a,c,d,true)});if(g.isFunction(h))return this.each(function(f){var e=g(this);a[0]=h.call(this,f,c?e.html():b);e.domManip(a,c,d)});if(this[0]){f=
h&&h.parentNode;f=g.support.parentNode&&f&&f.nodeType===11&&f.childNodes.length===this.length?{fragment:f}:g.buildFragment(a,this,p);m=f.fragment;if(e=m.childNodes.length===1?m=m.firstChild:m.firstChild){c=c&&g.nodeName(e,"tr");e=0;for(var y=this.length,q=y-1;e<y;e++)d.call(c?g.nodeName(this[e],"table")?this[e].getElementsByTagName("tbody")[0]||this[e].appendChild(this[e].ownerDocument.createElement("tbody")):this[e]:this[e],f.cacheable||y>1&&e<q?g.clone(m,true,true):m)}p.length&&g.each(p,function(a,
b){b.src?g.ajax({type:"GET",global:false,url:b.src,async:false,dataType:"script"}):g.globalEval((b.text||b.textContent||b.innerHTML||"").replace(Dd,"/*$0*/"));b.parentNode&&b.parentNode.removeChild(b)})}return this}});g.buildFragment=function(a,b,c){var d,f,e,m,h=a[0];b&&b[0]&&(m=b[0].ownerDocument||b[0]);m.createDocumentFragment||(m=t);if(a.length===1&&typeof h==="string"&&h.length<512&&m===t&&h.charAt(0)==="<"&&!Cd.test(h)&&(g.support.checkClone||!Xc.test(h))&&(g.support.html5Clone||!Wc.test(h))){f=
true;(e=g.fragments[h])&&e!==1&&(d=e)}if(!d){d=m.createDocumentFragment();g.clean(a,m,d,c)}f&&(g.fragments[h]=e?d:1);return{fragment:d,cacheable:f}};g.fragments={};g.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){g.fn[a]=function(c){var d=[],c=g(c),f=this.length===1&&this[0].parentNode;if(f&&f.nodeType===11&&f.childNodes.length===1&&c.length===1){c[b](this[0]);return this}for(var f=0,e=c.length;f<e;f++){var m=(f>0?this.clone(true):
this).get();g(c[f])[b](m);d=d.concat(m)}return this.pushStack(d,a,c.selector)}});g.extend({clone:function(a,b,c){var d,f,e;if(g.support.html5Clone||g.isXMLDoc(a)||!Wc.test("<"+a.nodeName+">"))d=a.cloneNode(true);else{d=t.createElement("div");Kc.appendChild(d);d.innerHTML=a.outerHTML;d=d.firstChild}var m=d;if((!g.support.noCloneEvent||!g.support.noCloneChecked)&&(a.nodeType===1||a.nodeType===11)&&!g.isXMLDoc(a)){B(a,m);d=r(a);f=r(m);for(e=0;d[e];++e)f[e]&&B(d[e],f[e])}if(b){s(a,m);if(c){d=r(a);f=r(m);
for(e=0;d[e];++e)s(d[e],f[e])}}return m},clean:function(a,b,c,d){var f,e=[],b=b||t;typeof b.createElement==="undefined"&&(b=b.ownerDocument||b[0]&&b[0].ownerDocument||t);for(var m=0,h;(h=a[m])!=null;m++){typeof h==="number"&&(h=h+"");if(h){if(typeof h==="string")if(Vc.test(h)){h=h.replace(Jc,"<$1></$2>");f=(Uc.exec(h)||["",""])[1].toLowerCase();var p=ib[f]||ib._default,y=p[0],q=b.createElement("div"),l=Kc.childNodes;b===t?Kc.appendChild(q):k(b).appendChild(q);for(q.innerHTML=p[1]+h+p[2];y--;)q=q.lastChild;
if(!g.support.tbody){y=Ad.test(h);p=f==="table"&&!y?q.firstChild&&q.firstChild.childNodes:p[1]==="<table>"&&!y?q.childNodes:[];for(f=p.length-1;f>=0;--f)g.nodeName(p[f],"tbody")&&!p[f].childNodes.length&&p[f].parentNode.removeChild(p[f])}!g.support.leadingWhitespace&&Ic.test(h)&&q.insertBefore(b.createTextNode(Ic.exec(h)[0]),q.firstChild);h=q.childNodes;if(q){q.parentNode.removeChild(q);if(l.length>0)(q=l[l.length-1])&&q.parentNode&&q.parentNode.removeChild(q)}}else h=b.createTextNode(h);var o;if(!g.support.appendChecked)if(h[0]&&
typeof(o=h.length)==="number")for(f=0;f<o;f++)v(h[f]);else v(h);h.nodeType?e.push(h):e=g.merge(e,h)}}if(c){a=function(a){return!a.type||Yc.test(a.type)};for(m=0;e[m];m++){b=e[m];if(d&&g.nodeName(b,"script")&&(!b.type||Yc.test(b.type)))d.push(b.parentNode?b.parentNode.removeChild(b):b);else{if(b.nodeType===1){h=g.grep(b.getElementsByTagName("script"),a);e.splice.apply(e,[m+1,0].concat(h))}c.appendChild(b)}}}return e},cleanData:function(a){for(var b,c,d=g.cache,f=g.event.special,e=g.support.deleteExpando,
m=0,h;(h=a[m])!=null;m++)if(!h.nodeName||!g.noData[h.nodeName.toLowerCase()])if(c=h[g.expando]){if((b=d[c])&&b.events){for(var p in b.events)f[p]?g.event.remove(h,p):g.removeEvent(h,p,b.handle);if(b.handle)b.handle.elem=null}e?delete h[g.expando]:h.removeAttribute&&h.removeAttribute(g.expando);delete d[c]}}});var Lc=/alpha\([^)]*\)/i,Ed=/opacity=([^)]*)/,Fd=/([A-Z]|^ms)/g,Zc=/^[\-+]?(?:\d*\.)?\d+$/i,bc=/^-?(?:\d*\.)?\d+(?!px)[^\d\s]+$/i,uc=/^([\-+])=([\-+.\de]+)/,vc=/^margin/,nb={position:"absolute",
visibility:"hidden",display:"block"},Sb=["Top","Right","Bottom","Left"],ac,$c,wc;g.fn.css=function(a,c){return g.access(this,function(a,c,d){return d!==b?g.style(a,c,d):g.css(a,c)},a,c,arguments.length>1)};g.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=ac(a,"opacity");return c===""?"1":c}return a.style.opacity}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":g.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,
c,d,f){if(a&&!(a.nodeType===3||a.nodeType===8||!a.style)){var e,m=g.camelCase(c),h=a.style,p=g.cssHooks[m],c=g.cssProps[m]||m;if(d!==b){f=typeof d;if(f==="string"&&(e=uc.exec(d))){d=+(e[1]+1)*+e[2]+parseFloat(g.css(a,c));f="number"}if(!(d==null||f==="number"&&isNaN(d))){f==="number"&&!g.cssNumber[m]&&(d=d+"px");if(!p||!("set"in p)||(d=p.set(a,d))!==b)try{h[c]=d}catch(q){}}}else return p&&"get"in p&&(e=p.get(a,false,f))!==b?e:h[c]}},css:function(a,c,d){var f,e,c=g.camelCase(c);e=g.cssHooks[c];c=g.cssProps[c]||
c;c==="cssFloat"&&(c="float");if(e&&"get"in e&&(f=e.get(a,true,d))!==b)return f;if(ac)return ac(a,c)},swap:function(a,b,c){var d={},f;for(f in b){d[f]=a.style[f];a.style[f]=b[f]}c=c.call(a);for(f in b)a.style[f]=d[f];return c}});g.curCSS=g.css;t.defaultView&&t.defaultView.getComputedStyle&&($c=function(a,b){var c,d,f,e=a.style,b=b.replace(Fd,"-$1").toLowerCase();if((d=a.ownerDocument.defaultView)&&(f=d.getComputedStyle(a,null))){c=f.getPropertyValue(b);c===""&&!g.contains(a.ownerDocument.documentElement,
a)&&(c=g.style(a,b))}if(!g.support.pixelMargin&&f&&vc.test(b)&&bc.test(c)){d=e.width;e.width=c;c=f.width;e.width=d}return c});t.documentElement.currentStyle&&(wc=function(a,b){var c,d,f=a.currentStyle&&a.currentStyle[b],g=a.style;if(f==null&&g&&(c=g[b]))f=c;if(bc.test(f)){c=g.left;if(d=a.runtimeStyle&&a.runtimeStyle.left)a.runtimeStyle.left=a.currentStyle.left;g.left=b==="fontSize"?"1em":f;f=g.pixelLeft+"px";g.left=c;if(d)a.runtimeStyle.left=d}return f===""?"auto":f});ac=$c||wc;g.each(["height","width"],
function(a,b){g.cssHooks[b]={get:function(a,c,d){if(c)return a.offsetWidth!==0?w(a,b,d):g.swap(a,nb,function(){return w(a,b,d)})},set:function(a,b){return Zc.test(b)?b+"px":b}}});g.support.opacity||(g.cssHooks.opacity={get:function(a,b){return Ed.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?parseFloat(RegExp.$1)/100+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,f=g.isNumeric(b)?"alpha(opacity="+b*100+")":"",e=d&&d.filter||c.filter||"";c.zoom=1;if(b>=1&&g.trim(e.replace(Lc,
""))===""){c.removeAttribute("filter");if(d&&!d.filter)return}c.filter=Lc.test(e)?e.replace(Lc,f):e+" "+f}});g(function(){if(!g.support.reliableMarginRight)g.cssHooks.marginRight={get:function(a,b){return g.swap(a,{display:"inline-block"},function(){return b?ac(a,"margin-right"):a.style.marginRight})}}});g.expr&&g.expr.filters&&(g.expr.filters.hidden=function(a){var b=a.offsetHeight;return a.offsetWidth===0&&b===0||!g.support.reliableHiddenOffsets&&(a.style&&a.style.display||g.css(a,"display"))===
"none"},g.expr.filters.visible=function(a){return!g.expr.filters.hidden(a)});g.each({margin:"",padding:"",border:"Width"},function(a,b){g.cssHooks[a+b]={expand:function(c){for(var d=typeof c==="string"?c.split(" "):[c],f={},c=0;c<4;c++)f[a+Sb[c]+b]=d[c]||d[c-2]||d[0];return f}}});var jb=/%20/g,wd=/\[\]$/,Mc=/\r?\n/g,Gd=/#.*$/,Hd=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,Id=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,ad=/^(?:GET|HEAD)$/,
bd=/^\/\//,zb=/\?/,Nb=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,nc=/^(?:select|textarea)/i,Qc=/\s+/,oc=/([?&])_=[^&]*/,Nc=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,cd=g.fn.load,Cc={},dd={},Ob,Ib,ed=["*/"]+["*"];try{Ob=M.href}catch(de){Ob=t.createElement("a"),Ob.href="",Ob=Ob.href}Ib=Nc.exec(Ob.toLowerCase())||[];g.fn.extend({load:function(a,c,d){if(typeof a!=="string"&&cd)return cd.apply(this,arguments);if(!this.length)return this;var f=a.indexOf(" ");if(f>=0)var e=a.slice(f,a.length),
a=a.slice(0,f);f="GET";if(c)if(g.isFunction(c)){d=c;c=b}else if(typeof c==="object"){c=g.param(c,g.ajaxSettings.traditional);f="POST"}var m=this;g.ajax({url:a,type:f,dataType:"html",data:c,complete:function(a,b,c){c=a.responseText;if(a.isResolved()){a.done(function(a){c=a});m.html(e?g("<div>").append(c.replace(Nb,"")).find(e):c)}d&&m.each(d,[c,b,a])}});return this},serialize:function(){return g.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?
g.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||nc.test(this.nodeName)||Id.test(this.type))}).map(function(a,b){var c=g(this).val();return c==null?null:g.isArray(c)?g.map(c,function(a){return{name:b.name,value:a.replace(Mc,"\r\n")}}):{name:b.name,value:c.replace(Mc,"\r\n")}}).get()}});g.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){g.fn[b]=function(a){return this.on(b,a)}});g.each(["get","post"],
function(a,c){g[c]=function(a,d,f,e){if(g.isFunction(d)){e=e||f;f=d;d=b}return g.ajax({type:c,url:a,data:d,success:f,dataType:e})}});g.extend({getScript:function(a,c){return g.get(a,b,c,"script")},getJSON:function(a,b,c){return g.get(a,b,c,"json")},ajaxSetup:function(a,b){if(b)I(a,g.ajaxSettings);else{b=a;a=g.ajaxSettings}I(a,b);return a},ajaxSettings:{url:Ob,isLocal:/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/.test(Ib[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",
processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":ed},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":a.String,"text html":!0,"text json":g.parseJSON,"text xml":g.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:u(Cc),ajaxTransport:u(dd),ajax:function(a,c){function d(a,c,j,k){if(Q!==2){Q=2;n&&clearTimeout(n);Ba=b;o=k||"";G.readyState=
a>0?4:0;var l,E,aa,k=c;if(j){var s=f,gb=G,va=s.contents,Ua=s.dataTypes,B=s.responseFields,t,A,u,v;for(A in B)A in j&&(gb[B[A]]=j[A]);for(;Ua[0]==="*";){Ua.shift();t===b&&(t=s.mimeType||gb.getResponseHeader("content-type"))}if(t)for(A in va)if(va[A]&&va[A].test(t)){Ua.unshift(A);break}if(Ua[0]in j)u=Ua[0];else{for(A in j){if(!Ua[0]||s.converters[A+" "+Ua[0]]){u=A;break}v||(v=A)}u=u||v}if(u){u!==Ua[0]&&Ua.unshift(u);j=j[u]}else j=void 0}else j=b;if(a>=200&&a<300||a===304){if(f.ifModified){if(t=G.getResponseHeader("Last-Modified"))g.lastModified[y]=
t;if(t=G.getResponseHeader("Etag"))g.etag[y]=t}if(a===304){k="notmodified";l=true}else try{t=f;t.dataFilter&&(j=t.dataFilter(j,t.dataType));var I=t.dataTypes;A={};var cb,Gb,r=I.length,mb,w=I[0],Sa,C,O,F,x;for(cb=1;cb<r;cb++){if(cb===1)for(Gb in t.converters)typeof Gb==="string"&&(A[Gb.toLowerCase()]=t.converters[Gb]);Sa=w;w=I[cb];if(w==="*")w=Sa;else if(Sa!=="*"&&Sa!==w){C=Sa+" "+w;O=A[C]||A["* "+w];if(!O){x=b;for(F in A){mb=F.split(" ");if(mb[0]===Sa||mb[0]==="*")if(x=A[mb[1]+" "+w]){F=A[F];F===
true?O=x:x===true&&(O=F);break}}}!O&&!x&&g.error("No conversion from "+C.replace(" "," to "));O!==true&&(j=O?O(j):x(F(j)))}}E=j;k="success";l=true}catch(da){k="parsererror";aa=da}}else{aa=k;if(!k||a){k="error";a<0&&(a=0)}}G.status=a;G.statusText=""+(c||k);l?h.resolveWith(e,[E,k,G]):h.rejectWith(e,[G,k,aa]);G.statusCode(q);q=b;vb&&m.trigger("ajax"+(l?"Success":"Error"),[G,f,l?E:aa]);p.fireWith(e,[G,k]);if(vb){m.trigger("ajaxComplete",[G,f]);--g.active||g.event.trigger("ajaxStop")}}}if(typeof a==="object"){c=
a;a=b}var c=c||{},f=g.ajaxSetup({},c),e=f.context||f,m=e!==f&&(e.nodeType||e instanceof g)?g(e):g.event,h=g.Deferred(),p=g.Callbacks("once memory"),q=f.statusCode||{},y,k={},l={},o,E,Ba,n,aa,Q=0,vb,s,G={readyState:0,setRequestHeader:function(a,b){if(!Q){var c=a.toLowerCase(),a=l[c]=l[c]||a;k[a]=b}return this},getAllResponseHeaders:function(){return Q===2?o:null},getResponseHeader:function(a){var c;if(Q===2){if(!E)for(E={};c=Hd.exec(o);)E[c[1].toLowerCase()]=c[2];c=E[a.toLowerCase()]}return c===b?
null:c},overrideMimeType:function(a){if(!Q)f.mimeType=a;return this},abort:function(a){a=a||"abort";Ba&&Ba.abort(a);d(0,a);return this}};h.promise(G);G.success=G.done;G.error=G.fail;G.complete=p.add;G.statusCode=function(a){if(a){var b;if(Q<2)for(b in a)q[b]=[q[b],a[b]];else{b=a[G.status];G.then(b,b)}}return this};f.url=((a||f.url)+"").replace(Gd,"").replace(bd,Ib[1]+"//");f.dataTypes=g.trim(f.dataType||"*").toLowerCase().split(Qc);if(f.crossDomain==null){aa=Nc.exec(f.url.toLowerCase());f.crossDomain=
!(!aa||!(aa[1]!=Ib[1]||aa[2]!=Ib[2]||(aa[3]||(aa[1]==="http:"?80:443))!=(Ib[3]||(Ib[1]==="http:"?80:443))))}if(f.data&&f.processData&&typeof f.data!=="string")f.data=g.param(f.data,f.traditional);P(Cc,f,c,G);if(Q===2)return false;vb=f.global;f.type=f.type.toUpperCase();f.hasContent=!ad.test(f.type);vb&&g.active++===0&&g.event.trigger("ajaxStart");if(!f.hasContent){if(f.data){f.url=f.url+((zb.test(f.url)?"&":"?")+f.data);delete f.data}y=f.url;if(f.cache===false){aa=g.now();var gb=f.url.replace(oc,
"$1_="+aa);f.url=gb+(gb===f.url?(zb.test(f.url)?"&":"?")+"_="+aa:"")}}(f.data&&f.hasContent&&f.contentType!==false||c.contentType)&&G.setRequestHeader("Content-Type",f.contentType);if(f.ifModified){y=y||f.url;g.lastModified[y]&&G.setRequestHeader("If-Modified-Since",g.lastModified[y]);g.etag[y]&&G.setRequestHeader("If-None-Match",g.etag[y])}G.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+(f.dataTypes[0]!=="*"?", "+ed+"; q=0.01":""):f.accepts["*"]);for(s in f.headers)G.setRequestHeader(s,
f.headers[s]);if(f.beforeSend&&(f.beforeSend.call(e,G,f)===false||Q===2)){G.abort();return false}for(s in{success:1,error:1,complete:1})G[s](f[s]);if(Ba=P(dd,f,c,G)){G.readyState=1;vb&&m.trigger("ajaxSend",[G,f]);f.async&&f.timeout>0&&(n=setTimeout(function(){G.abort("timeout")},f.timeout));try{Q=1;Ba.send(k,d)}catch(va){if(Q<2)d(-1,va);else throw va;}}else d(-1,"No Transport");return G},param:function(a,c){var d=[],f=function(a,b){b=g.isFunction(b)?b():b;d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};
if(c===b)c=g.ajaxSettings.traditional;if(g.isArray(a)||a.jquery&&!g.isPlainObject(a))g.each(a,function(){f(this.name,this.value)});else for(var e in a)A(e,a[e],c,f);return d.join("&").replace(jb,"+")}});g.extend({active:0,lastModified:{},etag:{}});var Md=g.now(),gc=/(\=)\?(&|$)|\?\?/i;g.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return g.expando+"_"+Md++}});g.ajaxPrefilter("json jsonp",function(b,c,d){c=typeof b.data==="string"&&/^application\/x\-www\-form\-urlencoded/.test(b.contentType);
if(b.dataTypes[0]==="jsonp"||b.jsonp!==false&&(gc.test(b.url)||c&&gc.test(b.data))){var f,e=b.jsonpCallback=g.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,m=a[e],h=b.url,p=b.data,q="$1"+e+"$2";if(b.jsonp!==false){h=h.replace(gc,q);if(b.url===h){c&&(p=p.replace(gc,q));b.data===p&&(h=h+((/\?/.test(h)?"&":"?")+b.jsonp+"="+e))}}b.url=h;b.data=p;a[e]=function(a){f=[a]};d.always(function(){a[e]=m;if(f&&g.isFunction(m))a[e](f[0])});b.converters["script json"]=function(){f||g.error(e+" was not called");
return f[0]};b.dataTypes[0]="json";return"script"}});g.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(a){g.globalEval(a);return a}}});g.ajaxPrefilter("script",function(a){if(a.cache===b)a.cache=false;if(a.crossDomain){a.type="GET";a.global=false}});g.ajaxTransport("script",function(a){if(a.crossDomain){var c,d=t.head||t.getElementsByTagName("head")[0]||
t.documentElement;return{send:function(f,g){c=t.createElement("script");c.async="async";if(a.scriptCharset)c.charset=a.scriptCharset;c.src=a.url;c.onload=c.onreadystatechange=function(a,f){if(f||!c.readyState||/loaded|complete/.test(c.readyState)){c.onload=c.onreadystatechange=null;d&&c.parentNode&&d.removeChild(c);c=b;f||g(200,"success")}};d.insertBefore(c,d.firstChild)},abort:function(){if(c)c.onload(0,1)}}}});var yc=a.ActiveXObject?function(){for(var a in Qb)Qb[a](0,1)}:!1,hc=0,Qb;g.ajaxSettings.xhr=
a.ActiveXObject?function(){var b;if(!(b=!this.isLocal&&Y()))a:{try{b=new a.ActiveXObject("Microsoft.XMLHTTP");break a}catch(c){}b=void 0}return b}:Y;var ob=g.ajaxSettings.xhr();g.extend(g.support,{ajax:!!ob,cors:!!ob&&"withCredentials"in ob});g.support.ajax&&g.ajaxTransport(function(c){if(!c.crossDomain||g.support.cors){var d;return{send:function(f,e){var m=c.xhr(),h,p;c.username?m.open(c.type,c.url,c.async,c.username,c.password):m.open(c.type,c.url,c.async);if(c.xhrFields)for(p in c.xhrFields)m[p]=
c.xhrFields[p];c.mimeType&&m.overrideMimeType&&m.overrideMimeType(c.mimeType);!c.crossDomain&&!f["X-Requested-With"]&&(f["X-Requested-With"]="XMLHttpRequest");try{for(p in f)m.setRequestHeader(p,f[p])}catch(q){}m.send(c.hasContent&&c.data||null);d=function(a,f){var p,q,y,k,l;try{if(d&&(f||m.readyState===4)){d=b;if(h){m.onreadystatechange=g.noop;yc&&delete Qb[h]}if(f)m.readyState!==4&&m.abort();else{p=m.status;y=m.getAllResponseHeaders();k={};if((l=m.responseXML)&&l.documentElement)k.xml=l;try{k.text=
m.responseText}catch(o){}try{q=m.statusText}catch(E){q=""}!p&&c.isLocal&&!c.crossDomain?p=k.text?200:404:p===1223&&(p=204)}}}catch(Ba){f||e(-1,Ba)}k&&e(p,q,k,y)};if(!c.async||m.readyState===4)d();else{h=++hc;if(yc){if(!Qb){Qb={};g(a).unload(yc)}Qb[h]=d}m.onreadystatechange=d}},abort:function(){d&&d(0,1)}}}});var dc={},$a,Tb,Nd=/^(?:toggle|show|hide)$/,fb=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,pc,jc=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight",
"paddingLeft","paddingRight"],["opacity"]],cc;g.fn.extend({show:function(a,b,c){if(a||a===0)return this.animate(T("show",3),a,b,c);for(var c=0,d=this.length;c<d;c++){a=this[c];if(a.style){b=a.style.display;if(!g._data(a,"olddisplay")&&b==="none")b=a.style.display="";(b===""&&g.css(a,"display")==="none"||!g.contains(a.ownerDocument.documentElement,a))&&g._data(a,"olddisplay",za(a.nodeName))}}for(c=0;c<d;c++){a=this[c];if(a.style){b=a.style.display;if(b===""||b==="none")a.style.display=g._data(a,"olddisplay")||
""}}return this},hide:function(a,b,c){if(a||a===0)return this.animate(T("hide",3),a,b,c);for(var c=0,d=this.length;c<d;c++){a=this[c];if(a.style){b=g.css(a,"display");b!=="none"&&!g._data(a,"olddisplay")&&g._data(a,"olddisplay",b)}}for(c=0;c<d;c++)if(this[c].style)this[c].style.display="none";return this},_toggle:g.fn.toggle,toggle:function(a,b,c){var d=typeof a==="boolean";g.isFunction(a)&&g.isFunction(b)?this._toggle.apply(this,arguments):a==null||d?this.each(function(){var b=d?a:g(this).is(":hidden");
g(this)[b?"show":"hide"]()}):this.animate(T("toggle",3),a,b,c);return this},fadeTo:function(a,b,c,d){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){function f(){e.queue===false&&g._mark(this);var b=g.extend({},e),c=this.nodeType===1,d=c&&g(this).is(":hidden"),m,h,p,q,y;b.animatedProperties={};for(p in a){m=g.camelCase(p);if(p!==m){a[m]=a[p];delete a[p]}if((h=g.cssHooks[m])&&"expand"in h){q=h.expand(a[m]);delete a[m];for(p in q)p in
a||(a[p]=q[p])}}for(m in a){h=a[m];if(g.isArray(h)){b.animatedProperties[m]=h[1];h=a[m]=h[0]}else b.animatedProperties[m]=b.specialEasing&&b.specialEasing[m]||b.easing||"swing";if(h==="hide"&&d||h==="show"&&!d)return b.complete.call(this);if(c&&(m==="height"||m==="width")){b.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY];if(g.css(this,"display")==="inline"&&g.css(this,"float")==="none")!g.support.inlineBlockNeedsLayout||za(this.nodeName)==="inline"?this.style.display="inline-block":
this.style.zoom=1}}if(b.overflow!=null)this.style.overflow="hidden";for(p in a){c=new g.fx(this,b,p);h=a[p];if(Nd.test(h))if(m=g._data(this,"toggle"+p)||(h==="toggle"?d?"show":"hide":0)){g._data(this,"toggle"+p,m==="show"?"hide":"show");c[m]()}else c[h]();else{m=fb.exec(h);q=c.cur();if(m){h=parseFloat(m[2]);y=m[3]||(g.cssNumber[p]?"":"px");if(y!=="px"){g.style(this,p,(h||1)+y);q=(h||1)/c.cur()*q;g.style(this,p,q+y)}m[1]&&(h=(m[1]==="-="?-1:1)*h+q);c.custom(q,h,y)}else c.custom(q,h,"")}}return true}
var e=g.speed(b,c,d);if(g.isEmptyObject(a))return this.each(e.complete,[false]);a=g.extend({},a);return e.queue===false?this.each(f):this.queue(e.queue,f)},stop:function(a,c,d){if(typeof a!=="string"){d=c;c=a;a=b}c&&a!==false&&this.queue(a||"fx",[]);return this.each(function(){var b,c=false,f=g.timers,e=g._data(this);d||g._unmark(true,this);if(a==null)for(b in e){if(e[b]&&e[b].stop&&b.indexOf(".run")===b.length-4){var m=e[b];g.removeData(this,b,true);m.stop(d)}}else if(e[b=a+".run"]&&e[b].stop){e=
e[b];g.removeData(this,b,true);e.stop(d)}for(b=f.length;b--;)if(f[b].elem===this&&(a==null||f[b].queue===a)){if(d)f[b](true);else f[b].saveState();c=true;f.splice(b,1)}(!d||!c)&&g.dequeue(this,a)})}});g.each({slideDown:T("show",1),slideUp:T("hide",1),slideToggle:T("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){g.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}});g.extend({speed:function(a,b,c){var d=a&&typeof a==="object"?g.extend({},a):
{complete:c||!c&&b||g.isFunction(a)&&a,duration:a,easing:c&&b||b&&!g.isFunction(b)&&b};d.duration=g.fx.off?0:typeof d.duration==="number"?d.duration:d.duration in g.fx.speeds?g.fx.speeds[d.duration]:g.fx.speeds._default;if(d.queue==null||d.queue===true)d.queue="fx";d.old=d.complete;d.complete=function(a){g.isFunction(d.old)&&d.old.call(this);d.queue?g.dequeue(this,d.queue):a!==false&&g._unmark(this)};return d},easing:{linear:function(a){return a},swing:function(a){return-Math.cos(a*Math.PI)/2+0.5}},
timers:[],fx:function(a,b,c){this.options=b;this.elem=a;this.prop=c;b.orig=b.orig||{}}});g.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this);(g.fx.step[this.prop]||g.fx.step._default)(this)},cur:function(){if(this.elem[this.prop]!=null&&(!this.elem.style||this.elem.style[this.prop]==null))return this.elem[this.prop];var a,b=g.css(this.elem,this.prop);return isNaN(a=parseFloat(b))?!b||b==="auto"?0:b:a},custom:function(a,c,d){function f(a){return e.step(a)}
var e=this,m=g.fx;this.startTime=cc||ga();this.end=c;this.now=this.start=a;this.pos=this.state=0;this.unit=d||this.unit||(g.cssNumber[this.prop]?"":"px");f.queue=this.options.queue;f.elem=this.elem;f.saveState=function(){g._data(e.elem,"fxshow"+e.prop)===b&&(e.options.hide?g._data(e.elem,"fxshow"+e.prop,e.start):e.options.show&&g._data(e.elem,"fxshow"+e.prop,e.end))};f()&&(g.timers.push(f)&&!pc)&&(pc=setInterval(m.tick,m.interval))},show:function(){var a=g._data(this.elem,"fxshow"+this.prop);this.options.orig[this.prop]=
a||g.style(this.elem,this.prop);this.options.show=true;a!==b?this.custom(this.cur(),a):this.custom(this.prop==="width"||this.prop==="height"?1:0,this.cur());g(this.elem).show()},hide:function(){this.options.orig[this.prop]=g._data(this.elem,"fxshow"+this.prop)||g.style(this.elem,this.prop);this.options.hide=true;this.custom(this.cur(),0)},step:function(a){var b,c=cc||ga(),d=true,f=this.elem,e=this.options;if(a||c>=e.duration+this.startTime){this.now=this.end;this.pos=this.state=1;this.update();e.animatedProperties[this.prop]=
true;for(b in e.animatedProperties)e.animatedProperties[b]!==true&&(d=false);if(d){e.overflow!=null&&!g.support.shrinkWrapBlocks&&g.each(["","X","Y"],function(a,b){f.style["overflow"+b]=e.overflow[a]});e.hide&&g(f).hide();if(e.hide||e.show)for(b in e.animatedProperties){g.style(f,b,e.orig[b]);g.removeData(f,"fxshow"+b,true);g.removeData(f,"toggle"+b,true)}if(a=e.complete){e.complete=false;a.call(f)}}return false}if(e.duration==Infinity)this.now=c;else{a=c-this.startTime;this.state=a/e.duration;this.pos=
g.easing[e.animatedProperties[this.prop]](this.state,a,0,1,e.duration);this.now=this.start+(this.end-this.start)*this.pos}this.update();return true}};g.extend(g.fx,{tick:function(){for(var a,b=g.timers,c=0;c<b.length;c++){a=b[c];!a()&&b[c]===a&&b.splice(c--,1)}b.length||g.fx.stop()},interval:13,stop:function(){clearInterval(pc);pc=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(a){g.style(a.elem,"opacity",a.now)},_default:function(a){a.elem.style&&a.elem.style[a.prop]!=null?a.elem.style[a.prop]=
a.now+a.unit:a.elem[a.prop]=a.now}}});g.each(jc.concat.apply([],jc),function(a,b){b.indexOf("margin")&&(g.fx.step[b]=function(a){g.style(a.elem,b,Math.max(0,a.now)+a.unit)})});g.expr&&g.expr.filters&&(g.expr.filters.animated=function(a){return g.grep(g.timers,function(b){return a===b.elem}).length});var jd,Od=/^t(?:able|d|h)$/i,kd=/^(?:body|html)$/i;jd="getBoundingClientRect"in t.documentElement?function(a,b,c,d){try{d=a.getBoundingClientRect()}catch(f){}if(!d||!g.contains(c,a))return d?{top:d.top,
left:d.left}:{top:0,left:0};a=b.body;b=C(b);return{top:d.top+(b.pageYOffset||g.support.boxModel&&c.scrollTop||a.scrollTop)-(c.clientTop||a.clientTop||0),left:d.left+(b.pageXOffset||g.support.boxModel&&c.scrollLeft||a.scrollLeft)-(c.clientLeft||a.clientLeft||0)}}:function(a,b,c){var d,f=a.offsetParent,e=b.body;d=(b=b.defaultView)?b.getComputedStyle(a,null):a.currentStyle;for(var m=a.offsetTop,h=a.offsetLeft;(a=a.parentNode)&&a!==e&&a!==c;){if(g.support.fixedPosition&&d.position==="fixed")break;d=b?
b.getComputedStyle(a,null):a.currentStyle;m=m-a.scrollTop;h=h-a.scrollLeft;if(a===f){m=m+a.offsetTop;h=h+a.offsetLeft;if(g.support.doesNotAddBorder&&(!g.support.doesAddBorderForTableAndCells||!Od.test(a.nodeName))){m=m+(parseFloat(d.borderTopWidth)||0);h=h+(parseFloat(d.borderLeftWidth)||0)}f=a.offsetParent}if(g.support.subtractsBorderForOverflowNotVisible&&d.overflow!=="visible"){m=m+(parseFloat(d.borderTopWidth)||0);h=h+(parseFloat(d.borderLeftWidth)||0)}}if(d.position==="relative"||d.position===
"static"){m=m+e.offsetTop;h=h+e.offsetLeft}if(g.support.fixedPosition&&d.position==="fixed"){m=m+Math.max(c.scrollTop,e.scrollTop);h=h+Math.max(c.scrollLeft,e.scrollLeft)}return{top:m,left:h}};g.fn.offset=function(a){if(arguments.length)return a===b?this:this.each(function(b){g.offset.setOffset(this,a,b)});var c=this[0],d=c&&c.ownerDocument;return!d?null:c===d.body?g.offset.bodyOffset(c):jd(c,d,d.documentElement)};g.offset={bodyOffset:function(a){var b=a.offsetTop,c=a.offsetLeft;if(g.support.doesNotIncludeMarginInBodyOffset){b=
b+(parseFloat(g.css(a,"marginTop"))||0);c=c+(parseFloat(g.css(a,"marginLeft"))||0)}return{top:b,left:c}},setOffset:function(a,b,c){var d=g.css(a,"position");if(d==="static")a.style.position="relative";var f=g(a),e=f.offset(),m=g.css(a,"top"),h=g.css(a,"left"),p={},q={};if((d==="absolute"||d==="fixed")&&g.inArray("auto",[m,h])>-1){q=f.position();d=q.top;h=q.left}else{d=parseFloat(m)||0;h=parseFloat(h)||0}g.isFunction(b)&&(b=b.call(a,c,e));if(b.top!=null)p.top=b.top-e.top+d;if(b.left!=null)p.left=b.left-
e.left+h;"using"in b?b.using.call(a,p):f.css(p)}};g.fn.extend({position:function(){if(!this[0])return null;var a=this[0],b=this.offsetParent(),c=this.offset(),d=kd.test(b[0].nodeName)?{top:0,left:0}:b.offset();c.top=c.top-(parseFloat(g.css(a,"marginTop"))||0);c.left=c.left-(parseFloat(g.css(a,"marginLeft"))||0);d.top=d.top+(parseFloat(g.css(b[0],"borderTopWidth"))||0);d.left=d.left+(parseFloat(g.css(b[0],"borderLeftWidth"))||0);return{top:c.top-d.top,left:c.left-d.left}},offsetParent:function(){return this.map(function(){for(var a=
this.offsetParent||t.body;a&&!kd.test(a.nodeName)&&g.css(a,"position")==="static";)a=a.offsetParent;return a})}});g.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,c){var d=/Y/.test(c);g.fn[a]=function(f){return g.access(this,function(a,f,e){var m=C(a);if(e===b)return m?c in m?m[c]:g.support.boxModel&&m.document.documentElement[f]||m.document.body[f]:a[f];m?m.scrollTo(!d?e:g(m).scrollLeft(),d?e:g(m).scrollTop()):a[f]=e},a,f,arguments.length,null)}});g.each({Height:"height",Width:"width"},
function(a,c){var d="client"+a,f="scroll"+a,e="offset"+a;g.fn["inner"+a]=function(){var a=this[0];return a?a.style?parseFloat(g.css(a,c,"padding")):this[c]():null};g.fn["outer"+a]=function(a){var b=this[0];return b?b.style?parseFloat(g.css(b,c,a?"margin":"border")):this[c]():null};g.fn[c]=function(a){return g.access(this,function(a,c,m){if(g.isWindow(a)){c=a.document;a=c.documentElement[d];return g.support.boxModel&&a||c.body&&c.body[d]||a}if(a.nodeType===9){c=a.documentElement;return c[d]>=c[f]?
c[d]:Math.max(a.body[f],c[f],a.body[e],c[e])}if(m===b){a=g.css(a,c);c=parseFloat(a);return g.isNumeric(c)?c:a}g(a).css(c,m)},c,a,arguments.length,null)}});a.jQuery=a.$=g;"function"===typeof define&&(define.amd&&define.amd.jQuery)&&define("jquery",[],function(){return g})})(window);define("lib/jquery-1.7.2",function(){});
define("lib/jquery.tools.min",["lib/jquery-1.7.2"],function(){var a=jQuery,b=function(b,f){var e=this,h=b.add(e),k=a(window),o,s,B,t=a.tools.expose&&(f.mask||f.expose),u=Math.random().toString().slice(10);t&&("string"==typeof t&&(t={color:t}),t.closeOnClick=t.closeOnEsc=!1);var g=f.target||b.attr("rel");s=g?a(g):b;if(!s.length)throw"Could not find Overlay: "+g;b&&-1==b.index(s)&&b.click(function(a){e.load(a);return a.preventDefault()});a.extend(e,{load:function(b){if(e.isOpened())return e;var g=c[f.effect];
if(!g)throw'Overlay: cannot find effect : "'+f.effect+'"';f.oneInstance&&a.each(d,function(){this.close(b)});b=b||a.Event();b.type="onBeforeLoad";h.trigger(b);if(b.isDefaultPrevented())return e;B=!0;t&&a(s).expose(t);var q=f.top,o=f.left,Q=s.outerWidth({margin:!0}),G=s.outerHeight({margin:!0});"string"==typeof q&&(q="center"==q?Math.max((k.height()-G)/2,0):parseInt(q,10)/100*k.height());"center"==o&&(o=Math.max((k.width()-Q)/2,0));g[0].call(e,{top:q,left:o},function(){B&&(b.type="onLoad",h.trigger(b))});
t&&f.closeOnClick&&a.mask.getMask().one("click",e.close);f.closeOnClick&&a(document).on("click."+u,function(b){a(b.target).parents(s).length||e.close(b)});f.closeOnEsc&&a(document).on("keydown."+u,function(a){27==a.keyCode&&e.close(a)});return e},close:function(b){if(!e.isOpened())return e;b=b||a.Event();b.type="onBeforeClose";h.trigger(b);if(!b.isDefaultPrevented())return B=!1,c[f.effect][1].call(e,function(){b.type="onClose";h.trigger(b)}),a(document).off("click."+u+" keydown."+u),t&&a.mask.close(),
e},getOverlay:function(){return s},getTrigger:function(){return b},getClosers:function(){return o},isOpened:function(){return B},getConf:function(){return f}});a.each(["onBeforeLoad","onStart","onLoad","onBeforeClose","onClose"],function(b,c){a.isFunction(f[c])&&a(e).on(c,f[c]);e[c]=function(b){b&&a(e).on(c,b);return e}});o=s.find(f.close||".close");!o.length&&!f.close&&(o=a('<a class="close"></a>'),s.prepend(o));o.click(function(a){e.close(a)});f.load&&e.load()};a.tools=a.tools||{version:"v1.2.7"};
a.tools.overlay={addEffect:function(a,b,d){c[a]=[b,d]},conf:{close:null,closeOnClick:!0,closeOnEsc:!0,closeSpeed:"fast",effect:"default",fixed:!a.browser.msie||6<a.browser.version,left:"center",load:!1,mask:null,oneInstance:!0,speed:"normal",target:null,top:"10%"}};var d=[],c={};a.tools.overlay.addEffect("default",function(b,c){var d=this.getConf(),f=a(window);d.fixed||(b.top+=f.scrollTop(),b.left+=f.scrollLeft());b.position=d.fixed?"fixed":"absolute";this.getOverlay().css(b).fadeIn(d.speed,c)},function(a){this.getOverlay().fadeOut(this.getConf().closeSpeed,
a)});a.fn.overlay=function(c){var f=this.data("overlay");if(f)return f;a.isFunction(c)&&(c={onBeforeLoad:c});c=a.extend(!0,{},a.tools.overlay.conf,c);this.each(function(){f=new b(a(this),c);d.push(f);a(this).data("overlay",f)});return c.api?f:this};var e=jQuery,h=function(a,b){var c=e(b);return 2>c.length?c:a.parent().find(b)},f=function(a,b){var c=this,d=a.add(c),f=a.children(),k=0,s=b.vertical;o||(o=c);1<f.length&&(f=e(b.items,a));1<b.size&&(b.circular=!1);e.extend(c,{getConf:function(){return b},
getIndex:function(){return k},getSize:function(){return c.getItems().size()},getNaviButtons:function(){return g.add(v)},getRoot:function(){return a},getItemWrap:function(){return f},getItems:function(){return f.find(b.item).not("."+b.clonedClass)},move:function(a,b){return c.seekTo(k+a,b)},next:function(a){return c.move(b.size,a)},prev:function(a){return c.move(-b.size,a)},begin:function(a){return c.seekTo(0,a)},end:function(a){return c.seekTo(c.getSize()-1,a)},focus:function(){return o=c},addItem:function(a){a=
e(a);b.circular?(f.children().last().before(a),f.children().first().replaceWith(a.clone().addClass(b.clonedClass))):(f.append(a),v.removeClass("disabled"));d.trigger("onAddItem",[a]);return c},seekTo:function(a,g,h){a.jquery||(a*=1);if(b.circular&&0===a&&-1==k&&0!==g||!b.circular&&0>a||a>c.getSize()||-1>a)return c;var q=a;a.jquery?a=c.getItems().index(a):q=c.getItems().eq(a);var l=e.Event("onBeforeSeek");if(!h&&(d.trigger(l,[a,g]),l.isDefaultPrevented()||!q.length))return c;q=s?{top:-q.position().top}:
{left:-q.position().left};k=a;o=c;void 0===g&&(g=b.speed);f.animate(q,g,b.easing,h||function(){d.trigger("onSeek",[a])});return c}});e.each(["onBeforeSeek","onSeek","onAddItem"],function(a,d){e.isFunction(b[d])&&e(c).on(d,b[d]);c[d]=function(a){a&&e(c).on(d,a);return c}});if(b.circular){var B=c.getItems().slice(-1).clone().prependTo(f),t=c.getItems().eq(1).clone().appendTo(f);B.add(t).addClass(b.clonedClass);c.onBeforeSeek(function(a,b,d){if(!a.isDefaultPrevented()){if(-1==b)return c.seekTo(B,d,function(){c.end(0)}),
a.preventDefault();b==c.getSize()&&c.seekTo(t,d,function(){c.begin(0)})}});var u=a.parents().add(a).filter(function(){if("none"===e(this).css("display"))return!0});u.length?(u.show(),c.seekTo(0,0,function(){}),u.hide()):c.seekTo(0,0,function(){})}var g=h(a,b.prev).click(function(a){a.stopPropagation();c.prev()}),v=h(a,b.next).click(function(a){a.stopPropagation();c.next()});b.circular||(c.onBeforeSeek(function(a,d){setTimeout(function(){a.isDefaultPrevented()||(g.toggleClass(b.disabledClass,0>=d),
v.toggleClass(b.disabledClass,d>=c.getSize()-1))},1)}),b.initialIndex||g.addClass(b.disabledClass));2>c.getSize()&&g.add(v).addClass(b.disabledClass);b.mousewheel&&e.fn.mousewheel&&a.mousewheel(function(a,d){if(b.mousewheel)return c.move(0>d?1:-1,b.wheelSpeed||50),!1});if(b.touch){var w,q;f[0].ontouchstart=function(a){a=a.touches[0];w=a.clientX;q=a.clientY};f[0].ontouchmove=function(a){if(1==a.touches.length&&!f.is(":animated")){var b=a.touches[0],d=w-b.clientX,b=q-b.clientY;c[s&&0<b||!s&&0<d?"next":
"prev"]();a.preventDefault()}}}b.keyboard&&e(document).on("keydown.scrollable",function(a){if(b.keyboard&&(!a.altKey&&!a.ctrlKey&&!a.metaKey&&!e(a.target).is(":input"))&&!("static"!=b.keyboard&&o!=c)){var d=a.keyCode;if(s&&(38==d||40==d))return c.move(38==d?-1:1),a.preventDefault();if(!s&&(37==d||39==d))return c.move(37==d?-1:1),a.preventDefault()}});b.initialIndex&&c.seekTo(b.initialIndex,0,function(){})};e.tools=e.tools||{version:"v1.2.7"};e.tools.scrollable={conf:{activeClass:"active",circular:!1,
clonedClass:"cloned",disabledClass:"disabled",easing:"swing",initialIndex:0,item:"> *",items:".items",keyboard:!0,mousewheel:!1,next:".next",prev:".prev",size:1,speed:400,vertical:!1,touch:!0,wheelSpeed:0}};var o;e.fn.scrollable=function(a){var b=this.data("scrollable");if(b)return b;a=e.extend({},e.tools.scrollable.conf,a);this.each(function(){b=new f(e(this),a);e(this).data("scrollable",b)});return a.api?b:this};var k=jQuery,s=function(){if(k.browser.msie){var a=k(document).height(),b=k(window).height();
return[window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,20>a-b?b:a]}return[k(document).width(),k(document).height()]},B=function(a){if(a)return a.call(k.mask)};k.tools=k.tools||{version:"v1.2.7"};var r;r=k.tools.expose={conf:{maskId:"exposeMask",loadSpeed:"slow",closeSpeed:"fast",closeOnClick:!0,closeOnEsc:!0,zIndex:9998,opacity:0.8,startOpacity:0,color:"#fff",onLoad:null,onClose:null}};var z,v,w,u,P;k.mask={load:function(a,b){if(w)return this;"string"==typeof a&&
(a={color:a});a=a||u;u=a=k.extend(k.extend({},r.conf),a);z=k("#"+a.maskId);z.length||(z=k("<div/>").attr("id",a.maskId),k("body").append(z));var c=s();z.css({position:"absolute",top:0,left:0,width:c[0],height:c[1],display:"none",opacity:a.startOpacity,zIndex:a.zIndex});a.color&&z.css("backgroundColor",a.color);if(!1===B(a.onBeforeLoad))return this;a.closeOnEsc&&k(document).on("keydown.mask",function(a){27==a.keyCode&&k.mask.close(a)});a.closeOnClick&&z.on("click.mask",function(a){k.mask.close(a)});
k(window).on("resize.mask",function(){k.mask.fit()});b&&b.length&&(P=b.eq(0).css("zIndex"),k.each(b,function(){var a=k(this);/relative|absolute|fixed/i.test(a.css("position"))||a.css("position","relative")}),v=b.css({zIndex:Math.max(a.zIndex+1,"auto"==P?0:P)}));z.css({display:"block"}).fadeTo(a.loadSpeed,a.opacity,function(){k.mask.fit();B(a.onLoad);w="full"});w=!0;return this},close:function(){if(w){if(!1===B(u.onBeforeClose))return this;z.fadeOut(u.closeSpeed,function(){B(u.onClose);v&&v.css({zIndex:P});
w=!1});k(document).off("keydown.mask");z.off("click.mask");k(window).off("resize.mask")}return this},fit:function(){if(w){var a=s();z.css({width:a[0],height:a[1]})}},getMask:function(){return z},isLoaded:function(a){return a?"full"==w:w},getConf:function(){return u},getExposed:function(){return v}};k.fn.mask=function(a){k.mask.load(a);return this};k.fn.expose=function(a){k.mask.load(a,this);return this}});define("bridge/jquery",["lib/jquery.tools.min"],function(){return jQuery});
define("lib/jquery.mousewheel.min",["bridge/jquery"],function(){var a=jQuery,b=function(b){var d=[].slice.call(arguments,1),h=0,b=a.event.fix(b||window.event);b.type="mousewheel";b.wheelDelta&&(h=b.wheelDelta/120);b.detail&&(h=-b.detail/3);d.unshift(b,h);return a.event.handle.apply(this,d)},d=["DOMMouseScroll","mousewheel"];a.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var a=d.length;a;)this.addEventListener(d[--a],b,!1);else this.onmousewheel=b},teardown:function(){if(this.removeEventListener)for(var a=
d.length;a;)this.removeEventListener(d[--a],b,!1);else this.onmousewheel=null}};a.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})});define("bridge/jquery.mousewheel",["lib/jquery.mousewheel.min"],function(){});
define("lib/underscore-min",[],function(){(function(){function a(b,c,d){if(b===c)return 0!==b||1/b==1/c;if(null==b||null==c)return b===c;b._chain&&(b=b._wrapped);c._chain&&(c=c._wrapped);if(b.isEqual&&n.isFunction(b.isEqual))return b.isEqual(c);if(c.isEqual&&n.isFunction(c.isEqual))return c.isEqual(b);var f=k.call(b);if(f!=k.call(c))return!1;switch(f){case "[object String]":return b==String(c);case "[object Number]":return b!=+b?c!=+c:0==b?1/b==1/c:b==+c;case "[object Date]":case "[object Boolean]":return+b==
+c;case "[object RegExp]":return b.source==c.source&&b.global==c.global&&b.multiline==c.multiline&&b.ignoreCase==c.ignoreCase}if("object"!=typeof b||"object"!=typeof c)return!1;for(var e=d.length;e--;)if(d[e]==b)return!0;d.push(b);var e=0,g=!0;if("[object Array]"==f){if(e=b.length,g=e==c.length)for(;e--&&(g=e in b==e in c&&a(b[e],c[e],d)););}else{if("constructor"in b!="constructor"in c||b.constructor!=c.constructor)return!1;for(var h in b)if(n.has(b,h)&&(e++,!(g=n.has(c,h)&&a(b[h],c[h],d))))break;
if(g){for(h in c)if(n.has(c,h)&&!e--)break;g=!e}}d.pop();return g}var b=this,d=b._,c={},e=Array.prototype,h=Object.prototype,f=e.slice,o=e.unshift,k=h.toString,s=h.hasOwnProperty,B=e.forEach,r=e.map,z=e.reduce,v=e.reduceRight,w=e.filter,u=e.every,P=e.some,I=e.indexOf,A=e.lastIndexOf,h=Array.isArray,Y=Object.keys,ga=Function.prototype.bind,n=function(a){return new O(a)};"undefined"!==typeof exports?("undefined"!==typeof module&&module.exports&&(exports=module.exports=n),exports._=n):b._=n;n.VERSION=
"1.3.1";var T=n.each=n.forEach=function(a,b,d){if(a!=null)if(B&&a.forEach===B)a.forEach(b,d);else if(a.length===+a.length)for(var f=0,e=a.length;f<e;f++){if(f in a&&b.call(d,a[f],f,a)===c)break}else for(f in a)if(n.has(a,f)&&b.call(d,a[f],f,a)===c)break};n.map=n.collect=function(a,b,c){var d=[];if(a==null)return d;if(r&&a.map===r)return a.map(b,c);T(a,function(a,f,e){d[d.length]=b.call(c,a,f,e)});if(a.length===+a.length)d.length=a.length;return d};n.reduce=n.foldl=n.inject=function(a,b,c,d){var f=
arguments.length>2;a==null&&(a=[]);if(z&&a.reduce===z)return d&&(b=n.bind(b,d)),f?a.reduce(b,c):a.reduce(b);T(a,function(a,e,g){f?c=b.call(d,c,a,e,g):(c=a,f=true)});if(!f)throw new TypeError("Reduce of empty array with no initial value");return c};n.reduceRight=n.foldr=function(a,b,c,d){var f=arguments.length>2;a==null&&(a=[]);if(v&&a.reduceRight===v)return d&&(b=n.bind(b,d)),f?a.reduceRight(b,c):a.reduceRight(b);var e=n.toArray(a).reverse();d&&!f&&(b=n.bind(b,d));return f?n.reduce(e,b,c,d):n.reduce(e,
b)};n.find=n.detect=function(a,b,c){var d;za(a,function(a,f,e){if(b.call(c,a,f,e))return d=a,true});return d};n.filter=n.select=function(a,b,c){var d=[];if(a==null)return d;if(w&&a.filter===w)return a.filter(b,c);T(a,function(a,f,e){b.call(c,a,f,e)&&(d[d.length]=a)});return d};n.reject=function(a,b,c){var d=[];if(a==null)return d;T(a,function(a,f,e){b.call(c,a,f,e)||(d[d.length]=a)});return d};n.every=n.all=function(a,b,d){var f=true;if(a==null)return f;if(u&&a.every===u)return a.every(b,d);T(a,function(a,
e,g){if(!(f=f&&b.call(d,a,e,g)))return c});return f};var za=n.some=n.any=function(a,b,d){b||(b=n.identity);var f=false;if(a==null)return f;if(P&&a.some===P)return a.some(b,d);T(a,function(a,e,g){if(f||(f=b.call(d,a,e,g)))return c});return!!f};n.include=n.contains=function(a,b){return a==null?false:I&&a.indexOf===I?a.indexOf(b)!=-1:za(a,function(a){return a===b})};n.invoke=function(a,b){var c=f.call(arguments,2);return n.map(a,function(a){return(n.isFunction(b)?b||a:a[b]).apply(a,c)})};n.pluck=function(a,
b){return n.map(a,function(a){return a[b]})};n.max=function(a,b,c){if(!b&&n.isArray(a))return Math.max.apply(Math,a);if(!b&&n.isEmpty(a))return-Infinity;var d={computed:-Infinity};T(a,function(a,f,e){f=b?b.call(c,a,f,e):a;f>=d.computed&&(d={value:a,computed:f})});return d.value};n.min=function(a,b,c){if(!b&&n.isArray(a))return Math.min.apply(Math,a);if(!b&&n.isEmpty(a))return Infinity;var d={computed:Infinity};T(a,function(a,f,e){f=b?b.call(c,a,f,e):a;f<d.computed&&(d={value:a,computed:f})});return d.value};
n.shuffle=function(a){var b=[],c;T(a,function(a,d){d==0?b[0]=a:(c=Math.floor(Math.random()*(d+1)),b[d]=b[c],b[c]=a)});return b};n.sortBy=function(a,b,c){return n.pluck(n.map(a,function(a,d,f){return{value:a,criteria:b.call(c,a,d,f)}}).sort(function(a,b){var c=a.criteria,d=b.criteria;return c<d?-1:c>d?1:0}),"value")};n.groupBy=function(a,b){var c={},d=n.isFunction(b)?b:function(a){return a[b]};T(a,function(a,b){var f=d(a,b);(c[f]||(c[f]=[])).push(a)});return c};n.sortedIndex=function(a,b,c){c||(c=
n.identity);for(var d=0,f=a.length;d<f;){var e=d+f>>1;c(a[e])<c(b)?d=e+1:f=e}return d};n.toArray=function(a){return!a?[]:a.toArray?a.toArray():n.isArray(a)?f.call(a):n.isArguments(a)?f.call(a):n.values(a)};n.size=function(a){return n.toArray(a).length};n.first=n.head=function(a,b,c){return b!=null&&!c?f.call(a,0,b):a[0]};n.initial=function(a,b,c){return f.call(a,0,a.length-(b==null||c?1:b))};n.last=function(a,b,c){return b!=null&&!c?f.call(a,Math.max(a.length-b,0)):a[a.length-1]};n.rest=n.tail=function(a,
b,c){return f.call(a,b==null||c?1:b)};n.compact=function(a){return n.filter(a,function(a){return!!a})};n.flatten=function(a,b){return n.reduce(a,function(a,c){if(n.isArray(c))return a.concat(b?c:n.flatten(c));a[a.length]=c;return a},[])};n.without=function(a){return n.difference(a,f.call(arguments,1))};n.uniq=n.unique=function(a,b,c){var c=c?n.map(a,c):a,d=[];n.reduce(c,function(c,f,e){if(0==e||(b===true?n.last(c)!=f:!n.include(c,f))){c[c.length]=f;d[d.length]=a[e]}return c},[]);return d};n.union=
function(){return n.uniq(n.flatten(arguments,true))};n.intersection=n.intersect=function(a){var b=f.call(arguments,1);return n.filter(n.uniq(a),function(a){return n.every(b,function(b){return n.indexOf(b,a)>=0})})};n.difference=function(a){var b=n.flatten(f.call(arguments,1));return n.filter(a,function(a){return!n.include(b,a)})};n.zip=function(){for(var a=f.call(arguments),b=n.max(n.pluck(a,"length")),c=Array(b),d=0;d<b;d++)c[d]=n.pluck(a,""+d);return c};n.indexOf=function(a,b,c){if(a==null)return-1;
var d;if(c)return c=n.sortedIndex(a,b),a[c]===b?c:-1;if(I&&a.indexOf===I)return a.indexOf(b);c=0;for(d=a.length;c<d;c++)if(c in a&&a[c]===b)return c;return-1};n.lastIndexOf=function(a,b){if(a==null)return-1;if(A&&a.lastIndexOf===A)return a.lastIndexOf(b);for(var c=a.length;c--;)if(c in a&&a[c]===b)return c;return-1};n.range=function(a,b,c){arguments.length<=1&&(b=a||0,a=0);for(var c=arguments[2]||1,d=Math.max(Math.ceil((b-a)/c),0),f=0,e=Array(d);f<d;){e[f++]=a;a=a+c}return e};var C=function(){};n.bind=
function(a,b){var c,d;if(a.bind===ga&&ga)return ga.apply(a,f.call(arguments,1));if(!n.isFunction(a))throw new TypeError;d=f.call(arguments,2);return c=function(){if(!(this instanceof c))return a.apply(b,d.concat(f.call(arguments)));C.prototype=a.prototype;var e=new C,g=a.apply(e,d.concat(f.call(arguments)));return Object(g)===g?g:e}};n.bindAll=function(a){var b=f.call(arguments,1);b.length==0&&(b=n.functions(a));T(b,function(b){a[b]=n.bind(a[b],a)});return a};n.memoize=function(a,b){var c={};b||(b=
n.identity);return function(){var d=b.apply(this,arguments);return n.has(c,d)?c[d]:c[d]=a.apply(this,arguments)}};n.delay=function(a,b){var c=f.call(arguments,2);return setTimeout(function(){return a.apply(a,c)},b)};n.defer=function(a){return n.delay.apply(n,[a,1].concat(f.call(arguments,1)))};n.throttle=function(a,b){var c,d,f,e,g,h=n.debounce(function(){g=e=false},b);return function(){c=this;d=arguments;f||(f=setTimeout(function(){f=null;g&&a.apply(c,d);h()},b));e?g=true:a.apply(c,d);h();e=true}};
n.debounce=function(a,b){var c;return function(){var d=this,f=arguments;clearTimeout(c);c=setTimeout(function(){c=null;a.apply(d,f)},b)}};n.once=function(a){var b=false,c;return function(){if(b)return c;b=true;return c=a.apply(this,arguments)}};n.wrap=function(a,b){return function(){var c=[a].concat(f.call(arguments,0));return b.apply(this,c)}};n.compose=function(){var a=arguments;return function(){for(var b=arguments,c=a.length-1;c>=0;c--)b=[a[c].apply(this,b)];return b[0]}};n.after=function(a,b){return a<=
0?b():function(){if(--a<1)return b.apply(this,arguments)}};n.keys=Y||function(a){if(a!==Object(a))throw new TypeError("Invalid object");var b=[],c;for(c in a)n.has(a,c)&&(b[b.length]=c);return b};n.values=function(a){return n.map(a,n.identity)};n.functions=n.methods=function(a){var b=[],c;for(c in a)n.isFunction(a[c])&&b.push(c);return b.sort()};n.extend=function(a){T(f.call(arguments,1),function(b){for(var c in b)a[c]=b[c]});return a};n.defaults=function(a){T(f.call(arguments,1),function(b){for(var c in b)a[c]==
null&&(a[c]=b[c])});return a};n.clone=function(a){return!n.isObject(a)?a:n.isArray(a)?a.slice():n.extend({},a)};n.tap=function(a,b){b(a);return a};n.isEqual=function(b,c){return a(b,c,[])};n.isEmpty=function(a){if(n.isArray(a)||n.isString(a))return a.length===0;for(var b in a)if(n.has(a,b))return false;return true};n.isElement=function(a){return!!(a&&a.nodeType==1)};n.isArray=h||function(a){return k.call(a)=="[object Array]"};n.isObject=function(a){return a===Object(a)};n.isArguments=function(a){return k.call(a)==
"[object Arguments]"};n.isArguments(arguments)||(n.isArguments=function(a){return!(!a||!n.has(a,"callee"))});n.isFunction=function(a){return k.call(a)=="[object Function]"};n.isString=function(a){return k.call(a)=="[object String]"};n.isNumber=function(a){return k.call(a)=="[object Number]"};n.isNaN=function(a){return a!==a};n.isBoolean=function(a){return a===true||a===false||k.call(a)=="[object Boolean]"};n.isDate=function(a){return k.call(a)=="[object Date]"};n.isRegExp=function(a){return k.call(a)==
"[object RegExp]"};n.isNull=function(a){return a===null};n.isUndefined=function(a){return a===void 0};n.has=function(a,b){return s.call(a,b)};n.noConflict=function(){b._=d;return this};n.identity=function(a){return a};n.times=function(a,b,c){for(var d=0;d<a;d++)b.call(c,d)};n.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")};n.mixin=function(a){T(n.functions(a),function(b){var c=n[b]=
a[b];O.prototype[b]=function(){var a=f.call(arguments);o.call(a,this._wrapped);return x(c.apply(n,a),this._chain)}})};var t=0;n.uniqueId=function(a){var b=t++;return a?a+b:b};n.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var M=/.^/,g=function(a){return a.replace(/\\\\/g,"\\").replace(/\\'/g,"'")};n.template=function(a,b){var c=n.templateSettings,c="var __p=[],print=function(){__p.push.apply(__p,arguments);};with(obj||{}){__p.push('"+a.replace(/\\/g,
"\\\\").replace(/'/g,"\\'").replace(c.escape||M,function(a,b){return"',_.escape("+g(b)+"),'"}).replace(c.interpolate||M,function(a,b){return"',"+g(b)+",'"}).replace(c.evaluate||M,function(a,b){return"');"+g(b).replace(/[\r\n\t]/g," ")+";__p.push('"}).replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/\t/g,"\\t")+"');}return __p.join('');",d=new Function("obj","_",c);return b?d(b,n):function(a){return d.call(this,a,n)}};n.chain=function(a){return n(a).chain()};var O=function(a){this._wrapped=a};n.prototype=
O.prototype;var x=function(a,b){return b?n(a).chain():a};n.mixin(n);T("pop push reverse shift sort splice unshift".split(" "),function(a){var b=e[a];O.prototype[a]=function(){var c=this._wrapped;b.apply(c,arguments);var d=c.length;(a=="shift"||a=="splice")&&d===0&&delete c[0];return x(c,this._chain)}});T(["concat","join","slice"],function(a){var b=e[a];O.prototype[a]=function(){return x(b.apply(this._wrapped,arguments),this._chain)}});O.prototype.chain=function(){this._chain=true;return this};O.prototype.value=
function(){return this._wrapped}}).call(this)});define("bridge/underscore",["lib/underscore-min"],function(){return _});
define("lib/Hash",[],function(){return function(){var a=this,b=document.documentMode,d=a.history,c,e,h,f=function(){var b=a.location.href.indexOf("#");return-1==b?"":a.location.href.substr(b+1)},o=function(){var a=f();a!=e&&(e=a,c(a,!1))},k=function(a){try{var b=h.contentWindow.document;b.open();b.write("<html><body>"+a+"</body></html>");b.close();e=a}catch(c){setTimeout(function(){k(a)},10)}},s=function(){try{var b=document.createElement();b.innerHTML='<iframe src="javascript:void(0)" tabindex="-1" style="display: none;"></iframe>';
var d=b.childNodes[0];document.body.appendChild(d);h=d}catch(o){setTimeout(s,10);return}k(e);var v=e;setInterval(function(){var b,d;try{b=h.contentWindow.document.body.innerText,b!=v?(v=b,a.location.hash=e=b,c(b,!0)):(d=f(),d!=e&&k(d))}catch(o){}},50)};return{init:function(h){c||((c=h,e=f(),h(e,!0),h="onhashchange"in document.body,h||(document.body.setAttribute("onhashchange","return;"),h="function"==typeof document.body.onhashchange),h&&(void 0===document.documentMode||7<document.documentMode))?
a.addEventListener?a.addEventListener("hashchange",o,!1):a.attachEvent&&a.attachEvent("onhashchange",o):a.ActiveXObject?(!b||8>b)&&s():(d.navigationMode&&(d.navigationMode="compatible"),setInterval(o,50)))},go:function(b){b!=e&&(h?k(b):(a.location.hash=e=b,c(b,!1)))}}}()});
define("simplekey/resources",["bridge/jquery","bridge/underscore"],function(a,b){var d={get:function(b,d){var h=a.Deferred();a.ajax({url:API_URL+b,data:d,traditional:!0}).done(function(a){h.resolve(a)});return h}};d.glossaryblob=b.memoize(function(){return d.get("glossaryblob/")});d.pile=b.memoize(function(a){return d.get("piles/"+a+"/")});d.pile_characters=b.memoize(function(a){return d.get("piles/"+a+"/characters/")});d.more_questions=b.memoize(function(a){return d.get("piles/"+a.pile_slug+"/questions/",
{choose_best:3,species_ids:a.species_ids.join("_"),character_group_id:a.character_group_ids,exclude:a.exclude_characters})},function(a){return a.exclude_characters+a.character_group_ids+a.species_ids});d.pile_species=b.memoize(function(a){return d.get("species/"+a+"/")});d.taxon_info=function(a){save_name=a.replace(" ","%20");return d.get("taxa/"+save_name+"/")};d.character_vector=b.memoize(function(a){return d.get("vectors/character/"+a+"/")});d.key_vector=b.memoize(function(a){return d.get("vectors/key/"+
a+"/")});d.pile_vector=b.memoize(function(a){return d.get("vectors/pile/"+a+"/")});d.base_vector=b.memoize(function(c){var e=a.Deferred();a.when(d.key_vector(c.key_name),d.pile_vector(c.pile_slug)).done(function(a,c){e.resolve(b.intersect(a[0].species,c[0].species))});return e});return simplekey_resources=d});
define("util/tooltip",["bridge/jquery"],function(a){var b=function(b,d){this.elements=b;this.options=a.extend({},this.defaults,d);this.is_touch=navigator.userAgent.match(/(iPad|iPod|iPhone|Android)/)?!0:!1;this.init()};b.prototype={defaults:{arrow_css_class:"arrow",arrow_edge_margin:10,css_class:"gb-tooltip",fade_speed:"fast",horizontal_adjust_px:20,hover_delay:400,small_screen_max_width:600,vertical_adjust_px:24,width:null},build_tooltip:function(b){var d=a("<div>",{"class":this.options.css_class});
"string"===typeof b?d.html(b):d.append(b);d.append(a('<div class="arrow">'));return d},position_tooltip:function(b,d,h){var f=d,o=a(b).width(),k=a(window).width(),s=a(window).scrollLeft();d-s+o>=k&&(d=k-o-this.options.horizontal_adjust_px+s);d<s&&(d=s);k=a(b).height();b.css({left:d,top:h-k-this.options.vertical_adjust_px});b=a("."+this.options.css_class+" ."+this.options.arrow_css_class);d=f-d;d>o&&(d=o-this.options.arrow_edge_margin);0>=d&&(d=this.options.arrow_edge_margin);b.css({left:d})},show_tooltip:function(b,
d,h){0<a("."+this.options.css_class).length&&this.hide_tooltip(!1);b=this.build_tooltip(this.options.content);null!==this.options.width&&b.css({width:this.options.width});a("body").append(b);this.position_tooltip(b,d,h);a(b).fadeIn(this.options.fade_speed)},hide_tooltip:function(b){var d;"undefined"===typeof b&&(d="true");var h="."+this.options.css_class;d?a(h).fadeOut(this.options.fade_speed,function(){a(h).remove()}):a(h).remove()},init:function(){var b=this,d=!1;this.elements.each(function(h,f){b.is_touch?
a(f).bind({"touchend.Tooltip":function(h){var k=a(f).offset();b.show_tooltip(f,k.left,k.top);h.stopPropagation();d=!1}}):a(f).bind({"mouseenter.Tooltip":function(){var d=a(f).offset();this.timeout_id=window.setTimeout(function(a){b.show_tooltip(a,d.left,d.top)},b.options.hover_delay,f)},"mouseleave.Tooltip":function(){"number"===typeof this.timeout_id&&(window.clearTimeout(this.timeout_id),delete this.timeout_id);b.hide_tooltip()}})});b.is_touch&&(a("body").bind({"touchend.Tooltip_dismiss":function(){!1===
d&&b.hide_tooltip();d=!1},"touchmove.Tooltip":function(){d=!0}}),a(window).bind({orientationchange:function(){b.hide_tooltip()}}))}};a.fn.tooltip=function(a){new b(this,a);return this};var d={};d.Tooltip=b;return d});
define("util/glossarizer",["bridge/jquery","simplekey/resources","util/tooltip"],function(a,b){var d={escape:function(a){return a.replace(/[-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},Glossarizer:function(a){this.glossaryblob=a;this.n=0;var b=[],a=a.definitions;for(term in a)_.has(a,term)&&b.push(d.escape(term));b="\\b("+b.join("|")+")([\\+\\-]|\\b)";this.regexp=RegExp(b,"gi")}};d.Glossarizer.prototype.markup=function(b){var c=this;a(b).contents().each(function(){3===this.nodeType&&a(this).replaceWith(_.escape(this.textContent).replace(c.regexp,
'<span class="gloss">$1$2</span>'))});var d=this.glossaryblob.definitions,e=this.glossaryblob.images;a(".gloss",b).each(function(b,f){c.n++;var h="gloss"+c.n,v=f.innerHTML.toLowerCase(),w=e[v];f.id=h;h=d[v];void 0===h&&(h=d[f.innerHTML]);a(f).tooltip({content:'<p class="glosstip">'+(w?'<img src="'+w+'">':"")+h+"</p>"})})};var c=null,e=a.Deferred(),h=a.Deferred();e.done(function(){b.glossaryblob().done(function(a){c=new d.Glossarizer(a);h.resolve()})});d.glossarize=function(a){e.resolve();h.done(function(){a.each(function(a,
b){c.markup(b)})})};return d});
define("util/lazy_images",["bridge/jquery","bridge/underscore"],function(a){var b={SCROLL_WAIT:0,RESIZE_WAIT:500,start:function(){var d;a(window).scroll(function(){var a=b.SCROLL_WAIT;window.clearTimeout(d);d=setTimeout(b.load,a)});a(window).resize(function(){var a=b.RESIZE_WAIT;window.clearTimeout(d);d=setTimeout(b.load,a)})},load:function(){var b=a(window).scrollTop(),c=b+a(window).height();a("img[data-lazy-img-src]:visible").each(function(e,h){var f=a(h),o=f.offset().top;!(o>c)&&!(o+f.height()<
b)&&(f.attr("src",f.attr("data-lazy-img-src")),f.removeAttr("data-lazy-img-src"))})}};return b});
define("dkey/dkey","bridge/jquery bridge/jquery.mousewheel bridge/underscore lib/Hash util/glossarizer util/lazy_images util/tooltip".split(" "),function(a,b,d,c,e,h,f){a(document).ready(function(){a(".wait-spinner").removeClass("wait-spinner");h.start();e.glossarize(a(".couplets .lead"));a(".couplet").each(function(b,c){var d=a(c).attr("id");d&&a(c).attr("id","c"+d)});var b=function(a){return a.toLowerCase().indexOf("group")===0},k=function(a){a=a.toLowerCase();return b(a)?"/dkey/"+a.replace(" ",
"-")+"/":!b(a)&&a.indexOf(" ")!==-1?"/species/"+a.replace(" ","/")+"/?key=dichotomous":"/dkey/"+a+"/"},s=function(c){var d=k(c);return!b(c)&&c.indexOf(" ")!==-1?a("<a/>",{href:d}).append(a("<i/>",{text:c})):a("<a/>",{href:d,text:c})},B="c1",r="c1";a(".lead .button").each(function(){a(this).attr("original-text",a(this).text())});a(".lead .button").on("click",function(){if(a(this).text()==="GO\u00a0BACK"){var b=a(this).closest(".couplet").attr("id").replace("cc","c");c.go(b+","+r);return false}});var z=
a("<div>").appendTo("#main").addClass("shadow"),v=a("<div>").appendTo(z).addClass("popup");a(".what-lies-beneath").on("click",function(b){if(a(b.delegateTarget).attr("href")=="."){b.preventDefault();var c=a(b.delegateTarget),b=c.html(),c=a.parseJSON(c.attr("data-taxa"));c.sort();v.empty();a("<h2/>").html(b).appendTo(v);a.each(c,function(b,c){a("<div/>").append(s(c)).appendTo(v)});w()}});var w=function(){z.css("display","block")},u=function(){z.css("display","")};z.on("click",u);a("body").on("keydown",
function(a){if(z.css("display")==="block"){a=a.which;if(a===13||a===27||a===32){u();return false}if(a===33||a===34||a===38||a===40)return false}});z.on("mousewheel",function(b){a(b.target).hasClass("shadow")&&b.preventDefault()});v.on("mousewheel",function(b,c){c>0&&a(this).scrollTop()==0?b.preventDefault():c<0&&a(this).scrollTop()==a(this).get(0).scrollHeight-a(this).innerHeight()&&b.preventDefault()});a(".figure-link").each(function(){var b=a(this),c=new f.Tooltip(b,{content:a("<p>",{"class":"glosstip"}).append(a("<img>",
{src:a(this).attr("href"),height:240}),a("<b>",{text:"Figure "+a(this).html()+". "}),a(this).attr("data-caption"),"<br>(Click to view larger image)")});b.on("click",function(d){d.preventDefault();d=a(d.delegateTarget);if(b[0].timeout_id){clearTimeout(b[0].timeout_id);delete b[0].timeout_id}c.hide_tooltip();v.empty();a("<img>").attr("src",d.attr("href")).appendTo(v);w()})});var P=a("[data-title]").eq(-1).attr("data-title").replace(/ /g,"-").toLowerCase(),I=null,A=function(){var b=a(".image-type-selector select").val(),
c,f=a("#c"+B).parent().children("div.lead"),f=f.length==0?a("#main > .what-lies-beneath"):f.find(".what-lies-beneath");c=a.parseJSON(f.attr("data-taxa"));d.each(I,function(f){var e=!d.contains(c,f.name);f.$div.toggleClass("omit",e);if(!e){e=(e=d.find(f.image_list,function(a){return b==a.image_type}))?a("<img>",{"data-lazy-img-src":e.image_url}):'<div class="missing-image">';f.$div.find(".plant-img-container").html(e)}});window.setTimeout(function(){h.load()},10)};a.getJSON(API_URL+"dkey-images/"+
P+"/",function(b){var c=b.image_types,f=a(".image-type-selector").css("display","block").find("select");a.each(c,function(b,c){var d=a("<option>",{value:c,html:c});c=="plant form"&&d.attr("selected","selected");f.append(d)});f.on("change",A);var b=b.image_lists,e=a(".plant-grid");I=d.map(b,function(b){return{$div:a("<div>",{"class":"plant"}).appendTo(e).append(a("<div>",{"class":"plant-img-container"}),a("<p>",{html:b.title})),image_list:b.image_list,name:b.name,title:b.title}});A()});var Y=a(".jumpbox")[0],
ga=a(".jumpbox")[1];a.getJSON("/api/hierarchy/",function(b){var c=b.hierarchy,b=d.pluck(c,"family_name"),c=d.flatten(d.pluck(c,"genus_names"));b.sort();c.sort();d.each(b,function(b){a("<option>",{text:b}).appendTo(Y)});d.each(c,function(b){a("<option>",{text:b}).appendTo(ga)});a(Y).removeAttr("disabled");a(ga).removeAttr("disabled")});a(".groupbox select").on("mousedown keydown",function(b){if(b.which==9){a(".groupbox ul").hide();return true}a(".groupbox select").focus();a(".groupbox ul").toggle();
return false});a(".jumpbox").on("change",function(b){var c=a(":selected",b.delegateTarget).html();a(b.delegateTarget).val("instructions");if(c&&!c.match(/^jump/))window.location=k(c)});c.init(function(b,c){var d=c?0:200;c||a(".couplet:animated").stop();b||(b="c1");var f=b.indexOf(",");if(f===-1)r=B=b;else{B=b.substring(0,f);r=b.substring(f+1)}$all_couplets=a(".couplet");$all_leads=a(".lead");$all_buttons=$all_leads.find(".button");$all_couplets.removeClass("active");$all_leads.removeClass("chosen go-back original-choice alt-choice");
$all_buttons.each(function(){a(this).text(a(this).attr("original-text"))});if(B==="all")var e=$all_leads.toArray();else{var f=a("#c"+B),h=a("#c"+r),g=f.children("li").children(".lead"),k=h.children("li").children(".lead"),o=f.parents("li").children(".lead"),s=h.parents("li").children(".lead"),e=g.toArray().concat(k.toArray(),s.toArray());f.addClass("active");o.addClass("chosen");o.find(".button").text("GO\u00a0BACK")}if(B!==r){f=g.eq(0);g=g.eq(1);k=f.closest("li");if(a.contains(k[0],h[0])){f.addClass("original-choice");
g.addClass("alt-choice")}else{f.addClass("alt-choice");g.addClass("original-choice")}}$all_leads.each(function(b,c){e.indexOf(c)!==-1?a(c).slideDown(d):a(c).slideUp(d)});h=a(".show-all-button");B==="all"?h.html("Show First Couplet").attr("href","#"):h.html("Show All Couplets").attr("href","#all");A()})})});
define("lib/jquery.form",["bridge/jquery"],function(){var a=jQuery,b=function(b){var c=b.data;b.isDefaultPrevented()||(b.preventDefault(),a(this).ajaxSubmit(c))},d=function(b){var c=b.target,d=a(c);if(!d.is(":submit,input:image")){c=d.closest(":submit");if(0===c.length)return;c=c[0]}var e=this;e.clk=c;"image"==c.type&&(void 0!==b.offsetX?(e.clk_x=b.offsetX,e.clk_y=b.offsetY):"function"==typeof a.fn.offset?(d=d.offset(),e.clk_x=b.pageX-d.left,e.clk_y=b.pageY-d.top):(e.clk_x=b.pageX-c.offsetLeft,e.clk_y=
b.pageY-c.offsetTop));setTimeout(function(){e.clk=e.clk_x=e.clk_y=null},100)},c=function(){if(a.fn.ajaxSubmit.debug){var b="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(b):window.opera&&window.opera.postError&&window.opera.postError(b)}},e,h;e=void 0!==a("<input type='file'/>").get(0).files;h=void 0!==window.FormData;a.fn.ajaxSubmit=function(b){function d(e){function h(){function b(){try{var a=(w.contentWindow?w.contentWindow.document:
w.contentDocument?w.contentDocument:w.document).readyState;c("state = "+a);a&&"uninitialized"==a.toLowerCase()&&setTimeout(b,50)}catch(d){c("Server abort: ",d," (",d.name,")"),o(Y),P&&clearTimeout(P),P=void 0}}var d=B.attr("target"),f=B.attr("action");s.setAttribute("target",q);k||s.setAttribute("method","POST");f!=n.url&&s.setAttribute("action",n.url);!n.skipEncodingOverride&&(!k||/post/i.test(k))&&B.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"});n.timeout&&(P=setTimeout(function(){l=
!0;o(T)},n.timeout));var e=[];try{if(n.extraData)for(var g in n.extraData)n.extraData.hasOwnProperty(g)&&(a.isPlainObject(n.extraData[g])&&n.extraData[g].hasOwnProperty("name")&&n.extraData[g].hasOwnProperty("value")?e.push(a('<input type="hidden" name="'+n.extraData[g].name+'">').attr("value",n.extraData[g].value).appendTo(s)[0]):e.push(a('<input type="hidden" name="'+g+'">').attr("value",n.extraData[g]).appendTo(s)[0]));n.iframeTarget||(v.appendTo("body"),w.attachEvent?w.attachEvent("onload",o):
w.addEventListener("load",o,!1));setTimeout(b,15);s.submit()}finally{s.setAttribute("action",f),d?s.setAttribute("target",d):B.removeAttr("target"),a(e).remove()}}function o(b){if(!r.aborted&&!Fa){try{W=w.contentWindow?w.contentWindow.document:w.contentDocument?w.contentDocument:w.document}catch(d){c("cannot access response document: ",d),b=Y}if(b===T&&r)r.abort("timeout"),I.reject(r,"timeout");else if(b==Y&&r)r.abort("server abort"),I.reject(r,"error","server abort");else if(W&&W.location.href!=
n.iframeSrc||l){w.detachEvent?w.detachEvent("onload",o):w.removeEventListener("load",o,!1);var b="success",f;try{if(l)throw"timeout";var e="xml"==n.dataType||W.XMLDocument||a.isXMLDoc(W);c("isXml="+e);if(!e&&(window.opera&&(null===W.body||!W.body.innerHTML))&&--ha){c("requeing onLoad callback, DOM not available");setTimeout(o,250);return}var g=W.body?W.body:W.documentElement;r.responseText=g?g.innerHTML:null;r.responseXML=W.XMLDocument?W.XMLDocument:W;e&&(n.dataType="xml");r.getResponseHeader=function(a){return{"content-type":n.dataType}[a]};
g&&(r.status=Number(g.getAttribute("status"))||r.status,r.statusText=g.getAttribute("statusText")||r.statusText);var h=(n.dataType||"").toLowerCase(),k=/(json|script|text)/.test(h);if(k||n.textarea){var s=W.getElementsByTagName("textarea")[0];if(s)r.responseText=s.value,r.status=Number(s.getAttribute("status"))||r.status,r.statusText=s.getAttribute("statusText")||r.statusText;else if(k){var q=W.getElementsByTagName("pre")[0],B=W.getElementsByTagName("body")[0];q?r.responseText=q.textContent?q.textContent:
q.innerText:B&&(r.responseText=B.textContent?B.textContent:B.innerText)}}else"xml"==h&&(!r.responseXML&&r.responseText)&&(r.responseXML=Ia(r.responseText));try{var e=r,g=n,A=e.getResponseHeader("content-type")||"",z="xml"===h||!h&&0<=A.indexOf("xml"),C=z?e.responseXML:e.responseText;z&&"parsererror"===C.documentElement.nodeName&&a.error&&a.error("parsererror");g&&g.dataFilter&&(C=g.dataFilter(C,h));"string"===typeof C&&("json"===h||!h&&0<=A.indexOf("json")?C=ka(C):("script"===h||!h&&0<=A.indexOf("javascript"))&&
a.globalEval(C));ga=C}catch(M){b="parsererror",r.error=f=M||b}}catch(za){c("error caught: ",za),b="error",r.error=f=za||b}r.aborted&&(c("upload aborted"),b=null);r.status&&(b=200<=r.status&&300>r.status||304===r.status?"success":"error");"success"===b?(n.success&&n.success.call(n.context,ga,"success",r),I.resolve(r.responseText,"success",r),u&&a.event.trigger("ajaxSuccess",[r,n])):b&&(void 0===f&&(f=r.statusText),n.error&&n.error.call(n.context,r,b,f),I.reject(r,"error",f),u&&a.event.trigger("ajaxError",
[r,n,f]));u&&a.event.trigger("ajaxComplete",[r,n]);u&&!--a.active&&a.event.trigger("ajaxStop");n.complete&&n.complete.call(n.context,r,b);Fa=!0;n.timeout&&clearTimeout(P);setTimeout(function(){n.iframeTarget||v.remove();r.responseXML=null},100)}}}var s=B[0],g,n,u,q,v,w,r,A,l,P;A=!!a.fn.prop;var I=a.Deferred();if(a(":input[name=submit],:input[id=submit]",s).length)return alert('Error: Form elements must not have name or id of "submit".'),I.reject(),I;if(e)for(g=0;g<z.length;g++)e=a(z[g]),A?e.prop("disabled",
!1):e.removeAttr("disabled");n=a.extend(!0,{},a.ajaxSettings,b);n.context=n.context||n;q="jqFormIO"+(new Date).getTime();n.iframeTarget?(v=a(n.iframeTarget),(e=v.attr("name"))?q=e:v.attr("name",q)):(v=a('<iframe name="'+q+'" src="'+n.iframeSrc+'" />'),v.css({position:"absolute",top:"-1000px",left:"-1000px"}));w=v[0];r={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(b){var d=
b==="timeout"?"timeout":"aborted";c("aborting upload... "+d);this.aborted=1;if(w.contentWindow.document.execCommand)try{w.contentWindow.document.execCommand("Stop")}catch(f){}v.attr("src",n.iframeSrc);r.error=d;n.error&&n.error.call(n.context,r,d,b);u&&a.event.trigger("ajaxError",[r,n,d]);n.complete&&n.complete.call(n.context,r,d)}};(u=n.global)&&0===a.active++&&a.event.trigger("ajaxStart");u&&a.event.trigger("ajaxSend",[r,n]);if(n.beforeSend&&!1===n.beforeSend.call(n.context,r,n))return n.global&&
a.active--,I.reject(),I;if(r.aborted)return I.reject(),I;if(A=s.clk)if((e=A.name)&&!A.disabled)n.extraData=n.extraData||{},n.extraData[e]=A.value,"image"==A.type&&(n.extraData[e+".x"]=s.clk_x,n.extraData[e+".y"]=s.clk_y);var T=1,Y=2;A=a("meta[name=csrf-token]").attr("content");if((e=a("meta[name=csrf-param]").attr("content"))&&A)n.extraData=n.extraData||{},n.extraData[e]=A;n.forceSync?h():setTimeout(h,10);var ga,W,ha=50,Fa,Ia=a.parseXML||function(a,b){if(window.ActiveXObject){b=new ActiveXObject("Microsoft.XMLDOM");
b.async="false";b.loadXML(a)}else b=(new DOMParser).parseFromString(a,"text/xml");return b&&b.documentElement&&b.documentElement.nodeName!="parsererror"?b:null},ka=a.parseJSON||function(a){return window.eval("("+a+")")};return I}if(!this.length)return c("ajaxSubmit: skipping submit process - no element selected"),this;var k,s,B=this;"function"==typeof b&&(b={success:b});k=this.attr("method");s=this.attr("action");(s=(s="string"===typeof s?a.trim(s):"")||window.location.href||"")&&(s=(s.match(/^([^#]+)/)||
[])[1]);b=a.extend(!0,{url:s,success:a.ajaxSettings.success,type:k||"GET",iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},b);s={};this.trigger("form-pre-serialize",[this,b,s]);if(s.veto)return c("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(b.beforeSerialize&&!1===b.beforeSerialize(this,b))return c("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var r=b.traditional;void 0===r&&(r=a.ajaxSettings.traditional);var z=[],v,w=this.formToArray(b.semantic,
z);b.data&&(b.extraData=b.data,v=a.param(b.data,r));if(b.beforeSubmit&&!1===b.beforeSubmit(w,this,b))return c("ajaxSubmit: submit aborted via beforeSubmit callback"),this;this.trigger("form-submit-validate",[w,this,b,s]);if(s.veto)return c("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;s=a.param(w,r);v&&(s=s?s+"&"+v:v);"GET"==b.type.toUpperCase()?(b.url+=(0<=b.url.indexOf("?")?"&":"?")+s,b.data=null):b.data=s;var u=[];b.resetForm&&u.push(function(){B.resetForm()});b.clearForm&&
u.push(function(){B.clearForm(b.includeHidden)});if(!b.dataType&&b.target){var P=b.success||function(){};u.push(function(c){var d=b.replaceTarget?"replaceWith":"html";a(b.target)[d](c).each(P,arguments)})}else b.success&&u.push(b.success);b.success=function(a,c,d){for(var e=b.context||this,g=0,h=u.length;g<h;g++)u[g].apply(e,[a,c,d||B,B])};v=0<a("input:file:enabled[value]",this).length;s="multipart/form-data"==B.attr("enctype")||"multipart/form-data"==B.attr("encoding");r=e&&h;c("fileAPI :"+r);var I;
if(!1!==b.iframe&&(b.iframe||(v||s)&&!r))b.closeKeepAlive?a.get(b.closeKeepAlive,function(){I=d(w)}):I=d(w);else{var A;if((v||s)&&r){var Y=new FormData;for(v=0;v<w.length;v++)Y.append(w[v].name,w[v].value);if(b.extraData){v=a.param(b.extraData).split("&");s=v.length;var r={},ga,n;for(ga=0;ga<s;ga++)n=v[ga].split("="),r[decodeURIComponent(n[0])]=decodeURIComponent(n[1]);for(A in r)r.hasOwnProperty(A)&&Y.append(A,r[A])}b.data=null;A=a.extend(!0,{},a.ajaxSettings,b,{contentType:!1,processData:!1,cache:!1,
type:k||"POST"});b.uploadProgress&&(A.xhr=function(){var a=jQuery.ajaxSettings.xhr();if(a.upload)a.upload.onprogress=function(a){var c=0,d=a.loaded||a.position,e=a.total;a.lengthComputable&&(c=Math.ceil(d/e*100));b.uploadProgress(a,d,e,c)};return a});A.data=null;var T=A.beforeSend;A.beforeSend=function(a,b){b.data=Y;T&&T.call(this,a,b)};A=a.ajax(A)}else A=a.ajax(b);I=A}B.removeData("jqxhr").data("jqxhr",I);for(A=0;A<z.length;A++)z[A]=null;this.trigger("form-submit-notify",[this,b]);return this};a.fn.ajaxForm=
function(f){f=f||{};f.delegation=f.delegation&&a.isFunction(a.fn.on);if(!f.delegation&&0===this.length){var e=this.selector,h=this.context;if(!a.isReady&&e)return c("DOM not ready, queuing ajaxForm"),a(function(){a(e,h).ajaxForm(f)}),this;c("terminating; zero elements found by selector"+(a.isReady?"":" (DOM not ready)"));return this}return f.delegation?(a(document).off("submit.form-plugin",this.selector,b).off("click.form-plugin",this.selector,d).on("submit.form-plugin",this.selector,f,b).on("click.form-plugin",
this.selector,f,d),this):this.ajaxFormUnbind().bind("submit.form-plugin",f,b).bind("click.form-plugin",f,d)};a.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")};a.fn.formToArray=function(b,c){var d=[];if(0===this.length)return d;var h=this[0],B=b?h.getElementsByTagName("*"):h.elements;if(!B)return d;var r,z,v,w,u,P;r=0;for(P=B.length;r<P;r++)if(u=B[r],v=u.name)if(b&&h.clk&&"image"==u.type)!u.disabled&&h.clk==u&&(d.push({name:v,value:a(u).val(),type:u.type}),
d.push({name:v+".x",value:h.clk_x},{name:v+".y",value:h.clk_y}));else if((w=a.fieldValue(u,!0))&&w.constructor==Array){c&&c.push(u);z=0;for(u=w.length;z<u;z++)d.push({name:v,value:w[z]})}else if(e&&"file"==u.type&&!u.disabled)if(c&&c.push(u),w=u.files,w.length)for(z=0;z<w.length;z++)d.push({name:v,value:w[z],type:u.type});else d.push({name:v,value:"",type:u.type});else null!==w&&"undefined"!=typeof w&&(c&&c.push(u),d.push({name:v,value:w,type:u.type,required:u.required}));if(!b&&h.clk&&(B=a(h.clk),
r=B[0],(v=r.name)&&!r.disabled&&"image"==r.type))d.push({name:v,value:B.val()}),d.push({name:v+".x",value:h.clk_x},{name:v+".y",value:h.clk_y});return d};a.fn.formSerialize=function(b){return a.param(this.formToArray(b))};a.fn.fieldSerialize=function(b){var c=[];this.each(function(){var d=this.name;if(d){var e=a.fieldValue(this,b);if(e&&e.constructor==Array)for(var h=0,r=e.length;h<r;h++)c.push({name:d,value:e[h]});else null!==e&&"undefined"!=typeof e&&c.push({name:this.name,value:e})}});return a.param(c)};
a.fn.fieldValue=function(b){for(var c=[],d=0,e=this.length;d<e;d++){var h=a.fieldValue(this[d],b);null===h||("undefined"==typeof h||h.constructor==Array&&!h.length)||(h.constructor==Array?a.merge(c,h):c.push(h))}return c};a.fieldValue=function(b,c){var d=b.name,e=b.type,h=b.tagName.toLowerCase();void 0===c&&(c=!0);if(c&&(!d||b.disabled||"reset"==e||"button"==e||("checkbox"==e||"radio"==e)&&!b.checked||("submit"==e||"image"==e)&&b.form&&b.form.clk!=b||"select"==h&&-1==b.selectedIndex))return null;
if("select"==h){var r=b.selectedIndex;if(0>r)return null;for(var d=[],h=b.options,z=(e="select-one"==e)?r+1:h.length,r=e?r:0;r<z;r++){var v=h[r];if(v.selected){var w=v.value;w||(w=v.attributes&&v.attributes.value&&!v.attributes.value.specified?v.text:v.value);if(e)return w;d.push(w)}}return d}return a(b).val()};a.fn.clearForm=function(b){return this.each(function(){a("input,select,textarea",this).clearFields(b)})};a.fn.clearFields=a.fn.clearInputs=function(b){var c=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;
return this.each(function(){var d=this.type,e=this.tagName.toLowerCase();if(c.test(d)||"textarea"==e)this.value="";else if("checkbox"==d||"radio"==d)this.checked=!1;else if("select"==e)this.selectedIndex=-1;else if(b&&(!0===b&&/hidden/.test(d)||"string"==typeof b&&a(this).is(b)))this.value=""})};a.fn.resetForm=function(){return this.each(function(){("function"==typeof this.reset||"object"==typeof this.reset&&!this.reset.nodeType)&&this.reset()})};a.fn.enable=function(a){void 0===a&&(a=!0);return this.each(function(){this.disabled=
!a})};a.fn.selected=function(b){void 0===b&&(b=!0);return this.each(function(){var c=this.type;"checkbox"==c||"radio"==c?this.checked=b:"option"==this.tagName.toLowerCase()&&(c=a(this).parent("select"),b&&(c[0]&&"select-one"==c[0].type)&&c.find("option").selected(!1),this.selected=b)})};a.fn.ajaxSubmit.debug=!1});define("bridge/jquery.form",["lib/jquery.form"],function(){});
define("util/ajaxpartialform",["bridge/jquery","bridge/jquery.form"],function(a){var b={init:function(b){a.extend({autosaveTimeout:0,onFieldReset:function(){},onSave:function(){}},b);return this.each(function(){var c=a(this);c.find("input,select,textarea").bind("focus.ajaxpartialform",function(){var b=a(this);b.data("previousValue",b.val())});c.find(".field-reset").bind("click.ajaxpartialform",function(){var c=a(".field-controls").has(this).siblings(".ajax-field").children("input,select,textarea").first(),
h=c.data("previousValue");h&&c.val(h);b.onFieldReset.call(c)});c.find(".field-save").bind("click.ajaxpartialform",function(){c.ajaxSubmit(function(e){e.success&&c.find(".ajax-field").each(function(){var b=a(this).children("input,select,textarea").first();b.data("previousValue",b.val())});b.onSave.call(c,e)})})})}};a.fn.ajaxpartialform=function(d){if(b[d])return b[d].apply(this,Array.prototype.slice.call(arguments,1));if("object"===typeof d||!d)return b.init.apply(this,arguments);a.error("Method "+
d+" does not exist on jQuery.ajaxpartialform")}});
define("plantshare/myprofile",["bridge/jquery","bridge/jquery.form","util/ajaxpartialform"],function(a){function b(){a("div.edit").hide();a("div.display").show()}a(document).ready(function(){function d(){a("div.edit").each(function(){var b=a(this),d=b.find(".ajax-field input,select,textarea").first(),h="N/A",h="SELECT"==d.prop("tagName")?d.find(":selected").text():d.val();b.siblings("div.display").children("p").first().find("span").text(h)})}a(".edit-link").click(function(c){d();b();var c=c.target,
c=a("div.display").has(c),e=c.siblings("div.edit");c.hide();e.show();return!1});a(".field-reset").click(function(){b();return!1});a(".ajax-partial").ajaxpartialform({onFieldReset:function(){this.first();d()},onSave:function(a){a.success&&(d(),b())}});d();a("#upload-link").click(function(){imageModal=a(".image-modal");imageModal.show();return!1});a('#upload-avatar-form input[type="file"]').change(function(){});a(".image-modal .close").click(function(){a(".image-modal").hide();return!1});a("#upload-photo-submit").click(function(){a("#upload-avatar-form").ajaxSubmit(function(a){a.success?
console.log("Successfully uploaded avatar"):console.log("Error: "+a.info)});a(".image-modal").hide();return!1})})});(function(){var a="gmapscallback"+(new Date).getTime();window[a]=function(){};define("mapping/google_maps",["http://maps.googleapis.com/maps/api/js?sensor=false&callback="+a],function(){return google.maps})})();
define("mapping/sightings_map",["bridge/jquery","mapping/google_maps"],function(a,b){function d(b){this.MAX_INFO_DESC_LENGTH=80;this.$map_div=a(b);this.map_id=this.$map_div.attr("id");this.latitude=this.$map_div.attr("data-latitude");this.longitude=this.$map_div.attr("data-longitude");this.center_title=this.$map_div.attr("data-center-title");this.info_window=this.map=null}d.prototype.setup=function(){var a={center:new google.maps.LatLng(this.latitude,this.longitude),zoom:6,mapTypeId:b.MapTypeId.ROADMAP};
this.map=new b.Map(this.$map_div.get(0),a);this.info_window=new b.InfoWindow({maxWidth:300})};d.prototype.get_sighting_location=function(a){var b=a.location;if(void 0===b||0===b.length)b=a.latitude+", "+a.longitude;return b};d.prototype.build_info_window_html=function(a){var b='<div class="info-window"><h5>'+this.get_sighting_location(a)+"</h5>";void 0!==a.user&&(b+="<p>by "+a.user,void 0!==a.created&&(b+=" on "+a.created),b+="</p>");void 0!==a.photos&&(b+=' <img src="'+a.photos[0]+'">');b+="<p>";
if(void 0!==a.description&&0<a.description.length){var d=a.description.substr(0,this.MAX_INFO_DESC_LENGTH);a.description.length>this.MAX_INFO_DESC_LENGTH&&(d+="... ");b+=d}void 0!==a.id&&(b+='<a href="/ps/sightings/'+a.id+'/">more</a>');return b+"</p></div>"};d.prototype.add_marker=function(a,d,h,f){var a=new b.LatLng(a,d),o=new google.maps.Marker({position:a,map:this.map,title:h}),k=this.info_window;b.event.addListener(o,"click",function(){k.setContent(f);k.open(this.map,o)})};d.prototype.mark_center=
function(){this.add_marker(this.latitude,this.longitude,this.center_title)};d.prototype.show_plant=function(b){a.ajax({url:"/ps/api/sightings/?plant="+b,context:this}).done(function(a){for(var b=0;b<a.sightings.length;b++){var c=a.sightings[b],d=this.get_sighting_location(c),k=this.build_info_window_html(c);this.add_marker(c.latitude,c.longitude,d,k)}})};return d});
define("plantshare/sightings_locator",["bridge/jquery","mapping/google_maps","mapping/sightings_map"],function(a,b,d){function c(b){this.$locator_element=a(b);this.current_plant_name=""}c.prototype.setup=function(){var b=this.$locator_element.find(".map").eq(0),c=new d(b);c.setup();this.$locator_element.submit(a.proxy(function(a){a.preventDefault();a=this.$locator_element.find('input[type="text"]').eq(0).val();a!==this.current_plant_name&&(this.current_plant_name=a,console.log("about to fetch sightings for",
this.current_plant_name),c.show_plant(this.current_plant_name))},this))};return c});define("plantshare/plantshare",["bridge/jquery","plantshare/sightings_locator"],function(a,b){a(document).ready(function(){(new b("#sightings-locator")).setup()})});
define("lib/jquery.cookie",["bridge/jquery"],function(){var a=jQuery;a.cookie=function(b,d,c){if(1<arguments.length&&(!/Object/.test(Object.prototype.toString.call(d))||null===d||void 0===d)){c=a.extend({},c);if(null===d||void 0===d)c.expires=-1;if("number"===typeof c.expires){var e=c.expires,h=c.expires=new Date;h.setDate(h.getDate()+e)}d=String(d);return document.cookie=[encodeURIComponent(b),"=",c.raw?d:encodeURIComponent(d),c.expires?"; expires="+c.expires.toUTCString():"",c.path?"; path="+c.path:
"",c.domain?"; domain="+c.domain:"",c.secure?"; secure":""].join("")}for(var c=d||{},e=c.raw?function(a){return a}:decodeURIComponent,h=document.cookie.split("; "),f=0,o;o=h[f]&&h[f].split("=");f++)if(e(o[0])===b)return e(o[1]||"");return null}});define("bridge/jquery.cookie",["lib/jquery.cookie"],function(){});define("plantshare/registration_complete",["bridge/jquery","bridge/jquery.cookie"],function(a){a(document).ready(function(){a.cookie("registration_complete","True",{expires:3650,path:"/"})})});
define("plantshare/sightings",["bridge/jquery","plantshare/sightings_locator"],function(a,b){a(document).ready(function(){(new b("#sightings-locator")).setup()})});
define("plantshare/sign_up",["bridge/jquery"],function(a){a(document).ready(function(){a("#id_username").attr("tabindex",10);a("#id_email").attr("tabindex",20);a("#id_password1").attr("tabindex",30);a("#id_password2").attr("tabindex",40);a("#recaptcha_response_field").attr("tabindex",50);a("#sign_up_button").attr("tabindex",60);a("#recaptcha_reload").attr("tabindex",70);a("#recaptcha_switch_audio").attr("tabindex",80);a("#recaptcha_whatsthis").attr("tabindex",90);a('#main form input[type="text"]').eq(0).focus()})});
define("util/sidebar",["bridge/jquery"],function(a){var b={set_height:function(){if(!(600>=a(window).width())){var b=0,c=a("div#main").height();c>b&&(b=c);for(var c=a("div#sidebar").children(),e=0,h=0;h<c.length;h++)var f=a(c[h]).height()+16,e=e+f;e>b&&(b=e);550>b&&(b=550);a("div#sidebar").css("height",b)}},setup:function(){a(document).ready(function(){b.set_height();a("#main img").load(function(){b.set_height()})})}};return b});
define("lib/shadowbox",[],function(){var a,b,d,c,e=window,h=function(a){l.options.enableKeys&&(a?A:Y)(document,"keydown",f)},f=function(a){if(!a.metaKey&&!a.shiftKey&&!a.altKey&&!a.ctrlKey){var b;switch(a.which?a.which:a.keyCode){case 81:case 88:case 27:b=l.close;break;case 37:b=l.previous;break;case 39:b=l.next;break;case 32:b="number"==typeof sa?l.pause:l.play}b&&(a.preventDefault(),b())}},o=function(a){h(!1);var b=l.getCurrent(),c="inline"==b.player?"html":b.player;if("function"!=typeof l[c])throw"unknown player "+
c;a&&(l.player.remove(),l.revertOptions(),l.applyOptions(b.options||{}));l.player=new l[c](b,l.playerId);if(1<l.gallery.length&&(b=l.gallery[l.current+1]||l.gallery[0],"img"==b.player&&((new Image).src=b.content),b=l.gallery[l.current-1]||l.gallery[l.gallery.length-1],"img"==b.player))(new Image).src=b.content;l.skin.onLoad(a,k)},k=function(){if(ha)if("undefined"!=typeof l.player.ready)var a=setInterval(function(){ha?l.player.ready&&(clearInterval(a),a=null,l.skin.onReady(s)):(clearInterval(a),a=
null)},10);else l.skin.onReady(s)},s=function(){ha&&(l.player.append(l.skin.body,l.dimensions),l.skin.onShow(B))},B=function(){if(ha){if(l.player.onLoad)l.player.onLoad();l.options.onFinish(l.getCurrent());l.isPaused()||l.play();h(!0)}},r=function(a,b){for(var c in b)a[c]=b[c];return a},z=function(a,b){for(var c=0,d=a.length,f=a[0];c<d&&!1!==b.call(f,c,f);f=a[++c]);},v=function(a,b){return a.replace(/\{(\w+?)\}/g,function(a,c){return b[c]})},w=function(){},u=function(a){return document.getElementById(a)},
P=function(a){a.parentNode.removeChild(a)},I=function(a){return[a.pageX||a.clientX+(document.documentElement.scrollLeft||document.body.scrollLeft),a.pageY||a.clientY+(document.documentElement.scrollTop||document.body.scrollTop)]},A=function(a,b,c){if(a.addEventListener)a.addEventListener(b,c,!1);else if(!(3===a.nodeType||8===a.nodeType)){a.setInterval&&(a!==e&&!a.frameElement)&&(a=e);c.__guid||(c.__guid=A.guid++);a.events||(a.events={});var d=a.events[b];d||(d=a.events[b]={},a["on"+b]&&(d[0]=a["on"+
b]));d[c.__guid]=c;a["on"+b]=A.handleEvent}},Y=function(a,b,c){a.removeEventListener?a.removeEventListener(b,c,!1):a.events&&a.events[b]&&delete a.events[b][c.__guid]},ga=function(){if(!Ha){try{document.documentElement.doScroll("left")}catch(a){setTimeout(ga,1);return}l.load()}},n=function(a){l.open(this);l.gallery.length&&a.preventDefault()},T=function(){var a=l.dimensions;r(Pa.style,{height:a.innerHeight+"px",width:a.innerWidth+"px"})},za=function(a){a.preventDefault();a=I(a);d=a[0];c=a[1];Ga=u(l.player.id);
A(document,"mousemove",C);A(document,"mouseup",t);l.isGecko&&(Pa.style.cursor="-moz-grabbing")},C=function(f){var e=l.player,g=l.dimensions,f=I(f),h=f[0]-d;d+=h;a=Math.max(Math.min(0,a+h),g.innerWidth-e.width);f=f[1]-c;c+=f;b=Math.max(Math.min(0,b+f),g.innerHeight-e.height);r(Ga.style,{left:a+"px",top:b+"px"})},t=function(){Y(document,"mousemove",C);Y(document,"mouseup",t);l.isGecko&&(Pa.style.cursor="-moz-grab")},M=function(a,b,c,d,f){var e="opacity"==b,g=e?l.setOpacity:function(a,c){a.style[b]=
""+c+"px"};if(0==d||!e&&!l.options.animate||e&&!l.options.animateFade)g(a,c),f&&f();else{var h=parseFloat(l.getStyle(a,b))||0,k=c-h;if(0==k)f&&f();else var d=1E3*d,o=(new Date).getTime(),n=l.ease,s=o+d,q,r=setInterval(function(){q=(new Date).getTime();q>=s?(clearInterval(r),r=null,g(a,c),f&&f()):g(a,h+n((q-o)/d)*k)},10)}},g=function(){qa.style.height=l.getWindowSize("Height")+"px";qa.style.width=l.getWindowSize("Width")+"px"},O=function(){qa.style.top=document.documentElement.scrollTop+"px";qa.style.left=
document.documentElement.scrollLeft+"px"},x=function(a){a?z(Wa,function(a,b){b[0].style.visibility=b[1]||""}):(Wa=[],z(l.options.troubleElements,function(a,b){z(document.getElementsByTagName(b),function(a,b){Wa.push([b,b.style.visibility]);b.style.visibility="hidden"})}))},q=function(a,b){var c=u("sb-nav-"+a);c&&(c.style.display=b?"":"none")},E=function(a,b){var c=u("sb-loading"),d=l.getCurrent().player,d="img"==d||"html"==d;if(a){l.setOpacity(c,0);c.style.display="block";var f=function(){l.clearOpacity(c);
b&&b()};d?M(c,"opacity",1,l.options.fadeDuration,f):f()}else f=function(){c.style.display="none";l.clearOpacity(c);b&&b()},d?M(c,"opacity",0,l.options.fadeDuration,f):f()},Q=function(a,b,c,d){var f=u("sb-wrapper-inner"),c=c?l.options.resizeDuration:0;M(ab,"top",b,c);M(f,"height",a,c,d)},G=function(a,b,c,d){c=c?l.options.resizeDuration:0;M(ab,"left",b,c);M(ab,"width",a,c,d)},da=function(a,b){var c=u("sb-body-inner"),a=parseInt(a),b=parseInt(b),d=ab.offsetHeight-c.offsetHeight,c=ab.offsetWidth-c.offsetWidth,
f=Ma.offsetHeight,e=Ma.offsetWidth,g=parseInt(l.options.viewportPadding)||20;return l.setDimensions(a,b,f,e,d,c,g,l.player&&"drag"!=l.options.handleOversize)},l={version:"3.0.3"},V=navigator.userAgent.toLowerCase();-1<V.indexOf("windows")||-1<V.indexOf("win32")?l.isWindows=!0:-1<V.indexOf("macintosh")||-1<V.indexOf("mac os x")?l.isMac=!0:-1<V.indexOf("linux")&&(l.isLinux=!0);l.isIE=-1<V.indexOf("msie");l.isIE6=-1<V.indexOf("msie 6");l.isIE7=-1<V.indexOf("msie 7");l.isGecko=-1<V.indexOf("gecko")&&
-1==V.indexOf("safari");l.isWebKit=-1<V.indexOf("applewebkit/");var Z=/#(.+)$/,R=/^(light|shadow)box\[(.*?)\]/i,na=/\s*([a-z_]*?)\s*=\s*(.+)\s*/,Ea=/[0-9a-z]+$/i,W=/(.+\/)shadowbox\.js/i,ha=!1,Fa=!1,Ia={},ka=0,Na,sa;l.current=-1;l.dimensions=null;l.ease=function(a){return 1+Math.pow(a-1,3)};l.errorInfo={fla:{name:"Flash",url:"http://www.adobe.com/products/flashplayer/"},qt:{name:"QuickTime",url:"http://www.apple.com/quicktime/download/"},wmp:{name:"Windows Media Player",url:"http://www.microsoft.com/windows/windowsmedia/"},
f4m:{name:"Flip4Mac",url:"http://www.flip4mac.com/wmv_download.htm"}};l.gallery=[];l.onReady=w;l.path=null;l.player=null;l.playerId="sb-player";l.options={animate:!0,animateFade:!0,autoplayMovies:!0,continuous:!1,enableKeys:!0,flashParams:{bgcolor:"#000000",allowfullscreen:!0},flashVars:{},flashVersion:"9.0.115",handleOversize:"resize",handleUnsupported:"link",onChange:w,onClose:w,onFinish:w,onOpen:w,showMovieControls:!0,skipSetup:!1,slideshowDelay:0,viewportPadding:20};l.getCurrent=function(){return l.current>
-1?l.gallery[l.current]:null};l.hasNext=function(){return l.gallery.length>1&&(l.current!=l.gallery.length-1||l.options.continuous)};l.isOpen=function(){return ha};l.isPaused=function(){return sa=="pause"};l.applyOptions=function(a){Ia=r({},l.options);r(l.options,a)};l.revertOptions=function(){r(l.options,Ia)};l.init=function(a,b){if(!Fa){Fa=true;l.skin.options&&r(l.options,l.skin.options);a&&r(l.options,a);if(!l.path)for(var c,d=document.getElementsByTagName("script"),f=0,g=d.length;f<g;++f)if(c=
W.exec(d[f].src)){l.path=c[1];break}if(b)l.onReady=b;if(document.readyState==="complete")l.load();else if(document.addEventListener){document.addEventListener("DOMContentLoaded",Xa,false);e.addEventListener("load",l.load,false)}else if(document.attachEvent){document.attachEvent("onreadystatechange",Xa);e.attachEvent("onload",l.load);c=false;try{c=e.frameElement===null}catch(h){}document.documentElement.doScroll&&c&&ga()}}};l.open=function(a){if(!ha){a=l.makeGallery(a);l.gallery=a[0];l.current=a[1];
a=l.getCurrent();if(a!=null){l.applyOptions(a.options||{});for(var a=l.errorInfo,b=l.plugins,c,d,f,e,g=0;g<l.gallery.length;++g){c=l.gallery[g];d=false;f=null;switch(c.player){case "flv":case "swf":b.fla||(f="fla");break;case "qt":b.qt||(f="qt");break;case "wmp":l.isMac?b.qt&&b.f4m?c.player="qt":f="qtf4m":b.wmp||(f="wmp");break;case "qtwmp":b.qt?c.player="qt":b.wmp?c.player="wmp":f="qtwmp"}if(f)if(l.options.handleUnsupported=="link"){switch(f){case "qtf4m":e="shared";f=[a.qt.url,a.qt.name,a.f4m.url,
a.f4m.name];break;case "qtwmp":e="either";f=[a.qt.url,a.qt.name,a.wmp.url,a.wmp.name];break;default:e="single";f=[a[f].url,a[f].name]}c.player="html";c.content='<div class="sb-message">'+v(l.lang.errors[e],f)+"</div>"}else d=true;else if(c.player=="inline")if(e=Z.exec(c.content))(e=u(e[1]))?c.content=e.innerHTML:d=true;else d=true;else if(c.player=="swf"||c.player=="flv"){e=c.options&&c.options.flashVersion||l.options.flashVersion;if(l.flash&&!l.flash.hasFlashPlayerVersion(e)){c.width=310;c.height=
177}}if(d){l.gallery.splice(g,1);if(g<l.current)--l.current;else if(g==l.current)l.current=g>0?g-1:g;--g}}if(l.gallery.length){a=l.getCurrent();if(l.options.onOpen(a)!==false){ha=true;l.skin.onOpen(a,o)}}}}};l.close=function(){if(ha){ha=false;if(l.player){l.player.remove();l.player=null}if(typeof sa=="number"){clearTimeout(sa);sa=null}ka=0;h(false);l.options.onClose(l.getCurrent());l.skin.onClose();l.revertOptions()}};l.play=function(){if(l.hasNext()){ka||(ka=l.options.slideshowDelay*1E3);if(ka){Na=
(new Date).getTime();sa=setTimeout(function(){ka=Na=0;l.next()},ka);if(l.skin.onPlay)l.skin.onPlay()}}};l.pause=function(){if(typeof sa=="number")if(ka=Math.max(0,ka-((new Date).getTime()-Na))){clearTimeout(sa);sa="pause";if(l.skin.onPause)l.skin.onPause()}};l.change=function(a){if(!(a in l.gallery))if(l.options.continuous){a=a<0?l.gallery.length+a:0;if(!(a in l.gallery))return}else return;l.current=a;if(typeof sa=="number"){clearTimeout(sa);sa=null;ka=Na=0}l.options.onChange(l.getCurrent());o(true)};
l.next=function(){l.change(l.current+1)};l.previous=function(){l.change(l.current-1)};l.setDimensions=function(a,b,c,d,f,e,g,h){var k=a,o=b,n=2*g+f;a+n>c&&(a=c-n);var s=2*g+e;b+s>d&&(b=d-s);var q=(k-a)/k,r=(o-b)/o,u=q>0||r>0;h&&u&&(q>r?b=Math.round(o/k*a):r>q&&(a=Math.round(k/o*b)));l.dimensions={height:a+f,width:b+e,innerHeight:a,innerWidth:b,top:Math.floor((c-(a+n))/2+g),left:Math.floor((d-(b+s))/2+g),oversized:u};return l.dimensions};l.makeGallery=function(a){var b=[],c=-1;typeof a=="string"&&
(a=[a]);if(typeof a.length=="number"){z(a,function(a,c){b[a]=c.content?c:{content:c}});c=0}else{if(a.tagName)var d=l.getCache(a),a=d?d:l.makeObject(a);if(a.gallery){var b=[],f;for(f in l.cache){d=l.cache[f];if(d.gallery&&d.gallery==a.gallery){if(c==-1&&d.content==a.content)c=b.length;b.push(d)}}if(c==-1){b.unshift(a);c=0}}else{b=[a];c=0}}z(b,function(a,c){b[a]=r({},c)});return[b,c]};l.makeObject=function(a,b){var c={content:a.href,title:a.getAttribute("title")||"",link:a};if(b){b=r({},b);z(["player",
"title","height","width","gallery"],function(a,d){if(typeof b[d]!="undefined"){c[d]=b[d];delete b[d]}});c.options=b}else c.options={};if(!c.player)c.player=l.getPlayer(c.content);var d=a.getAttribute("rel");if(d){var f=d.match(R);if(f)c.gallery=escape(f[2]);z(d.split(";"),function(a,b){(f=b.match(na))&&(c[f[1]]=f[2])})}return c};l.getPlayer=function(a){if(a.indexOf("#")>-1&&a.indexOf(document.location.href)==0)return"inline";var b=a.indexOf("?");b>-1&&(a=a.substring(0,b));var c;(a=a.match(Ea))&&(c=
a[0].toLowerCase());if(c){if(l.img&&l.img.ext.indexOf(c)>-1)return"img";if(l.swf&&l.swf.ext.indexOf(c)>-1)return"swf";if(l.flv&&l.flv.ext.indexOf(c)>-1)return"flv";if(l.qt&&l.qt.ext.indexOf(c)>-1)return l.wmp&&l.wmp.ext.indexOf(c)>-1?"qtwmp":"qt";if(l.wmp&&l.wmp.ext.indexOf(c)>-1)return"wmp"}return"iframe"};Array.prototype.indexOf||(Array.prototype.indexOf=function(a,b){var c=this.length>>>0,b=b||0;for(b<0&&(b=b+c);b<c;++b)if(b in this&&this[b]===a)return b;return-1});var Qa=!0,Ra=!0,xa=/opacity=([^)]*)/,
ya=document.defaultView&&document.defaultView.getComputedStyle;l.getStyle=function(a,b){var c;if(!Qa&&b=="opacity"&&a.currentStyle){c=xa.test(a.currentStyle.filter||"")?parseFloat(RegExp.$1)/100+"":"";return c===""?"1":c}if(ya){var d=ya(a,null);d&&(c=d[b]);b=="opacity"&&c==""&&(c="1")}else c=a.currentStyle[b];return c};l.appendHTML=function(a,b){if(a.insertAdjacentHTML)a.insertAdjacentHTML("BeforeEnd",b);else if(a.lastChild){var c=a.ownerDocument.createRange();c.setStartAfter(a.lastChild);c=c.createContextualFragment(b);
a.appendChild(c)}else a.innerHTML=b};l.getWindowSize=function(a){return document.compatMode==="CSS1Compat"?document.documentElement["client"+a]:document.body["client"+a]};l.setOpacity=function(a,b){var c=a.style;if(Qa)c.opacity=b==1?"":b;else{c.zoom=1;if(b==1){if(typeof c.filter=="string"&&/alpha/i.test(c.filter))c.filter=c.filter.replace(/\s*[\w\.]*alpha\([^\)]*\);?/gi,"")}else c.filter=(c.filter||"").replace(/\s*[\w\.]*alpha\([^\)]*\)/gi,"")+" alpha(opacity="+b*100+")"}};l.clearOpacity=function(a){l.setOpacity(a,
1)};A.guid=1;A.handleEvent=function(a){var b=true,a=a||A.fixEvent(((this.ownerDocument||this.document||this).parentWindow||e).event),c=this.events[a.type],d;for(d in c){this.__handleEvent=c[d];this.__handleEvent(a)===false&&(b=false)}return b};A.preventDefault=function(){this.returnValue=false};A.stopPropagation=function(){this.cancelBubble=true};A.fixEvent=function(a){a.preventDefault=A.preventDefault;a.stopPropagation=A.stopPropagation;return a};var Ha=!1,Xa;document.addEventListener?Xa=function(){document.removeEventListener("DOMContentLoaded",
Xa,false);l.load()}:document.attachEvent&&(Xa=function(){if(document.readyState==="complete"){document.detachEvent("onreadystatechange",Xa);l.load()}});l.load=function(){if(!Ha){if(!document.body)return setTimeout(l.load,13);Ha=true;var a=document.body,b=document.createElement("div");Qa=typeof b.style.opacity==="string";b.style.position="fixed";b.style.margin=0;b.style.top="20px";a.appendChild(b,a.firstChild);Ra=b.offsetTop==20;a.removeChild(b);l.onReady();l.options.skipSetup||l.setup();l.skin.init()}};
l.plugins={};if(navigator.plugins&&navigator.plugins.length){var La=[];z(navigator.plugins,function(a,b){La.push(b.name)});La=La.join(",");w=-1<La.indexOf("Flip4Mac");l.plugins={fla:-1<La.indexOf("Shockwave Flash"),qt:-1<La.indexOf("QuickTime"),wmp:!w&&-1<La.indexOf("Windows Media"),f4m:w}}else w=function(a){var b;try{b=new ActiveXObject(a)}catch(c){}return!!b},l.plugins={fla:w("ShockwaveFlash.ShockwaveFlash"),qt:w("QuickTime.QuickTime"),wmp:w("wmplayer.ocx"),f4m:!1};var Oa=/^(light|shadow)box/i,
X=1;l.cache={};l.select=function(a){var b=[];if(a){var c=a.length;if(c)if(typeof a=="string")l.find&&(b=l.find(a));else if(c==2&&typeof a[0]=="string"&&a[1].nodeType)l.find&&(b=l.find(a[0],a[1]));else for(var d=0;d<c;++d)b[d]=a[d];else b.push(a)}else{var f;z(document.getElementsByTagName("a"),function(a,c){(f=c.getAttribute("rel"))&&Oa.test(f)&&b.push(c)})}return b};l.setup=function(a,b){z(l.select(a),function(a,c){l.addCache(c,b)})};l.teardown=function(a){z(l.select(a),function(a,b){l.removeCache(b)})};
l.addCache=function(a,b){var c=a.shadowboxCacheKey;if(c==void 0){c=X++;a.shadowboxCacheKey=c;A(a,"click",n)}l.cache[c]=l.makeObject(a,b)};l.removeCache=function(a){Y(a,"click",n);delete l.cache[a.shadowboxCacheKey];a.shadowboxCacheKey=null};l.getCache=function(a){a=a.shadowboxCacheKey;return a in l.cache&&l.cache[a]};l.clearCache=function(){for(var a in l.cache)l.removeCache(l.cache[a].link);l.cache={}};var w=l,ca=function(a){for(var b="",c,d=0;a[d];d++){c=a[d];c.nodeType===3||c.nodeType===4?b=b+
c.nodeValue:c.nodeType!==8&&(b=b+ca(c.childNodes))}return b},Ya=function(a,b,c,d,f,e){for(var f=0,g=d.length;f<g;f++){var h=d[f];if(h){for(var h=h[a],k=false;h;){if(h.sizcache===c){k=d[h.sizset];break}if(h.nodeType===1&&!e){h.sizcache=c;h.sizset=f}if(h.nodeName.toLowerCase()===b){k=h;break}h=h[a]}d[f]=k}}},pa=function(a,b,c,d,f,e){for(var f=0,g=d.length;f<g;f++){var h=d[f];if(h){for(var h=h[a],k=false;h;){if(h.sizcache===c){k=d[h.sizset];break}if(h.nodeType===1){if(!e){h.sizcache=c;h.sizset=f}if(typeof b!==
"string"){if(h===b){k=true;break}}else if(U.filter(b,[h]).length>0){k=h;break}}h=h[a]}d[f]=k}}},ba=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^[\]]*\]|['"][^'"]*['"]|[^[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,ja=0,bb=Object.prototype.toString,fa=!1,ia=!0;[0,0].sort(function(){ia=false;return 0});var U=function(a,b,c,d){var c=c||[],f=b=b||document;if(b.nodeType!==1&&b.nodeType!==9)return[];if(!a||typeof a!=="string")return c;for(var e=[],g,h,k,l,o=true,n=Va(b),s=a;(ba.exec(""),
g=ba.exec(s))!==null;){s=g[3];e.push(g[1]);if(g[2]){l=g[3];break}}if(e.length>1&&D.exec(a))if(e.length===2&&F.relative[e[0]])h=Bb(e[0]+e[1],b);else for(h=F.relative[e[0]]?[b]:U(e.shift(),b);e.length;){a=e.shift();F.relative[a]&&(a=a+e.shift());h=Bb(a,h)}else{if(!d&&e.length>1&&b.nodeType===9&&!n&&F.match.ID.test(e[0])&&!F.match.ID.test(e[e.length-1])){g=U.find(e.shift(),b,n);b=g.expr?U.filter(g.expr,g.set)[0]:g.set[0]}if(b){g=d?{expr:e.pop(),set:H(d)}:U.find(e.pop(),e.length===1&&(e[0]==="~"||e[0]===
"+")&&b.parentNode?b.parentNode:b,n);h=g.expr?U.filter(g.expr,g.set):g.set;for(e.length>0?k=H(h):o=false;e.length;){var q=e.pop();g=q;F.relative[q]?g=e.pop():q="";g==null&&(g=b);F.relative[q](k,g,n)}}else k=[]}k||(k=h);if(!k)throw"Syntax error, unrecognized expression: "+(q||a);if(bb.call(k)==="[object Array]")if(o)if(b&&b.nodeType===1)for(a=0;k[a]!=null;a++)k[a]&&(k[a]===true||k[a].nodeType===1&&N(b,k[a]))&&c.push(h[a]);else for(a=0;k[a]!=null;a++)k[a]&&k[a].nodeType===1&&c.push(h[a]);else c.push.apply(c,
k);else H(k,c);if(l){U(l,f,c,d);U.uniqueSort(c)}return c};U.uniqueSort=function(a){if(ra){fa=ia;a.sort(ra);if(fa)for(var b=1;b<a.length;b++)a[b]===a[b-1]&&a.splice(b--,1)}return a};U.matches=function(a,b){return U(a,null,null,b)};U.find=function(a,b,c){var d,f;if(!a)return[];for(var e=0,g=F.order.length;e<g;e++){var h=F.order[e];if(f=F.leftMatch[h].exec(a)){var k=f[1];f.splice(1,1);if(k.substr(k.length-1)!=="\\"){f[1]=(f[1]||"").replace(/\\/g,"");d=F.find[h](f,b,c);if(d!=null){a=a.replace(F.match[h],
"");break}}}}d||(d=b.getElementsByTagName("*"));return{set:d,expr:a}};U.filter=function(a,b,c,d){for(var f=a,e=[],g=b,h,k,l=b&&b[0]&&Va(b[0]);a&&b.length;){for(var o in F.filter)if((h=F.match[o].exec(a))!=null){var n=F.filter[o],s,q;k=false;g===e&&(e=[]);if(F.preFilter[o])if(h=F.preFilter[o](h,g,c,e,d,l)){if(h===true)continue}else k=s=true;if(h)for(var r=0;(q=g[r])!=null;r++)if(q){s=n(q,h,r,g);var u=d^!!s;if(c&&s!=null)u?k=true:g[r]=false;else if(u){e.push(q);k=true}}if(s!==void 0){c||(g=e);a=a.replace(F.match[o],
"");if(!k)return[];break}}if(a===f){if(k==null)throw"Syntax error, unrecognized expression: "+a;break}f=a}return g};var F=U.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF-]|\\.)+)\s*(?:(\S?=)\s*(['"]*)(.*?)\3|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\((even|odd|[\dn+-]*)\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^-]|$)/,
PSEUDO:/:((?:[\w\u00c0-\uFFFF-]|\\.)+)(?:\((['"]*)((?:\([^\)]+\)|[^\2\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(a){return a.getAttribute("href")}},relative:{"+":function(a,b){var c=typeof b==="string",d=c&&!/\W/.test(b),c=c&&!d;d&&(b=b.toLowerCase());for(var d=0,f=a.length,e;d<f;d++)if(e=a[d]){for(;(e=e.previousSibling)&&e.nodeType!==1;);a[d]=c||e&&e.nodeName.toLowerCase()===b?e||false:e===b}c&&U.filter(b,a,true)},">":function(a,b){var c=
typeof b==="string";if(c&&!/\W/.test(b))for(var b=b.toLowerCase(),d=0,f=a.length;d<f;d++){var e=a[d];if(e){c=e.parentNode;a[d]=c.nodeName.toLowerCase()===b?c:false}}else{d=0;for(f=a.length;d<f;d++)(e=a[d])&&(a[d]=c?e.parentNode:e.parentNode===b);c&&U.filter(b,a,true)}},"":function(a,b,c){var d=ja++,f=pa;if(typeof b==="string"&&!/\W/.test(b))var e=b=b.toLowerCase(),f=Ya;f("parentNode",b,d,a,e,c)},"~":function(a,b,c){var d=ja++,f=pa;if(typeof b==="string"&&!/\W/.test(b))var e=b=b.toLowerCase(),f=Ya;
f("previousSibling",b,d,a,e,c)}},find:{ID:function(a,b,c){if(typeof b.getElementById!=="undefined"&&!c)return(a=b.getElementById(a[1]))?[a]:[]},NAME:function(a,b){if(typeof b.getElementsByName!=="undefined"){for(var c=[],d=b.getElementsByName(a[1]),f=0,e=d.length;f<e;f++)d[f].getAttribute("name")===a[1]&&c.push(d[f]);return c.length===0?null:c}},TAG:function(a,b){return b.getElementsByTagName(a[1])}},preFilter:{CLASS:function(a,b,c,d,f,e){a=" "+a[1].replace(/\\/g,"")+" ";if(e)return a;for(var e=0,
g;(g=b[e])!=null;e++)g&&(f^(g.className&&(" "+g.className+" ").replace(/[\t\n]/g," ").indexOf(a)>=0)?c||d.push(g):c&&(b[e]=false));return false},ID:function(a){return a[1].replace(/\\/g,"")},TAG:function(a){return a[1].toLowerCase()},CHILD:function(a){if(a[1]==="nth"){var b=/(-?)(\d*)n((?:\+|-)?\d*)/.exec(a[2]==="even"&&"2n"||a[2]==="odd"&&"2n+1"||!/\D/.test(a[2])&&"0n+"+a[2]||a[2]);a[2]=b[1]+(b[2]||1)-0;a[3]=b[3]-0}a[0]=ja++;return a},ATTR:function(a,b,c,d,f,e){b=a[1].replace(/\\/g,"");!e&&F.attrMap[b]&&
(a[1]=F.attrMap[b]);a[2]==="~="&&(a[4]=" "+a[4]+" ");return a},PSEUDO:function(a,b,c,d,f){if(a[1]==="not")if((ba.exec(a[3])||"").length>1||/^\w/.test(a[3]))a[3]=U(a[3],null,null,b);else{a=U.filter(a[3],b,c,1^f);c||d.push.apply(d,a);return false}else if(F.match.POS.test(a[0])||F.match.CHILD.test(a[0]))return true;return a},POS:function(a){a.unshift(true);return a}},filters:{enabled:function(a){return a.disabled===false&&a.type!=="hidden"},disabled:function(a){return a.disabled===true},checked:function(a){return a.checked===
true},selected:function(a){a.parentNode.selectedIndex;return a.selected===true},parent:function(a){return!!a.firstChild},empty:function(a){return!a.firstChild},has:function(a,b,c){return!!U(c[3],a).length},header:function(a){return/h\d/i.test(a.nodeName)},text:function(a){return"text"===a.type},radio:function(a){return"radio"===a.type},checkbox:function(a){return"checkbox"===a.type},file:function(a){return"file"===a.type},password:function(a){return"password"===a.type},submit:function(a){return"submit"===
a.type},image:function(a){return"image"===a.type},reset:function(a){return"reset"===a.type},button:function(a){return"button"===a.type||a.nodeName.toLowerCase()==="button"},input:function(a){return/input|select|textarea|button/i.test(a.nodeName)}},setFilters:{first:function(a,b){return b===0},last:function(a,b,c,d){return b===d.length-1},even:function(a,b){return b%2===0},odd:function(a,b){return b%2===1},lt:function(a,b,c){return b<c[3]-0},gt:function(a,b,c){return b>c[3]-0},nth:function(a,b,c){return c[3]-
0===b},eq:function(a,b,c){return c[3]-0===b}},filter:{PSEUDO:function(a,b,c,d){var f=b[1],e=F.filters[f];if(e)return e(a,c,b,d);if(f==="contains")return(a.textContent||a.innerText||ca([a])||"").indexOf(b[3])>=0;if(f==="not"){b=b[3];c=0;for(d=b.length;c<d;c++)if(b[c]===a)return false;return true}throw"Syntax error, unrecognized expression: "+f;},CHILD:function(a,b){var c=b[1],d=a;switch(c){case "only":case "first":for(;d=d.previousSibling;)if(d.nodeType===1)return false;if(c==="first")return true;
d=a;case "last":for(;d=d.nextSibling;)if(d.nodeType===1)return false;return true;case "nth":var c=b[2],f=b[3];if(c===1&&f===0)return true;var e=b[0],g=a.parentNode;if(g&&(g.sizcache!==e||!a.nodeIndex)){for(var h=0,d=g.firstChild;d;d=d.nextSibling)if(d.nodeType===1)d.nodeIndex=++h;g.sizcache=e}d=a.nodeIndex-f;return c===0?d===0:d%c===0&&d/c>=0}},ID:function(a,b){return a.nodeType===1&&a.getAttribute("id")===b},TAG:function(a,b){return b==="*"&&a.nodeType===1||a.nodeName.toLowerCase()===b},CLASS:function(a,
b){return(" "+(a.className||a.getAttribute("class"))+" ").indexOf(b)>-1},ATTR:function(a,b){var c=b[1],c=F.attrHandle[c]?F.attrHandle[c](a):a[c]!=null?a[c]:a.getAttribute(c),d=c+"",f=b[2],e=b[4];return c==null?f==="!=":f==="="?d===e:f==="*="?d.indexOf(e)>=0:f==="~="?(" "+d+" ").indexOf(e)>=0:!e?d&&c!==false:f==="!="?d!==e:f==="^="?d.indexOf(e)===0:f==="$="?d.substr(d.length-e.length)===e:f==="|="?d===e||d.substr(0,e.length+1)===e+"-":false},POS:function(a,b,c,d){var f=F.setFilters[b[2]];if(f)return f(a,
c,b,d)}}},D=F.match.POS,J;for(J in F.match)F.match[J]=RegExp(F.match[J].source+/(?![^\[]*\])(?![^\(]*\))/.source),F.leftMatch[J]=RegExp(/(^(?:.|\r|\n)*?)/.source+F.match[J].source);var H=function(a,b){a=Array.prototype.slice.call(a,0);if(b){b.push.apply(b,a);return b}return a};try{Array.prototype.slice.call(document.documentElement.childNodes,0)}catch(ma){H=function(a,b){var c=b||[];if(bb.call(a)==="[object Array]")Array.prototype.push.apply(c,a);else if(typeof a.length==="number")for(var d=0,f=a.length;d<
f;d++)c.push(a[d]);else for(d=0;a[d];d++)c.push(a[d]);return c}}var ra;document.documentElement.compareDocumentPosition?ra=function(a,b){if(!a.compareDocumentPosition||!b.compareDocumentPosition){a==b&&(fa=true);return a.compareDocumentPosition?-1:1}var c=a.compareDocumentPosition(b)&4?-1:a===b?0:1;c===0&&(fa=true);return c}:"sourceIndex"in document.documentElement?ra=function(a,b){if(!a.sourceIndex||!b.sourceIndex){a==b&&(fa=true);return a.sourceIndex?-1:1}var c=a.sourceIndex-b.sourceIndex;c===0&&
(fa=true);return c}:document.createRange&&(ra=function(a,b){if(!a.ownerDocument||!b.ownerDocument){a==b&&(fa=true);return a.ownerDocument?-1:1}var c=a.ownerDocument.createRange(),d=b.ownerDocument.createRange();c.setStart(a,0);c.setEnd(a,0);d.setStart(b,0);d.setEnd(b,0);c=c.compareBoundaryPoints(Range.START_TO_END,d);c===0&&(fa=true);return c});J=document.createElement("div");V="script"+(new Date).getTime();J.innerHTML="<a name='"+V+"'/>";var Za=document.documentElement;Za.insertBefore(J,Za.firstChild);
document.getElementById(V)&&(F.find.ID=function(a,b,c){if(typeof b.getElementById!=="undefined"&&!c)return(b=b.getElementById(a[1]))?b.id===a[1]||typeof b.getAttributeNode!=="undefined"&&b.getAttributeNode("id").nodeValue===a[1]?[b]:void 0:[]},F.filter.ID=function(a,b){var c=typeof a.getAttributeNode!=="undefined"&&a.getAttributeNode("id");return a.nodeType===1&&c&&c.nodeValue===b});Za.removeChild(J);Za=J=null;J=document.createElement("div");J.appendChild(document.createComment(""));0<J.getElementsByTagName("*").length&&
(F.find.TAG=function(a,b){var c=b.getElementsByTagName(a[1]);if(a[1]==="*"){for(var d=[],f=0;c[f];f++)c[f].nodeType===1&&d.push(c[f]);c=d}return c});J.innerHTML="<a href='#'></a>";J.firstChild&&("undefined"!==typeof J.firstChild.getAttribute&&"#"!==J.firstChild.getAttribute("href"))&&(F.attrHandle.href=function(a){return a.getAttribute("href",2)});J=null;if(document.querySelectorAll){var rb=U;J=document.createElement("div");J.innerHTML="<p class='TEST'></p>";if(!(J.querySelectorAll&&0===J.querySelectorAll(".TEST").length)){var U=
function(a,b,c,d){b=b||document;if(!d&&b.nodeType===9&&!Va(b))try{return H(b.querySelectorAll(a),c)}catch(f){}return rb(a,b,c,d)},oa;for(oa in rb)U[oa]=rb[oa];J=null}}oa=document.createElement("div");oa.innerHTML="<div class='test e'></div><div class='test'></div>";oa.getElementsByClassName&&0!==oa.getElementsByClassName("e").length&&(oa.lastChild.className="e",1!==oa.getElementsByClassName("e").length&&(F.order.splice(1,0,"CLASS"),F.find.CLASS=function(a,b,c){if(typeof b.getElementsByClassName!==
"undefined"&&!c)return b.getElementsByClassName(a[1])},oa=null));var N=document.compareDocumentPosition?function(a,b){return a.compareDocumentPosition(b)&16}:function(a,b){return a!==b&&(a.contains?a.contains(b):true)},Va=function(a){return(a=(a?a.ownerDocument||a:0).documentElement)?a.nodeName!=="HTML":false},Bb=function(a,b){for(var c=[],d="",f,e=b.nodeType?[b]:b;f=F.match.PSEUDO.exec(a);){d=d+f[0];a=a.replace(F.match.PSEUDO,"")}a=F.relative[a]?a+"*":a;f=0;for(var g=e.length;f<g;f++)U(a,e[f],c);
return U.filter(d,c)};w.find=U;l.lang={code:"en",of:"of",loading:"loading",cancel:"Cancel",next:"Next",previous:"Previous",play:"Play",pause:"Pause",close:"Close",errors:{single:'You must install the <a href="{0}">{1}</a> browser plugin to view this content.',shared:'You must install both the <a href="{0}">{1}</a> and <a href="{2}">{3}</a> browser plugins to view this content.',either:'You must install either the <a href="{0}">{1}</a> or the <a href="{2}">{3}</a> browser plugin to view this content.'}};
var Ja,Pa,Ga;l.img=function(a,b){this.obj=a;this.id=b;this.ready=false;var c=this;Ja=new Image;Ja.onload=function(){c.height=a.height?parseInt(a.height,10):Ja.height;c.width=a.width?parseInt(a.width,10):Ja.width;c.ready=true;Ja=Ja.onload=null};Ja.src=a.content};l.img.ext=["bmp","gif","jpg","jpeg","png"];l.img.prototype={append:function(a,b){var c=document.createElement("img");c.id=this.id;c.src=this.obj.content;c.style.position="absolute";var d,f;if(b.oversized&&l.options.handleOversize=="resize"){d=
b.innerHeight;f=b.innerWidth}else{d=this.height;f=this.width}c.setAttribute("height",d);c.setAttribute("width",f);a.appendChild(c)},remove:function(){var a=u(this.id);a&&P(a);if(Pa){Y(Pa,"mousedown",za);P(Pa);Pa=null}Ga=null;if(Ja)Ja=Ja.onload=null},onLoad:function(){if(l.dimensions.oversized&&l.options.handleOversize=="drag"){b=a=0;c=d=null;var f=["position:absolute","cursor:"+(l.isGecko?"-moz-grab":"move"),"background-color:"+(l.isIE?"#fff;filter:alpha(opacity=0)":"transparent")].join(";");l.appendHTML(l.skin.body,
'<div id="sb-drag-proxy" style="'+f+'"></div>');Pa=u("sb-drag-proxy");T();A(Pa,"mousedown",za)}},onWindowResize:function(){var a=l.dimensions;switch(l.options.handleOversize){case "resize":var b=u(this.id);b.height=a.innerHeight;b.width=a.innerWidth;break;case "drag":if(Ga){var b=parseInt(l.getStyle(Ga,"top")),c=parseInt(l.getStyle(Ga,"left"));if(b+this.height<a.innerHeight)Ga.style.top=a.innerHeight-this.height+"px";if(c+this.width<a.innerWidth)Ga.style.left=a.innerWidth-this.width+"px";T()}}}};
l.iframe=function(a,b){this.obj=a;this.id=b;var c=u("sb-overlay");this.height=a.height?parseInt(a.height,10):c.offsetHeight;this.width=a.width?parseInt(a.width,10):c.offsetWidth};l.iframe.prototype={append:function(a){var b='<iframe id="'+this.id+'" name="'+this.id+'" height="100%" width="100%" frameborder="0" marginwidth="0" marginheight="0" style="visibility:hidden" onload="this.style.visibility=\'visible\'" scrolling="auto"';if(l.isIE){b=b+' allowtransparency="true"';l.isIE6&&(b=b+" src=\"javascript:false;document.write('');\"")}a.innerHTML=
b+"></iframe>"},remove:function(){var a=u(this.id);if(a){P(a);l.isGecko&&delete e.frames[this.id]}},onLoad:function(){(l.isIE?u(this.id).contentWindow:e.frames[this.id]).location.href=this.obj.content}};l.html=function(a,b){this.obj=a;this.id=b;this.height=a.height?parseInt(a.height,10):300;this.width=a.width?parseInt(a.width,10):500};l.html.prototype={append:function(a){var b=document.createElement("div");b.id=this.id;b.className="html";b.innerHTML=this.obj.content;a.appendChild(b)},remove:function(){var a=
u(this.id);a&&P(a)}};var Ka=!1,Wa=[],sb=["sb-nav-close","sb-nav-next","sb-nav-play","sb-nav-pause","sb-nav-previous"],qa,Ma,ab,Ta=!0,Aa={markup:'<div id="sb-container"><div id="sb-overlay"></div><div id="sb-wrapper"><div id="sb-title"><div id="sb-title-inner"></div></div><div id="sb-wrapper-inner"><div id="sb-body"><div id="sb-body-inner"></div><div id="sb-loading"><div id="sb-loading-inner"><span>{loading}</span></div></div></div></div><div id="sb-info"><div id="sb-info-inner"><div id="sb-counter"></div><div id="sb-nav"><a id="sb-nav-close" title="{close}" onclick="Shadowbox.close()"></a><a id="sb-nav-next" title="{next}" onclick="Shadowbox.next()"></a><a id="sb-nav-play" title="{play}" onclick="Shadowbox.play()"></a><a id="sb-nav-pause" title="{pause}" onclick="Shadowbox.pause()"></a><a id="sb-nav-previous" title="{previous}" onclick="Shadowbox.previous()"></a></div></div></div></div></div>',
options:{animSequence:"sync",counterLimit:10,counterType:"default",displayCounter:!0,displayNav:!0,fadeDuration:0.35,initialHeight:160,initialWidth:320,modal:!1,overlayColor:"#000",overlayOpacity:0.5,resizeDuration:0.35,showOverlay:!0,troubleElements:["select","object","embed","canvas"]},init:function(){l.appendHTML(document.body,v(Aa.markup,l.lang));Aa.body=u("sb-body-inner");qa=u("sb-container");Ma=u("sb-overlay");ab=u("sb-wrapper");if(!Ra)qa.style.position="absolute";if(!Qa){var a,b,c=/url\("(.*\.png)"\)/;
z(sb,function(d,f){if(a=u(f))if(b=l.getStyle(a,"backgroundImage").match(c)){a.style.backgroundImage="none";a.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled=true,src="+b[1]+",sizingMethod=scale);"}})}var d;A(e,"resize",function(){if(d){clearTimeout(d);d=null}ha&&(d=setTimeout(Aa.onWindowResize,10))})},onOpen:function(a,b){Ta=false;qa.style.display="block";g();var c=da(l.options.initialHeight,l.options.initialWidth);Q(c.innerHeight,c.top);G(c.width,c.left);if(l.options.showOverlay){Ma.style.backgroundColor=
l.options.overlayColor;l.setOpacity(Ma,0);l.options.modal||A(Ma,"click",l.close);Ka=true}if(!Ra){O();A(e,"scroll",O)}x();qa.style.visibility="visible";Ka?M(Ma,"opacity",l.options.overlayOpacity,l.options.fadeDuration,b):b()},onLoad:function(a,b){for(E(true);Aa.body.firstChild;)P(Aa.body.firstChild);var c=u("sb-title"),d=u("sb-info"),c=c.offsetHeight,d=d.offsetHeight,f=u("sb-title-inner"),e=u("sb-info-inner"),g=a?0.35:0;M(f,"marginTop",c,g);M(e,"marginTop",d*-1,g,function(){f.style.visibility=e.style.visibility=
"hidden";if(ha){if(!a)ab.style.visibility="visible";var c=l.getCurrent();u("sb-title-inner").innerHTML=c.title||"";var d,g,h,k,o;if(l.options.displayNav){d=true;c=l.gallery.length;if(c>1)if(l.options.continuous)g=o=true;else{g=c-1>l.current;o=l.current>0}if(l.options.slideshowDelay>0&&l.hasNext()){k=!l.isPaused();h=!k}}else d=g=h=k=o=false;q("close",d);q("next",g);q("play",h);q("pause",k);q("previous",o);g="";if(l.options.displayCounter&&l.gallery.length>1){c=l.gallery.length;if(l.options.counterType==
"skip"){h=0;o=c;k=parseInt(l.options.counterLimit)||0;if(k<c&&k>2){o=Math.floor(k/2);h=l.current-o;h<0&&(h=h+c);o=l.current+(k-o);o>c&&(o=o-c)}for(;h!=o;){h==c&&(h=0);g=g+('<a onclick="Shadowbox.change('+h+');"');h==l.current&&(g=g+' class="sb-counter-current"');g=g+(">"+ ++h+"</a>")}}else g=[l.current+1,l.lang.of,c].join(" ")}u("sb-counter").innerHTML=g;b()}})},onReady:function(a){if(ha){var b=l.player,c=da(b.height,b.width),d=function(){var b=u("sb-title-inner"),c=u("sb-info-inner");b.style.visibility=
c.style.visibility="";b.innerHTML!=""&&M(b,"marginTop",0,0.35);M(c,"marginTop",0,0.35,a)};switch(l.options.animSequence){case "hw":Q(c.innerHeight,c.top,true,function(){G(c.width,c.left,true,d)});break;case "wh":G(c.width,c.left,true,function(){Q(c.innerHeight,c.top,true,d)});break;default:G(c.width,c.left,true);Q(c.innerHeight,c.top,true,d)}}},onShow:function(a){E(false,a);Ta=true},onClose:function(){Ra||Y(e,"scroll",O);Y(Ma,"click",l.close);ab.style.visibility="hidden";var a=function(){qa.style.visibility=
"hidden";qa.style.display="none";x(true)};Ka?M(Ma,"opacity",0,l.options.fadeDuration,a):a()},onPlay:function(){q("play",false);q("pause",true)},onPause:function(){q("pause",false);q("play",true)},onWindowResize:function(){if(Ta){g();var a=l.player,b=da(a.height,a.width);G(b.width,b.left);Q(b.innerHeight,b.top);if(a.onWindowResize)a.onWindowResize()}}};l.skin=Aa;e.Shadowbox=l});define("bridge/shadowbox",["lib/shadowbox"],function(){var a;window.Shadowbox&&(a=window.Shadowbox);return a});
define("util/shadowbox_init",["bridge/jquery","bridge/shadowbox"],function(a,b){shadowbox_move_close_button=function(){var a=document.getElementById("sb-nav-close"),b=document.getElementById("sb-wrapper");b&&b.appendChild(a)};shadowbox_on_open=function(){navigator.userAgent.match(/(iPad|iPod|iPhone)/)&&navigator.userAgent.match(/(OS 3_|OS 4_)/)&&window.scrollTo(0,0);shadowbox_move_close_button()};a(document).ready(function(){b.init({onOpen:shadowbox_on_open})})});
define("simplekey/PhotoHelper",["bridge/jquery","util/shadowbox_init"],function(a){var b={init:function(){},prepare_to_enlarge:function(){a("#sb-title-inner").first().addClass("hidden");shadowbox_on_open()},process_credit:function(){var b=a("#sb-title-inner").first(),c=b.html().split(" ~ "),e=c[0],h=c[1],f=c[2],o="";c[3]&&(o=c[3]);var e=e.split(":"),k=e[0],s="",B=a("h2 .scientific");0<B.length?s=a.trim(B[0].innerHTML)+".":void 0!==e[1]&&(s="<i>"+a.trim(e[1])+"</i>");0<s.length&&(k+=": "+s);h="<div><h6>"+
k+"</h6><span>"+h+" "+f+' <a href="/legal/terms-of-use/#ip" target="_blank">Terms of Use</a></span>';""!==o&&(h+="<br><span>"+c[3]+"</span>");b.html(h+"</div>");b.removeClass("hidden")}};return function(){var a=Object.create(b);a.init();return a}});
require(["bridge/jquery","util/sidebar","bridge/jquery.mousewheel","bridge/shadowbox","simplekey/PhotoHelper"],function(a,b,d,c,e){b.setup();a(document).ready(function(){a(".img-container").scrollable({keyboard:!1});a(".img-gallery").each(function(){var b=this,d=e();a(b).children(".frame").click(function(){var e=a(b).children(".img-container").data("scrollable"),e=e.getItems()[e.getIndex()],k=a(e).attr("rel"),s=a(e).attr("title"),k=k.split("[")[1].split("]")[0];c.setup(".img-gallery .images a",{onOpen:d.prepare_to_enlarge,
onChange:d.prepare_to_enlarge,onFinish:d.process_credit});c.open({content:e,gallery:k,player:"img",title:s,options:{counterType:"skip"}})})})})});define("util/activate_image_gallery",function(){});
require(["bridge/jquery","bridge/shadowbox","util/shadowbox_init"],function(a,b){a(document).ready(function(){a("a.video").each(function(){if(navigator.userAgent.match(/(iPad|iPod|iPhone)/)){var d=this.href.lastIndexOf("/")+1,c=this.href.indexOf("?");this.href="http://www.youtube.com/v/"+this.href.substring(d,c)}else{var e=this;a(this).click(function(){b.open({content:e.href,player:"iframe"});return!1})}})})});define("util/activate_video_links",function(){});
require("util/activate_image_gallery bridge/shadowbox util/shadowbox_init util/sidebar util/activate_video_links util/glossarizer".split(" "),function(a,b,d,c,e,h){c.setup();$(document).ready(function(){h.glossarize($(".key-char, .exceptions"))})});define("simplekey/simple",function(){});define("util/document_is_ready",["bridge/jquery"],function(a){var b=a.Deferred();a(document).ready(function(){b.resolve()});return b});
define("lib/jquery.jscrollpane",["bridge/jquery"],function(){var a=jQuery,b=this,d=void 0;a.fn.jScrollPane=function(c){function e(c,f){function e(f){var F,D,J,H,ma,ra=!1,ba=!1;C=f;if(M===d)H=c.scrollTop(),ma=c.scrollLeft(),c.css({overflow:"hidden",padding:0}),g=c.innerWidth()+ca,O=c.innerHeight(),c.width(g),M=a('<div class="jspPane" />').css("padding",X).append(c.children()),x=a('<div class="jspContainer" />').css({width:g+"px",height:O+"px"}).append(M).appendTo(c);else{c.css("width","");if(ra=C.stickToBottom)ra=
E-O,ra=20<ra&&10>ra-T();if(ba=C.stickToRight)ba=q-g,ba=20<ba&&10>ba-n();if(J=c.innerWidth()+ca!=g||c.outerHeight()!=O)g=c.innerWidth()+ca,O=c.innerHeight(),x.css({width:g+"px",height:O+"px"});if(!J&&Ya==q&&M.outerHeight()==E){c.width(g);return}Ya=q;M.css("width","");c.width(g);x.find(">.jspVerticalBar,>.jspHorizontalBar").remove().end()}M.css("overflow","auto");q=f.contentWidth?f.contentWidth:M[0].scrollWidth;E=M[0].scrollHeight;M.css("overflow","");Q=q/g;G=E/O;da=1<G;l=1<Q;if(!l&&!da)c.removeClass("jspScrollable"),
M.css({top:0,width:x.width()-ca}),x.unbind(ia),M.find(":input,a").unbind("focus.jsp"),c.attr("tabindex","-1").removeAttr("tabindex").unbind("keydown.jsp keypress.jsp"),z();else{c.addClass("jspScrollable");if(f=C.maintainPosition&&(R||W))F=n(),D=T();da&&(x.append(a('<div class="jspVerticalBar" />').append(a('<div class="jspCap jspCapTop" />'),a('<div class="jspTrack" />').append(a('<div class="jspDrag" />').append(a('<div class="jspDragTop" />'),a('<div class="jspDragBottom" />'))),a('<div class="jspCap jspCapBottom" />'))),
ha=x.find(">.jspVerticalBar"),Fa=ha.find(">.jspTrack"),V=Fa.find(">.jspDrag"),C.showArrows&&(sa=a('<a class="jspArrow jspArrowUp" />').bind("mousedown.jsp",r(0,-1)).bind("click.jsp",za),Qa=a('<a class="jspArrow jspArrowDown" />').bind("mousedown.jsp",r(0,1)).bind("click.jsp",za),C.arrowScrollOnHover&&(sa.bind("mouseover.jsp",r(0,-1,sa)),Qa.bind("mouseover.jsp",r(0,1,Qa))),B(Fa,C.verticalArrowPositions,sa,Qa)),ka=O,x.find(">.jspVerticalBar>.jspCap:visible,>.jspVerticalBar>.jspArrow").each(function(){ka=
ka-a(this).outerHeight()}),V.hover(function(){V.addClass("jspHover")},function(){V.removeClass("jspHover")}).bind("mousedown.jsp",function(b){a("html").bind("dragstart.jsp selectstart.jsp",za);V.addClass("jspActive");var c=b.pageY-V.position().top;a("html").bind("mousemove.jsp",function(a){w(a.pageY-c,false)}).bind("mouseup.jsp mouseleave.jsp",v);return false}),k());l&&(x.append(a('<div class="jspHorizontalBar" />').append(a('<div class="jspCap jspCapLeft" />'),a('<div class="jspTrack" />').append(a('<div class="jspDrag" />').append(a('<div class="jspDragLeft" />'),
a('<div class="jspDragRight" />'))),a('<div class="jspCap jspCapRight" />'))),Ra=x.find(">.jspHorizontalBar"),xa=Ra.find(">.jspTrack"),na=xa.find(">.jspDrag"),C.showArrows&&(Xa=a('<a class="jspArrow jspArrowLeft" />').bind("mousedown.jsp",r(-1,0)).bind("click.jsp",za),La=a('<a class="jspArrow jspArrowRight" />').bind("mousedown.jsp",r(1,0)).bind("click.jsp",za),C.arrowScrollOnHover&&(Xa.bind("mouseover.jsp",r(-1,0,Xa)),La.bind("mouseover.jsp",r(1,0,La))),B(xa,C.horizontalArrowPositions,Xa,La)),na.hover(function(){na.addClass("jspHover")},
function(){na.removeClass("jspHover")}).bind("mousedown.jsp",function(b){a("html").bind("dragstart.jsp selectstart.jsp",za);na.addClass("jspActive");var c=b.pageX-na.position().left;a("html").bind("mousemove.jsp",function(a){P(a.pageX-c,false)}).bind("mouseup.jsp mouseleave.jsp",v);return false}),ya=x.innerWidth(),s());if(l&&da){J=xa.outerHeight();var fa=Fa.outerWidth();ka-=J;a(Ra).find(">.jspCap:visible,>.jspArrow").each(function(){ya=ya+a(this).outerWidth()});ya-=fa;O-=fa;g-=J;xa.parent().append(a('<div class="jspCorner" />').css("width",
J+"px"));k();s()}l&&M.width(x.outerWidth()-ca+"px");E=M.outerHeight();G=E/O;l&&(Ha=Math.ceil(1/Q*ya),Ha>C.horizontalDragMaxWidth?Ha=C.horizontalDragMaxWidth:Ha<C.horizontalDragMinWidth&&(Ha=C.horizontalDragMinWidth),na.width(Ha+"px"),Ea=ya-Ha,I(W));da&&(Na=Math.ceil(1/G*ka),Na>C.verticalDragMaxHeight?Na=C.verticalDragMaxHeight:Na<C.verticalDragMinHeight&&(Na=C.verticalDragMinHeight),V.height(Na+"px"),Z=ka-Na,u(R));f&&(Y(ba?q-g:F,!1),A(ra?E-O:D,!1));M.find(":input,a").unbind("focus.jsp").bind("focus.jsp",
function(a){ga(a.target,false)});x.unbind(ia).bind(ia,function(a,b,c,d){a=W;b=R;t.scrollBy(c*C.mouseWheelSpeed,-d*C.mouseWheelSpeed,false);return a==W&&b==R});var oa,N,ja,pa,Ja,Pa=!1;x.unbind("touchstart.jsp touchmove.jsp touchend.jsp click.jsp-touchclick").bind("touchstart.jsp",function(a){a=a.originalEvent.touches[0];oa=n();N=T();ja=a.pageX;pa=a.pageY;Ja=false;Pa=true}).bind("touchmove.jsp",function(a){if(Pa){var a=a.originalEvent.touches[0],b=W,c=R;t.scrollTo(oa+ja-a.pageX,N+pa-a.pageY);Ja=Ja||
Math.abs(ja-a.pageX)>5||Math.abs(pa-a.pageY)>5;return b==W&&c==R}}).bind("touchend.jsp",function(){Pa=false}).bind("click.jsp-touchclick",function(){if(Ja)return Ja=false});if(C.enableKeyboardNavigation){var Ga=function(){var a=W,b=R;switch(Ka){case 40:t.scrollByY(C.keyboardSpeed,false);break;case 38:t.scrollByY(-C.keyboardSpeed,false);break;case 34:case 32:t.scrollByY(O*C.scrollPagePercent,false);break;case 33:t.scrollByY(-O*C.scrollPagePercent,false);break;case 39:t.scrollByX(C.keyboardSpeed,false);
break;case 37:t.scrollByX(-C.keyboardSpeed,false)}return Wa=a!=W||b!=R},Ka,Wa,Ia=[];l&&Ia.push(Ra[0]);da&&Ia.push(ha[0]);M.focus(function(){c.focus()});c.attr("tabindex",0).unbind("keydown.jsp keypress.jsp").bind("keydown.jsp",function(b){if(!(b.target!==this&&(!Ia.length||!a(b.target).closest(Ia).length))){var c=W,d=R;switch(b.keyCode){case 40:case 38:case 34:case 32:case 33:case 39:case 37:Ka=b.keyCode;Ga();break;case 35:A(E-O);Ka=null;break;case 36:A(0);Ka=null}Wa=b.keyCode==Ka&&c!=W||d!=R;return!Wa}}).bind("keypress.jsp",
function(a){a.keyCode==Ka&&Ga();return!Wa});C.hideFocus?(c.css("outline","none"),"hideFocus"in x[0]&&c.attr("hideFocus",!0)):(c.css("outline",""),"hideFocus"in x[0]&&c.attr("hideFocus",!1))}C.clickOnTrack&&(z(),da&&Fa.bind("mousedown.jsp",function(b){if(b.originalTarget===d||b.originalTarget==b.currentTarget){var c=a(this),f=c.offset(),e=b.pageY-f.top-R,g,h=true,k=function(){var a=c.offset(),a=b.pageY-a.top-Na/2,d=O*C.scrollPagePercent,f=Z*d/(E-O);if(e<0)R-f>a?t.scrollByY(-d):w(a);else if(e>0)R+f<
a?t.scrollByY(d):w(a);else{o();return}g=setTimeout(k,h?C.initialDelay:C.trackClickRepeatFreq);h=false},o=function(){g&&clearTimeout(g);g=null;a(document).unbind("mouseup.jsp",o)};k();a(document).bind("mouseup.jsp",o);return false}}),l&&xa.bind("mousedown.jsp",function(b){if(b.originalTarget===d||b.originalTarget==b.currentTarget){var c=a(this),f=c.offset(),e=b.pageX-f.left-W,h,k=true,o=function(){var a=c.offset(),a=b.pageX-a.left-Ha/2,d=g*C.scrollPagePercent,f=Ea*d/(q-g);if(e<0)W-f>a?t.scrollByX(-d):
P(a);else if(e>0)W+f<a?t.scrollByX(d):P(a);else{l();return}h=setTimeout(o,k?C.initialDelay:C.trackClickRepeatFreq);k=false},l=function(){h&&clearTimeout(h);h=null;a(document).unbind("mouseup.jsp",l)};o();a(document).bind("mouseup.jsp",l);return false}}));a:if(location.hash&&1<location.hash.length){var qa,Ma;F=escape(location.hash.substr(1));try{qa=a("#"+F+', a[name="'+F+'"]')}catch(ab){break a}qa.length&&M.find(F)&&(0===x.scrollTop()?Ma=setInterval(function(){if(x.scrollTop()>0){ga(qa,true);a(document).scrollTop(x.position().top);
clearInterval(Ma)}},50):(ga(qa,!0),a(document).scrollTop(x.position().top)))}C.hijackInternalLinks&&!a(document.body).data("jspHijack")&&(a(document.body).data("jspHijack",!0),a(document.body).delegate("a[href*=#]","click",function(c){var d=this.href.substr(0,this.href.indexOf("#")),f=location.href,e;location.href.indexOf("#")!==-1&&(f=location.href.substr(0,location.href.indexOf("#")));if(d===f){d=escape(this.href.substr(this.href.indexOf("#")+1));e;try{e=a("#"+d+', a[name="'+d+'"]')}catch(g){return}if(e.length){d=
e.closest(".jspScrollable");f=d.data("jsp");f.scrollToElement(e,true);if(d[0].scrollIntoView){f=a(b).scrollTop();e=e.offset().top;(e<f||e>f+a(b).height())&&d[0].scrollIntoView()}c.preventDefault()}}}))}C.autoReinitialise&&!Oa?Oa=setInterval(function(){e(C)},C.autoReinitialiseDelay):!C.autoReinitialise&&Oa&&clearInterval(Oa);H&&c.scrollTop(0)&&A(H,!1);ma&&c.scrollLeft(0)&&Y(ma,!1);c.trigger("jsp-initialised",[l||da])}function k(){Fa.height(ka+"px");R=0;Ia=C.verticalGutter+Fa.outerWidth();M.width(g-
Ia-ca);try{0===ha.position().left&&M.css("margin-left",Ia+"px")}catch(a){}}function s(){x.find(">.jspHorizontalBar>.jspCap:visible,>.jspHorizontalBar>.jspArrow").each(function(){ya-=a(this).outerWidth()});xa.width(ya+"px");W=0}function B(a,b,c,d){var f="before",e="after";"os"==b&&(b=/Mac/.test(navigator.platform)?"after":"split");b==f?e=b:b==e&&(f=b,b=c,c=d,d=b);a[f](c)[e](d)}function r(b,c,d){return function(){var f=this,e=d,f=a(f).addClass("jspActive"),g,h,k=!0,o=function(){0!==b&&t.scrollByX(b*
C.arrowButtonSpeed);0!==c&&t.scrollByY(c*C.arrowButtonSpeed);h=setTimeout(o,k?C.initialDelay:C.arrowRepeatFreq);k=!1};o();g=e?"mouseout.jsp":"mouseup.jsp";e=e||a("html");e.bind(g,function(){f.removeClass("jspActive");h&&clearTimeout(h);h=null;e.unbind(g)});this.blur();return!1}}function z(){xa&&xa.unbind("mousedown.jsp");Fa&&Fa.unbind("mousedown.jsp")}function v(){a("html").unbind("dragstart.jsp selectstart.jsp mousemove.jsp mouseup.jsp mouseleave.jsp");V&&V.removeClass("jspActive");na&&na.removeClass("jspActive")}
function w(a,b){da&&((0>a?a=0:a>Z&&(a=Z),b===d&&(b=C.animateScroll),b)?t.animate(V,"top",a,u):(V.css("top",a),u(a)))}function u(a){a===d&&(a=V.position().top);x.scrollTop(0);R=a;var b=0===R,f=R==Z,a=-(a/Z)*(E-O);if(pa!=b||ja!=f)pa=b,ja=f,c.trigger("jsp-arrow-change",[pa,ja,ba,bb]);C.showArrows&&(sa[b?"addClass":"removeClass"]("jspDisabled"),Qa[f?"addClass":"removeClass"]("jspDisabled"));M.css("top",a);c.trigger("jsp-scroll-y",[-a,b,f]).trigger("scroll")}function P(a,b){l&&((0>a?a=0:a>Ea&&(a=Ea),b===
d&&(b=C.animateScroll),b)?t.animate(na,"left",a,I):(na.css("left",a),I(a)))}function I(a){a===d&&(a=na.position().left);x.scrollTop(0);W=a;var b=0===W,f=W==Ea,a=-(a/Ea)*(q-g);if(ba!=b||bb!=f)ba=b,bb=f,c.trigger("jsp-arrow-change",[pa,ja,ba,bb]);C.showArrows&&(Xa[b?"addClass":"removeClass"]("jspDisabled"),La[f?"addClass":"removeClass"]("jspDisabled"));M.css("left",a);c.trigger("jsp-scroll-x",[-a,b,f]).trigger("scroll")}function A(a,b){w(a/(E-O)*Z,b)}function Y(a,b){P(a/(q-g)*Ea,b)}function ga(b,c,
d){var f,e,h=0,k=0,o,l,s;try{f=a(b)}catch(q){return}e=f.outerHeight();b=f.outerWidth();x.scrollTop(0);for(x.scrollLeft(0);!f.is(".jspPane");)if(h+=f.position().top,k+=f.position().left,f=f.offsetParent(),/^body|html$/i.test(f[0].nodeName))return;f=T();o=f+O;h<f||c?l=h-C.verticalGutter:h+e>o&&(l=h-O+e+C.verticalGutter);l&&A(l,d);h=n();l=h+g;k<h||c?s=k-C.horizontalGutter:k+b>l&&(s=k-g+b+C.horizontalGutter);s&&Y(s,d)}function n(){return-M.position().left}function T(){return-M.position().top}function za(){return!1}
var C,t=this,M,g,O,x,q,E,Q,G,da,l,V,Z,R,na,Ea,W,ha,Fa,Ia,ka,Na,sa,Qa,Ra,xa,ya,Ha,Xa,La,Oa,X,ca,Ya,pa=!0,ba=!0,ja=!1,bb=!1,fa=c.clone(!1,!1).empty(),ia=a.fn.mwheelIntent?"mwheelIntent.jsp":"mousewheel.jsp";X=c.css("paddingTop")+" "+c.css("paddingRight")+" "+c.css("paddingBottom")+" "+c.css("paddingLeft");ca=(parseInt(c.css("paddingLeft"),10)||0)+(parseInt(c.css("paddingRight"),10)||0);a.extend(t,{reinitialise:function(b){b=a.extend({},C,b);e(b)},scrollToElement:function(a,b,c){ga(a,b,c)},scrollTo:function(a,
b,c){Y(a,c);A(b,c)},scrollToX:function(a,b){Y(a,b)},scrollToY:function(a,b){A(a,b)},scrollToPercentX:function(a,b){Y(a*(q-g),b)},scrollToPercentY:function(a,b){A(a*(E-O),b)},scrollBy:function(a,b,c){t.scrollByX(a,c);t.scrollByY(b,c)},scrollByX:function(a,b){var c=(n()+Math[0>a?"floor":"ceil"](a))/(q-g);P(c*Ea,b)},scrollByY:function(a,b){var c=(T()+Math[0>a?"floor":"ceil"](a))/(E-O);w(c*Z,b)},positionDragX:function(a,b){P(a,b)},positionDragY:function(a,b){w(a,b)},animate:function(a,b,c,d){var f={};
f[b]=c;a.animate(f,{duration:C.animateDuration,easing:C.animateEase,queue:!1,step:d})},getContentPositionX:function(){return n()},getContentPositionY:function(){return T()},getContentWidth:function(){return q},getContentHeight:function(){return E},getPercentScrolledX:function(){return n()/(q-g)},getPercentScrolledY:function(){return T()/(E-O)},getIsScrollableH:function(){return l},getIsScrollableV:function(){return da},getContentPane:function(){return M},scrollToBottom:function(a){w(Z,a)},hijackInternalLinks:a.noop,
destroy:function(){var a=T(),b=n();c.removeClass("jspScrollable").unbind(".jsp");c.replaceWith(fa.append(M.children()));fa.scrollTop(a);fa.scrollLeft(b);Oa&&clearInterval(Oa)}});e(f)}c=a.extend({},a.fn.jScrollPane.defaults,c);a.each(["mouseWheelSpeed","arrowButtonSpeed","trackClickSpeed","keyboardSpeed"],function(){c[this]=c[this]||c.speed});return this.each(function(){var b=a(this),d=b.data("jsp");d?d.reinitialise(c):(d=new e(b,c),b.data("jsp",d))})};a.fn.jScrollPane.defaults={showArrows:!1,maintainPosition:!0,
stickToBottom:!1,stickToRight:!1,clickOnTrack:!0,autoReinitialise:!1,autoReinitialiseDelay:500,verticalDragMinHeight:0,verticalDragMaxHeight:99999,horizontalDragMinWidth:0,horizontalDragMaxWidth:99999,contentWidth:d,animateScroll:!1,animateDuration:300,animateEase:"linear",hijackInternalLinks:!1,verticalGutter:4,horizontalGutter:4,mouseWheelSpeed:0,arrowButtonSpeed:0,arrowRepeatFreq:50,arrowScrollOnHover:!1,trackClickSpeed:0,trackClickRepeatFreq:70,verticalArrowPositions:"split",horizontalArrowPositions:"split",
enableKeyboardNavigation:!0,hideFocus:!1,keyboardSpeed:0,initialDelay:300,speed:30,scrollPagePercent:0.8}});define("bridge/jquery.jscrollpane",["lib/jquery.jscrollpane"],function(){});var Handlebars={VERSION:"1.0.beta.6",helpers:{},partials:{},registerHelper:function(a,b,d){d&&(b.not=d);this.helpers[a]=b},registerPartial:function(a,b){this.partials[a]=b}};Handlebars.registerHelper("helperMissing",function(a){if(2!==arguments.length)throw Error("Could not find property '"+a+"'");});
var toString=Object.prototype.toString,functionType="[object Function]";Handlebars.registerHelper("blockHelperMissing",function(a,b){var d=b.inverse||function(){},c=b.fn,e="",h=toString.call(a);h===functionType&&(a=a.call(this));if(!0===a)return c(this);if(!1===a||null==a)return d(this);if("[object Array]"===h){if(0<a.length){d=0;for(h=a.length;d<h;d++)e+=c(a[d])}else e=d(this);return e}return c(a)});
Handlebars.registerHelper("each",function(a,b){var d=b.fn,c=b.inverse,e="";if(a&&0<a.length)for(var c=0,h=a.length;c<h;c++)e+=d(a[c]);else e=c(this);return e});Handlebars.registerHelper("if",function(a,b){toString.call(a)===functionType&&(a=a.call(this));return!a||Handlebars.Utils.isEmpty(a)?b.inverse(this):b.fn(this)});Handlebars.registerHelper("unless",function(a,b){var d=b.fn;b.fn=b.inverse;b.inverse=d;return Handlebars.helpers["if"].call(this,a,b)});
Handlebars.registerHelper("with",function(a,b){return b.fn(a)});Handlebars.registerHelper("log",function(a){Handlebars.log(a)});
var handlebars=function(){return{trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,statements:6,simpleInverse:7,statement:8,openInverse:9,closeBlock:10,openBlock:11,mustache:12,partial:13,CONTENT:14,COMMENT:15,OPEN_BLOCK:16,inMustache:17,CLOSE:18,OPEN_INVERSE:19,OPEN_ENDBLOCK:20,path:21,OPEN:22,OPEN_UNESCAPED:23,OPEN_PARTIAL:24,params:25,hash:26,param:27,STRING:28,INTEGER:29,BOOLEAN:30,hashSegments:31,hashSegment:32,ID:33,EQUALS:34,pathSegments:35,SEP:36,$accept:0,$end:1},terminals_:{2:"error",
5:"EOF",14:"CONTENT",15:"COMMENT",16:"OPEN_BLOCK",18:"CLOSE",19:"OPEN_INVERSE",20:"OPEN_ENDBLOCK",22:"OPEN",23:"OPEN_UNESCAPED",24:"OPEN_PARTIAL",28:"STRING",29:"INTEGER",30:"BOOLEAN",33:"ID",34:"EQUALS",36:"SEP"},productions_:[0,[3,2],[4,3],[4,1],[4,0],[6,1],[6,2],[8,3],[8,3],[8,1],[8,1],[8,1],[8,1],[11,3],[9,3],[10,3],[12,3],[12,3],[13,3],[13,4],[7,2],[17,3],[17,2],[17,2],[17,1],[25,2],[25,1],[27,1],[27,1],[27,1],[27,1],[26,1],[31,2],[31,1],[32,3],[32,3],[32,3],[32,3],[21,1],[35,3],[35,1]],performAction:function(a,
b,d,c,e,h){a=h.length-1;switch(e){case 1:return h[a-1];case 2:this.$=new c.ProgramNode(h[a-2],h[a]);break;case 3:this.$=new c.ProgramNode(h[a]);break;case 4:this.$=new c.ProgramNode([]);break;case 5:this.$=[h[a]];break;case 6:h[a-1].push(h[a]);this.$=h[a-1];break;case 7:this.$=new c.InverseNode(h[a-2],h[a-1],h[a]);break;case 8:this.$=new c.BlockNode(h[a-2],h[a-1],h[a]);break;case 9:this.$=h[a];break;case 10:this.$=h[a];break;case 11:this.$=new c.ContentNode(h[a]);break;case 12:this.$=new c.CommentNode(h[a]);
break;case 13:this.$=new c.MustacheNode(h[a-1][0],h[a-1][1]);break;case 14:this.$=new c.MustacheNode(h[a-1][0],h[a-1][1]);break;case 15:this.$=h[a-1];break;case 16:this.$=new c.MustacheNode(h[a-1][0],h[a-1][1]);break;case 17:this.$=new c.MustacheNode(h[a-1][0],h[a-1][1],!0);break;case 18:this.$=new c.PartialNode(h[a-1]);break;case 19:this.$=new c.PartialNode(h[a-2],h[a-1]);break;case 21:this.$=[[h[a-2]].concat(h[a-1]),h[a]];break;case 22:this.$=[[h[a-1]].concat(h[a]),null];break;case 23:this.$=[[h[a-
1]],h[a]];break;case 24:this.$=[[h[a]],null];break;case 25:h[a-1].push(h[a]);this.$=h[a-1];break;case 26:this.$=[h[a]];break;case 27:this.$=h[a];break;case 28:this.$=new c.StringNode(h[a]);break;case 29:this.$=new c.IntegerNode(h[a]);break;case 30:this.$=new c.BooleanNode(h[a]);break;case 31:this.$=new c.HashNode(h[a]);break;case 32:h[a-1].push(h[a]);this.$=h[a-1];break;case 33:this.$=[h[a]];break;case 34:this.$=[h[a-2],h[a]];break;case 35:this.$=[h[a-2],new c.StringNode(h[a])];break;case 36:this.$=
[h[a-2],new c.IntegerNode(h[a])];break;case 37:this.$=[h[a-2],new c.BooleanNode(h[a])];break;case 38:this.$=new c.IdNode(h[a]);break;case 39:h[a-2].push(h[a]);this.$=h[a-2];break;case 40:this.$=[h[a]]}},table:[{3:1,4:2,5:[2,4],6:3,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],22:[1,13],23:[1,14],24:[1,15]},{1:[3]},{5:[1,16]},{5:[2,3],7:17,8:18,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,19],20:[2,3],22:[1,13],23:[1,14],24:[1,15]},{5:[2,5],14:[2,5],15:[2,5],16:[2,5],19:[2,
5],20:[2,5],22:[2,5],23:[2,5],24:[2,5]},{4:20,6:3,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,4],22:[1,13],23:[1,14],24:[1,15]},{4:21,6:3,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,4],22:[1,13],23:[1,14],24:[1,15]},{5:[2,9],14:[2,9],15:[2,9],16:[2,9],19:[2,9],20:[2,9],22:[2,9],23:[2,9],24:[2,9]},{5:[2,10],14:[2,10],15:[2,10],16:[2,10],19:[2,10],20:[2,10],22:[2,10],23:[2,10],24:[2,10]},{5:[2,11],14:[2,11],15:[2,11],16:[2,11],19:[2,11],20:[2,11],22:[2,
11],23:[2,11],24:[2,11]},{5:[2,12],14:[2,12],15:[2,12],16:[2,12],19:[2,12],20:[2,12],22:[2,12],23:[2,12],24:[2,12]},{17:22,21:23,33:[1,25],35:24},{17:26,21:23,33:[1,25],35:24},{17:27,21:23,33:[1,25],35:24},{17:28,21:23,33:[1,25],35:24},{21:29,33:[1,25],35:24},{1:[2,1]},{6:30,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],22:[1,13],23:[1,14],24:[1,15]},{5:[2,6],14:[2,6],15:[2,6],16:[2,6],19:[2,6],20:[2,6],22:[2,6],23:[2,6],24:[2,6]},{17:22,18:[1,31],21:23,33:[1,25],35:24},{10:32,20:[1,
33]},{10:34,20:[1,33]},{18:[1,35]},{18:[2,24],21:40,25:36,26:37,27:38,28:[1,41],29:[1,42],30:[1,43],31:39,32:44,33:[1,45],35:24},{18:[2,38],28:[2,38],29:[2,38],30:[2,38],33:[2,38],36:[1,46]},{18:[2,40],28:[2,40],29:[2,40],30:[2,40],33:[2,40],36:[2,40]},{18:[1,47]},{18:[1,48]},{18:[1,49]},{18:[1,50],21:51,33:[1,25],35:24},{5:[2,2],8:18,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,2],22:[1,13],23:[1,14],24:[1,15]},{14:[2,20],15:[2,20],16:[2,20],19:[2,20],22:[2,20],23:[2,20],24:[2,
20]},{5:[2,7],14:[2,7],15:[2,7],16:[2,7],19:[2,7],20:[2,7],22:[2,7],23:[2,7],24:[2,7]},{21:52,33:[1,25],35:24},{5:[2,8],14:[2,8],15:[2,8],16:[2,8],19:[2,8],20:[2,8],22:[2,8],23:[2,8],24:[2,8]},{14:[2,14],15:[2,14],16:[2,14],19:[2,14],20:[2,14],22:[2,14],23:[2,14],24:[2,14]},{18:[2,22],21:40,26:53,27:54,28:[1,41],29:[1,42],30:[1,43],31:39,32:44,33:[1,45],35:24},{18:[2,23]},{18:[2,26],28:[2,26],29:[2,26],30:[2,26],33:[2,26]},{18:[2,31],32:55,33:[1,56]},{18:[2,27],28:[2,27],29:[2,27],30:[2,27],33:[2,
27]},{18:[2,28],28:[2,28],29:[2,28],30:[2,28],33:[2,28]},{18:[2,29],28:[2,29],29:[2,29],30:[2,29],33:[2,29]},{18:[2,30],28:[2,30],29:[2,30],30:[2,30],33:[2,30]},{18:[2,33],33:[2,33]},{18:[2,40],28:[2,40],29:[2,40],30:[2,40],33:[2,40],34:[1,57],36:[2,40]},{33:[1,58]},{14:[2,13],15:[2,13],16:[2,13],19:[2,13],20:[2,13],22:[2,13],23:[2,13],24:[2,13]},{5:[2,16],14:[2,16],15:[2,16],16:[2,16],19:[2,16],20:[2,16],22:[2,16],23:[2,16],24:[2,16]},{5:[2,17],14:[2,17],15:[2,17],16:[2,17],19:[2,17],20:[2,17],22:[2,
17],23:[2,17],24:[2,17]},{5:[2,18],14:[2,18],15:[2,18],16:[2,18],19:[2,18],20:[2,18],22:[2,18],23:[2,18],24:[2,18]},{18:[1,59]},{18:[1,60]},{18:[2,21]},{18:[2,25],28:[2,25],29:[2,25],30:[2,25],33:[2,25]},{18:[2,32],33:[2,32]},{34:[1,57]},{21:61,28:[1,62],29:[1,63],30:[1,64],33:[1,25],35:24},{18:[2,39],28:[2,39],29:[2,39],30:[2,39],33:[2,39],36:[2,39]},{5:[2,19],14:[2,19],15:[2,19],16:[2,19],19:[2,19],20:[2,19],22:[2,19],23:[2,19],24:[2,19]},{5:[2,15],14:[2,15],15:[2,15],16:[2,15],19:[2,15],20:[2,
15],22:[2,15],23:[2,15],24:[2,15]},{18:[2,34],33:[2,34]},{18:[2,35],33:[2,35]},{18:[2,36],33:[2,36]},{18:[2,37],33:[2,37]}],defaultActions:{16:[2,1],37:[2,23],53:[2,21]},parseError:function(a){throw Error(a);},parse:function(a){var b=[0],d=[null],c=[],e=this.table,h="",f=0,o=0,k=0;this.lexer.setInput(a);this.lexer.yy=this.yy;this.yy.lexer=this.lexer;"undefined"==typeof this.lexer.yylloc&&(this.lexer.yylloc={});a=this.lexer.yylloc;c.push(a);"function"===typeof this.yy.parseError&&(this.parseError=
this.yy.parseError);for(var s,B,r,z,v={},w,u;;){r=b[b.length-1];this.defaultActions[r]?z=this.defaultActions[r]:(null==s&&(s=void 0,s=this.lexer.lex()||1,"number"!==typeof s&&(s=this.symbols_[s]||s)),z=e[r]&&e[r][s]);if(("undefined"===typeof z||!z.length||!z[0])&&!k){u=[];for(w in e[r])this.terminals_[w]&&2<w&&u.push("'"+this.terminals_[w]+"'");var P="",P=this.lexer.showPosition?"Parse error on line "+(f+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+u.join(", ")+", got '"+this.terminals_[s]+"'":
"Parse error on line "+(f+1)+": Unexpected "+(1==s?"end of input":"'"+(this.terminals_[s]||s)+"'");this.parseError(P,{text:this.lexer.match,token:this.terminals_[s]||s,line:this.lexer.yylineno,loc:a,expected:u})}if(z[0]instanceof Array&&1<z.length)throw Error("Parse Error: multiple actions possible at state: "+r+", token: "+s);switch(z[0]){case 1:b.push(s);d.push(this.lexer.yytext);c.push(this.lexer.yylloc);b.push(z[1]);s=null;B?(s=B,B=null):(o=this.lexer.yyleng,h=this.lexer.yytext,f=this.lexer.yylineno,
a=this.lexer.yylloc,0<k&&k--);break;case 2:u=this.productions_[z[1]][1];v.$=d[d.length-u];v._$={first_line:c[c.length-(u||1)].first_line,last_line:c[c.length-1].last_line,first_column:c[c.length-(u||1)].first_column,last_column:c[c.length-1].last_column};r=this.performAction.call(v,h,o,f,this.yy,z[1],d,c);if("undefined"!==typeof r)return r;u&&(b=b.slice(0,-2*u),d=d.slice(0,-1*u),c=c.slice(0,-1*u));b.push(this.productions_[z[1]][0]);d.push(v.$);c.push(v._$);z=e[b[b.length-2]][b[b.length-1]];b.push(z);
break;case 3:return!0}}return!0},lexer:{EOF:1,parseError:function(a,b){if(this.yy.parseError)this.yy.parseError(a,b);else throw Error(a);},setInput:function(a){this._input=a;this._more=this._less=this.done=!1;this.yylineno=this.yyleng=0;this.yytext=this.matched=this.match="";this.conditionStack=["INITIAL"];this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0};return this},input:function(){var a=this._input[0];this.yytext+=a;this.yyleng++;this.match+=a;this.matched+=a;a.match(/\n/)&&
this.yylineno++;this._input=this._input.slice(1);return a},unput:function(a){this._input=a+this._input;return this},more:function(){this._more=!0;return this},pastInput:function(){var a=this.matched.substr(0,this.matched.length-this.match.length);return(20<a.length?"...":"")+a.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var a=this.match;20>a.length&&(a+=this._input.substr(0,20-a.length));return(a.substr(0,20)+(20<a.length?"...":"")).replace(/\n/g,"")},showPosition:function(){var a=this.pastInput(),
b=Array(a.length+1).join("-");return a+this.upcomingInput()+"\n"+b+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var a,b;this._more||(this.match=this.yytext="");for(var d=this._currentRules(),c=0;c<d.length;c++)if(a=this._input.match(this.rules[d[c]])){if(b=a[0].match(/\n.*/g))this.yylineno+=b.length;this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:b?b[b.length-1].length-1:this.yylloc.last_column+
a[0].length};this.yytext+=a[0];this.match+=a[0];this.matches=a;this.yyleng=this.yytext.length;this._more=!1;this._input=this._input.slice(a[0].length);this.matched+=a[0];if(a=this.performAction.call(this,this.yy,this,d[c],this.conditionStack[this.conditionStack.length-1]))return a;return}if(""===this._input)return this.EOF;this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var a=this.next();
return"undefined"!==typeof a?a:this.lex()},begin:function(a){this.conditionStack.push(a)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(a){this.begin(a)},performAction:function(a,b,d){switch(d){case 0:"\\"!==b.yytext.slice(-1)&&this.begin("mu");"\\"===b.yytext.slice(-1)&&(b.yytext=b.yytext.substr(0,
b.yyleng-1),this.begin("emu"));if(b.yytext)return 14;break;case 1:return 14;case 2:return this.popState(),14;case 3:return 24;case 4:return 16;case 5:return 20;case 6:return 19;case 7:return 19;case 8:return 23;case 9:return 23;case 10:return b.yytext=b.yytext.substr(3,b.yyleng-5),this.popState(),15;case 11:return 22;case 12:return 34;case 13:return 33;case 14:return 33;case 15:return 36;case 17:return this.popState(),18;case 18:return this.popState(),18;case 19:return b.yytext=b.yytext.substr(1,
b.yyleng-2).replace(/\\"/g,'"'),28;case 20:return 30;case 21:return 30;case 22:return 29;case 23:return 33;case 24:return b.yytext=b.yytext.substr(1,b.yyleng-2),33;case 25:return"INVALID";case 26:return 5}},rules:[/^[^\x00]*?(?=(\{\{))/,/^[^\x00]+/,/^[^\x00]{2,}?(?=(\{\{))/,/^\{\{>/,/^\{\{#/,/^\{\{\//,/^\{\{\^/,/^\{\{\s*else\b/,/^\{\{\{/,/^\{\{&/,/^\{\{![\s\S]*?\}\}/,/^\{\{/,/^=/,/^\.(?=[} ])/,/^\.\./,/^[\/.]/,/^\s+/,/^\}\}\}/,/^\}\}/,/^"(\\["]|[^"])*"/,/^true(?=[}\s])/,/^false(?=[}\s])/,/^[0-9]+(?=[}\s])/,
/^[a-zA-Z0-9_$-]+(?=[=}\s\/.])/,/^\[[^\]]*\]/,/^./,/^$/],conditions:{mu:{rules:[3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26],inclusive:!1},emu:{rules:[2],inclusive:!1},INITIAL:{rules:[0,1,26],inclusive:!0}}}}}();
"undefined"!==typeof require&&"undefined"!==typeof exports&&(exports.parser=handlebars,exports.parse=function(){return handlebars.parse.apply(handlebars,arguments)},exports.main=function(a){if(!a[1])throw Error("Usage: "+a[0]+" FILE");a="undefined"!==typeof process?require("fs").readFileSync(require("path").join(process.cwd(),a[1]),"utf8"):require("file").path(require("file").cwd()).join(a[1]).read({charset:"utf-8"});return exports.parser.parse(a)},"undefined"!==typeof module&&require.main===module&&
exports.main("undefined"!==typeof process?process.argv.slice(1):require("system").args));Handlebars.Parser=handlebars;Handlebars.parse=function(a){Handlebars.Parser.yy=Handlebars.AST;return Handlebars.Parser.parse(a)};Handlebars.print=function(a){return(new Handlebars.PrintVisitor).accept(a)};Handlebars.logger={DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,log:function(){}};Handlebars.log=function(a,b){Handlebars.logger.log(a,b)};
(function(){Handlebars.AST={};Handlebars.AST.ProgramNode=function(a,d){this.type="program";this.statements=a;if(d)this.inverse=new Handlebars.AST.ProgramNode(d)};Handlebars.AST.MustacheNode=function(a,d,c){this.type="mustache";this.id=a[0];this.params=a.slice(1);this.hash=d;this.escaped=!c};Handlebars.AST.PartialNode=function(a,d){this.type="partial";this.id=a;this.context=d};var a=function(a,d){if(a.original!==d.original)throw new Handlebars.Exception(a.original+" doesn't match "+d.original);};Handlebars.AST.BlockNode=
function(b,d,c){a(b.id,c);this.type="block";this.mustache=b;this.program=d};Handlebars.AST.InverseNode=function(b,d,c){a(b.id,c);this.type="inverse";this.mustache=b;this.program=d};Handlebars.AST.ContentNode=function(a){this.type="content";this.string=a};Handlebars.AST.HashNode=function(a){this.type="hash";this.pairs=a};Handlebars.AST.IdNode=function(a){this.type="ID";this.original=a.join(".");for(var d=[],c=0,e=0,h=a.length;e<h;e++){var f=a[e];f===".."?c++:f==="."||f==="this"?this.isScoped=true:
d.push(f)}this.parts=d;this.string=d.join(".");this.depth=c;this.isSimple=d.length===1&&c===0};Handlebars.AST.StringNode=function(a){this.type="STRING";this.string=a};Handlebars.AST.IntegerNode=function(a){this.type="INTEGER";this.integer=a};Handlebars.AST.BooleanNode=function(a){this.type="BOOLEAN";this.bool=a};Handlebars.AST.CommentNode=function(a){this.type="comment";this.comment=a}})();
Handlebars.Exception=function(a){var b=Error.prototype.constructor.apply(this,arguments),d;for(d in b)b.hasOwnProperty(d)&&(this[d]=b[d]);this.message=b.message};Handlebars.Exception.prototype=Error();Handlebars.SafeString=function(a){this.string=a};Handlebars.SafeString.prototype.toString=function(){return this.string.toString()};
(function(){var a={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},b=/&(?!\w+;)|[<>"'`]/g,d=/[&<>"'`]/,c=function(b){return a[b]||"&amp;"};Handlebars.Utils={escapeExpression:function(a){return a instanceof Handlebars.SafeString?a.toString():a==null||a===false?"":!d.test(a)?a:a.replace(b,c)},isEmpty:function(a){return typeof a==="undefined"?true:a===null?true:a===false?true:Object.prototype.toString.call(a)==="[object Array]"&&a.length===0?true:false}}})();Handlebars.Compiler=function(){};
Handlebars.JavaScriptCompiler=function(){};
(function(a,b){a.OPCODE_MAP={appendContent:1,getContext:2,lookupWithHelpers:3,lookup:4,append:5,invokeMustache:6,appendEscaped:7,pushString:8,truthyOrFallback:9,functionOrFallback:10,invokeProgram:11,invokePartial:12,push:13,assignToHash:15,pushStringParam:16};a.MULTI_PARAM_OPCODES={appendContent:1,getContext:1,lookupWithHelpers:2,lookup:1,invokeMustache:3,pushString:1,truthyOrFallback:1,functionOrFallback:1,invokeProgram:3,invokePartial:1,push:1,assignToHash:1,pushStringParam:1};a.DISASSEMBLE_MAP=
{};for(var d in a.OPCODE_MAP)a.DISASSEMBLE_MAP[a.OPCODE_MAP[d]]=d;a.multiParamSize=function(b){return a.MULTI_PARAM_OPCODES[a.DISASSEMBLE_MAP[b]]};a.prototype={compiler:a,disassemble:function(){for(var b=this.opcodes,c,d=[],e,h=0,r=b.length;h<r;h++){c=b[h];if(c==="DECLARE"){e=b[++h];c=b[++h];d.push("DECLARE "+e+" = "+c)}else{e=a.DISASSEMBLE_MAP[c];for(var z=a.multiParamSize(c),v=[],w=0;w<z;w++){c=b[++h];typeof c==="string"&&(c='"'+c.replace("\n","\\n")+'"');v.push(c)}e=e+" "+v.join(" ");d.push(e)}}return d.join("\n")},
guid:0,compile:function(a,b){this.children=[];this.depths={list:[]};this.options=b;var c=this.options.knownHelpers;this.options.knownHelpers={helperMissing:true,blockHelperMissing:true,each:true,"if":true,unless:true,"with":true,log:true};if(c)for(var d in c)this.options.knownHelpers[d]=c[d];return this.program(a)},accept:function(a){return this[a.type](a)},program:function(a){var a=a.statements,b;this.opcodes=[];for(var c=0,d=a.length;c<d;c++){b=a[c];this[b.type](b)}this.isSimple=d===1;this.depths.list=
this.depths.list.sort(function(a,b){return a-b});return this},compileProgram:function(a){var a=(new this.compiler).compile(a,this.options),b=this.guid++;this.usePartial=this.usePartial||a.usePartial;this.children[b]=a;for(var c=0,d=a.depths.list.length;c<d;c++){depth=a.depths.list[c];depth<2||this.addDepth(depth-1)}return b},block:function(a){var b=a.mustache,c=this.setupStackForMustache(b),d=this.compileProgram(a.program);if(a.program.inverse){a=this.compileProgram(a.program.inverse);this.declare("inverse",
a)}this.opcode("invokeProgram",d,c.length,!!b.hash);this.declare("inverse",null);this.opcode("append")},inverse:function(a){var b=this.setupStackForMustache(a.mustache),c=this.compileProgram(a.program);this.declare("inverse",c);this.opcode("invokeProgram",null,b.length,!!a.mustache.hash);this.declare("inverse",null);this.opcode("append")},hash:function(a){var a=a.pairs,b,c;this.opcode("push","{}");for(var d=0,e=a.length;d<e;d++){b=a[d];c=b[1];this.accept(c);this.opcode("assignToHash",b[0])}},partial:function(a){var b=
a.id;this.usePartial=true;a.context?this.ID(a.context):this.opcode("push","depth0");this.opcode("invokePartial",b.original);this.opcode("append")},content:function(a){this.opcode("appendContent",a.string)},mustache:function(a){var b=this.setupStackForMustache(a);this.opcode("invokeMustache",b.length,a.id.original,!!a.hash);a.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},ID:function(a){this.addDepth(a.depth);this.opcode("getContext",a.depth);this.opcode("lookupWithHelpers",
a.parts[0]||null,a.isScoped||false);for(var b=1,c=a.parts.length;b<c;b++)this.opcode("lookup",a.parts[b])},STRING:function(a){this.opcode("pushString",a.string)},INTEGER:function(a){this.opcode("push",a.integer)},BOOLEAN:function(a){this.opcode("push",a.bool)},comment:function(){},pushParams:function(a){for(var b=a.length,c;b--;){c=a[b];if(this.options.stringParams){c.depth&&this.addDepth(c.depth);this.opcode("getContext",c.depth||0);this.opcode("pushStringParam",c.string)}else this[c.type](c)}},
opcode:function(b,c,d,e){this.opcodes.push(a.OPCODE_MAP[b]);c!==void 0&&this.opcodes.push(c);d!==void 0&&this.opcodes.push(d);e!==void 0&&this.opcodes.push(e)},declare:function(a,b){this.opcodes.push("DECLARE");this.opcodes.push(a);this.opcodes.push(b)},addDepth:function(a){if(a!==0&&!this.depths[a]){this.depths[a]=true;this.depths.list.push(a)}},setupStackForMustache:function(a){var b=a.params;this.pushParams(b);a.hash&&this.hash(a.hash);this.ID(a.id);return b}};b.prototype={nameLookup:function(a,
c){return/^[0-9]+$/.test(c)?a+"["+c+"]":b.isValidJavaScriptVariableName(c)?a+"."+c:a+"['"+c+"']"},appendToBuffer:function(a){return this.environment.isSimple?"return "+a+";":"buffer += "+a+";"},initializeBuffer:function(){return this.quotedString("")},namespace:"Handlebars",compile:function(a,b,c,d){this.environment=a;this.options=b||{};this.name=this.environment.name;this.isChild=!!c;this.context=c||{programs:[],aliases:{self:"this"},registers:{list:[]}};this.preamble();this.stackSlot=0;this.stackVars=
[];this.compileChildren(a,b);a=a.opcodes;this.i=0;for(h=a.length;this.i<h;this.i++){a=this.nextOpcode(0);if(a[0]==="DECLARE"){this.i=this.i+2;this[a[1]]=a[2]}else{this.i=this.i+a[1].length;this[a[0]].apply(this,a[1])}}return this.createFunctionContext(d)},nextOpcode:function(b){var c=this.environment.opcodes,d=c[this.i+b],e,h;if(d==="DECLARE"){e=c[this.i+1];b=c[this.i+2];return["DECLARE",e,b]}e=a.DISASSEMBLE_MAP[d];d=a.multiParamSize(d);h=[];for(var r=0;r<d;r++)h.push(c[this.i+r+1+b]);return[e,h]},
eat:function(a){this.i=this.i+a.length},preamble:function(){var a=[];this.useRegister("foundHelper");if(this.isChild)a.push("");else{var b=this.namespace,c="helpers = helpers || "+b+".helpers;";this.environment.usePartial&&(c=c+" partials = partials || "+b+".partials;");a.push(c)}this.environment.isSimple?a.push(""):a.push(", buffer = "+this.initializeBuffer());this.lastContext=0;this.source=a},createFunctionContext:function(a){var b=this.stackVars;this.isChild||(b=b.concat(this.context.registers.list));
b.length>0&&(this.source[1]=this.source[1]+", "+b.join(", "));if(!this.isChild)for(var c in this.context.aliases)this.source[1]=this.source[1]+", "+c+"="+this.context.aliases[c];this.source[1]&&(this.source[1]="var "+this.source[1].substring(2)+";");this.isChild||(this.source[1]=this.source[1]+("\n"+this.context.programs.join("\n")+"\n"));this.environment.isSimple||this.source.push("return buffer;");b=this.isChild?["depth0","data"]:["Handlebars","depth0","helpers","partials","data"];c=0;for(var d=
this.environment.depths.list.length;c<d;c++)b.push("depth"+this.environment.depths.list[c]);if(a){b.push(this.source.join("\n  "));return Function.apply(this,b)}a="function "+(this.name||"")+"("+b.join(",")+") {\n  "+this.source.join("\n  ")+"}";Handlebars.log(Handlebars.logger.DEBUG,a+"\n\n");return a},appendContent:function(a){this.source.push(this.appendToBuffer(this.quotedString(a)))},append:function(){var a=this.popStack();this.source.push("if("+a+" || "+a+" === 0) { "+this.appendToBuffer(a)+
" }");this.environment.isSimple&&this.source.push("else { "+this.appendToBuffer("''")+" }")},appendEscaped:function(){var a=this.nextOpcode(1),b="";this.context.aliases.escapeExpression="this.escapeExpression";if(a[0]==="appendContent"){b=" + "+this.quotedString(a[1][0]);this.eat(a)}this.source.push(this.appendToBuffer("escapeExpression("+this.popStack()+")"+b))},getContext:function(a){if(this.lastContext!==a)this.lastContext=a},lookupWithHelpers:function(a,b){if(a){var c=this.nextStack();this.usingKnownHelper=
false;if(!b&&this.options.knownHelpers[a]){c=c+" = "+this.nameLookup("helpers",a,"helper");this.usingKnownHelper=true}else if(b||this.options.knownHelpersOnly)c=c+" = "+this.nameLookup("depth"+this.lastContext,a,"context");else{this.register("foundHelper",this.nameLookup("helpers",a,"helper"));c=c+" = foundHelper || "+this.nameLookup("depth"+this.lastContext,a,"context")}this.source.push(c+";")}else this.pushStack("depth"+this.lastContext)},lookup:function(a){var b=this.topStack();this.source.push(b+
" = ("+b+" === null || "+b+" === undefined || "+b+" === false ? "+b+" : "+this.nameLookup(b,a,"context")+");")},pushStringParam:function(a){this.pushStack("depth"+this.lastContext);this.pushString(a)},pushString:function(a){this.pushStack(this.quotedString(a))},push:function(a){this.pushStack(a)},invokeMustache:function(a,b,c){this.populateParams(a,this.quotedString(b),"{}",null,c,function(a,b,c){if(!this.usingKnownHelper){this.context.aliases.helperMissing="helpers.helperMissing";this.context.aliases.undef=
"void 0";this.source.push("else if("+c+"=== undef) { "+a+" = helperMissing.call("+b+"); }");a!==c&&this.source.push("else { "+a+" = "+c+"; }")}})},invokeProgram:function(a,b,c){var d=this.programExpression(this.inverse),a=this.programExpression(a);this.populateParams(b,null,a,d,c,function(a,b){if(!this.usingKnownHelper){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";this.source.push("else { "+a+" = blockHelperMissing.call("+b+"); }")}})},populateParams:function(a,b,c,d,e,h){var z=
e||this.options.stringParams||d||this.options.data,v=this.popStack(),w=[],u;if(z){this.register("tmp1",c);u="tmp1"}else u="{ hash: {} }";if(z){e=e?this.popStack():"{}";this.source.push("tmp1.hash = "+e+";")}this.options.stringParams&&this.source.push("tmp1.contexts = [];");for(z=0;z<a;z++){e=this.popStack();w.push(e);this.options.stringParams&&this.source.push("tmp1.contexts.push("+this.popStack()+");")}if(d){this.source.push("tmp1.fn = tmp1;");this.source.push("tmp1.inverse = "+d+";")}this.options.data&&
this.source.push("tmp1.data = data;");w.push(u);this.populateCall(w,v,b||v,h,c!=="{}")},populateCall:function(a,b,c,d,e){var h=["depth0"].concat(a).join(", "),a=["depth0"].concat(c).concat(a).join(", "),c=this.nextStack();if(this.usingKnownHelper)this.source.push(c+" = "+b+".call("+h+");");else{this.context.aliases.functionType='"function"';this.source.push("if("+(e?"foundHelper && ":"")+"typeof "+b+" === functionType) { "+c+" = "+b+".call("+h+"); }")}d.call(this,c,a,b);this.usingKnownHelper=false},
invokePartial:function(a){params=[this.nameLookup("partials",a,"partial"),"'"+a+"'",this.popStack(),"helpers","partials"];this.options.data&&params.push("data");this.pushStack("self.invokePartial("+params.join(", ")+");")},assignToHash:function(a){var b=this.popStack(),c=this.topStack();this.source.push(c+"['"+a+"'] = "+b+";")},compiler:b,compileChildren:function(a,b){for(var c=a.children,d,e,h=0,z=c.length;h<z;h++){d=c[h];e=new this.compiler;this.context.programs.push("");var v=this.context.programs.length;
d.index=v;d.name="program"+v;this.context.programs[v]=e.compile(d,b,this.context)}},programExpression:function(a){if(a==null)return"self.noop";for(var b=this.environment.children[a],a=b.depths.list,b=[b.index,b.name,"data"],c=0,d=a.length;c<d;c++){depth=a[c];depth===1?b.push("depth0"):b.push("depth"+(depth-1))}if(a.length===0)return"self.program("+b.join(", ")+")";b.shift();return"self.programWithDepth("+b.join(", ")+")"},register:function(a,b){this.useRegister(a);this.source.push(a+" = "+b+";")},
useRegister:function(a){if(!this.context.registers[a]){this.context.registers[a]=true;this.context.registers.list.push(a)}},pushStack:function(a){this.source.push(this.nextStack()+" = "+a+";");return"stack"+this.stackSlot},nextStack:function(){this.stackSlot++;this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot);return"stack"+this.stackSlot},popStack:function(){return"stack"+this.stackSlot--},topStack:function(){return"stack"+this.stackSlot},quotedString:function(a){return'"'+
a.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r")+'"'}};d=["break","else","new","var","case","finally","return","void","catch","for","switch","while","continue","function","this","with","default","if","throw","delete","in","try","do","instanceof","typeof","abstract","enum","int","short","boolean","export","interface","static","byte","extends","long","super","char","final","native","synchronized","class","float","package","throws","const","goto","private","transient",
"debugger","implements","protected","volatile","double","import","public","let","yield"];for(var c=b.RESERVED_WORDS={},e=0,h=d.length;e<h;e++)c[d[e]]=true;b.isValidJavaScriptVariableName=function(a){return!b.RESERVED_WORDS[a]&&/^[a-zA-Z_$][0-9a-zA-Z_$]+$/.test(a)?true:false}})(Handlebars.Compiler,Handlebars.JavaScriptCompiler);Handlebars.precompile=function(a,b){var b=b||{},d=Handlebars.parse(a),d=(new Handlebars.Compiler).compile(d,b);return(new Handlebars.JavaScriptCompiler).compile(d,b)};
Handlebars.compile=function(a,b){var b=b||{},d;return function(c,e){if(!d){var h=Handlebars.parse(a),h=(new Handlebars.Compiler).compile(h,b),h=(new Handlebars.JavaScriptCompiler).compile(h,b,void 0,true);d=Handlebars.template(h)}return d.call(this,c,e)}};
Handlebars.VM={template:function(a){var b={escapeExpression:Handlebars.Utils.escapeExpression,invokePartial:Handlebars.VM.invokePartial,programs:[],program:function(a,b,e){var h=this.programs[a];if(e)return Handlebars.VM.program(b,e);h||(h=this.programs[a]=Handlebars.VM.program(b));return h},programWithDepth:Handlebars.VM.programWithDepth,noop:Handlebars.VM.noop};return function(d,c){c=c||{};return a.call(b,Handlebars,d,c.helpers,c.partials,c.data)}},programWithDepth:function(a,b,d){var c=Array.prototype.slice.call(arguments,
2);return function(d,h){h=h||{};return a.apply(this,[d,h.data||b].concat(c))}},program:function(a,b){return function(d,c){c=c||{};return a(d,c.data||b)}},noop:function(){return""},invokePartial:function(a,b,d,c,e,h){options={helpers:c,partials:e,data:h};if(a===void 0)throw new Handlebars.Exception("The partial "+b+" could not be found");if(a instanceof Function)return a(d,options);if(Handlebars.compile){e[b]=Handlebars.compile(a);return e[b](d,options)}throw new Handlebars.Exception("The partial "+
b+" could not be compiled when running in runtime-only mode");}};Handlebars.template=Handlebars.VM.template;define("lib/handlebars-1.0.0.beta.6",function(){});define("bridge/handlebars",["lib/handlebars-1.0.0.beta.6"]);
define("lib/ember-1.0.pre",["bridge/jquery","bridge/handlebars"],function(){if("undefined"===typeof Ember){Ember={};if("undefined"!==typeof window)window.Em=window.Ember=Em=Ember}Ember.ENV="undefined"===typeof ENV?{}:ENV;if(!("MANDATORY_SETTER"in Ember.ENV))Ember.ENV.MANDATORY_SETTER=true;Ember.assert=function(a,b){if(!b)throw Error("assertion failed: "+a);};Ember.warn=function(a,b){if(!b){Ember.Logger.warn("WARNING: "+a);"trace"in Ember.Logger&&Ember.Logger.trace()}};Ember.deprecate=function(a,b){if(!Ember||
!Ember.TESTING_DEPRECATION){arguments.length===1&&(b=false);if(!b){if(Ember&&Ember.ENV.RAISE_ON_DEPRECATION)throw Error(a);var c;try{__fail__.fail()}catch(d){c=d}if(Ember.LOG_STACKTRACE_ON_DEPRECATION&&c.stack){var e="";if(c.arguments){c=c.stack.replace(/^\s+at\s+/gm,"").replace(/^([^\(]+?)([\n$])/gm,"{anonymous}($1)$2").replace(/^Object.<anonymous>\s*\(([^\)]+)\)/gm,"{anonymous}($1)").split("\n");c.shift()}else c=c.stack.replace(/(?:\n@:0)?\s+$/m,"").replace(/^\(/gm,"{anonymous}(").split("\n");e=
"\n    "+c.slice(2).join("\n    ");a=a+e}Ember.Logger.warn("DEPRECATION: "+a)}}};Ember.deprecateFunc=function(a,b){return function(){Ember.deprecate(a);return b.apply(this,arguments)}};window.ember_assert=Ember.deprecateFunc("ember_assert is deprecated. Please use Ember.assert instead.",Ember.assert);window.ember_warn=Ember.deprecateFunc("ember_warn is deprecated. Please use Ember.warn instead.",Ember.warn);window.ember_deprecate=Ember.deprecateFunc("ember_deprecate is deprecated. Please use Ember.deprecate instead.",
Ember.deprecate);window.ember_deprecateFunc=Ember.deprecateFunc("ember_deprecateFunc is deprecated. Please use Ember.deprecateFunc instead.",Ember.deprecateFunc);"undefined"===typeof Ember&&(Ember={});if("undefined"!==typeof window)window.Em=window.Ember=Em=Ember;Ember.isNamespace=true;Ember.toString=function(){return"Ember"};Ember.VERSION="1.0.pre";Ember.ENV=Ember.ENV||("undefined"===typeof ENV?{}:ENV);Ember.config=Ember.config||{};Ember.EXTEND_PROTOTYPES=Ember.ENV.EXTEND_PROTOTYPES!==false;Ember.LOG_STACKTRACE_ON_DEPRECATION=
Ember.ENV.LOG_STACKTRACE_ON_DEPRECATION!==false;Ember.SHIM_ES5=Ember.ENV.SHIM_ES5===false?false:Ember.EXTEND_PROTOTYPES;Ember.CP_DEFAULT_CACHEABLE=Ember.ENV.CP_DEFAULT_CACHEABLE!==false;Ember.VIEW_PRESERVES_CONTEXT=Ember.ENV.VIEW_PRESERVES_CONTEXT!==false;Ember.K=function(){return this};if("undefined"===typeof Ember.assert)Ember.assert=Ember.K;if("undefined"===typeof Ember.warn)Ember.warn=Ember.K;if("undefined"===typeof Ember.deprecate)Ember.deprecate=Ember.K;if("undefined"===typeof Ember.deprecateFunc)Ember.deprecateFunc=
function(a,b){return b};if("undefined"===typeof ember_assert)window.ember_assert=Ember.K;if("undefined"===typeof ember_warn)window.ember_warn=Ember.K;if("undefined"===typeof ember_deprecate)window.ember_deprecate=Ember.K;if("undefined"===typeof ember_deprecateFunc)window.ember_deprecateFunc=function(a,b){return b};Ember.Logger=window.console||{log:Ember.K,warn:Ember.K,error:Ember.K,info:Ember.K,debug:Ember.K};var a=function(a){return a&&Function.prototype.toString.call(a).indexOf("[native code]")>
-1},b=a(Array.prototype.map)?Array.prototype.map:function(a,b){if(this===void 0||this===null)throw new TypeError;var c=Object(this),d=c.length>>>0;if(typeof a!=="function")throw new TypeError;for(var e=Array(d),f=0;f<d;f++)f in c&&(e[f]=a.call(b,c[f],f,c));return e},d=a(Array.prototype.forEach)?Array.prototype.forEach:function(a,b){if(this===void 0||this===null)throw new TypeError;var c=Object(this),d=c.length>>>0;if(typeof a!=="function")throw new TypeError;for(var e=0;e<d;e++)e in c&&a.call(b,c[e],
e,c)},c=a(Array.prototype.indexOf)?Array.prototype.indexOf:function(a,b){b===null||b===void 0?b=0:b<0&&(b=Math.max(0,this.length+b));for(var c=b,d=this.length;c<d;c++)if(this[c]===a)return c;return-1};Ember.ArrayPolyfills={map:b,forEach:d,indexOf:c};var e=Ember.EnumerableUtils={map:function(a,c,d){return a.map?a.map.call(a,c,d):b.call(a,c,d)},forEach:function(a,b,c){return a.forEach?a.forEach.call(a,b,c):d.call(a,b,c)},indexOf:function(a,b,d){return a.indexOf?a.indexOf.call(a,b,d):c.call(a,b,d)},
indexesOf:function(a,b){return b===void 0?[]:e.map(b,function(b){return e.indexOf(a,b)})},removeObject:function(a,b){var c=e.indexOf(a,b);c!==-1&&a.splice(c,1)}};if(Ember.SHIM_ES5){if(!Array.prototype.map)Array.prototype.map=b;if(!Array.prototype.forEach)Array.prototype.forEach=d;if(!Array.prototype.indexOf)Array.prototype.indexOf=c}var h=Ember.platform={};Ember.create=Object.create;if(!Ember.create){var f=function(){};Ember.create=function(a,b){f.prototype=a;a=new f;if(b){f.prototype=a;for(var c in b)f.prototype[c]=
b[c].value;a=new f}f.prototype=null;return a};Ember.create.isSimulated=true}var o=Object.defineProperty,k,s;if(o)try{o({},"a",{get:function(){}})}catch(B){o=null}if(o){var r={};o(r,"a",{configurable:true,enumerable:true,get:function(){},set:function(){}});o(r,"a",{configurable:true,enumerable:true,writable:true,value:true});k=r.a===true;a:{try{o(document.createElement("div"),"definePropertyOnDOM",{});s=true;break a}catch(z){}s=false}k?s||(o=function(a,b,c){return(typeof Node==="object"?a instanceof
Node:typeof a==="object"&&typeof a.nodeType==="number"&&typeof a.nodeName==="string")?a[b]=c.value:Object.defineProperty(a,b,c)}):o=null}h.defineProperty=o;h.hasPropertyAccessors=true;if(!h.defineProperty){h.hasPropertyAccessors=false;h.defineProperty=function(a,b,c){if(!c.get)a[b]=c.value};h.defineProperty.isSimulated=true}if(Ember.ENV.MANDATORY_SETTER&&!h.hasPropertyAccessors)Ember.ENV.MANDATORY_SETTER=false;var v=function(a){this.descs={};this.watching={};this.cache={};this.source=a},w=function(a,
b){return!!(a&&typeof a[b]==="function")},u=Ember.platform.defineProperty,P=Ember.create,I="__ember"+ +new Date,A=0,Y=[],ga={},n=Ember.ENV.MANDATORY_SETTER;Ember.GUID_KEY=I;var T={writable:false,configurable:false,enumerable:false,value:null};Ember.generateGuid=function(a,b){b||(b="ember");var c=b+A++;if(a){T.value=c;u(a,I,T)}return c};Ember.guidFor=function(a){if(a===void 0)return"(undefined)";if(a===null)return"(null)";var b;switch(typeof a){case "number":(b=Y[a])||(b=Y[a]="nu"+a);return b;case "string":(b=
ga[a])||(b=ga[a]="st"+A++);return b;case "boolean":return a?"(true)":"(false)";default:if(a[I])return a[I];if(a===Object)return"(Object)";if(a===Array)return"(Array)";b="ember"+A++;T.value=b;u(a,I,T);return b}};var za={writable:true,configurable:false,enumerable:false,value:null},C=Ember.GUID_KEY+"_meta";Ember.META_KEY=C;var t={descs:{},watching:{}};if(n)t.values={};Ember.EMPTY_META=t;Object.freeze&&Object.freeze(t);var M=Ember.platform.defineProperty.isSimulated;if(M)v.prototype.__preventPlainObject__=
true;Ember.meta=function(a,b){var c=a[C];if(b===false)return c||t;if(c){if(c.source!==a){M||u(a,C,za);c=P(c);c.descs=P(c.descs);c.watching=P(c.watching);c.cache={};c.source=a;if(n)c.values=P(c.values);a[C]=c}}else{M||u(a,C,za);c=new v(a);if(n)c.values={};a[C]=c;c.descs.constructor=null}return c};Ember.getMeta=function(a,b){return Ember.meta(a,false)[b]};Ember.setMeta=function(a,b,c){return Ember.meta(a,true)[b]=c};Ember.metaPath=function(a,b,c){for(var d=Ember.meta(a,c),e,f,g=0,h=b.length;g<h;g++){e=
b[g];if(f=d[e]){if(f.__ember_source__!==a){if(!c)return;f=d[e]=P(f);f.__ember_source__=a}}else{if(!c)return;f=d[e]={__ember_source__:a}}d=f}return f};Ember.wrap=function(a,b){function c(){}var d=function(){var d,e=this._super;this._super=b||c;d=a.apply(this,arguments);this._super=e;return d};d.base=a;return d};Ember.isArray=function(a){return!a||a.setInterval?false:Array.isArray&&Array.isArray(a)||Ember.Array&&Ember.Array.detect(a)||a.length!==void 0&&"object"===typeof a?true:false};Ember.makeArray=
function(a){return a===null||a===void 0?[]:Ember.isArray(a)?a:[a]};Ember.canInvoke=w;Ember.tryInvoke=function(a,b,c){if(w(a,b))return a[b].apply(a,c)};var g=Ember.guidFor,O=Ember.ArrayPolyfills.indexOf,x=function(a){var b={},c;for(c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);return b},q=function(a,b){var c=a.keys.copy(),d=x(a.values);b.keys=c;b.values=d;return b},E=Ember.OrderedSet=function(){this.clear()};E.create=function(){return new E};E.prototype={clear:function(){this.presenceSet={};this.list=[]},
add:function(a){var b=g(a),c=this.presenceSet,d=this.list;if(!(b in c)){c[b]=true;d.push(a)}},remove:function(a){var b=g(a),c=this.list;delete this.presenceSet[b];a=O.call(c,a);a>-1&&c.splice(a,1)},isEmpty:function(){return this.list.length===0},forEach:function(a,b){for(var c=this.list.slice(),d=0,e=c.length;d<e;d++)a.call(b,c[d])},toArray:function(){return this.list.slice()},copy:function(){var a=new E;a.presenceSet=x(this.presenceSet);a.list=this.list.slice();return a}};var Q=Ember.Map=function(){this.keys=
Ember.OrderedSet.create();this.values={}};Q.create=function(){return new Q};Q.prototype={get:function(a){var b=this.values,a=g(a);return b[a]},set:function(a,b){var c=this.keys,d=this.values,e=g(a);c.add(a);d[e]=b},remove:function(a){var b=this.keys,c=this.values,d=g(a);if(c.hasOwnProperty(d)){b.remove(a);delete c[d];return true}return false},has:function(a){var b=this.values,a=g(a);return b.hasOwnProperty(a)},forEach:function(a,b){var c=this.values;this.keys.forEach(function(d){var e=g(d);a.call(b,
d,c[e])})},copy:function(){return q(this,new Q)}};var G=Ember.MapWithDefault=function(a){Q.call(this);this.defaultValue=a.defaultValue};G.create=function(a){return a?new G(a):new Q};G.prototype=Ember.create(Q.prototype);G.prototype.get=function(a){if(this.has(a))return Q.prototype.get.call(this,a);var b=this.defaultValue(a);this.set(a,b);return b};G.prototype.copy=function(){return q(this,new G({defaultValue:this.defaultValue}))};var da=function(a,b){var c=ha.test(b),d=!c&&W.test(b);if(!a||d)a=window;
c&&(b=b.slice(5));if(a===window){c=b.match(Fa)[0];a=Z(a,c);b=b.slice(c.length+1)}if(!b||b.length===0)throw Error("Invalid Path");return[a,b]},l=function(a,b){var c,d,e;if(a===null&&b.indexOf(".")===-1)return Z(window,b);c=ha.test(b);if(!a||c){c=da(a,b);a=c[0];b=c[1];c.length=0}c=b.split(".");e=c.length;for(d=0;a&&d<e;d++)if((a=Z(a,c[d],true))&&a.isDestroyed)return;return a},V=Ember.META_KEY,Z,R,na=Ember.ENV.MANDATORY_SETTER,Ea=/^([A-Z$]|([0-9][A-Z$]))/,W=/^([A-Z$]|([0-9][A-Z$])).*[\.\*]/,ha=/^this[\.\*]/,
Fa=/^([^\.\*]+)/;Z=function(a,b){if(b==="")return a;if(!b&&"string"===typeof a){b=a;a=null}if(!a||b.indexOf(".")!==-1)return l(a,b);Ember.assert("You need to provide an object and key to `get`.",!!a&&b);var c=a[V],d=c&&c.descs[b];if(d)return d.get(a,b);c=na&&c&&c.watching[b]>0?c.values[b]:a[b];return c===void 0&&"object"===typeof a&&!(b in a)&&"function"===typeof a.unknownProperty?a.unknownProperty(b):c};R=function(a,b,c,d){if(typeof a==="string"){Ember.assert("Path '"+a+"' must be global if no obj is given.",
Ea.test(a));c=b;b=a;a=null}if(!a||b.indexOf(".")!==-1){a:{var e;e=b.slice(b.lastIndexOf(".")+1);b=b.slice(0,b.length-(e.length+1));b!=="this"&&(a=l(a,b));if(!e||e.length===0)throw Error("You passed an empty path");if(!a)if(d){c=void 0;break a}else throw Error("Object in path "+b+" could not be found or was destroyed.");c=R(a,e,c)}return c}Ember.assert("You need to provide an object and key to `set`.",!!a&&b!==void 0);Ember.assert("calling set on destroyed object",!a.isDestroyed);if(e=(d=a[V])&&d.descs[b])e.set(a,
b,c);else if("object"===typeof a&&!(b in a)&&"function"===typeof a.setUnknownProperty)a.setUnknownProperty(b,c);else if(d&&d.watching[b]>0){e=na?d.values[b]:a[b];if(c!==e){Ember.propertyWillChange(a,b);na?e===void 0&&!(b in a)?Ember.defineProperty(a,b,null,c):d.values[b]=c:a[b]=c;Ember.propertyDidChange(a,b)}}else a[b]=c;return c};Ember.normalizeTuple=function(a,b){return da(a,b)};Ember.getWithDefault=function(a,b,c){a=Z(a,b);return a===void 0?c:a};Ember.get=Z;Ember.getPath=Ember.deprecateFunc("getPath is deprecated since get now supports paths",
Ember.get);Ember.set=R;Ember.setPath=Ember.deprecateFunc("setPath is deprecated since set now supports paths",Ember.set);Ember.trySet=function(a,b,c){return R(a,b,c,true)};Ember.trySetPath=Ember.deprecateFunc("trySetPath has been renamed to trySet",Ember.trySet);Ember.isGlobalPath=function(a){return Ea.test(a)};if(Ember.config.overrideAccessors){Ember.config.overrideAccessors();Z=Ember.get;R=Ember.set}var Ia=Ember.META_KEY,ka=Ember.meta,Na=Ember.platform.defineProperty,sa=Ember.ENV.MANDATORY_SETTER;
Ember.Descriptor=function(){};Ember.defineProperty=function(a,b,c,d,e){var f,g,h;e||(e=ka(a));f=e.descs;g=e.descs[b];h=e.watching[b]>0;g instanceof Ember.Descriptor&&g.teardown(a,b);if(c instanceof Ember.Descriptor){g=c;f[b]=c;sa&&h?Na(a,b,{configurable:true,enumerable:true,writable:true,value:void 0}):a[b]=void 0;c.setup(a,b)}else{f[b]=void 0;if(c==null){g=d;if(sa&&h){e.values[b]=d;Na(a,b,{configurable:true,enumerable:true,set:function(){Ember.assert("Must use Ember.set() to access this property",
false)},get:function(){var a=this[Ia];return a&&a.values[b]}})}else a[b]=d}else{g=c;Na(a,b,c)}}h&&Ember.overrideChains(a,b,e);a.didDefineProperty&&a.didDefineProperty(a,b,g);return this};var Qa=0,Ra=function(){this.targetSet={}};Ra.prototype.add=function(a,b){var c=this.targetSet,d=Ember.guidFor(a),e=c[d];e||(c[d]=e={});return e[b]?false:e[b]=true};Ra.prototype.clear=function(){this.targetSet={}};var xa=function(){this.targetSet={};this.queue=[]};xa.prototype.push=function(a,b,c){var d=this.targetSet,
e=this.queue,f=Ember.guidFor(a),g=d[f];g||(d[f]=g={});d=g[b];d===void 0?g[b]=e.push(Ember.deferEvent(a,b,[a,c]))-1:e[d]=Ember.deferEvent(a,b,[a,c])};xa.prototype.flush=function(){var a=this.queue;this.queue=[];this.targetSet={};for(var b=0,c=a.length;b<c;++b)a[b]()};var ya=new xa,Ha=new Ra;Ember.beginPropertyChanges=function(){Qa++;return this};Ember.endPropertyChanges=function(){Qa--;if(Qa<=0){Ha.clear();ya.flush()}};Ember.changeProperties=function(a,b){Ember.beginPropertyChanges();try{a.call(b)}finally{Ember.endPropertyChanges()}};
Ember.setProperties=function(a,b){Ember.changeProperties(function(){for(var c in b)b.hasOwnProperty(c)&&Ember.set(a,c,b[c])});return a};Ember.addObserver=function(a,b,c,d){Ember.addListener(a,b+":change",c,d);Ember.watch(a,b);return this};Ember.observersFor=function(a,b){return Ember.listenersFor(a,b+":change")};Ember.removeObserver=function(a,b,c,d){Ember.unwatch(a,b);Ember.removeListener(a,b+":change",c,d);return this};Ember.addBeforeObserver=function(a,b,c,d){Ember.addListener(a,b+":before",c,
d);Ember.watch(a,b);return this};Ember._suspendBeforeObserver=function(a,b,c,d,e){return Ember._suspendListener(a,b+":before",c,d,e)};Ember._suspendObserver=function(a,b,c,d,e){return Ember._suspendListener(a,b+":change",c,d,e)};Ember.beforeObserversFor=function(a,b){return Ember.listenersFor(a,b+":before")};Ember.removeBeforeObserver=function(a,b,c,d){Ember.unwatch(a,b);Ember.removeListener(a,b+":before",c,d);return this};Ember.notifyObservers=function(a,b){if(!a.isDestroying){var c=b+":change";
Qa?ya.push(a,c,b):Ember.sendEvent(a,c,[a,b])}};Ember.notifyBeforeObservers=function(a,b){if(!a.isDestroying){var c=false;if(Qa)if(Ha.add(a,b))c=true;else return;var d=b+":before";Qa&&!c?ya.push(a,d,b):Ember.sendEvent(a,d,[a,b])}};var Xa=function(a,b,c,d,e){var f=ba(b);d[f]||(d[f]={});if(!d[f][c]){d[f][c]=true;if(d=(d=e.deps)&&d[c])for(var g in d)ra[g]||a(b,g)}},La=function(a,b,c){if(a&&"object"===typeof a){var d=ja(a),e=d.chainWatchers;if(!e||e.__emberproto__!==a)e=d.chainWatchers={__emberproto__:a};
e[b]||(e[b]={});e[b][ba(c)]=c;Ember.watch(a,b)}},Oa=function(a,b,c){if(a&&"object"===typeof a){var d=ja(a,false).chainWatchers;if(d&&d.__emberproto__===a){d[b]&&delete d[b][ba(c)];Ember.unwatch(a,b)}}},X=function(a){var b=ja(a),c=b.chains;if(c){if(c.value()!==a)c=b.chains=c.copy(a)}else c=b.chains=new N(null,null,a);return c},ca=function(a,b,c,d,e){if((b=b.chainWatchers)&&b.__emberproto__===a)if(b=b[c])for(var f in b)if(b.hasOwnProperty(f))b[f][d](e)},Ya=function(a,b){var c=ja(a,false),d=c.proto,
e=c.descs[b];if((c.watching[b]>0||b==="length")&&d!==a){e&&e.willChange&&e.willChange(a,b);if(!a.isDestroying){d=Za;(e=!d)&&(d=Za={});Xa(Ya,a,b,d,c);e&&(Za=null)}ca(a,c,b,"willChange");Ember.notifyBeforeObservers(a,b)}},pa=function(a,b){var c=ja(a,false),d=c.watching[b]>0||b==="length",e=c.descs[b];if(c.proto!==a){e&&e.didChange&&e.didChange(a,b);if(d||b==="length"){if(!a.isDestroying){d=rb;(e=!d)&&(d=rb={});Xa(pa,a,b,d,c);e&&(rb=null)}ca(a,c,b,"didChange");Ember.notifyObservers(a,b)}}},ba=Ember.guidFor,
ja=Ember.meta,bb=Ember.get,fa=Ember.normalizeTuple,ia=Ember.GUID_KEY,U=Ember.META_KEY,F=Ember.ArrayPolyfills.forEach,D=/^([^\.\*]+)/,J=/[\.\*]/,H=Ember.ENV.MANDATORY_SETTER,ma=Ember.platform.defineProperty,ra={__emberproto__:true},Za,rb,oa=[],N=function(a,b,c,d){this._parent=a;this._key=b;this._watching=c===void 0;this._value=c;this._separator=d||".";this._paths={};if(this._watching)(this._object=a.value())&&La(this._object,this._key,this);this._parent&&this._parent._key==="@each"&&this.value()},
Va=N.prototype;Va.value=function(){if(this._value===void 0&&this._watching){var a=this._parent.value();this._value=a&&ja(a,false).proto!==a?bb(a,this._key):void 0}return this._value};Va.destroy=function(){if(this._watching){var a=this._object;a&&Oa(a,this._key,this);this._watching=false}};Va.copy=function(a){var a=new N(null,null,a,this._separator),b=this._paths,c;for(c in b)b[c]<=0||a.add(c);return a};Va.add=function(a){var b,c,d,e;c=this._paths;c[a]=(c[a]||0)+1;b=this.value();c=fa(b,a);if(c[0]&&
c[0]===b){a=c[1];b=a.match(D)[0];a=a.slice(b.length+1)}else if(c[0]){d=c[0];b=a.slice(0,0-(c[1].length+1));e=a.slice(b.length,b.length+1);a=c[1]}else{oa.push([this,a]);c.length=0;return}c.length=0;this.chain(b,a,d,e)};Va.remove=function(a){var b,c;c=this._paths;c[a]>0&&c[a]--;b=this.value();c=fa(b,a);if(c[0]===b){a=c[1];b=a.match(D)[0];a=a.slice(b.length+1)}else{b=a.slice(0,0-(c[1].length+1));a=c[1]}c.length=0;this.unchain(b,a)};Va.count=0;Va.chain=function(a,b,c,d){var e=this._chains,f;if(!e)e=this._chains=
{};(f=e[a])||(f=e[a]=new N(this,a,c,d));f.count++;if(b&&b.length>0){a=b.match(D)[0];b=b.slice(a.length+1);f.chain(a,b)}};Va.unchain=function(a,b){var c=this._chains,d=c[a];if(b&&b.length>1){a=b.match(D)[0];b=b.slice(a.length+1);d.unchain(a,b)}d.count--;if(d.count<=0){delete c[d._key];d.destroy()}};Va.willChange=function(){var a=this._chains;if(a)for(var b in a)a.hasOwnProperty(b)&&a[b].willChange();this._parent&&this._parent.chainWillChange(this,this._key,1)};Va.chainWillChange=function(a,b,c){this._key&&
(b=this._key+this._separator+b);if(this._parent)this._parent.chainWillChange(this,b,c+1);else{c>1&&Ember.propertyWillChange(this.value(),b);b="this."+b;this._paths[b]>0&&Ember.propertyWillChange(this.value(),b)}};Va.chainDidChange=function(a,b,c){this._key&&(b=this._key+this._separator+b);if(this._parent)this._parent.chainDidChange(this,b,c+1);else{c>1&&Ember.propertyDidChange(this.value(),b);b="this."+b;this._paths[b]>0&&Ember.propertyDidChange(this.value(),b)}};Va.didChange=function(a){if(this._watching){var b=
this._parent.value();if(b!==this._object){Oa(this._object,this._key,this);this._object=b;La(b,this._key,this)}this._value=void 0;this._parent&&this._parent._key==="@each"&&this.value()}if(b=this._chains)for(var c in b)b.hasOwnProperty(c)&&b[c].didChange(a);a||this._parent&&this._parent.chainDidChange(this,this._key,1)};Ember.overrideChains=function(a,b,c){ca(a,c,b,"didChange",true)};Ember.watch=function(a,b){if(b==="length"&&Ember.typeOf(a)==="array")return this;var c=ja(a),d=c.watching;if(d[b])d[b]=
(d[b]||0)+1;else{d[b]=1;if(b==="*"||!J.test(b)){(d=c.descs[b])&&d.willWatch&&d.willWatch(a,b);"function"===typeof a.willWatchProperty&&a.willWatchProperty(b);if(H&&b in a){c.values[b]=a[b];ma(a,b,{configurable:true,enumerable:true,set:function(){Ember.assert("Must use Ember.set() to access this property",false)},get:function(){var a=this[U];return a&&a.values[b]}})}}else X(a).add(b)}return this};Ember.isWatching=function(a,b){var c=a[U];return(c&&c.watching[b])>0};Ember.watch.flushPending=function(){if(oa.length!==
0){var a=oa;oa=[];F.call(a,function(a){a[0].add(a[1])});Ember.warn("Watching an undefined global, Ember expects watched globals to be setup by the time the run loop is flushed, check for typos",oa.length===0)}};Ember.unwatch=function(a,b){if(b==="length"&&Ember.typeOf(a)==="array")return this;var c=ja(a),d=c.watching;if(d[b]===1){d[b]=0;if(b==="*"||!J.test(b)){(d=c.descs[b])&&d.didUnwatch&&d.didUnwatch(a,b);"function"===typeof a.didUnwatchProperty&&a.didUnwatchProperty(b);if(H&&b in a){ma(a,b,{configurable:true,
enumerable:true,writable:true,value:c.values[b]});delete c.values[b]}}else X(a).remove(b)}else d[b]>1&&d[b]--;return this};Ember.rewatch=function(a){var b=ja(a,false),c=b.chains;ia in a&&!a.hasOwnProperty(ia)&&Ember.generateGuid(a,"ember");if(c&&c.value()!==a)b.chains=c.copy(a);return this};Ember.finishChains=function(a){var b=ja(a,false),c=b.chains;if(c){if(c.value()!==a)b.chains=c=c.copy(a);c.didChange(true)}};Ember.propertyWillChange=Ya;Ember.propertyDidChange=pa;var Bb=[];Ember.destroy=function(a){var b=
a[U],c;if(b){a[U]=null;if(a=b.chains)for(Bb.push(a);Bb.length>0;){a=Bb.pop();if(b=a._chains)for(c in b)b.hasOwnProperty(c)&&Bb.push(b[c]);if(a._watching)(b=a._object)&&Oa(b,a._key,a)}}};var Ja=function(a,b,c){var d=b[c];if(d){if(d.__emberproto__!==a){d=b[c]=ab(d);d.__emberproto__=a}}else d=b[c]={__emberproto__:a};return d},Pa=function(a,b){var c=b.deps;if(c){if(c.__emberproto__!==a){c=b.deps=ab(c);c.__emberproto__=a}}else c=b.deps={__emberproto__:a};return c},Ga=function(a,b,c,d){var a=a._dependentKeys,
e,f,g,h;if(a){d=Pa(b,d);e=0;for(f=a.length;e<f;e++){g=a[e];h=Ja(b,d,g);h[c]=(h[c]||0)+1;Aa(b,g)}}},Ka=function(a,b,c,d){var a=a._dependentKeys,e,f,g,h;if(a){d=Pa(b,d);e=0;for(f=a.length;e<f;e++){g=a[e];h=Ja(b,d,g);h[c]=(h[c]||0)-1;m(b,g)}}},Wa=function(a,b){this.func=a;this._cacheable=b&&b.cacheable!==void 0?b.cacheable:Ember.CP_DEFAULT_CACHEABLE;this._dependentKeys=b&&b.dependentKeys};Ember.warn("Computed properties will soon be cacheable by default. To enable this in your app, set `ENV.CP_DEFAULT_CACHEABLE = true`.",
Ember.CP_DEFAULT_CACHEABLE);var sb=Ember.get,qa=Ember.meta,Ma=[].slice,ab=Ember.create,Ta=Ember.META_KEY,Aa=Ember.watch,m=Ember.unwatch;Ember.ComputedProperty=Wa;Wa.prototype=new Ember.Descriptor;var y=Wa.prototype;y.cacheable=function(a){this._cacheable=a!==false;return this};y.safe_volatile=function(){return this.cacheable(false)};y.property=function(){for(var a=[],b=0,c=arguments.length;b<c;b++)a.push(arguments[b]);this._dependentKeys=a;return this};y.meta=function(a){if(arguments.length===0)return this._meta||
{};this._meta=a;return this};y.willWatch=function(a,b){var c=a[Ta];Ember.assert("watch should have setup meta to be writable",c.source===a);b in c.cache||Ga(this,a,b,c)};y.didUnwatch=function(a,b){var c=a[Ta];Ember.assert("unwatch should have setup meta to be writable",c.source===a);b in c.cache||Ka(this,a,b,c)};y.didChange=function(a,b){if(this._cacheable&&this._suspended!==a){var c=qa(a);if(b in c.cache){delete c.cache[b];c.watching[b]||Ka(this,a,b,c)}}};y.get=function(a,b){var c,d;if(this._cacheable){d=
qa(a);c=d.cache;if(b in c)return c[b];c=c[b]=this.func.call(a,b);d.watching[b]||Ga(this,a,b,d)}else c=this.func.call(a,b);return c};y.set=function(a,b,c){var d=this._cacheable,e=qa(a,d),f=e.watching[b],g=this._suspended,h;this._suspended=a;f&&Ember.propertyWillChange(a,b);if(d&&b in e.cache){delete e.cache[b];h=true}c=this.func.call(a,b,c);if(d){!f&&!h&&Ga(this,a,b,e);e.cache[b]=c}f&&Ember.propertyDidChange(a,b);this._suspended=g;return c};y.setup=function(a,b){var c=a[Ta];c&&c.watching[b]&&Ga(this,
a,b,qa(a))};y.teardown=function(a,b){var c=qa(a);(c.watching[b]||b in c.cache)&&Ka(this,a,b,c);this._cacheable&&delete c.cache[b];return null};Ember.computed=function(a){var b;if(arguments.length>1){b=Ma.call(arguments,0,-1);a=Ma.call(arguments,-1)[0]}var c=new Wa(a);b&&c.property.apply(c,b);return c};Ember.cacheFor=function(a,b){var c=qa(a,false).cache;if(c&&b in c)return c[b]};Ember.computed.not=function(a){return Ember.computed(a,function(){return!sb(this,a)}).cacheable()};Ember.computed.empty=
function(a){return Ember.computed(a,function(){var b=sb(this,a);return b===void 0||b===null||b===""||Ember.isArray(b)&&sb(b,"length")===0}).cacheable()};Ember.computed.bool=function(a){return Ember.computed(a,function(){return!!sb(this,a)}).cacheable()};var Ba=function(a,b,c,d){var e=cb(a,false).listeners,b=e?e[b]||false:false;if(!b)return false;for(var f in b)if(!Ub[f])if(e=b[f])for(var g in e)if(!Ub[g]){var h=e[g];if(h&&c(h,d,a)===true)return true}return false},gb=function(a,b,c){var d=a.method;
(a=a.target)||(a=c);"string"===typeof d&&(d=a[d]);b?d.apply(a,b):d.apply(a)},cb=Ember.meta,Kb=Ember.metaPath,yb=Ember.guidFor,Ub={__ember_source__:true};Ember.addListener=function(a,b,c,d){Ember.assert("You must pass at least an object and event name to Ember.addListener",!!a&&!!b);if(!d&&"function"===typeof c){d=c;c=null}var e=Kb(a,["listeners",b,yb(c)],true),f=yb(d);e[f]||(e[f]={target:c,method:d});"function"===typeof a.didAddListener&&a.didAddListener(b,c,d)};Ember.removeListener=function(a,b,
c,d){Ember.assert("You must pass at least an object and event name to Ember.removeListener",!!a&&!!b);if(!d&&"function"===typeof c){d=c;c=null}var e=Kb(a,["listeners",b,yb(c)],true),f=yb(d);e&&e[f]&&(e[f]=null);"function"===typeof a.didRemoveListener&&a.didRemoveListener(b,c,d)};Ember._suspendListener=function(a,b,c,d,e){if(!d&&"function"===typeof c){d=c;c=null}a=Kb(a,["listeners",b,yb(c)],true);d=yb(d);b=a&&a[d];a[d]=null;try{return e.call(c)}finally{a[d]=b}};Ember.sendEvent=function(a,b,c){a!==
Ember&&"function"===typeof a.sendEvent&&a.sendEvent(b,c);Ba(a,b,gb,c);return true};Ember.hasListeners=function(a,b){if(Ba(a,b,function(){return true}))return true;Kb(a,["listeners"],true)[b]=null;return false};Ember.watchedEvents=function(a){var a=cb(a,false).listeners,b=[];if(a)for(var c in a)!Ub[c]&&a[c]&&b.push(c);return b};Ember.listenersFor=function(a,b){var c=[];Ba(a,b,function(a){c.push([a.target,a.method])});return c};Ember.deferEvent=function(a,b,c){var d=[];Ba(a,b,function(a){d.push(a)});
return function(){if(!a.isDestroyed){a!==Ember&&"function"===typeof a.sendEvent&&a.sendEvent(b,c);for(var e=0,f=d.length;e<f;++e)gb(d[e],c,a)}}};var Lb=function(a,b,c,d){if(b===void 0){b=a;a=void 0}"string"===typeof b&&(b=a[b]);c&&d>0&&(c=c.length>d?hb.call(c,d):null);if("function"===typeof Ember.onerror)try{return b.apply(a||this,c||[])}catch(e){Ember.onerror(e)}else return b.apply(a||this,c||[])},kc=function(){tb=null;Ca.currentRunLoop&&Ca.end()},ec=function(){Fb=null;var a=+new Date,b=-1,c;for(c in ua)if(ua.hasOwnProperty(c)){var d=
ua[c];if(d&&d.expires)if(a>=d.expires){delete ua[c];Lb(d.target,d.method,d.args,2)}else if(b<0||d.expires<b)b=d.expires}b>0&&(Fb=setTimeout(ec,b-+new Date))},lc=function(a,b){b[this.tguid]&&delete b[this.tguid][this.mguid];ua[a]&&Lb(this.target,this.method,this.args,2);delete ua[a]},Db=function(){kb=null;for(var a in ua)if(ua.hasOwnProperty(a)){var b=ua[a];if(b.next){delete ua[a];Lb(b.target,b.method,b.args,2)}}},hb=[].slice,Eb=Ember.ArrayPolyfills.forEach,Vb=function(a){this._prev=a||null;this.onceTimers=
{}};Vb.prototype={end:function(){this.flush()},prev:function(){return this._prev},schedule:function(a,b,c){var d=this._queues,e;if(!d)d=this._queues={};(e=d[a])||(e=d[a]=[]);d=arguments.length>3?hb.call(arguments,3):null;e.push({target:b,method:c,args:d});return this},flush:function(a){function b(a){Lb(a.target,a.method,a.args)}var c,d,e,f,g;if(!this._queues)return this;Ember.watch.flushPending();if(a)for(;this._queues&&(f=this._queues[a]);){this._queues[a]=null;if(a==="sync"){(g=Ember.LOG_BINDINGS)&&
Ember.Logger.log("Begin: Flush Sync Queue");Ember.beginPropertyChanges();try{Eb.call(f,b)}finally{Ember.endPropertyChanges()}g&&Ember.Logger.log("End: Flush Sync Queue")}else Eb.call(f,b)}else{c=Ember.run.queues;e=c.length;d=0;a:for(;d<e;){a=c[d];f=this._queues&&this._queues[a];delete this._queues[a];if(f)if(a==="sync"){(g=Ember.LOG_BINDINGS)&&Ember.Logger.log("Begin: Flush Sync Queue");Ember.beginPropertyChanges();try{Eb.call(f,b)}finally{Ember.endPropertyChanges()}g&&Ember.Logger.log("End: Flush Sync Queue")}else Eb.call(f,
b);for(a=0;a<=d;a++)if(this._queues&&this._queues[c[a]]){d=a;continue a}d++}}return this}};Ember.RunLoop=Vb;Ember.run=function(a,b){var c;Ca.begin();try{if(a||b)c=Lb(a,b,arguments,2)}finally{Ca.end()}return c};var Ca=Ember.run;Ember.run.begin=function(){Ca.currentRunLoop=new Vb(Ca.currentRunLoop)};Ember.run.end=function(){Ember.assert("must have a current run loop",Ca.currentRunLoop);try{Ca.currentRunLoop.end()}finally{Ca.currentRunLoop=Ca.currentRunLoop.prev()}};Ember.run.queues=["sync","actions",
"destroy","timers"];Ember.run.schedule=function(a,b,c){var d=Ca.autorun();d.schedule.apply(d,arguments)};var tb;Ember.run.hasScheduledTimers=function(){return!(!tb&&!Fb&&!kb)};Ember.run.cancelTimers=function(){if(tb){clearTimeout(tb);tb=null}if(Fb){clearTimeout(Fb);Fb=null}if(kb){clearTimeout(kb);kb=null}ua={}};Ember.run.autorun=function(){if(!Ca.currentRunLoop){Ember.assert("You have turned on testing mode, which disabled the run-loop's autorun. You will need to wrap any code with asynchronous side-effects in an Ember.run",
!Ember.testing);Ca.begin();tb||(tb=setTimeout(kc,1))}return Ca.currentRunLoop};Ember.run.sync=function(){Ca.autorun();Ca.currentRunLoop.flush("sync")};var ua={},Fb;Ember.run.later=function(a,b){var c,d;if(arguments.length===2&&"function"===typeof a){d=b;b=a;a=void 0;c=[a,b]}else{c=hb.call(arguments);d=c.pop()}c={target:a,method:b,expires:+new Date+d,args:c};d=Ember.guidFor(c);ua[d]=c;Ca.once(ua,ec);return d};Ember.run.once=function(a,b){var c=Ember.guidFor(a),d=Ember.guidFor(b),e=Ca.autorun().onceTimers,
f=e[c]&&e[c][d],g;if(f&&ua[f])ua[f].args=hb.call(arguments);else{g={target:a,method:b,args:hb.call(arguments),tguid:c,mguid:d};f=Ember.guidFor(g);ua[f]=g;e[c]||(e[c]={});e[c][d]=f;Ca.schedule("actions",g,lc,f,e)}return f};var kb;Ember.run.next=function(a,b){var c,d={target:a,method:b,args:hb.call(arguments),next:true};c=Ember.guidFor(d);ua[c]=d;kb||(kb=setTimeout(Db,1));return c};Ember.run.cancel=function(a){delete ua[a]};Ember.LOG_BINDINGS=!!Ember.ENV.LOG_BINDINGS;var L=Ember.get,eb=Ember.guidFor,
S=Ember.isGlobalPath,lb=function(a,b){this._direction="fwd";this._from=b;this._to=a;this._directionMap=Ember.Map.create()};lb.prototype={copy:function(){var a=new lb(this._to,this._from);if(this._oneWay)a._oneWay=true;return a},from:function(a){this._from=a;return this},to:function(a){this._to=a;return this},oneWay:function(){this._oneWay=true;return this},toString:function(){var a=this._oneWay?"[oneWay]":"";return"Ember.Binding<"+eb(this)+">("+this._from+" -> "+this._to+")"+a},connect:function(a){Ember.assert("Must pass a valid object to Ember.Binding.connect()",
!!a);var b=this._from,c=this._to;Ember.trySet(a,c,L(S(b)?window:a,b));Ember.addObserver(a,b,this,this.fromDidChange);this._oneWay||Ember.addObserver(a,c,this,this.toDidChange);this._readyToSync=true;return this},disconnect:function(a){Ember.assert("Must pass a valid object to Ember.Binding.disconnect()",!!a);var b=!this._oneWay;Ember.removeObserver(a,this._from,this,this.fromDidChange);b&&Ember.removeObserver(a,this._to,this,this.toDidChange);this._readyToSync=false;return this},fromDidChange:function(a){this._scheduleSync(a,
"fwd")},toDidChange:function(a){this._scheduleSync(a,"back")},_scheduleSync:function(a,b){var c=this._directionMap,d=c.get(a);if(!d){Ember.run.schedule("sync",this,this._sync,a);c.set(a,b)}d==="back"&&b==="fwd"&&c.set(a,"fwd")},_sync:function(a){var b=Ember.LOG_BINDINGS;if(!a.isDestroyed&&this._readyToSync){var c=this._directionMap,d=c.get(a),e=this._from,f=this._to;c.remove(a);if(d==="fwd"){var g=L(S(this._from)?window:a,this._from);b&&Ember.Logger.log(" ",this.toString(),"->",g,a);this._oneWay?
Ember.trySet(a,f,g):Ember._suspendObserver(a,f,this,this.toDidChange,function(){Ember.trySet(a,f,g)})}else if(d==="back"){var h=L(a,this._to);b&&Ember.Logger.log(" ",this.toString(),"<-",h,a);Ember._suspendObserver(a,e,this,this.fromDidChange,function(){Ember.trySet(Ember.isGlobalPath(e)?window:a,e,h)})}}}};var mc={from:function(){var a=new this;return a.from.apply(a,arguments)},to:function(){var a=new this;return a.to.apply(a,arguments)},oneWay:function(a,b){return(new this(null,a)).oneWay(b)}},
ub;for(ub in mc)mc.hasOwnProperty(ub)&&(lb[ub]=mc[ub]);Ember.Binding=lb;Ember.bind=function(a,b,c){return(new Ember.Binding(b,c)).connect(a)};Ember.oneWay=function(a,b,c){return(new Ember.Binding(b,c)).oneWay().connect(a)};var db=function(a,b){if(b&&b.length>0)a.mixins=Sc.call(b,function(a){if(a instanceof va)return a;var b=new va;b.properties=a;return b});return a},Xb=function(a,b,c,d,e){function f(a){delete c[a];delete d[a]}var g=a.length,h,p,j,k,l,m;for(h=0;h<g;h++){p=a[h];Ember.assert("Expected hash or Mixin instance, got "+
Object.prototype.toString.call(p),typeof p==="object"&&p!==null&&Object.prototype.toString.call(p)!=="[object Array]");if(p instanceof va){j=Rb(p);if(b[j])continue;b[j]=p;j=p.properties}else j=p;if(j){m=d.concatenatedProperties||e.concatenatedProperties;j.concatenatedProperties&&(m=m?m.concat(j.concatenatedProperties):j.concatenatedProperties);for(k in j)if(j.hasOwnProperty(k)){p=j[k];if(p instanceof Ember.Descriptor){if(!(p===mb&&c[k])){c[k]=p;d[k]=void 0}}else{if("function"===typeof p&&p.isMethod!==
false&&p!==Boolean&&p!==Object&&p!==Number&&p!==Array&&p!==Date&&p!==String){(l=c[k]===void 0&&d[k])||(l=e[k]);"function"!==typeof l&&(l=null);if(l){var n=p.__ember_observes__,aa=p.__ember_observesBefore__;p=Ember.wrap(p,l);p.__ember_observes__=n;p.__ember_observesBefore__=aa}}else if(m&&ce.call(m,k)>=0||k==="concatenatedProperties")p=(l=d[k]||e[k])?l.concat(p):Ember.makeArray(p);c[k]=void 0;d[k]=p}}if(j.hasOwnProperty("toString"))e.toString=j.toString}else if(p.mixins){Xb(p.mixins,b,c,d,e);p._without&&
Zb.call(p._without,f)}}},Wb=function(a){var b=Ember.meta(a),c=b.required;if(!c||c.__emberproto__!==a){c=b.required=c?Gc(c):{__ember_count__:0};c.__emberproto__=a}return c},Da=function(a,b){var c=b||Ember.meta(a),d=c.bindings,e,f,g;if(d){for(e in d)if(f=e!=="__emberproto__"&&d[e]){g=e.slice(0,-7);if(f instanceof Ember.Binding){f=f.copy();f.to(g)}else f=new Ember.Binding(g,f);f.connect(a);a[e]=f}c.bindings={__emberproto__:a}}return a},p=function(a,b,c){var d={},e={},f=Ember.meta(a),g=f.required,h,p,
j,k,l;p=Xb;k=Ember.meta(a,true);if(j=k.mixins){if(j.__emberproto__!==a){j=k.mixins=Gc(j);j.__emberproto__=a}}else j=k.mixins={__emberproto__:a};p(b,j,d,e,a);for(h in e)if(h!=="contructor"&&e.hasOwnProperty(h)){p=d[h];b=e[h];if(p===mb){if(!(h in a)){Ember.assert("Required property not defined: "+h,!!c);g=Wb(a);g.__ember_count__++;g[h]=true}}else{for(;p&&p instanceof Yb;){k=p.methodName;if(d[k]||e[k]){b=e[k];p=d[k]}else if(f.descs[k]){p=f.descs[k];b=void 0}else{p=void 0;b=a[k]}}if(!(p===void 0&&b===
void 0)){j=a[h];if("function"===typeof j)if(k=j.__ember_observesBefore__){j=k.length;for(l=0;l<j;l++)Ember.removeBeforeObserver(a,k[l],null,h)}else if(k=j.__ember_observes__){j=k.length;for(l=0;l<j;l++)Ember.removeObserver(a,k[l],null,h)}k=a;j=h;l=b;var m=f;if(zd.test(j)){var n=m.bindings;if(n){if(n.__emberproto__!==k){n=m.bindings=Gc(m.bindings);n.__emberproto__=k}}else n=m.bindings={__emberproto__:k};n[j]=l}yd(a,h,p,b,f);if("function"===typeof b)if(k=b.__ember_observesBefore__){j=k.length;for(l=
0;l<j;l++)Ember.addBeforeObserver(a,k[l],null,h)}else if(k=b.__ember_observes__){j=k.length;for(l=0;l<j;l++)Ember.addObserver(a,k[l],null,h)}if(g&&g[h]){g=Wb(a);g.__ember_count__--;g[h]=false}}}}c||Da(a,f);if(!c&&g&&g.__ember_count__>0){c=[];for(h in g)Tc[h]||c.push(h);Ember.assert("Required properties not defined: "+c.join(","))}return a},aa=function(a,b,c){var d=Rb(a);if(c[d])return false;c[d]=true;if(a===b)return true;for(d=(a=a.mixins)?a.length:0;--d>=0;)if(aa(a[d],b,c))return true;return false},
vb=function(a,b,c){if(!c[Rb(b)]){c[Rb(b)]=true;if(b.properties){var b=b.properties,d;for(d in b)b.hasOwnProperty(d)&&(a[d]=true)}else b.mixins&&Zb.call(b.mixins,function(b){vb(a,b,c)})}},Ua=function(a,b,c){var d=a.length,e;for(e in b)if(b.hasOwnProperty&&b.hasOwnProperty(e)){var f=b[e];a[d]=e;if(f&&f.toString===Hb)f[$b]=a.join(".");else if(f&&Bc(f,"isNamespace")&&!c[Rb(f)]){c[Rb(f)]=true;Ua(a,f,c)}}a.length=d},Gb=function(){var a,b;if(!Ember.Namespace.PROCESSED)for(var c in window)if(!(c==="globalStorage"&&
window.StorageList&&window.globalStorage instanceof window.StorageList)&&(!window.hasOwnProperty||window.hasOwnProperty(c))){try{b=(a=window[c])&&Bc(a,"isNamespace")}catch(d){continue}if(b){Ember.deprecate("Namespaces should not begin with lowercase.",/^[A-Z]/.test(c));a[$b]=c}}},va,mb,Yb,Hb,Fc,Sc=Ember.ArrayPolyfills.map,ce=Ember.ArrayPolyfills.indexOf,Zb=Ember.ArrayPolyfills.forEach,fc=[].slice,Tc={__emberproto__:true,__ember_count__:true},Gc=Ember.create,yd=Ember.defineProperty,Rb=Ember.guidFor,
zd=Ember.IS_BINDING=/^.+Binding$/;Ember.mixin=function(a){var b=fc.call(arguments,1);p(a,b,false);return a};Ember.Mixin=function(){return db(this,arguments)};va=Ember.Mixin;va._apply=p;va.applyPartial=function(a){var b=fc.call(arguments,1);return p(a,b,true)};va.finishPartial=Da;va.create=function(){Hb.processed=false;return db(new this,arguments)};var Mb=va.prototype;Mb.reopen=function(){var a,b;if(this.properties){a=va.create();a.properties=this.properties;delete this.properties;this.mixins=[a]}else if(!this.mixins)this.mixins=
[];var c=arguments.length,d=this.mixins,e;for(e=0;e<c;e++){a=arguments[e];Ember.assert("Expected hash or Mixin instance, got "+Object.prototype.toString.call(a),typeof a==="object"&&a!==null&&Object.prototype.toString.call(a)!=="[object Array]");if(a instanceof va)d.push(a);else{b=va.create();b.properties=a;d.push(b)}}return this};Mb.apply=function(a){return p(a,[this],false)};Mb.applyPartial=function(a){return p(a,[this],true)};Mb.detect=function(a){if(!a)return false;if(a instanceof va)return aa(a,
this,{});return(a=Ember.meta(a,false).mixins)?!!a[Rb(this)]:false};Mb.without=function(){var a=new va(this);a._without=fc.call(arguments);return a};Mb.keys=function(){var a={},b=[];vb(a,this,{});for(var c in a)a.hasOwnProperty(c)&&b.push(c);return b};var $b=Ember.GUID_KEY+"_name",Bc=Ember.get;Ember.identifyNamespaces=Gb;Fc=function(a){if(a=a.superclass)return a[$b]?a[$b]:Fc(a)};Hb=function(){var a=Ember.Namespace;if(a&&!this[$b]&&!Hb.processed){if(!a.PROCESSED){Gb();a.PROCESSED=true}Hb.processed=
true;for(var b=a.NAMESPACES,c=0,d=b.length;c<d;c++){a=b[c];Ua([a.toString()],a,{})}}if(this[$b])return this[$b];return(a=Fc(this))?"(subclass of "+a+")":"(unknown mixin)"};Mb.toString=Hb;va.mixins=function(a){var b=[],a=Ember.meta(a,false).mixins,c,d;if(a)for(c in a)if(!Tc[c]){d=a[c];d.properties||b.push(a[c])}return b};mb=new Ember.Descriptor;mb.toString=function(){return"(Required Property)"};Ember.required=function(){return mb};Yb=function(a){this.methodName=a};Yb.prototype=new Ember.Descriptor;
Ember.alias=function(a){return new Yb(a)};Ember.observer=function(a){var b=fc.call(arguments,1);a.__ember_observes__=b;return a};Ember.immediateObserver=function(){for(var a=0,b=arguments.length;a<b;a++){var c=arguments[a];Ember.assert("Immediate observers must observe internal properties only, not properties on other objects.",typeof c!=="string"||c.indexOf(".")===-1)}return Ember.observer.apply(this,arguments)};Ember.beforeObserver=function(a){var b=fc.call(arguments,1);a.__ember_observesBefore__=
b;return a};var Hc=function(a,b,c,d){var e,f,g;if("object"!==typeof a||a===null)return a;if(b&&(f=Ic(c,a))>=0)return d[f];Ember.assert("Cannot clone an Ember.Object that does not implement Ember.Copyable",!(a instanceof Ember.Object)||Ember.Copyable&&Ember.Copyable.detect(a));if(Ember.typeOf(a)==="array"){e=a.slice();if(b)for(f=e.length;--f>=0;)e[f]=Hc(e[f],b,c,d)}else if(Ember.Copyable&&Ember.Copyable.detect(a))e=a.copy(b,c,d);else{e={};for(g in a)a.hasOwnProperty(g)&&(e[g]=b?Hc(a[g],b,c,d):a[g])}if(b){c.push(a);
d.push(e)}return e},Ic=Ember.EnumerableUtils.indexOf,Jc={};Ember.ArrayPolyfills.forEach.call(["Boolean","Number","String","Function","Array","Date","RegExp","Object"],function(a){Jc["[object "+a+"]"]=a.toLowerCase()});var Uc=Object.prototype.toString;Ember.typeOf=function(a){var b;b=a===null||a===void 0?String(a):Jc[Uc.call(a)]||"object";b==="function"?Ember.Object&&Ember.Object.detect(a)&&(b="class"):b==="object"&&(b=a instanceof Error?"error":Ember.Object&&a instanceof Ember.Object?"instance":"object");
return b};Ember.none=function(a){return a===null||a===void 0};Ember.empty=function(a){return a===null||a===void 0||a.length===0&&typeof a!=="function"};Ember.compare=function Pe(a,b){if(a===b)return 0;var c=Ember.typeOf(a),d=Ember.typeOf(b),e=Ember.Comparable;if(e){if(c==="instance"&&e.detect(a.constructor))return a.constructor.compare(a,b);if(d==="instance"&&e.detect(b.constructor))return 1-b.constructor.compare(b,a)}e=Ember.ORDER_DEFINITION_MAPPING;if(!e){var f=Ember.ORDER_DEFINITION,e=Ember.ORDER_DEFINITION_MAPPING=
{},g,h;g=0;for(h=f.length;g<h;++g)e[f[g]]=g;delete Ember.ORDER_DEFINITION}f=e[c];d=e[d];if(f<d)return-1;if(f>d)return 1;switch(c){case "boolean":case "number":return a<b?-1:a>b?1:0;case "string":c=a.localeCompare(b);return c<0?-1:c>0?1:0;case "array":c=a.length;d=b.length;e=Math.min(c,d);for(g=f=0;f===0&&g<e;){f=Pe(a[g],b[g]);g++}return f!==0?f:c<d?-1:c>d?1:0;case "instance":return Ember.Comparable&&Ember.Comparable.detect(a)?a.compare(a,b):0;case "date":c=a.getTime();d=b.getTime();return c<d?-1:
c>d?1:0;default:return 0}};Ember.copy=function(a,b){return"object"!==typeof a||a===null?a:Ember.Copyable&&Ember.Copyable.detect(a)?a.copy(b):Hc(a,b,b?[]:null,b?[]:null)};Ember.inspect=function(a){var b,c=[],d;for(d in a)if(a.hasOwnProperty(d)){b=a[d];if(b!=="toString"){Ember.typeOf(b)==="function"&&(b="function() { ... }");c.push(d+": "+b)}}return"{"+c.join(" , ")+"}"};Ember.isEqual=function(a,b){return a&&"function"===typeof a.isEqual?a.isEqual(b):a===b};Ember.ORDER_DEFINITION=Ember.ENV.ORDER_DEFINITION||
["undefined","null","boolean","number","string","array","object","instance","function","class","date"];Ember.keys=Object.keys;if(!Ember.keys)Ember.keys=function(a){var b=[],c;for(c in a)a.hasOwnProperty(c)&&b.push(c);return b};Ember.Error=function(){var a=Error.prototype.constructor.apply(this,arguments),b;for(b in a)a.hasOwnProperty(b)&&(this[b]=a[b]);this.message=a.message};Ember.Error.prototype=Ember.create(Error.prototype);var Ad=/[ _]/g,Vc={},Bd=/([a-z])([A-Z])/g,Cd=/(\-|_|\s)+(.)?/g,Wc=/([a-z\d])([A-Z]+)/g,
Xc=/\-|\s+/g;Ember.STRINGS={};Ember.String={fmt:function(a,b){var c=0;return a.replace(/%@([0-9]+)?/g,function(a,d){d=d?parseInt(d,0)-1:c++;a=b[d];return(a===null?"(null)":a===void 0?"":a).toString()})},loc:function(a,b){a=Ember.STRINGS[a]||a;return Ember.String.fmt(a,b)},w:function(a){return a.split(/\s+/)},decamelize:function(a){return a.replace(Bd,"$1_$2").toLowerCase()},dasherize:function(a){var b=Vc[a];if(!b){b=Ember.String.decamelize(a).replace(Ad,"-");Vc[a]=b}return b},camelize:function(a){return a.replace(Cd,
function(a,b,c){return c?c.toUpperCase():""})},classify:function(a){a=Ember.String.camelize(a);return a.charAt(0).toUpperCase()+a.substr(1)},underscore:function(a){return a.replace(Wc,"$1_$2").replace(Xc,"_").toLowerCase()}};var Yc=Ember.String.fmt,Dd=Ember.String.w,ib=Ember.String.loc,Kc=Ember.String.camelize,Lc=Ember.String.decamelize,Ed=Ember.String.dasherize,Fd=Ember.String.underscore;if(Ember.EXTEND_PROTOTYPES){String.prototype.fmt=function(){return Yc(this,arguments)};String.prototype.w=function(){return Dd(this)};
String.prototype.loc=function(){return ib(this,arguments)};String.prototype.camelize=function(){return Kc(this)};String.prototype.decamelize=function(){return Lc(this)};String.prototype.dasherize=function(){return Ed(this)};String.prototype.underscore=function(){return Fd(this)}}var Zc=Array.prototype.slice;if(Ember.EXTEND_PROTOTYPES){Function.prototype.property=function(){var a=Ember.computed(this);return a.property.apply(a,arguments)};Function.prototype.observes=function(){this.__ember_observes__=
Zc.call(arguments);return this};Function.prototype.observesBefore=function(){this.__ember_observesBefore__=Zc.call(arguments);return this}}var bc=function(){return wc.length===0?{}:wc.pop()},uc=function(a){wc.push(a);return null},vc=function(a,b){var c=arguments.length===2;return function(d){d=nb(d,a);return c?b===d:!!d}},nb=Ember.get,Sb=Ember.set,ac=Array.prototype.slice,$c=Ember.EnumerableUtils.indexOf,wc=[];Ember.Enumerable=Ember.Mixin.create({isEnumerable:true,nextObject:Ember.required(Function),
firstObject:Ember.computed(function(){if(nb(this,"length")!==0){var a=bc(),b;b=this.nextObject(0,null,a);uc(a);return b}}).property("[]").cacheable(),lastObject:Ember.computed(function(){if(nb(this,"length")!==0){var a=bc(),b=0,c,d=null;do{d=c;c=this.nextObject(b++,d,a)}while(c!==void 0);uc(a);return d}}).property("[]").cacheable(),contains:function(a){return this.find(function(b){return b===a})!==void 0},forEach:function(a,b){if(typeof a!=="function")throw new TypeError;var c=nb(this,"length"),d=
null,e=bc();b===void 0&&(b=null);for(var f=0;f<c;f++){d=this.nextObject(f,d,e);a.call(b,d,f,this)}uc(e);return this},getEach:function(a){return this.mapProperty(a)},setEach:function(a,b){return this.forEach(function(c){Sb(c,a,b)})},map:function(a,b){var c=[];this.forEach(function(d,e,f){c[e]=a.call(b,d,e,f)});return c},mapProperty:function(a){return this.map(function(b){return nb(b,a)})},filter:function(a,b){var c=[];this.forEach(function(d,e,f){a.call(b,d,e,f)&&c.push(d)});return c},filterProperty:function(a,
b){return this.filter(vc.apply(this,arguments))},find:function(a,b){var c=nb(this,"length");b===void 0&&(b=null);for(var d=null,e=false,f,g=bc(),h=0;h<c&&!e;h++){d=this.nextObject(h,d,g);if(e=a.call(b,d,h,this))f=d}uc(g);return f},findProperty:function(a,b){return this.find(vc.apply(this,arguments))},every:function(a,b){return!this.find(function(c,d,e){return!a.call(b,c,d,e)})},everyProperty:function(a,b){return this.every(vc.apply(this,arguments))},some:function(a,b){return!!this.find(function(c,
d,e){return!!a.call(b,c,d,e)})},someProperty:function(a,b){return this.some(vc.apply(this,arguments))},reduce:function(a,b,c){if(typeof a!=="function")throw new TypeError;var d=b;this.forEach(function(b,e){d=a.call(null,d,b,e,this,c)},this);return d},invoke:function(a){var b,c=[];arguments.length>1&&(b=ac.call(arguments,1));this.forEach(function(d,e){var f=d&&d[a];"function"===typeof f&&(c[e]=b?f.apply(d,b):f.call(d))},this);return c},toArray:function(){var a=[];this.forEach(function(b,c){a[c]=b});
return a},compact:function(){return this.without(null)},without:function(a){if(!this.contains(a))return this;var b=[];this.forEach(function(c){c!==a&&(b[b.length]=c)});return b},uniq:function(){var a=[];this.forEach(function(b){$c(a,b)<0&&a.push(b)});return a},"[]":Ember.computed(function(){return this}).property().cacheable(),addEnumerableObserver:function(a,b){var c=b&&b.willChange||"enumerableWillChange",d=b&&b.didChange||"enumerableDidChange",e=nb(this,"hasEnumerableObservers");e||Ember.propertyWillChange(this,
"hasEnumerableObservers");Ember.addListener(this,"@enumerable:before",a,c);Ember.addListener(this,"@enumerable:change",a,d);e||Ember.propertyDidChange(this,"hasEnumerableObservers");return this},removeEnumerableObserver:function(a,b){var c=b&&b.willChange||"enumerableWillChange",d=b&&b.didChange||"enumerableDidChange",e=nb(this,"hasEnumerableObservers");e&&Ember.propertyWillChange(this,"hasEnumerableObservers");Ember.removeListener(this,"@enumerable:before",a,c);Ember.removeListener(this,"@enumerable:change",
a,d);e&&Ember.propertyDidChange(this,"hasEnumerableObservers");return this},hasEnumerableObservers:Ember.computed(function(){return Ember.hasListeners(this,"@enumerable:change")||Ember.hasListeners(this,"@enumerable:before")}).property().cacheable(),enumerableContentWillChange:function(a,b){var c,d;c="number"===typeof a?a:a?nb(a,"length"):a=-1;d="number"===typeof b?b:b?nb(b,"length"):b=-1;c=d<0||c<0||d-c!==0;a===-1&&(a=null);b===-1&&(b=null);Ember.propertyWillChange(this,"[]");c&&Ember.propertyWillChange(this,
"length");Ember.sendEvent(this,"@enumerable:before",[this,a,b]);return this},enumerableContentDidChange:function(a,b){var c,d;c="number"===typeof a?a:a?nb(a,"length"):a=-1;d="number"===typeof b?b:b?nb(b,"length"):b=-1;c=d<0||c<0||d-c!==0;a===-1&&(a=null);b===-1&&(b=null);Ember.sendEvent(this,"@enumerable:change",[this,a,b]);c&&Ember.propertyDidChange(this,"length");Ember.propertyDidChange(this,"[]");return this}});var jb=Ember.get,wd=Ember.EnumerableUtils.map,Mc=Ember.cacheFor;Ember.Array=Ember.Mixin.create(Ember.Enumerable,
{isSCArray:true,length:Ember.required(),objectAt:function(a){return a<0||a>=jb(this,"length")?void 0:jb(this,a)},objectsAt:function(a){var b=this;return wd(a,function(a){return b.objectAt(a)})},nextObject:function(a){return this.objectAt(a)},"[]":Ember.computed(function(a,b){b!==void 0&&this.replace(0,jb(this,"length"),b);return this}).property().cacheable(),firstObject:Ember.computed(function(){return this.objectAt(0)}).property().cacheable(),lastObject:Ember.computed(function(){return this.objectAt(jb(this,
"length")-1)}).property().cacheable(),contains:function(a){return this.indexOf(a)>=0},slice:function(a,b){var c=[],d=jb(this,"length");if(a===null||a===void 0)a=0;if(b===null||b===void 0||b>d)b=d;for(;a<b;)c[c.length]=this.objectAt(a++);return c},indexOf:function(a,b){var c,d=jb(this,"length");b===void 0&&(b=0);b<0&&(b=b+d);for(c=b;c<d;c++)if(this.objectAt(c,true)===a)return c;return-1},lastIndexOf:function(a,b){var c;c=jb(this,"length");if(b===void 0||b>=c)b=c-1;b<0&&(b=b+c);for(c=b;c>=0;c--)if(this.objectAt(c)===
a)return c;return-1},addArrayObserver:function(a,b){var c=b&&b.willChange||"arrayWillChange",d=b&&b.didChange||"arrayDidChange",e=jb(this,"hasArrayObservers");e||Ember.propertyWillChange(this,"hasArrayObservers");Ember.addListener(this,"@array:before",a,c);Ember.addListener(this,"@array:change",a,d);e||Ember.propertyDidChange(this,"hasArrayObservers");return this},removeArrayObserver:function(a,b){var c=b&&b.willChange||"arrayWillChange",d=b&&b.didChange||"arrayDidChange",e=jb(this,"hasArrayObservers");
e&&Ember.propertyWillChange(this,"hasArrayObservers");Ember.removeListener(this,"@array:before",a,c);Ember.removeListener(this,"@array:change",a,d);e&&Ember.propertyDidChange(this,"hasArrayObservers");return this},hasArrayObservers:Ember.computed(function(){return Ember.hasListeners(this,"@array:change")||Ember.hasListeners(this,"@array:before")}).property().cacheable(),arrayContentWillChange:function(a,b,c){if(a===void 0){a=0;b=c=-1}else{b===void 0&&(b=-1);c===void 0&&(c=-1)}Ember.isWatching(this,
"@each")&&jb(this,"@each");Ember.sendEvent(this,"@array:before",[this,a,b,c]);var d;if(a>=0&&b>=0&&jb(this,"hasEnumerableObservers")){d=[];for(b=a+b;a<b;a++)d.push(this.objectAt(a))}else d=b;this.enumerableContentWillChange(d,c);return this},arrayContentDidChange:function(a,b,c){if(a===void 0){a=0;b=c=-1}else{b===void 0&&(b=-1);c===void 0&&(c=-1)}var d,e;if(a>=0&&c>=0&&jb(this,"hasEnumerableObservers")){d=[];e=a+c;for(var f=a;f<e;f++)d.push(this.objectAt(f))}else d=c;this.enumerableContentDidChange(b,
d);Ember.sendEvent(this,"@array:change",[this,a,b,c]);a=jb(this,"length");b=Mc(this,"firstObject");c=Mc(this,"lastObject");if(this.objectAt(0)!==b){Ember.propertyWillChange(this,"firstObject");Ember.propertyDidChange(this,"firstObject")}if(this.objectAt(a-1)!==c){Ember.propertyWillChange(this,"lastObject");Ember.propertyDidChange(this,"lastObject")}return this},"@each":Ember.computed(function(){if(!this.__each)this.__each=new Ember.EachProxy(this);return this.__each}).property().cacheable()});Ember.Comparable=
Ember.Mixin.create({isComparable:true,compare:Ember.required(Function)});var Gd=Ember.get;Ember.Copyable=Ember.Mixin.create({copy:Ember.required(Function),frozenCopy:function(){if(Ember.Freezable&&Ember.Freezable.detect(this))return Gd(this,"isFrozen")?this:this.copy().freeze();throw Error(Ember.String.fmt("%@ does not support freezing",[this]));}});var Hd=Ember.get,Id=Ember.set;Ember.Freezable=Ember.Mixin.create({isFrozen:false,freeze:function(){if(Hd(this,"isFrozen"))return this;Id(this,"isFrozen",
true);return this}});Ember.FROZEN_ERROR="Frozen object cannot be modified.";var ad=Ember.EnumerableUtils.forEach;Ember.MutableEnumerable=Ember.Mixin.create(Ember.Enumerable,{addObject:Ember.required(Function),addObjects:function(a){Ember.beginPropertyChanges(this);ad(a,function(a){this.addObject(a)},this);Ember.endPropertyChanges(this);return this},removeObject:Ember.required(Function),removeObjects:function(a){Ember.beginPropertyChanges(this);ad(a,function(a){this.removeObject(a)},this);Ember.endPropertyChanges(this);
return this}});var bd=[],zb=Ember.get;Ember.MutableArray=Ember.Mixin.create(Ember.Array,Ember.MutableEnumerable,{replace:Ember.required(),clear:function(){var a=zb(this,"length");if(a===0)return this;this.replace(0,a,bd);return this},insertAt:function(a,b){if(a>zb(this,"length"))throw Error("Index out of range");this.replace(a,0,[b]);return this},removeAt:function(a,b){if("number"===typeof a){if(a<0||a>=zb(this,"length"))throw Error("Index out of range");b===void 0&&(b=1);this.replace(a,b,bd)}return this},
pushObject:function(a){this.insertAt(zb(this,"length"),a);return a},pushObjects:function(a){this.replace(zb(this,"length"),0,a);return this},popObject:function(){var a=zb(this,"length");if(a===0)return null;var b=this.objectAt(a-1);this.removeAt(a-1,1);return b},shiftObject:function(){if(zb(this,"length")===0)return null;var a=this.objectAt(0);this.removeAt(0);return a},unshiftObject:function(a){this.insertAt(0,a);return a},unshiftObjects:function(a){this.replace(0,0,a);return this},reverseObjects:function(){var a=
zb(this,"length");if(a===0)return this;var b=this.toArray().reverse();this.replace(0,a,b);return this},removeObject:function(a){for(var b=zb(this,"length")||0;--b>=0;)this.objectAt(b)===a&&this.removeAt(b);return this},addObject:function(a){this.contains(a)||this.pushObject(a);return this}});var Nb=Ember.get,nc=Ember.set,Qc=Ember.defineProperty;Ember.Observable=Ember.Mixin.create({isObserverable:true,get:function(a){return Nb(this,a)},getProperties:function(){var a={},b=arguments;arguments.length===
1&&Ember.typeOf(arguments[0])==="array"&&(b=arguments[0]);for(var c=0;c<b.length;c++)a[b[c]]=Nb(this,b[c]);return a},set:function(a,b){nc(this,a,b);return this},setProperties:function(a){return Ember.setProperties(this,a)},beginPropertyChanges:function(){Ember.beginPropertyChanges();return this},endPropertyChanges:function(){Ember.endPropertyChanges();return this},propertyWillChange:function(a){Ember.propertyWillChange(this,a);return this},propertyDidChange:function(a){Ember.propertyDidChange(this,
a);return this},notifyPropertyChange:function(a){this.propertyWillChange(a);this.propertyDidChange(a);return this},addBeforeObserver:function(a,b,c){Ember.addBeforeObserver(this,a,b,c)},addObserver:function(a,b,c){Ember.addObserver(this,a,b,c)},removeObserver:function(a,b,c){Ember.removeObserver(this,a,b,c)},hasObserverFor:function(a){return Ember.hasListeners(this,a+":change")},unknownProperty:function(){},setUnknownProperty:function(a,b){Qc(this,a);nc(this,a,b)},getPath:function(a){Ember.deprecate("getPath is deprecated since get now supports paths");
return this.get(a)},setPath:function(a,b){Ember.deprecate("setPath is deprecated since set now supports paths");return this.set(a,b)},getWithDefault:function(a,b){return Ember.getWithDefault(this,a,b)},incrementProperty:function(a,b){b||(b=1);nc(this,a,(Nb(this,a)||0)+b);return Nb(this,a)},decrementProperty:function(a,b){b||(b=1);nc(this,a,(Nb(this,a)||0)-b);return Nb(this,a)},toggleProperty:function(a){nc(this,a,!Nb(this,a));return Nb(this,a)},cacheFor:function(a){return Ember.cacheFor(this,a)},
observersForKey:function(a){return Ember.observersFor(this,a)}});var oc=Ember.get;Ember.TargetActionSupport=Ember.Mixin.create({target:null,action:null,targetObject:Ember.computed(function(){var a=oc(this,"target");if(Ember.typeOf(a)==="string"){var b=oc(this,a);b===void 0&&(b=oc(window,a));return b}return a}).property("target").cacheable(),triggerAction:function(){var a=oc(this,"action"),b=oc(this,"targetObject");if(b&&a){if(typeof b.send==="function")a=b.send(a,this);else{typeof a==="string"&&(a=
b[a]);a=a.call(b,this)}a!==false&&(a=true);return a}return false}});Ember.Evented=Ember.Mixin.create({on:function(a,b,c){Ember.addListener(this,a,b,c)},one:function(a,b,c){if(!c){c=b;b=null}var d=this,e=function(){Ember.removeListener(d,a,b,e);"string"===typeof c&&(c=this[c]);c.apply(this,arguments)};this.on(a,b,e)},trigger:function(a){var b=[],c,d;c=1;for(d=arguments.length;c<d;c++)b.push(arguments[c]);Ember.sendEvent(this,a,b)},fire:function(a){Ember.deprecate("Ember.Evented#fire() has been deprecated in favor of trigger() for compatibility with jQuery. It will be removed in 1.0. Please update your code to call trigger() instead.");
this.trigger.apply(this,arguments)},off:function(a,b,c){Ember.removeListener(this,a,b,c)},has:function(a){return Ember.hasListeners(this,a)}});var Nc=function(){var a=false,b,c=function(){a||c.proto();var d=Ember.meta(this);d.proto=this;if(b){this.reopen.apply(this,b);b=null}Ob(this,Ember.GUID_KEY,yc);Ob(this,"_super",yc);Md(this,d);delete d.proto;de(this);this.init.apply(this,arguments)};c.toString=cd;c.willReopen=function(){if(a)c.PrototypeMixin=Ember.Mixin.create(c.PrototypeMixin);a=false};c._initMixins=
function(a){b=a};c.proto=function(){var b=c.superclass;b&&b.proto();if(!a){a=true;c.PrototypeMixin.applyPartial(c.prototype);ed(c.prototype)}return this.prototype};return c},cd=Ember.Mixin.prototype.toString,Cc=Ember.set,dd=Ember.create,Ob=Ember.platform.defineProperty,Ib=Ember.meta,ed=Ember.rewatch,de=Ember.finishChains,Md=Ember.Mixin.finishPartial,gc=Ember.Mixin.prototype.reopen,yc={configurable:true,writable:true,enumerable:false,value:void 0},hc=Nc();hc.PrototypeMixin=Ember.Mixin.create({reopen:function(){Ember.Mixin._apply(this,
arguments,true);return this},isInstance:true,init:function(){},isDestroyed:false,isDestroying:false,destroy:function(){if(!this.isDestroying){this.isDestroying=true;this.willDestroy&&this.willDestroy();Cc(this,"isDestroyed",true);Ember.run.schedule("destroy",this,this._scheduledDestroy);return this}},_scheduledDestroy:function(){Ember.destroy(this);this.didDestroy&&this.didDestroy()},bind:function(a,b){b instanceof Ember.Binding||(b=Ember.Binding.from(b));b.to(a).connect(this);return b},toString:function(){return"<"+
this.constructor.toString()+":"+Ember.guidFor(this)+">"}});Ember.config.overridePrototypeMixin&&Ember.config.overridePrototypeMixin(hc.PrototypeMixin);hc.__super__=null;var Qb=Ember.Mixin.create({ClassMixin:Ember.required(),PrototypeMixin:Ember.required(),isClass:true,isMethod:false,extend:function(){var a=Nc(),b;a.ClassMixin=Ember.Mixin.create(this.ClassMixin);a.PrototypeMixin=Ember.Mixin.create(this.PrototypeMixin);a.ClassMixin.ownerConstructor=a;a.PrototypeMixin.ownerConstructor=a;gc.apply(a.PrototypeMixin,
arguments);a.superclass=this;a.__super__=this.prototype;b=a.prototype=dd(this.prototype);b.constructor=a;Ember.generateGuid(b,"ember");Ib(b).proto=b;a.ClassMixin.apply(a);return a},create:function(){arguments.length>0&&this._initMixins(arguments);return new this},reopen:function(){this.willReopen();gc.apply(this.PrototypeMixin,arguments);return this},reopenClass:function(){gc.apply(this.ClassMixin,arguments);Ember.Mixin._apply(this,arguments,false);return this},detect:function(a){if("function"!==
typeof a)return false;for(;a;){if(a===this)return true;a=a.superclass}return false},detectInstance:function(a){return a instanceof this},metaForProperty:function(a){var b=Ib(this.proto(),false).descs[a];Ember.assert("metaForProperty() could not find a computed property with key '"+a+"'.",!!b&&b instanceof Ember.ComputedProperty);return b._meta||{}},eachComputedProperty:function(a,b){var c=this.proto(),c=Ib(c).descs,d={},e,f;for(f in c){e=c[f];e instanceof Ember.ComputedProperty&&a.call(b||this,f,
e._meta||d)}}});Ember.config.overrideClassMixin&&Ember.config.overrideClassMixin(Qb);hc.ClassMixin=Qb;Qb.apply(hc);Ember.CoreObject=hc;var ob=Ember.get,dc=Ember.set,$a=Ember.guidFor,Tb=Ember.none;Ember.Set=Ember.CoreObject.extend(Ember.MutableEnumerable,Ember.Copyable,Ember.Freezable,{length:0,clear:function(){if(this.isFrozen)throw Error(Ember.FROZEN_ERROR);var a=ob(this,"length");if(a===0)return this;var b;this.enumerableContentWillChange(a,0);Ember.propertyWillChange(this,"firstObject");Ember.propertyWillChange(this,
"lastObject");for(var c=0;c<a;c++){b=$a(this[c]);delete this[b];delete this[c]}dc(this,"length",0);Ember.propertyDidChange(this,"firstObject");Ember.propertyDidChange(this,"lastObject");this.enumerableContentDidChange(a,0);return this},isEqual:function(a){if(!Ember.Enumerable.detect(a))return false;var b=ob(this,"length");if(ob(a,"length")!==b)return false;for(;--b>=0;)if(!a.contains(this[b]))return false;return true},add:Ember.alias("addObject"),remove:Ember.alias("removeObject"),pop:function(){if(ob(this,
"isFrozen"))throw Error(Ember.FROZEN_ERROR);var a=this.length>0?this[this.length-1]:null;this.remove(a);return a},push:Ember.alias("addObject"),shift:Ember.alias("pop"),unshift:Ember.alias("push"),addEach:Ember.alias("addObjects"),removeEach:Ember.alias("removeObjects"),init:function(a){this._super();a&&this.addObjects(a)},nextObject:function(a){return this[a]},firstObject:Ember.computed(function(){return this.length>0?this[0]:void 0}).property().cacheable(),lastObject:Ember.computed(function(){return this.length>
0?this[this.length-1]:void 0}).property().cacheable(),addObject:function(a){if(ob(this,"isFrozen"))throw Error(Ember.FROZEN_ERROR);if(Tb(a))return this;var b=$a(a),c=this[b],d=ob(this,"length");if(c>=0&&c<d&&this[c]===a)return this;c=[a];this.enumerableContentWillChange(null,c);Ember.propertyWillChange(this,"lastObject");d=ob(this,"length");this[b]=d;this[d]=a;dc(this,"length",d+1);Ember.propertyDidChange(this,"lastObject");this.enumerableContentDidChange(null,c);return this},removeObject:function(a){if(ob(this,
"isFrozen"))throw Error(Ember.FROZEN_ERROR);if(Tb(a))return this;var b=$a(a),c=this[b],d=ob(this,"length"),e=c===0,f=c===d-1,g;if(c>=0&&c<d&&this[c]===a){g=[a];this.enumerableContentWillChange(g,null);e&&Ember.propertyWillChange(this,"firstObject");f&&Ember.propertyWillChange(this,"lastObject");if(c<d-1){a=this[d-1];this[c]=a;this[$a(a)]=c}delete this[b];delete this[d-1];dc(this,"length",d-1);e&&Ember.propertyDidChange(this,"firstObject");f&&Ember.propertyDidChange(this,"lastObject");this.enumerableContentDidChange(g,
null)}return this},contains:function(a){return this[$a(a)]>=0},copy:function(){var a=new this.constructor,b=ob(this,"length");for(dc(a,"length",b);--b>=0;){a[b]=this[b];a[$a(this[b])]=b}return a},toString:function(){var a=this.length,b,c=[];for(b=0;b<a;b++)c[b]=this[b];return"Ember.Set<%@>".fmt(c.join(","))}});Ember.Object=Ember.CoreObject.extend(Ember.Observable);var Nd=Ember.ArrayPolyfills.indexOf;Ember.Namespace=Ember.Object.extend({isNamespace:true,init:function(){Ember.Namespace.NAMESPACES.push(this);
Ember.Namespace.PROCESSED=false},toString:function(){Ember.identifyNamespaces();return this[Ember.GUID_KEY+"_name"]},destroy:function(){var a=Ember.Namespace.NAMESPACES;window[this.toString()]=void 0;a.splice(Nd.call(a,this),1);this._super()}});Ember.Namespace.NAMESPACES=[Ember];Ember.Namespace.PROCESSED=false;Ember.Application=Ember.Namespace.extend();var fb=Ember.get;Ember.ArrayProxy=Ember.Object.extend(Ember.MutableArray,{content:null,arrangedContent:Ember.computed("content",function(){return fb(this,
"content")}).cacheable(),objectAtContent:function(a){return fb(this,"arrangedContent").objectAt(a)},replaceContent:function(a,b,c){fb(this,"arrangedContent").replace(a,b,c)},_contentWillChange:Ember.beforeObserver(function(){var a=fb(this,"content");a&&a.removeArrayObserver(this,{willChange:"contentArrayWillChange",didChange:"contentArrayDidChange"})},"content"),contentArrayWillChange:Ember.K,contentArrayDidChange:Ember.K,_contentDidChange:Ember.observer(function(){var a=fb(this,"content");a&&fb(a,
"length");Ember.assert("Can't set ArrayProxy's content to itself",a!==this);a&&a.addArrayObserver(this,{willChange:"contentArrayWillChange",didChange:"contentArrayDidChange"})},"content"),_arrangedContentWillChange:Ember.beforeObserver(function(){var a=fb(this,"arrangedContent"),b=a?fb(a,"length"):0;this.arrangedContentArrayWillChange(this,0,b,void 0);a&&a.removeArrayObserver(this,{willChange:"arrangedContentArrayWillChange",didChange:"arrangedContentArrayDidChange"})},"arrangedContent"),_arrangedContentDidChange:Ember.observer(function(){var a=
fb(this,"arrangedContent"),b=a?fb(a,"length"):0;Ember.assert("Can't set ArrayProxy's content to itself",a!==this);a&&a.addArrayObserver(this,{willChange:"arrangedContentArrayWillChange",didChange:"arrangedContentArrayDidChange"});this.arrangedContentArrayDidChange(this,0,void 0,b)},"arrangedContent"),objectAt:function(a){return fb(this,"content")&&this.objectAtContent(a)},length:Ember.computed(function(){var a=fb(this,"arrangedContent");return a?fb(a,"length"):0}).property().cacheable(),replace:function(a,
b,c){fb(this,"content")&&this.replaceContent(a,b,c);return this},arrangedContentArrayWillChange:function(a,b,c,d){this.arrayContentWillChange(b,c,d)},arrangedContentArrayDidChange:function(a,b,c,d){this.arrayContentDidChange(b,c,d)},init:function(){this._super();this._contentWillChange();this._contentDidChange();this._arrangedContentWillChange();this._arrangedContentDidChange()}});var pc=function(a,b){var c=b.slice(8);c in this||Ce(this,c)},jc=function(a,b){var c=b.slice(8);c in this||De(this,c)},
cc=Ember.get,jd=Ember.set,Od=Ember.String.fmt,kd=Ember.addBeforeObserver,j=Ember.addObserver,Sa=Ember.removeBeforeObserver,Be=Ember.removeObserver,Ce=Ember.propertyWillChange,De=Ember.propertyDidChange;Ember.ObjectProxy=Ember.Object.extend({content:null,_contentDidChange:Ember.observer(function(){Ember.assert("Can't set ObjectProxy's content to itself",this.get("content")!==this)},"content"),willWatchProperty:function(a){a="content."+a;kd(this,a,null,pc);j(this,a,null,jc)},didUnwatchProperty:function(a){a=
"content."+a;Sa(this,a,null,pc);Be(this,a,null,jc)},unknownProperty:function(a){var b=cc(this,"content");if(b)return cc(b,a)},setUnknownProperty:function(a,b){var c=cc(this,"content");Ember.assert(Od("Cannot delegate set('%@', %@) to the 'content' property of object proxy %@: its 'content' is undefined.",[a,b,this]),c);return jd(c,a,b)}});var Yd=function(a,b,c,d,e){var f=c._objects,g;if(!f)f=c._objects={};for(;--e>=d;)if(g=a.objectAt(e)){Ember.addBeforeObserver(g,b,c,"contentKeyWillChange");Ember.addObserver(g,
b,c,"contentKeyDidChange");g=$d(g);f[g]||(f[g]=[]);f[g].push(e)}},Zd=function(a,b,c,d,e){var f=c._objects;if(!f)f=c._objects={};for(var g;--e>=d;)if(g=a.objectAt(e)){Ember.removeBeforeObserver(g,b,c,"contentKeyWillChange");Ember.removeObserver(g,b,c,"contentKeyDidChange");g=$d(g);g=f[g];g[g.indexOf(e)]=null}},Rc=Ember.get,$d=Ember.guidFor,Ee=Ember.EnumerableUtils.forEach,Fe=Ember.Object.extend(Ember.Array,{init:function(a,b,c){this._super();this._keyName=b;this._owner=c;this._content=a},objectAt:function(a){return(a=
this._content.objectAt(a))&&Rc(a,this._keyName)},length:Ember.computed(function(){var a=this._content;return a?Rc(a,"length"):0}).property().cacheable()}),ae=/^.+:(before|change)$/;Ember.EachProxy=Ember.Object.extend({init:function(a){this._super();this._content=a;a.addArrayObserver(this);Ee(Ember.watchedEvents(this),function(a){this.didAddListener(a)},this)},unknownProperty:function(a){var b;b=new Fe(this._content,a,this);Ember.defineProperty(this,a,null,b);this.beginObservingContentKey(a);return b},
arrayWillChange:function(a,b,c){var d=this._keys,e,c=c>0?b+c:-1;Ember.beginPropertyChanges(this);for(e in d)if(d.hasOwnProperty(e)){c>0&&Zd(a,e,this,b,c);Ember.propertyWillChange(this,e)}Ember.propertyWillChange(this._content,"@each");Ember.endPropertyChanges(this)},arrayDidChange:function(a,b,c,d){var c=this._keys,e,d=d>0?b+d:-1;Ember.beginPropertyChanges(this);for(e in c)if(c.hasOwnProperty(e)){d>0&&Yd(a,e,this,b,d);Ember.propertyDidChange(this,e)}Ember.propertyDidChange(this._content,"@each");
Ember.endPropertyChanges(this)},didAddListener:function(a){ae.test(a)&&this.beginObservingContentKey(a.slice(0,-7))},didRemoveListener:function(a){ae.test(a)&&this.stopObservingContentKey(a.slice(0,-7))},beginObservingContentKey:function(a){var b=this._keys;if(!b)b=this._keys={};if(b[a])b[a]++;else{b[a]=1;var b=this._content,c=Rc(b,"length");Yd(b,a,this,0,c)}},stopObservingContentKey:function(a){var b=this._keys;if(b&&b[a]>0&&--b[a]<=0){var b=this._content,c=Rc(b,"length");Zd(b,a,this,0,c)}},contentKeyWillChange:function(a,
b){Ember.propertyWillChange(this,b)},contentKeyDidChange:function(a,b){Ember.propertyDidChange(this,b)}});var Ge=Ember.get,tc=Ember.Mixin.create(Ember.MutableArray,Ember.Observable,Ember.Copyable,{get:function(a){return a==="length"?this.length:"number"===typeof a?this[a]:this._super(a)},objectAt:function(a){return this[a]},replace:function(a,b,c){if(this.isFrozen)throw Ember.FROZEN_ERROR;var d=c?Ge(c,"length"):0;this.arrayContentWillChange(a,b,d);if(!c||c.length===0)this.splice(a,b);else{c=[a,b].concat(c);
this.splice.apply(this,c)}this.arrayContentDidChange(a,b,d);return this},unknownProperty:function(a,b){var c;b!==void 0&&c===void 0&&(c=this[a]=b);return c},indexOf:function(a,b){var c,d=this.length,b=b===void 0?0:b<0?Math.ceil(b):Math.floor(b);b<0&&(b=b+d);for(c=b;c<d;c++)if(this[c]===a)return c;return-1},lastIndexOf:function(a,b){var c;c=this.length;b=b===void 0?c-1:b<0?Math.ceil(b):Math.floor(b);b<0&&(b=b+c);for(c=b;c>=0;c--)if(this[c]===a)return c;return-1},copy:function(){return this.slice()}}),
xd=["length"];Ember.EnumerableUtils.forEach(tc.keys(),function(a){Array.prototype[a]&&xd.push(a)});xd.length>0&&(tc=tc.without.apply(tc,xd));Ember.NativeArray=tc;Ember.A=function(a){a===void 0&&(a=[]);return Ember.NativeArray.apply(a)};Ember.NativeArray.activate=function(){tc.apply(Array.prototype);Ember.A=function(a){return a||[]}};Ember.EXTEND_PROTOTYPES&&Ember.NativeArray.activate();var Ec=Ember.get,He=Ember.set;Ember._PromiseChain=Ember.Object.extend({promises:null,failureCallback:Ember.K,successCallback:Ember.K,
abortCallback:Ember.K,promiseSuccessCallback:Ember.K,runNextPromise:function(){if(!Ec(this,"isDestroyed")){var a=Ec(this,"promises").shiftObject();if(a){var b=Ec(a,"promise")||a;Ember.assert("Cannot find promise to invoke",Ember.canInvoke(b,"then"));var c=this,d=Ec(c,"failureCallback");b.then(function(){c.promiseSuccessCallback.call(this,a,arguments);c.runNextPromise()},d)}else this.successCallback()}},start:function(){this.runNextPromise();return this},abort:function(){this.abortCallback();this.destroy()},
init:function(){He(this,"promises",Ember.A(Ec(this,"promises")));this._super()}});var Dc={},be={};Ember.onLoad=function(a,b){var c;Dc[a]=Dc[a]||Ember.A();Dc[a].pushObject(b);(c=be[a])&&b(c)};Ember.runLoadHooks=function(a,b){be[a]=b;Dc[a]&&Dc[a].forEach(function(a){a(b)})};Ember.ControllerMixin=Ember.Mixin.create({target:null,store:null});Ember.Controller=Ember.Object.extend(Ember.ControllerMixin);var ta=Ember.get,Cb=Ember.EnumerableUtils.forEach;Ember.SortableMixin=Ember.Mixin.create(Ember.MutableEnumerable,
{sortProperties:null,sortAscending:true,addObject:function(a){ta(this,"content").pushObject(a)},removeObject:function(a){ta(this,"content").removeObject(a)},orderBy:function(a,b){var c=0,d=ta(this,"sortProperties"),e=ta(this,"sortAscending");Ember.assert("you need to define `sortProperties`",!!d);Cb(d,function(d){if(c===0){c=Ember.compare(ta(a,d),ta(b,d));c!==0&&!e&&(c=-1*c)}});return c},destroy:function(){var a=ta(this,"content"),b=ta(this,"sortProperties");a&&b&&Cb(a,function(a){Cb(b,function(b){Ember.removeObserver(a,
b,this,"contentItemSortPropertyDidChange")},this)},this);return this._super()},isSorted:Ember.computed("sortProperties",function(){return!!ta(this,"sortProperties")}),arrangedContent:Ember.computed("content","sortProperties.@each",function(){var a=ta(this,"content"),b=ta(this,"isSorted"),c=ta(this,"sortProperties"),d=this;if(a&&b){a=a.slice();a.sort(function(a,b){return d.orderBy(a,b)});Cb(a,function(a){Cb(c,function(b){Ember.addObserver(a,b,this,"contentItemSortPropertyDidChange")},this)},this);
return Ember.A(a)}return a}).cacheable(),_contentWillChange:Ember.beforeObserver(function(){var a=ta(this,"content"),b=ta(this,"sortProperties");a&&b&&Cb(a,function(a){Cb(b,function(b){Ember.removeObserver(a,b,this,"contentItemSortPropertyDidChange")},this)},this);this._super()},"content"),sortAscendingWillChange:Ember.beforeObserver(function(){this._lastSortAscending=ta(this,"sortAscending")},"sortAscending"),sortAscendingDidChange:Ember.observer(function(){ta(this,"sortAscending")!==this._lastSortAscending&&
ta(this,"arrangedContent").reverseObjects()},"sortAscending"),contentArrayWillChange:function(a,b,c,d){if(ta(this,"isSorted")){var e=ta(this,"arrangedContent"),f=a.slice(b,b+c),g=ta(this,"sortProperties");Cb(f,function(a){e.removeObject(a);Cb(g,function(b){Ember.removeObserver(a,b,this,"contentItemSortPropertyDidChange")},this)})}return this._super(a,b,c,d)},contentArrayDidChange:function(a,b,c,d){var e=ta(this,"isSorted"),f=ta(this,"sortProperties");if(e){e=a.slice(b,b+d);ta(this,"arrangedContent");
Cb(e,function(a){this.insertItemSorted(a);Cb(f,function(b){Ember.addObserver(a,b,this,"contentItemSortPropertyDidChange")},this)},this)}return this._super(a,b,c,d)},insertItemSorted:function(a){var b=ta(this,"arrangedContent"),c=ta(b,"length"),c=this._binarySearch(a,0,c);b.insertAt(c,a)},contentItemSortPropertyDidChange:function(a){var b=ta(this,"arrangedContent");b.indexOf(a);b.removeObject(a);this.insertItemSorted(a)},_binarySearch:function(a,b,c){var d,e;if(b===c)return b;e=ta(this,"arrangedContent");
d=b+Math.floor((c-b)/2);e=e.objectAt(d);e=this.orderBy(e,a);return e<0?this._binarySearch(a,d+1,c):e>0?this._binarySearch(a,b,d):d}});Ember.ArrayController=Ember.ArrayProxy.extend(Ember.ControllerMixin,Ember.SortableMixin);Ember.ObjectController=Ember.ObjectProxy.extend(Ember.ControllerMixin);var Pb=Ember.get,Ld=Ember.set;Ember.Application=Ember.Namespace.extend({rootElement:"body",eventDispatcher:null,customEvents:null,init:function(){var a;a=Pb(this,"rootElement");this._super();a=Ember.EventDispatcher.create({rootElement:a});
Ld(this,"eventDispatcher",a);if(Ember.$.isReady)Ember.run.once(this,this.didBecomeReady);else{var b=this;Ember.$(document).ready(function(){Ember.run.once(b,b.didBecomeReady)})}},initialize:function(a){var b=Ember.A(Ember.keys(this)),c=Pb(this.constructor,"injections"),d=this;if(!a&&Ember.Router.detect(d.Router))this._createdRouter=a=d.Router.create();if(a){Ld(this,"router",a);Ld(a,"namespace",this)}Ember.runLoadHooks("application",this);c.forEach(function(c){b.forEach(function(b){c[1](d,a,b)})});
a&&a instanceof Ember.Router&&this.startRouting(a)},didBecomeReady:function(){var a=Pb(this,"eventDispatcher"),b=Pb(this,"customEvents");a.setup(b);this.ready()},startRouting:function(a){var b=Pb(a,"location"),c=Pb(this,"rootElement"),d=Pb(a,"applicationController");Ember.assert("ApplicationView and ApplicationController must be defined on your application",this.ApplicationView&&d);this._createdApplicationView=d=this.ApplicationView.create({controller:d});d.appendTo(c);a.route(b.getURL());b.onUpdateURL(function(b){a.route(b)})},
ready:Ember.K,willDestroy:function(){Pb(this,"eventDispatcher").destroy();this._createdRouter&&this._createdRouter.destroy();this._createdApplicationView&&this._createdApplicationView.destroy()},registerInjection:function(a){this.constructor.registerInjection(a)}});Ember.Application.reopenClass({concatenatedProperties:["injections"],injections:Ember.A(),registerInjection:function(a){var b=Pb(this,"injections"),c=a.before,d=a.name,a=a.injection,e;if(c){e=b.find(function(a){if(a[0]===c)return true});
e=b.indexOf(e)}else e=Pb(b,"length");b.splice(e,0,[d,a])}});Ember.Application.registerInjection({name:"controllers",injection:function(a,b,c){if(/^[A-Z].*Controller$/.test(c)){var d=c.charAt(0).toLowerCase()+c.substr(1),c=a[c].create();b.set(d,c);c.setProperties({target:b,controllers:b,namespace:a})}}});Ember.Location={create:function(a){var b=a&&a.implementation;Ember.assert("Ember.Location.create: you must specify a 'implementation' option",!!b);var c=this.implementations[b];Ember.assert("Ember.Location.create: "+
b+" is not a valid implementation",!!c);return c.create.apply(c,arguments)},registerImplementation:function(a,b){this.implementations[a]=b},implementations:{}};var fd=Ember.get,Jd=Ember.set;Ember.HashLocation=Ember.Object.extend({init:function(){Jd(this,"location",fd(this,"location")||window.location)},getURL:function(){return fd(this,"location").hash.substr(1)},setURL:function(a){fd(this,"location").hash=a;Jd(this,"lastSetURL",a)},onUpdateURL:function(a){var b=this,c=Ember.guidFor(this);Ember.$(window).bind("hashchange.ember-location-"+
c,function(){var c=location.hash.substr(1);if(fd(b,"lastSetURL")!==c){Jd(b,"lastSetURL",null);a(location.hash.substr(1))}})},formatURL:function(a){return"#"+a},willDestroy:function(){var a=Ember.guidFor(this);Ember.$(window).unbind("hashchange.ember-location-"+a)}});Ember.Location.registerImplementation("hash",Ember.HashLocation);var Oc=Ember.get,ee=Ember.set;Ember.HistoryLocation=Ember.Object.extend({init:function(){ee(this,"location",Oc(this,"location")||window.location);ee(this,"_initialURL",Oc(this,
"location").pathname)},rootURL:"/",_initialURL:null,getURL:function(){return Oc(this,"location").pathname},setURL:function(a){var b=window.history.state,c=Oc(this,"_initialURL"),a=this.formatPath(a);(c!==a&&!b||b&&b.path!==a)&&window.history.pushState({path:a},null,a)},onUpdateURL:function(a){var b=Ember.guidFor(this);Ember.$(window).bind("popstate.ember-location-"+b,function(){a(location.pathname)})},formatPath:function(a){var b=Oc(this,"rootURL");a!==""&&(b=b.replace(/\/$/,""));return b+a},formatURL:function(a){return a},
willDestroy:function(){var a=Ember.guidFor(this);Ember.$(window).unbind("popstate.ember-location-"+a)}});Ember.Location.registerImplementation("history",Ember.HistoryLocation);var Ie=Ember.get,Je=Ember.set;Ember.NoneLocation=Ember.Object.extend({path:"",getURL:function(){return Ie(this,"path")},setURL:function(a){Je(this,"path",a)},onUpdateURL:function(){},formatURL:function(a){return a}});Ember.Location.registerImplementation("none",Ember.NoneLocation);Ember.assert("Ember Views require jQuery 1.7",
window.jQuery&&(window.jQuery().jquery.match(/^1\.7(\.\d+)?(pre|rc\d?)?/)||Ember.ENV.FORCE_JQUERY));Ember.$=window.jQuery;var Ke=Ember.String.w("dragstart drag dragenter dragleave dragover drop dragend");Ember.EnumerableUtils.forEach(Ke,function(a){Ember.$.event.fixHooks[a]={props:["dataTransfer"]}});var Le=Ember.get,fe=Ember.ArrayPolyfills.indexOf,ge=function(){this.seen={};this.list=[]};ge.prototype={add:function(a){if(!(a in this.seen)){this.seen[a]=true;this.list.push(a)}},toDOM:function(){return this.list.join(" ")}};
Ember.RenderBuffer=function(a){return new Ember._RenderBuffer(a)};Ember._RenderBuffer=function(a){this.elementTag=a;this.childBuffers=[]};Ember._RenderBuffer.prototype={elementClasses:null,elementId:null,elementAttributes:null,elementTag:null,elementStyle:null,parentBuffer:null,push:function(a){this.childBuffers.push(String(a));return this},addClass:function(a){this.elementClasses=this.elementClasses||new ge;this.elementClasses.add(a);return this},id:function(a){this.elementId=a;return this},attr:function(a,
b){var c=this.elementAttributes=this.elementAttributes||{};if(arguments.length===1)return c[a];c[a]=b;return this},removeAttr:function(a){var b=this.elementAttributes;b&&delete b[a];return this},style:function(a,b){this.elementStyle=this.elementStyle||{};this.elementStyle[a]=b;return this},newBuffer:function(a,b,c,d){a=new Ember._RenderBuffer(a);a.parentBuffer=b;d&&Ember.$.extend(a,d);c&&c.call(this,a);return a},replaceWithBuffer:function(a){var b=this.parentBuffer;if(b){var b=b.childBuffers,c=fe.call(b,
this);a?b.splice(c,1,a):b.splice(c,1)}},begin:function(a){return this.newBuffer(a,this,function(a){this.childBuffers.push(a)})},prepend:function(a){return this.newBuffer(a,this,function(a){this.childBuffers.splice(0,0,a)})},replaceWith:function(a){return this.newBuffer(a,this.parentBuffer,function(a){this.replaceWithBuffer(a)})},insertAfter:function(a){var b=Le(this,"parentBuffer");return this.newBuffer(a,b,function(a){var c=b.childBuffers,d=fe.call(c,this);c.splice(d+1,0,a)})},end:function(){return this.parentBuffer||
this},remove:function(){this.replaceWithBuffer(null)},element:function(){return Ember.$(this.string())[0]},string:function(){var a="",b=this.elementTag,c;if(b){var d=this.elementId,e=this.elementClasses,f=this.elementAttributes,g=this.elementStyle,h="",p;c=["<"+b];d&&c.push('id="'+this._escapeAttribute(d)+'"');e&&c.push('class="'+this._escapeAttribute(e.toDOM())+'"');if(g){for(p in g)g.hasOwnProperty(p)&&(h=h+(p+":"+this._escapeAttribute(g[p])+";"));c.push('style="'+h+'"')}if(f)for(p in f)f.hasOwnProperty(p)&&
c.push(p+'="'+this._escapeAttribute(f[p])+'"');c=c.join(" ")+">"}Ember.ArrayPolyfills.forEach.call(this.childBuffers,function(b){a=a+(typeof b==="string"?b:b.string())});return b?c+a+"</"+b+">":a},_escapeAttribute:function(a){var b={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},a=a.toString();return!/[&<>"'`]/.test(a)?a:a.replace(/&(?!\w+;)|[<>"'`]/g,function(a){return b[a]||"&amp;"})}};var gd=Ember.get,Me=Ember.String.fmt;Ember.EventDispatcher=Ember.Object.extend({rootElement:"body",
setup:function(a){var b,c={touchstart:"touchStart",touchmove:"touchMove",touchend:"touchEnd",touchcancel:"touchCancel",keydown:"keyDown",keyup:"keyUp",keypress:"keyPress",mousedown:"mouseDown",mouseup:"mouseUp",contextmenu:"contextMenu",click:"click",dblclick:"doubleClick",mousemove:"mouseMove",focusin:"focusIn",focusout:"focusOut",mouseenter:"mouseEnter",mouseleave:"mouseLeave",submit:"submit",input:"input",change:"change",dragstart:"dragStart",drag:"drag",dragenter:"dragEnter",dragleave:"dragLeave",
dragover:"dragOver",drop:"drop",dragend:"dragEnd"};Ember.$.extend(c,a||{});a=Ember.$(gd(this,"rootElement"));Ember.assert(Me("You cannot use the same root element (%@) multiple times in an Ember.Application",[a.selector||a[0].tagName]),!a.is(".ember-application"));Ember.assert("You cannot make a new Ember.Application using a root element that is a descendent of an existing Ember.Application",!a.closest(".ember-application").length);Ember.assert("You cannot make a new Ember.Application using a root element that is an ancestor of an existing Ember.Application",
!a.find(".ember-application").length);a.addClass("ember-application");Ember.assert('Unable to add "ember-application" class to rootElement. Make sure you set rootElement to the body or an element in the body.',a.is(".ember-application"));for(b in c)c.hasOwnProperty(b)&&this.setupHandler(a,b,c[b])},setupHandler:function(a,b,c){var d=this;a.delegate(".ember-view",b+".ember",function(a,b){var e=Ember.View.views[this.id],f=true,g=null;(g=d._findNearestEventManager(e,c))&&g!==b?f=d._dispatchEvent(g,a,
c,e):e?f=d._bubbleEvent(e,a,c):a.stopPropagation();return f});a.delegate("[data-ember-action]",b+".ember",function(a){var b=Ember.$(a.currentTarget).attr("data-ember-action"),b=Ember.Handlebars.ActionHelper.registeredActions[b],d=b.handler;if(b.eventName===c)return d(a)})},_findNearestEventManager:function(a,b){for(var c=null;a;){if((c=gd(a,"eventManager"))&&c[b])break;a=gd(a,"parentView")}return c},_dispatchEvent:function(a,b,c,d){var e=true,e=a[c];if(Ember.typeOf(e)==="function"){e=e.call(a,b,d);
b.stopPropagation()}else e=this._bubbleEvent(d,b,c);return e},_bubbleEvent:function(a,b,c){return Ember.run(function(){return a.handleEvent(c,b)})},destroy:function(){var a=gd(this,"rootElement");Ember.$(a).undelegate(".ember").removeClass("ember-application");return this._super()}});var he=Ember.run.queues;he.splice(Ember.$.inArray("actions",he)+1,0,"render");var xc=Ember.get,Kd=Ember.set;Ember.ControllerMixin.reopen({target:null,controllers:null,namespace:null,view:null,connectOutlet:function(a,
b){var c,d,e,f;if(Ember.typeOf(b)==="string"){c=a;a=b;b=arguments[2]}if(arguments.length===1&&Ember.typeOf(a)==="object"){f=a;c=f.outletName;a=f.name;d=f.viewClass;e=f.controller;b=f.context}c=c||"view";Ember.assert("You must supply a name or a view class to connectOutlets, but not both",!!a&&!d&&!e||!a&&!!d);if(a){d=xc(this,"namespace");e=xc(this,"controllers");f=a.charAt(0).toUpperCase()+a.substr(1)+"View";d=xc(d,f);e=xc(e,a+"Controller");Ember.assert("The name you supplied "+a+" did not resolve to a view "+
f,!!d);Ember.assert("The name you supplied "+a+" did not resolve to a controller "+a+"Controller",!!e&&!!b||!b)}e&&b&&e.set("content",b);d=d.create();e&&Kd(d,"controller",e);Kd(this,c,d);return d},connectControllers:function(){for(var a=xc(this,"controllers"),b=Array.prototype.slice.apply(arguments),c,d=0,e=b.length;d<e;d++){c=b[d]+"Controller";Kd(this,c,xc(a,c))}}});var K=Ember.get,Ab=Ember.set,ie=Ember.addObserver,Ne=Ember.String.fmt,je=[].slice,hd=Ember.EnumerableUtils.forEach,ke=Ember.computed(function(){var a=
this._childViews,b=Ember.A();hd(a,function(a){a.isVirtual?b.pushObjects(K(a,"childViews")):b.push(a)});return b}).property().cacheable(),le=Ember.VIEW_PRESERVES_CONTEXT;Ember.warn("The way that the {{view}} helper affects templates is about to change. Previously, templates inside child views would use the new view as the context. Soon, views will preserve their parent context when rendering their template. You can opt-in early to the new behavior by setting `ENV.VIEW_PRESERVES_CONTEXT = true`. For more information, see https://gist.github.com/2494968. You should update your templates as soon as possible; this default will change soon, and the option will be eliminated entirely before the 1.0 release.",
le);Ember.TEMPLATES={};var me={preRender:{},inBuffer:{},hasElement:{},inDOM:{},destroyed:{}};Ember.View=Ember.Object.extend(Ember.Evented,{concatenatedProperties:["classNames","classNameBindings","attributeBindings"],isView:true,templateName:null,layoutName:null,templates:Ember.TEMPLATES,template:Ember.computed(function(a,b){if(b!==void 0)return b;var c=K(this,"templateName");return this.templateForName(c,"template")||K(this,"defaultTemplate")}).property("templateName").cacheable(),controller:Ember.computed(function(a,
b){var c;if(arguments.length===2)return b;return(c=K(this,"parentView"))?K(c,"controller"):null}).property().cacheable(),layout:Ember.computed(function(a,b){if(arguments.length===2)return b;var c=K(this,"layoutName");return this.templateForName(c,"layout")||K(this,"defaultLayout")}).property("layoutName").cacheable(),templateForName:function(a,b){if(a){var c=K(this,"templates"),c=K(c,a);if(!c)throw new Ember.Error(Ne('%@ - Unable to find %@ "%@".',[this,b,a]));return c}},context:Ember.computed(function(a,
b){if(arguments.length===2){Ab(this,"_context",b);return b}return K(this,"_context")}).cacheable(),_context:Ember.computed(function(a,b){var c;if(arguments.length===2)return b;if(le){if(c=K(this,"controller"))return c;if(c=K(this,"_parentView"))return K(c,"_context")}return this}).cacheable(),_displayPropertyDidChange:Ember.observer(function(){this.rerender()},"context","controller"),parentView:Ember.computed(function(){var a=K(this,"_parentView");return a&&a.isVirtual?K(a,"parentView"):a}).property("_parentView").safe_volatile(),
_parentView:null,concreteView:Ember.computed(function(){return this.isVirtual?K(this,"parentView"):this}).property("_parentView").safe_volatile(),isVisible:true,childViews:ke,_childViews:[],_childViewsWillChange:Ember.beforeObserver(function(){if(this.isVirtual){var a=K(this,"parentView");a&&Ember.propertyWillChange(a,"childViews")}},"childViews"),_childViewsDidChange:Ember.observer(function(){if(this.isVirtual){var a=K(this,"parentView");a&&Ember.propertyDidChange(a,"childViews")}},"childViews"),
nearestInstanceOf:function(a){for(var b=K(this,"parentView");b;){if(b instanceof a)return b;b=K(b,"parentView")}},nearestWithProperty:function(a){for(var b=K(this,"parentView");b;){if(a in b)return b;b=K(b,"parentView")}},nearestChildOf:function(a){for(var b=K(this,"parentView");b;){if(K(b,"parentView")instanceof a)return b;b=K(b,"parentView")}},collectionView:Ember.computed(function(){return this.nearestInstanceOf(Ember.CollectionView)}).cacheable(),itemView:Ember.computed(function(){return this.nearestChildOf(Ember.CollectionView)}).cacheable(),
contentView:Ember.computed(function(){return this.nearestWithProperty("content")}).cacheable(),_parentViewDidChange:Ember.observer(function(){if(!this.isDestroying){this.invokeRecursively(function(a){a.propertyDidChange("collectionView");a.propertyDidChange("itemView");a.propertyDidChange("contentView")});K(this,"parentView.controller")&&!K(this,"controller")&&this.notifyPropertyChange("controller")}},"_parentView"),_controllerDidChange:Ember.observer(function(){this.isDestroying||this.forEachChildView(function(a){a.propertyDidChange("controller")})},
"controller"),cloneKeywords:function(){var a=K(this,"templateData"),a=a?Ember.copy(a.keywords):{};Ab(a,"view",K(this,"concreteView"));Ab(a,"controller",K(this,"controller"));return a},render:function(a){var b=K(this,"layout")||K(this,"template");if(b){var c=K(this,"_context"),d=this.cloneKeywords(),d={view:this,buffer:a,isRenderData:true,keywords:d};Ember.assert('template must be a function. Did you mean to call Ember.Handlebars.compile("...") or specify templateName instead?',typeof b==="function");
b=b(c,{data:d});b!==void 0&&a.push(b)}},invokeForState:function(a){var b=this.state,c;if(c=me[b][a]){b=je.call(arguments);b[0]=this;return c.apply(this,b)}for(var d=this.states,e;d;){for(e=d[b];e;){if(c=e[a]){me[b][a]=c;b=je.call(arguments,1);b.unshift(this);return c.apply(this,b)}e=e.parentState}d=d.parent}},rerender:function(){return this.invokeForState("rerender")},clearRenderedChildren:function(){for(var a=this.lengthBeforeRender,b=this._childViews,c=this.lengthAfterRender-1;c>=a;c--)b[c]&&b[c].destroy()},
_applyClassNameBindings:function(){var a=K(this,"classNameBindings"),b=K(this,"classNames"),c,d,e;a&&hd(a,function(a){var f;if(e=this._classStringForProperty(a)){b.push(e);f=e}var g=Ember.View._parsePropertyPath(a);ie(this,g.path,function(){d=this._classStringForProperty(a);c=this.$();if(f){c.removeClass(f);b.removeObject(f)}if(d){c.addClass(d);f=d}else f=null})},this)},_applyAttributeBindings:function(a){var b=K(this,"attributeBindings"),c,d;b&&hd(b,function(b){var b=b.split(":"),e=b[0],f=b[1]||
e;ie(this,e,function(){if(d=this.$()){c=K(this,e);Ember.View.applyAttributeBindings(d,f,c)}});c=K(this,e);Ember.View.applyAttributeBindings(a,f,c)},this)},_classStringForProperty:function(a){var a=Ember.View._parsePropertyPath(a),b=a.path,c=K(this,b);c===void 0&&Ember.isGlobalPath(b)&&(c=K(window,b));return Ember.View._classStringForValue(b,c,a.className,a.falsyClassName)},element:Ember.computed(function(a,b){return b!==void 0?this.invokeForState("setElement",b):this.invokeForState("getElement")}).property("_parentView").cacheable(),
$:function(a){return this.invokeForState("$",a)},mutateChildViews:function(a){for(var b=this._childViews,c=b.length,d;--c>=0;){d=b[c];a.call(this,d,c)}return this},forEachChildView:function(a){var b=this._childViews;if(!b)return this;var c=b.length,d,e;for(e=0;e<c;e++){d=b[e];a.call(this,d)}return this},appendTo:function(a){this._insertElementLater(function(){Ember.assert("You cannot append to an existing Ember.View. Consider using Ember.ContainerView instead.",!Ember.$(a).is(".ember-view")&&!Ember.$(a).parents().is(".ember-view"));
this.$().appendTo(a)});return this},replaceIn:function(a){Ember.assert("You cannot replace an existing Ember.View. Consider using Ember.ContainerView instead.",!Ember.$(a).is(".ember-view")&&!Ember.$(a).parents().is(".ember-view"));this._insertElementLater(function(){Ember.$(a).empty();this.$().appendTo(a)});return this},_insertElementLater:function(a){this._lastInsert=Ember.guidFor(a);Ember.run.schedule("render",this,this.invokeForState,"insertElement",a)},append:function(){return this.appendTo(document.body)},
remove:function(){this.destroyElement();this.invokeRecursively(function(a){a.clearRenderedChildren()})},elementId:Ember.computed(function(a,b){return b!==void 0?b:Ember.guidFor(this)}).cacheable(),_elementIdDidChange:Ember.beforeObserver(function(){throw"Changing a view's elementId after creation is not allowed.";},"elementId"),findElementInParentElement:function(a){var b="#"+K(this,"elementId");return Ember.$(b)[0]||Ember.$(b,a)[0]},renderBuffer:function(a){a=a||K(this,"tagName");if(a===null||a===
void 0)a="div";return Ember.RenderBuffer(a)},createElement:function(){if(K(this,"element"))return this;var a=this.renderToBuffer();Ab(this,"element",a.element());return this},willInsertElement:Ember.K,didInsertElement:Ember.K,willRerender:Ember.K,invokeRecursively:function(a){a.call(this,this);this.forEachChildView(function(b){b.invokeRecursively(a)})},invalidateRecursively:function(a){this.forEachChildView(function(b){b.propertyDidChange(a)})},_notifyWillInsertElement:function(){this.invokeRecursively(function(a){a.trigger("willInsertElement")})},
_notifyDidInsertElement:function(){this.invokeRecursively(function(a){a.trigger("didInsertElement")})},_notifyWillRerender:function(){this.invokeRecursively(function(a){a.trigger("willRerender")})},destroyElement:function(){return this.invokeForState("destroyElement")},willDestroyElement:function(){},_notifyWillDestroyElement:function(){this.invokeRecursively(function(a){a.trigger("willDestroyElement")})},_elementWillChange:Ember.beforeObserver(function(){this.forEachChildView(function(a){Ember.propertyWillChange(a,
"element")})},"element"),_elementDidChange:Ember.observer(function(){this.forEachChildView(function(a){Ember.propertyDidChange(a,"element")})},"element"),parentViewDidChange:Ember.K,renderToBuffer:function(a,b){var c;Ember.run.sync();b=b||"begin";if(a){c=K(this,"tagName");if(c===null||c===void 0)c="div";c=a[b](c)}else c=this.renderBuffer();this.buffer=c;this.transitionTo("inBuffer",false);this.lengthBeforeRender=this._childViews.length;this.beforeRender(c);this.render(c);this.afterRender(c);this.lengthAfterRender=
this._childViews.length;return c},beforeRender:function(a){this.applyAttributesToBuffer(a)},afterRender:Ember.K,applyAttributesToBuffer:function(a){this._applyClassNameBindings();this._applyAttributeBindings(a);hd(K(this,"classNames"),function(b){a.addClass(b)});a.id(K(this,"elementId"));var b=K(this,"ariaRole");b&&a.attr("role",b);K(this,"isVisible")===false&&a.style("display","none")},tagName:null,ariaRole:null,classNames:["ember-view"],classNameBindings:[],attributeBindings:[],state:"preRender",
init:function(){this._super();this.isVirtual||(Ember.View.views[K(this,"elementId")]=this);this._childViews=this._childViews.slice();Ember.assert("Only arrays are allowed for 'classNameBindings'",Ember.typeOf(this.classNameBindings)==="array");this.classNameBindings=Ember.A(this.classNameBindings.slice());Ember.assert("Only arrays are allowed for 'classNames'",Ember.typeOf(this.classNames)==="array");this.classNames=Ember.A(this.classNames.slice());var a=K(this,"viewController");if(a)(a=K(a))&&Ab(a,
"view",this)},appendChild:function(a,b){return this.invokeForState("appendChild",a,b)},removeChild:function(a){if(!this.isDestroying){Ab(a,"_parentView",null);Ember.EnumerableUtils.removeObject(this._childViews,a);this.propertyDidChange("childViews");return this}},removeAllChildren:function(){return this.mutateChildViews(function(a){this.removeChild(a)})},destroyAllChildren:function(){return this.mutateChildViews(function(a){a.destroy()})},removeFromParent:function(){var a=K(this,"_parentView");this.remove();
a&&a.removeChild(this);return this},willDestroy:function(){var a=this._childViews,b=K(this,"_parentView");this.removedFromDOM||this.destroyElement();if(this.viewName){var c=K(this,"parentView");c&&Ab(c,this.viewName,null)}b&&b.removeChild(this);this.state="destroyed";for(b=a.length-1;b>=0;b--){a[b].removedFromDOM=true;a[b].destroy()}this.isVirtual||delete Ember.View.views[K(this,"elementId")]},createChildView:function(a,b){if(Ember.View.detect(a)){b=b||{};b._parentView=this;b.templateData=b.templateData||
K(this,"templateData");a=a.create(b);a.viewName&&Ab(K(this,"concreteView"),a.viewName,a)}else{Ember.assert("You must pass instance or subclass of View",a instanceof Ember.View);Ember.assert("You can only pass attributes when a class is provided",!b);K(a,"templateData")||Ab(a,"templateData",K(this,"templateData"));Ab(a,"_parentView",this)}return a},becameVisible:Ember.K,becameHidden:Ember.K,_isVisibleDidChange:Ember.observer(function(){var a=this.$();if(a){var b=K(this,"isVisible");a.toggle(b);this._isAncestorHidden()||
(b?this._notifyBecameVisible():this._notifyBecameHidden())}},"isVisible"),_notifyBecameVisible:function(){this.trigger("becameVisible");this.forEachChildView(function(a){var b=K(a,"isVisible");(b||b===null)&&a._notifyBecameVisible()})},_notifyBecameHidden:function(){this.trigger("becameHidden");this.forEachChildView(function(a){var b=K(a,"isVisible");(b||b===null)&&a._notifyBecameHidden()})},_isAncestorHidden:function(){for(var a=K(this,"parentView");a;){if(K(a,"isVisible")===false)return true;a=
K(a,"parentView")}return false},clearBuffer:function(){this.invokeRecursively(function(){this.buffer=null})},transitionTo:function(a,b){this.state=a;b!==false&&this.forEachChildView(function(b){b.transitionTo(a)})},trigger:function(a){this._super.apply(this,arguments);var b=this[a];if(b){var c=[],d,e;d=1;for(e=arguments.length;d<e;d++)c.push(arguments[d]);return b.apply(this,c)}},has:function(a){return Ember.typeOf(this[a])==="function"||this._super(a)},handleEvent:function(a,b){return this.invokeForState("handleEvent",
a,b)}});Ember.View.reopen({states:Ember.View.states,domManager:{prepend:function(a,b){b._insertElementLater(function(){a.$().prepend(b.$())})},after:function(a,b){b._insertElementLater(function(){a.$().after(b.$())})},replace:function(a){var b=K(a,"element");Ab(a,"element",null);a._insertElementLater(function(){Ember.$(b).replaceWith(K(a,"element"))})},remove:function(a){var b=K(a,"element");Ab(a,"element",null);a._lastInsert=null;Ember.$(b).remove()},empty:function(a){a.$().empty()}}});Ember.View.reopenClass({_parsePropertyPath:function(a){var a=
a.split(/:/),b=a[0],c="",d,e;if(a.length>1){d=a[1];a.length===3&&(e=a[2]);c=":"+d;e&&(c=c+(":"+e))}return{path:b,classNames:c,className:d===""?void 0:d,falsyClassName:e}},_classStringForValue:function(a,b,c,d){if(b&&c)return c;if(b===true){if(b===true&&!c&&d)return null;a=a.split(".");return Ember.String.dasherize(a[a.length-1])}return b===false&&d?d:b!==false&&b!==void 0&&b!==null?b:null}});Ember.View.views={};Ember.View.childViewsProperty=ke;Ember.View.applyAttributeBindings=function(a,b,c){var d=
Ember.typeOf(c),e=a.attr(b);(d==="string"||d==="number"&&!isNaN(c))&&c!==e?a.attr(b,c):c&&d==="boolean"?a.attr(b,b):c||a.removeAttr(b)};var Oe=Ember.set;Ember.View.states={_default:{appendChild:function(){throw"You can't use appendChild outside of the rendering process";},$:function(){},getElement:function(){return null},handleEvent:function(){return true},destroyElement:function(a){Oe(a,"element",null);a._lastInsert=null;return a}}};Ember.View.reopen({states:Ember.View.states});Ember.View.states.preRender=
{parentState:Ember.View.states._default,insertElement:function(a,b){if(a._lastInsert===Ember.guidFor(b)){a.createElement();a._notifyWillInsertElement();b.call(a);a.transitionTo("inDOM");a._notifyDidInsertElement()}},empty:Ember.K,setElement:function(a,b){b!==null&&a.transitionTo("hasElement");return b}};Ember.View.states.inBuffer={parentState:Ember.View.states._default,$:function(a){a.rerender();return Ember.$()},rerender:function(a){Ember.deprecate("Something you did caused a view to re-render after it rendered but before it was inserted into the DOM. Because this is avoidable and the cause of significant performance issues in applications, this behavior is deprecated. If you want to use the debugger to find out what caused this, you can set ENV.RAISE_ON_DEPRECATION to true.");
a._notifyWillRerender();a.clearRenderedChildren();a.renderToBuffer(a.buffer,"replaceWith")},appendChild:function(a,b,c){var d=a.buffer,b=this.createChildView(b,c);a._childViews.push(b);b.renderToBuffer(d);a.propertyDidChange("childViews");return b},destroyElement:function(a){a.clearBuffer();a._notifyWillDestroyElement();a.transitionTo("preRender");return a},empty:function(){Ember.assert("Emptying a view in the inBuffer state is not allowed and should not happen under normal circumstances. Most likely there is a bug in your application. This may be due to excessive property change notifications.")},
insertElement:function(){throw"You can't insert an element that has already been rendered";},setElement:function(a,b){if(b===null)a.transitionTo("preRender");else{a.clearBuffer();a.transitionTo("hasElement")}return b}};var id=Ember.get;Ember.View.states.hasElement={parentState:Ember.View.states._default,$:function(a,b){var c=id(a,"element");return b?Ember.$(b,c):Ember.$(c)},getElement:function(a){var b=id(a,"parentView");b&&(b=id(b,"element"));return b?a.findElementInParentElement(b):Ember.$("#"+
id(a,"elementId"))[0]},setElement:function(a,b){if(b===null)a.transitionTo("preRender");else throw"You cannot set an element to a non-null value when the element is already in the DOM.";return b},rerender:function(a){a._notifyWillRerender();a.clearRenderedChildren();a.domManager.replace(a);return a},destroyElement:function(a){a._notifyWillDestroyElement();a.domManager.remove(a);return a},empty:function(a){var b=a._childViews,c,d;if(b){c=b.length;for(d=0;d<c;d++)b[d]._notifyWillDestroyElement()}a.domManager.empty(a)},
handleEvent:function(a,b,c){return a.has(b)?a.trigger(b,c):true}};Ember.View.states.inDOM={parentState:Ember.View.states.hasElement,insertElement:function(a,b){if(a._lastInsert===Ember.guidFor(b))throw"You can't insert an element into the DOM that has already been inserted";}};var Pc=Ember.String.fmt;Ember.View.states.destroyed={parentState:Ember.View.states._default,appendChild:function(){throw Pc("You can't call %@ on a destroyed view",["appendChild"]);},rerender:function(){throw Pc("You can't call %@ on a destroyed view",
["rerender"]);},destroyElement:function(){throw Pc("You can't call %@ on a destroyed view",["destroyElement"]);},empty:function(){throw Pc("You can't call %@ on a destroyed view",["empty"]);},setElement:function(){throw Pc("You can't call %@ on a destroyed view",["set('element', ...)"]);},insertElement:Ember.K};var wb=Ember.get,Pd=Ember.set,ne=Ember.EnumerableUtils.forEach,Qe=Ember.computed(function(){return wb(this,"_childViews")}).property("_childViews").cacheable();Ember.ContainerView=Ember.View.extend({init:function(){this._super();
var a=wb(this,"childViews");Ember.defineProperty(this,"childViews",Qe);var b=this._childViews;ne(a,function(a,c){var d;if("string"===typeof a){d=wb(this,a);d=this.createChildView(d);Pd(this,a,d)}else d=this.createChildView(a);b[c]=d},this);(a=wb(this,"currentView"))&&b.push(this.createChildView(a));Ember.A(b);wb(this,"childViews").addArrayObserver(this,{willChange:"childViewsWillChange",didChange:"childViewsDidChange"})},render:function(a){this.forEachChildView(function(b){b.renderToBuffer(a)})},
willDestroy:function(){wb(this,"childViews").removeArrayObserver(this,{willChange:"childViewsWillChange",didChange:"childViewsDidChange"});this._super()},childViewsWillChange:function(a,b,c){if(c!==0){var d=a.slice(b,b+c);this.initializeViews(d,null,null);this.invokeForState("childViewsWillChange",a,b,c)}},childViewsDidChange:function(a,b,c,d){wb(a,"length");if(d!==0){c=a.slice(b,b+d);this.initializeViews(c,this,wb(this,"templateData"));this.invokeForState("childViewsDidChange",a,b,d)}},initializeViews:function(a,
b,c){ne(a,function(a){Pd(a,"_parentView",b);wb(a,"templateData")||Pd(a,"templateData",c)})},_scheduleInsertion:function(a,b){b?b.domManager.after(b,a):this.domManager.prepend(this,a)},currentView:null,_currentViewWillChange:Ember.beforeObserver(function(){var a=wb(this,"childViews"),b=wb(this,"currentView");if(b){a.removeObject(b);b.destroy()}},"currentView"),_currentViewDidChange:Ember.observer(function(){var a=wb(this,"childViews"),b=wb(this,"currentView");b&&a.pushObject(b)},"currentView")});Ember.ContainerView.states=
{parent:Ember.View.states,inBuffer:{childViewsDidChange:function(a,b,c,d){var e=a.buffer,f;if(c===0){a=b[c];f=c+1;a.renderToBuffer(e,"prepend")}else{a=b[c-1];f=c}for(e=f;e<c+d;e++){f=a;a=b[e];f=f.buffer;a.renderToBuffer(f,"insertAfter")}}},hasElement:{childViewsWillChange:function(a,b,c,d){for(a=c;a<c+d;a++)b[a].remove()},childViewsDidChange:function(a,b,c,d){for(var e=c===0?null:b[c-1],f=c;f<c+d;f++){a=b[f];this._scheduleInsertion(a,e);e=a}}}};Ember.ContainerView.states.inDOM={parentState:Ember.ContainerView.states.hasElement};
Ember.ContainerView.reopen({states:Ember.ContainerView.states});var pb=Ember.get,oe=Ember.set,pe=Ember.String.fmt;Ember.CollectionView=Ember.ContainerView.extend({content:null,emptyViewClass:Ember.View,emptyView:null,itemViewClass:Ember.View,init:function(){var a=this._super();this._contentDidChange();return a},_contentWillChange:Ember.beforeObserver(function(){var a=this.get("content");a&&a.removeArrayObserver(this);var b=a?pb(a,"length"):0;this.arrayWillChange(a,0,b)},"content"),_contentDidChange:Ember.observer(function(){var a=
pb(this,"content");if(a){Ember.assert(pe("an Ember.CollectionView's content must implement Ember.Array. You passed %@",[a]),Ember.Array.detect(a));a.addArrayObserver(this)}var b=a?pb(a,"length"):0;this.arrayDidChange(a,0,null,b)},"content"),willDestroy:function(){var a=pb(this,"content");a&&a.removeArrayObserver(this);this._super()},arrayWillChange:function(a,b,c){(a=pb(this,"emptyView"))&&a instanceof Ember.View&&a.removeFromParent();var a=pb(this,"childViews"),d,e;e=pb(a,"length");(e=c===e)&&this.invokeForState("empty");
for(d=b+c-1;d>=b;d--){c=a[d];if(e)c.removedFromDOM=true;c.destroy()}},arrayDidChange:function(a,b,c,d){var e=pb(this,"itemViewClass"),c=pb(this,"childViews"),f=[],g,h;"string"===typeof e&&(e=pb(e));Ember.assert(pe("itemViewClass must be a subclass of Ember.View, not %@",[e]),Ember.View.detect(e));if(a&&pb(a,"length"))for(h=b;h<b+d;h++){g=a.objectAt(h);g=this.createChildView(e,{content:g,contentIndex:h});f.push(g)}else{a=pb(this,"emptyView");if(!a)return;a=this.createChildView(a);f.push(a);oe(this,
"emptyView",a)}c.replace(b,0,f)},createChildView:function(a,b){var a=this._super(a,b),c=pb(a,"tagName"),c=c===null||c===void 0?Ember.CollectionView.CONTAINER_MAP[pb(this,"tagName")]:c;oe(a,"tagName",c);return a}});Ember.CollectionView.CONTAINER_MAP={ul:"li",ol:"li",table:"tr",thead:"tr",tbody:"tr",tfoot:"tr",tr:"td",select:"option"};var zc=Ember.get,qc=Ember.set;Ember.State=Ember.Object.extend(Ember.Evented,{isState:true,parentState:null,start:null,name:null,path:Ember.computed(function(){var a=zc(this,
"parentState.path"),b=zc(this,"name");a&&(b=a+"."+b);return b}).property().cacheable(),trigger:function(a){this[a]&&this[a].apply(this,[].slice.call(arguments,1));this._super.apply(this,arguments)},init:function(){var a=zc(this,"states");qc(this,"childStates",Ember.A());qc(this,"eventTransitions",zc(this,"eventTransitions")||{});var b,c,d;if(a)for(b in a)this.setupChild(a,b,a[b]);else{a={};for(b in this)if(b!=="constructor"&&(c=this[b])){if(d=c.transitionTarget)this.eventTransitions[b]=d;this.setupChild(a,
b,c)}qc(this,"states",a)}qc(this,"pathsCache",{});qc(this,"pathsCacheNoContext",{})},setupChild:function(a,b,c){if(!c)return false;c.isState?qc(c,"name",b):Ember.State.detect(c)&&(c=c.create({name:b}));if(c.isState){qc(c,"parentState",this);zc(this,"childStates").pushObject(c);a[b]=c}},lookupEventTransition:function(a){for(var b,c=this;c&&!b;){b=c.eventTransitions[a];c=c.get("parentState")}return b},isLeaf:Ember.computed(function(){return!zc(this,"childStates").length}).cacheable(),hasContext:true,
setup:Ember.K,enter:Ember.K,exit:Ember.K});var qe=Ember.$&&Ember.$.Event;Ember.State.reopenClass({transitionTo:function(a){var b=function(b,c){if(qe&&c instanceof qe)if(c.hasOwnProperty("context"))c=c.context;else return b.transitionTo(a);b.transitionTo(a,c)};b.transitionTarget=a;return b}});var wa=Ember.get,Qd=Ember.set,Re=Ember.String.fmt,Rd=Ember.ArrayPolyfills.forEach,re=function(a){this.enterStates=a.enterStates.slice();this.exitStates=a.exitStates.slice();this.resolveState=a.resolveState;this.finalState=
a.enterStates[a.enterStates.length-1]||a.resolveState};re.prototype={normalize:function(a,b){this.matchContextsToStates(b);this.addInitialStates();this.removeUnchangedContexts(a);return this},matchContextsToStates:function(a){for(var b=this.enterStates.length-1,c=[],d;a.length>0;){if(b>=0)d=this.enterStates[b--];else{if(this.enterStates.length){d=wa(this.enterStates[0],"parentState");if(!d)throw"Cannot match all contexts to states";}else d=this.resolveState;this.enterStates.unshift(d);this.exitStates.unshift(d)}d=
wa(d,"hasContext")?a.pop():null;c.unshift(d)}this.contexts=c},addInitialStates:function(){for(var a=this.finalState,b;;){b=wa(a,"initialState")||"start";a=wa(a,"states."+b);if(!a)break;this.finalState=a;this.enterStates.push(a);this.contexts.push(void 0)}},removeUnchangedContexts:function(a){for(;this.enterStates.length>0;){if(this.enterStates[0]!==this.exitStates[0])break;if(this.enterStates.length===this.contexts.length){if(a.getStateMeta(this.enterStates[0],"context")!==this.contexts[0])break;
this.contexts.shift()}this.resolveState=this.enterStates.shift();this.exitStates.shift()}}};Ember.StateManager=Ember.State.extend({init:function(){this._super();Qd(this,"stateMeta",Ember.Map.create());var a=wa(this,"initialState");!a&&wa(this,"states.start")&&(a="start");if(a){this.transitionTo(a);Ember.assert('Failed to transition to initial state "'+a+'"',!!wa(this,"currentState"))}},stateMetaFor:function(a){var b=wa(this,"stateMeta"),c=b.get(a);if(!c){c={};b.set(a,c)}return c},setStateMeta:function(a,
b,c){return Qd(this.stateMetaFor(a),b,c)},getStateMeta:function(a,b){return wa(this.stateMetaFor(a),b)},currentState:null,transitionEvent:"setup",errorOnUnhandledEvent:true,send:function(a,b){Ember.assert('Cannot send event "'+a+'" while currentState is '+wa(this,"currentState"),wa(this,"currentState"));return this.sendRecursively(a,wa(this,"currentState"),b)},sendRecursively:function(a,b,c){var d=this.enableLogging,e=b[a];if(typeof e==="function"){d&&Ember.Logger.log(Re("STATEMANAGER: Sending event '%@' to state %@.",
[a,wa(b,"path")]));return e.call(b,this,c)}if(b=wa(b,"parentState"))return this.sendRecursively(a,b,c);if(wa(this,"errorOnUnhandledEvent"))throw new Ember.Error(this.toString()+" could not respond to event "+a+" in state "+wa(this,"currentState.path")+".");},getStateByPath:function(a,b){for(var c=b.split("."),d=a,e=0,f=c.length;e<f;e++){d=wa(wa(d,"states"),c[e]);if(!d)break}return d},findStateByPath:function(a,b){for(var c;!c&&a;){c=this.getStateByPath(a,b);a=wa(a,"parentState")}return c},findStatesByPath:function(a,
b){if(b&&b!==""){for(var c=b.split("."),d=[],e=0,f=c.length;e<f;e++){var g=wa(a,"states");if(!g)return;if(g=wa(g,c[e])){a=g;d.push(g)}else return}return d}},goToState:function(){return this.transitionTo.apply(this,arguments)},transitionTo:function(a,b){if(!Ember.empty(a)){var c=b?Array.prototype.slice.call(arguments,1):[],d=wa(this,"currentState")||this,d=this.contextFreeTransition(d,a),c=(new re(d)).normalize(this,c);this.enterState(c);this.triggerSetupContext(c)}},contextFreeTransition:function(a,
b){var c=a.pathsCache[b];if(c)return c;for(var c=this.findStatesByPath(a,b),d=[],e=a;e&&!c;){d.unshift(e);e=wa(e,"parentState");if(!e){c=this.findStatesByPath(this,b);if(!c){Ember.assert('Could not find state for path: "'+b+'"');return}}c=this.findStatesByPath(e,b)}for(;c.length>0&&c[0]===d[0];){e=c.shift();d.shift()}return a.pathsCache[b]={exitStates:d,enterStates:c,resolveState:e}},triggerSetupContext:function(a){var b=a.contexts,c=a.enterStates.length-b.length,a=a.enterStates,d=wa(this,"transitionEvent");
Ember.assert("More contexts provided than states",c>=0);Rd.call(a,function(a,e){a.trigger(d,this,b[e-c])},this)},getState:function(a){var b=wa(this,a),c=wa(this,"parentState");if(b)return b;if(c)return c.getState(a)},enterState:function(a){var b=this.enableLogging,c=a.exitStates.slice(0).reverse();Rd.call(c,function(a){a.trigger("exit",this)},this);Rd.call(a.enterStates,function(a){b&&Ember.Logger.log("STATEMANAGER: Entering "+wa(a,"path"));a.trigger("enter",this)},this);Qd(this,"currentState",a.finalState)}});
var ic=Ember.get;Ember._ResolvedState=Ember.Object.extend({manager:null,state:null,match:null,object:Ember.computed(function(a,b){if(arguments.length===2)return this._object=b;if(this._object)return this._object;var c=ic(this,"state"),d=ic(this,"match"),e=ic(this,"manager");return c.deserialize(e,d.hash)}).property(),hasPromise:Ember.computed(function(){return Ember.canInvoke(ic(this,"object"),"then")}).property("object"),promise:Ember.computed(function(){var a=ic(this,"object");return Ember.canInvoke(a,
"then")?a:{then:function(b){b(a)}}}).property("object"),transition:function(){var a=ic(this,"manager"),b=ic(this,"state.path"),c=ic(this,"object");a.transitionTo(b,c)}});var ea=Ember.get,se=function(a){a=a.toString().split(".");return Ember.String.underscore(a[a.length-1])+"_id"};Ember.Routable=Ember.Mixin.create({init:function(){var a;this.on("connectOutlets",this,this.stashContext);if(a=ea(this,"redirectsTo")){Ember.assert("You cannot use `redirectsTo` if you already have a `connectOutlets` method",
this.connectOutlets===Ember.K);this.connectOutlets=function(b){b.transitionTo(a)}}var b=ea(this,"route");b===""&&(b="/");this._super();Ember.assert("You cannot use `redirectsTo` on a state that has child states",!a||!!a&&!!ea(this,"isLeaf"))},stashContext:function(a,b){var c=this.serialize(a,b);Ember.assert("serialize must return a hash",!c||typeof c==="object");a.setStateMeta(this,"context",b);a.setStateMeta(this,"serialized",c);ea(this,"isRoutable")&&!ea(a,"isRouting")&&this.updateRoute(a,ea(a,
"location"))},updateRoute:function(a,b){if(ea(this,"isLeafRoute")){var c=this.absoluteRoute(a);b.setURL(c)}},absoluteRoute:function(a,b){var c=ea(this,"parentState"),d="",e;ea(c,"isRoutable")&&(d=c.absoluteRoute(a,b));var c=ea(this,"routeMatcher"),f=a.getStateMeta(this,"serialized"),g=b=b||{};for(e in f)f.hasOwnProperty(e)&&(g.hasOwnProperty(e)||(g[e]=f[e]));(e=c&&c.generate(b))&&(d=d+"/"+e);return d},isRoutable:Ember.computed(function(){return typeof ea(this,"route")==="string"}).cacheable(),isLeafRoute:Ember.computed(function(){return ea(this,
"isLeaf")?true:!ea(this,"childStates").findProperty("isRoutable")}).cacheable(),routeMatcher:Ember.computed(function(){var a=ea(this,"route");if(a)return Ember._RouteMatcher.create({route:a})}).cacheable(),hasContext:Ember.computed(function(){var a=ea(this,"routeMatcher");if(a)return a.identifiers.length>0}).cacheable(),modelClass:Ember.computed(function(){var a=ea(this,"modelType");return typeof a==="string"?Ember.get(window,a):a}).cacheable(),modelClassFor:function(a){var b;if(b=ea(this,"modelClass"))return b;
if(a)if(b=ea(this,"routeMatcher")){b=b.identifiers;if(b.length===2)if(b=b[1].match(/^(.*)_id$/)){b=Ember.String.classify(b[1]);return ea(a,b)}}},deserialize:function(a,b){var c;if(c=this.modelClassFor(ea(a,"namespace"))){Ember.assert("Expected "+c.toString()+" to implement `find` for use in '"+this.get("path")+"' `deserialize`. Please implement the `find` method or overwrite `deserialize`.",c.find);return c.find(b[se(c)])}return b},serialize:function(a,b){var c,d;if(Ember.empty(b))return"";if(c=this.modelClassFor(ea(a,
"namespace"))){c=se(c);d=ea(b,"id");b={};b[c]=d}return b},resolvePath:function(a,b){if(ea(this,"isLeafRoute"))return Ember.A();var c=ea(this,"childStates"),d,c=Ember.A(c.filterProperty("isRoutable")),c=c.sort(function(a,b){var c=ea(a,"routeMatcher.identifiers.length"),d=ea(b,"routeMatcher.identifiers.length"),e=ea(a,"route"),f=ea(b,"route");return e.indexOf(f)===0?-1:f.indexOf(e)===0?1:c!==d?c-d:ea(b,"route.length")-ea(a,"route.length")}),e=c.find(function(a){if(d=ea(a,"routeMatcher").match(b))return true});
Ember.assert("Could not find state for path "+b,!!e);c=Ember._ResolvedState.create({manager:a,state:e,match:d});e=e.resolvePath(a,d.remaining);return Ember.A([c]).pushObjects(e)},routePath:function(a,b){function c(){d.forEach(function(a){a.transition()})}if(!ea(this,"isLeafRoute")){var d=this.resolvePath(a,b);if(d.some(function(a){return ea(a,"hasPromise")})){a.transitionTo("loading");Ember.assert("Loading state should be the child of a route",Ember.Routable.detect(ea(a,"currentState.parentState")));
Ember.assert("Loading state should not be a route",!Ember.Routable.detect(ea(a,"currentState")));a.handleStatePromises(d,c)}else c()}},unroutePath:function(a,b){var c=ea(this,"parentState");if(c!==a){var b=b.replace(/^(?=[^\/])/,"/"),d=this.absoluteRoute(a);if(ea(this,"route")!=="/"){var e=b.indexOf(d),d=b.charAt(d.length);if(e===0&&(d==="/"||d===""))return}a.enterState({exitStates:[this],enterStates:[],finalState:c});a.send("unroutePath",b)}},connectOutlets:Ember.K,navigateAway:Ember.K});Ember.Route=
Ember.State.extend(Ember.Routable);Ember._RouteMatcher=Ember.Object.extend({state:null,init:function(){var a=this.route,b=[],c=1;if(a.charAt(0)==="/")a=this.route=a.substr(1);a=a.replace(/[\-\[\]{}()*+?.,\\\^\$|#\s]/g,"\\$&").replace(/:([a-z_]+)(?=$|\/)/gi,function(a,d){b[c++]=d;return"([^/]+)"});this.identifiers=b;this.regex=RegExp("^/?"+a)},match:function(a){var b=a.match(this.regex);if(b){for(var c=this.identifiers,d={},e=1,f=c.length;e<f;e++)d[c[e]]=b[e];return{remaining:a.substr(b[0].length),
hash:c.length>0?d:null}}},generate:function(a){for(var b=this.identifiers,c=this.route,d,e=1,f=b.length;e<f;e++){d=b[e];c=c.replace(RegExp(":"+d),a[d])}return c}});var qb=Ember.get,ld=Ember.set;Ember.Router=Ember.StateManager.extend({initialState:"root",location:"hash",rootURL:"/",transitionEvent:"connectOutlets",transitionTo:function(){this.abortRoutingPromises();this._super.apply(this,arguments)},route:function(a){this.abortRoutingPromises();ld(this,"isRouting",true);var b;try{a=a.replace(/^(?=[^\/])/,
"/");this.send("navigateAway");this.send("unroutePath",a);for(b=qb(this,"currentState");b&&!b.get("isRoutable");)b=qb(b,"parentState");var c=b?b.absoluteRoute(this):"",d=a.substr(c.length);this.send("routePath",d)}finally{ld(this,"isRouting",false)}for(b=qb(this,"currentState");b&&!b.get("isRoutable");)b=qb(b,"parentState");b&&b.updateRoute(this,qb(this,"location"))},urlFor:function(a,b){var c=qb(this,"currentState")||this,d=this.findStateByPath(c,a);Ember.assert(Ember.String.fmt("Could not find route with path '%@'",
[a]),!!d);Ember.assert("To get a URL for a state, it must have a `route` property.",!!qb(d,"routeMatcher"));c=qb(this,"location");d=d.absoluteRoute(this,b);return c.formatURL(d)},urlForEvent:function(a){var b=Array.prototype.slice.call(arguments,1),c=qb(this,"currentState"),d=c.lookupEventTransition(a);Ember.assert(Ember.String.fmt("You must specify a target state for event '%@' in order to link to it in the current state '%@'.",[a,qb(c,"path")]),!!d);c=this.findStateByPath(c,d);Ember.assert("Your target state name "+
d+" for event "+a+" did not resolve to a state",!!c);b=this.serializeRecursively(c,b,{});return this.urlFor(d,b)},serializeRecursively:function(a,b,c){var d=qb(a,"hasContext")?b.pop():null,d=a.serialize(this,d),e;for(e in d)d.hasOwnProperty(e)&&(c.hasOwnProperty(e)||(c[e]=d[e]));return(a=a.get("parentState"))&&a instanceof Ember.Route?this.serializeRecursively(a,b,c):c},abortRoutingPromises:function(){if(this._routingPromises){this._routingPromises.abort();this._routingPromises=null}},handleStatePromises:function(a,
b){this.abortRoutingPromises();this.set("isLocked",true);var c=this;this._routingPromises=Ember._PromiseChain.create({promises:a.slice(),successCallback:function(){c.set("isLocked",false);b()},failureCallback:function(){throw"Unable to load object";},promiseSuccessCallback:function(a,b){ld(a,"object",b[0])},abortCallback:function(){c.set("isLocked",false)}}).start()},init:function(){this._super();var a=qb(this,"location"),b=qb(this,"rootURL");"string"===typeof a&&ld(this,"location",Ember.Location.create({implementation:a,
rootURL:b}))},willDestroy:function(){qb(this,"location").destroy()}});var md=Ember.get;Ember.StateManager.reopen({currentView:Ember.computed(function(){for(var a=md(this,"currentState"),b;a;){if(md(a,"isViewState"))if(b=md(a,"view"))return b;a=md(a,"parentState")}return null}).property("currentState").cacheable()});var nd=Ember.get,Se=Ember.set;Ember.ViewState=Ember.State.extend({isViewState:true,init:function(){Ember.deprecate("Ember.ViewState is deprecated and will be removed from future releases. Consider using the outlet pattern to display nested views instead. For more information, see http://emberjs.com/guides/outlets/.");
return this._super()},enter:function(a){var b=nd(this,"view"),c;if(b){if(Ember.View.detect(b)){b=b.create();Se(this,"view",b)}Ember.assert("view must be an Ember.View",b instanceof Ember.View);if(c=a.get("rootView")){a=nd(c,"childViews");a.pushObject(b)}else{c=a.get("rootElement")||"body";b.appendTo(c)}}},exit:function(){var a=nd(this,"view");a&&(nd(a,"parentView")?a.removeFromParent():a.remove())}});(function(){var a=function(){},b=0,c=this.document,d="createRange"in c&&typeof Range!=="undefined"&&
Range.prototype.createContextualFragment,e,f=c.createElement("div");f.innerHTML="<div></div>";f.firstChild.innerHTML="<script><\/script>";e=f.firstChild.innerHTML==="";var g=function(c){var d;d=this instanceof g?this:new a;d.innerHTML=c;c="metamorph-"+b++;d.start=c+"-start";d.end=c+"-end";return d};a.prototype=g.prototype;var h,p,j,k;if(d){h=function(a,b){var d=c.createRange(),e=c.getElementById(a.start),f=c.getElementById(a.end);if(b){d.setStartBefore(e);d.setEndAfter(f)}else{d.setStartAfter(e);
d.setEndBefore(f)}return d};p=function(a,b){var c=h(this,b);c.deleteContents();var d=c.createContextualFragment(a);c.insertNode(d)};d=function(){h(this,true).deleteContents()};f=function(a){var b=c.createRange();b.setStart(a);b.collapse(false);b=b.createContextualFragment(this.outerHTML());a.appendChild(b)};j=function(a){var b=c.createRange(),d=c.getElementById(this.end);b.setStartAfter(d);b.setEndAfter(d);a=b.createContextualFragment(a);b.insertNode(a)};k=function(a){var b=c.createRange(),d=c.getElementById(this.start);
b.setStartAfter(d);b.setEndAfter(d);a=b.createContextualFragment(a);b.insertNode(a)}}else{var l={select:[1,"<select multiple='multiple'>","</select>"],fieldset:[1,"<fieldset>","</fieldset>"],table:[1,"<table>","</table>"],tbody:[2,"<table><tbody>","</tbody></table>"],tr:[3,"<table><tbody><tr>","</tr></tbody></table>"],colgroup:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],map:[1,"<map>","</map>"],_default:[0,"",""]},m=function(a,b){var d=l[a.tagName.toLowerCase()]||l._default,f=d[0],
g=d[1],h=d[2];e&&(b="&shy;"+b);d=c.createElement("div");d.innerHTML=g+b+h;for(g=0;g<=f;g++)d=d.firstChild;if(e){for(f=d;f.nodeType===1&&!f.nodeName;)f=f.firstChild;if(f.nodeType===3&&f.nodeValue.charAt(0)==="\u00ad")f.nodeValue=f.nodeValue.slice(1)}return d},n=function(a){for(;a.parentNode.tagName==="";)a=a.parentNode;return a};p=function(a,b){var d=n(c.getElementById(this.start)),e=c.getElementById(this.end),f=e.parentNode,g,h,p;d.parentNode!==e.parentNode&&e.parentNode.insertBefore(d,e.parentNode.firstChild);
for(g=d.nextSibling;g;){h=g.nextSibling;if(p=g===e)if(b)e=g.nextSibling;else break;g.parentNode.removeChild(g);if(p)break;g=h}for(g=m(d.parentNode,a);g;){h=g.nextSibling;f.insertBefore(g,e);g=h}};d=function(){var a=n(c.getElementById(this.start)),b=c.getElementById(this.end);this.html("");a.parentNode.removeChild(a);b.parentNode.removeChild(b)};f=function(a){for(var b=m(a,this.outerHTML());b;){nextSibling=b.nextSibling;a.appendChild(b);b=nextSibling}};j=function(a){var b=c.getElementById(this.end),
d=b.nextSibling,b=b.parentNode,e;for(e=m(b,a);e;){a=e.nextSibling;b.insertBefore(e,d);e=a}};k=function(a){for(var b=c.getElementById(this.start),d=b.parentNode,a=m(d,a),e=b.nextSibling;a;){b=a.nextSibling;d.insertBefore(a,e);a=b}}}g.prototype.html=function(a){this.checkRemoved();if(a===void 0)return this.innerHTML;p.call(this,a);this.innerHTML=a};g.prototype.replaceWith=function(a){this.checkRemoved();p.call(this,a,true)};g.prototype.remove=d;g.prototype.outerHTML=function(){return this.startTag()+
this.innerHTML+this.endTag()};g.prototype.appendTo=f;g.prototype.after=j;g.prototype.prepend=k;g.prototype.startTag=function(){return"<script id='"+this.start+"' type='text/x-placeholder'><\/script>"};g.prototype.endTag=function(){return"<script id='"+this.end+"' type='text/x-placeholder'><\/script>"};g.prototype.isRemoved=function(){var a=c.getElementById(this.start),b=c.getElementById(this.end);return!a||!b};g.prototype.checkRemoved=function(){if(this.isRemoved())throw Error("Cannot perform operations on a Metamorph that is not in the DOM.");
};this.Metamorph=g})();var od=Ember.create;Ember.assert("Ember Handlebars requires Handlebars 1.0.beta.5 or greater",window.Handlebars&&window.Handlebars.VERSION.match(/^1\.0\.beta\.[56789]$|^1\.0\.rc\.[123456789]+/));Ember.Handlebars=od(Handlebars);Ember.Handlebars.helpers=od(Handlebars.helpers);Ember.Handlebars.Compiler=function(){};Ember.Handlebars.Compiler.prototype=od(Handlebars.Compiler.prototype);Ember.Handlebars.Compiler.prototype.compiler=Ember.Handlebars.Compiler;Ember.Handlebars.JavaScriptCompiler=
function(){};Ember.Handlebars.JavaScriptCompiler.prototype=od(Handlebars.JavaScriptCompiler.prototype);Ember.Handlebars.JavaScriptCompiler.prototype.compiler=Ember.Handlebars.JavaScriptCompiler;Ember.Handlebars.JavaScriptCompiler.prototype.namespace="Ember.Handlebars";Ember.Handlebars.JavaScriptCompiler.prototype.initializeBuffer=function(){return"''"};Ember.Handlebars.JavaScriptCompiler.prototype.appendToBuffer=function(a){return"data.buffer.push("+a+");"};Ember.Handlebars.Compiler.prototype.mustache=
function(a){if(!a.params.length&&!a.hash){var b=new Handlebars.AST.IdNode(["_triageMustache"]);if(!a.escaped){a.hash=a.hash||new Handlebars.AST.HashNode([]);a.hash.pairs.push(["unescaped",new Handlebars.AST.StringNode("true")])}a=new Handlebars.AST.MustacheNode([b].concat([a.id]),a.hash,!a.escaped)}return Handlebars.Compiler.prototype.mustache.call(this,a)};Ember.Handlebars.precompile=function(a){var b=Handlebars.parse(a),a={knownHelpers:{action:true,unbound:true,bindAttr:true,template:true,view:true,
_triageMustache:true},data:true,stringParams:true},b=(new Ember.Handlebars.Compiler).compile(b,a);return(new Ember.Handlebars.JavaScriptCompiler).compile(b,a,void 0,true)};Ember.Handlebars.compile=function(a){var b=Handlebars.parse(a),a={data:true,stringParams:true},b=(new Ember.Handlebars.Compiler).compile(b,a),a=(new Ember.Handlebars.JavaScriptCompiler).compile(b,a,void 0,true);return Handlebars.template(a)};var Te=Ember.Handlebars.normalizePath=function(a,b,c){var c=c&&c.keywords||{},d,e;d=b.split(".",
1)[0];if(c.hasOwnProperty(d)){a=c[d];e=true;b=b===d?"":b.substr(d.length+1)}return{root:a,path:b,isKeyword:e}};Ember.Handlebars.getPath=function(a,b,c){b=Te(a,b,c&&c.data);a=b.root;b=b.path;c=Ember.get(a,b);c===void 0&&(a!==window&&Ember.isGlobalPath(b))&&(c=Ember.get(window,b));return c};Ember.Handlebars.registerHelper("helperMissing",function(a,b){var c="";if(b.data)c=b.data.view;throw new Ember.Error(Ember.String.fmt("%@ Handlebars error: Could not find property '%@' on object %@.",[c,a,this]));
});Ember.String.htmlSafe=function(a){return new Handlebars.SafeString(a)};var Ue=Ember.String.htmlSafe;if(Ember.EXTEND_PROTOTYPES)String.prototype.htmlSafe=function(){return Ue(this)};var Ve=Ember.set,We=Ember.get;Ember._Metamorph=Ember.Mixin.create({isVirtual:true,tagName:"",init:function(){this._super();this.morph=Metamorph()},beforeRender:function(a){a.push(this.morph.startTag())},afterRender:function(a){a.push(this.morph.endTag())},createElement:function(){this.outerHTML=this.renderToBuffer().string();
this.clearBuffer()},domManager:{remove:function(a){var b=a.morph;if(!b.isRemoved()){Ve(a,"element",null);a._lastInsert=null;b.remove()}},prepend:function(a,b){b._insertElementLater(function(){a.morph.prepend(b.outerHTML);b.outerHTML=null})},after:function(a,b){b._insertElementLater(function(){a.morph.after(b.outerHTML);b.outerHTML=null})},replace:function(a){var b=a.morph;a.transitionTo("preRender");a.clearRenderedChildren();var c=a.renderToBuffer();Ember.run.schedule("render",this,function(){if(!We(a,
"isDestroyed")){a.invalidateRecursively("element");a._notifyWillInsertElement();b.replaceWith(c.string());a.transitionTo("inDOM");a._notifyDidInsertElement()}})},empty:function(a){a.morph.html("")}}});Ember._MetamorphView=Ember.View.extend(Ember._Metamorph);var xb=Ember.get,rc=Ember.set,Xe=Ember.Handlebars.getPath;Ember._HandlebarsBoundView=Ember._MetamorphView.extend({shouldDisplayFunc:null,preserveContext:false,previousContext:null,displayTemplate:null,inverseTemplate:null,path:null,pathRoot:null,
normalizedValue:Ember.computed(function(){var a=xb(this,"path"),b=xb(this,"pathRoot"),c=xb(this,"valueNormalizerFunc"),d;if(a==="")a=b;else{d=xb(this,"templateData");a=Xe(b,a,{data:d})}return c?c(a):a}).property("path","pathRoot","valueNormalizerFunc").safe_volatile(),rerenderIfNeeded:function(){!xb(this,"isDestroyed")&&xb(this,"normalizedValue")!==this._lastNormalizedValue&&this.rerender()},render:function(a){var b=xb(this,"isEscaped"),c=xb(this,"shouldDisplayFunc"),d=xb(this,"preserveContext"),
e=xb(this,"previousContext"),f=xb(this,"inverseTemplate"),g=xb(this,"displayTemplate"),h=xb(this,"normalizedValue");this._lastNormalizedValue=h;if(c(h)){rc(this,"template",g);if(d)rc(this,"_context",e);else if(g)rc(this,"_context",h);else{h===null||h===void 0?h="":h instanceof Handlebars.SafeString||(h=String(h));b&&(h=Handlebars.Utils.escapeExpression(h));a.push(h);return}}else if(f){rc(this,"template",f);d?rc(this,"_context",e):rc(this,"_context",h)}else rc(this,"template",function(){return""});
return this._super(a)}});var Sd=function(a,b,c,d,e){var f=b.data,g=b.fn,h=b.inverse,p=f.view,j;j=pd(this,a,f);a=j.root;j=j.path;if("object"===typeof this){var k=p.createChildView(Ember._HandlebarsBoundView,{preserveContext:c,shouldDisplayFunc:d,valueNormalizerFunc:e,displayTemplate:g,inverseTemplate:h,path:j,pathRoot:a,previousContext:this,isEscaped:!b.hash.unescaped,templateData:b.data});p.appendChild(k);j!==""&&Ember.addObserver(a,j,function(){Ember.run.once(k,"rerenderIfNeeded")})}else f.buffer.push(qd(a,
j,b))},Ye=Ember.get,Td=Ember.String.fmt,qd=Ember.Handlebars.getPath,pd=Ember.Handlebars.normalizePath,te=Ember.ArrayPolyfills.forEach,Jb=Ember.Handlebars,Ac=Jb.helpers;Jb.registerHelper("_triageMustache",function(a,b){Ember.assert("You cannot pass more than one argument to the _triageMustache helper",arguments.length<=2);return Ac[a]?Ac[a].call(this,b):Ac.bind.apply(this,arguments)});Jb.registerHelper("bind",function(a,b){Ember.assert("You cannot pass more than one argument to the bind helper",arguments.length<=
2);return Sd.call(b.contexts&&b.contexts[0]||this,a,b,false,function(a){return!Ember.none(a)})});Jb.registerHelper("boundIf",function(a,b){var c=function(a){return Ember.typeOf(a)==="array"?Ye(a,"length")!==0:!!a};return Sd.call(b.contexts&&b.contexts[0]||this,a,b,true,c,c)});Jb.registerHelper("with",function(a,b){if(arguments.length===4){var c,d,e;Ember.assert("If you pass more than one argument to the with helper, it must be in the form #with foo as bar",arguments[1]==="as");b=arguments[3];c=arguments[2];
d=arguments[0];Ember.assert("You must pass a block to the with helper",b.fn&&b.fn!==Handlebars.VM.noop);if(Ember.isGlobalPath(d))Ember.bind(b.data.keywords,c,d);else{e=pd(this,d,b.data);d=e.path;e=e.root;var f=Ember.$.expando+Ember.guidFor(e);b.data.keywords[f]=e;Ember.bind(b.data.keywords,c,d?f+"."+d:f)}return Sd.call(this,d,b.fn,true,function(a){return!Ember.none(a)})}Ember.assert("You must pass exactly one argument to the with helper",arguments.length===2);Ember.assert("You must pass a block to the with helper",
b.fn&&b.fn!==Handlebars.VM.noop);return Ac.bind.call(b.contexts[0],a,b)});Jb.registerHelper("if",function(a,b){Ember.assert("You must pass exactly one argument to the if helper",arguments.length===2);Ember.assert("You must pass a block to the if helper",b.fn&&b.fn!==Handlebars.VM.noop);return Ac.boundIf.call(b.contexts[0],a,b)});Jb.registerHelper("unless",function(a,b){Ember.assert("You must pass exactly one argument to the unless helper",arguments.length===2);Ember.assert("You must pass a block to the unless helper",
b.fn&&b.fn!==Handlebars.VM.noop);var c=b.fn;b.fn=b.inverse;b.inverse=c;return Ac.boundIf.call(b.contexts[0],a,b)});Jb.registerHelper("bindAttr",function(a){var b=a.hash;Ember.assert("You must specify at least one hash argument to bindAttr",!!Ember.keys(b).length);var c=a.data.view,d=[],e=this,f=++Ember.$.uuid,g=b["class"];if(g!==null&&g!==void 0){g=Jb.bindClasses(this,g,c,f,a);d.push('class="'+Handlebars.Utils.escapeExpression(g.join(" "))+'"');delete b["class"]}g=Ember.keys(b);te.call(g,function(g){var h=
b[g],p,j;Ember.assert(Td("You must provide a String for a bound attribute, not %@",[h]),typeof h==="string");j=pd(e,h,a.data);p=j.root;h=j.path;j=h==="this"?p:qd(p,h,a);var k=Ember.typeOf(j);Ember.assert(Td("Attributes must be numbers, strings or booleans, not %@",[j]),j===null||j===void 0||k==="number"||k==="string"||k==="boolean");var l,m;l=function(){var b=qd(p,h,a);Ember.assert(Td("Attributes must be numbers, strings or booleans, not %@",[b]),b===null||b===void 0||typeof b==="number"||typeof b===
"string"||typeof b==="boolean");var d=c.$("[data-bindattr-"+f+"='"+f+"']");d.length===0?Ember.removeObserver(p,h,m):Ember.View.applyAttributeBindings(d,g,b)};m=function(){Ember.run.once(l)};h!=="this"&&Ember.addObserver(p,h,m);k==="string"||k==="number"&&!isNaN(j)?d.push(g+'="'+Handlebars.Utils.escapeExpression(j)+'"'):j&&k==="boolean"&&d.push(g+'="'+g+'"')},this);d.push("data-bindattr-"+f+'="'+f+'"');return new Jb.SafeString(d.join(" "))});Jb.bindClasses=function(a,b,c,d,e){var f=[],g,h,p,j=function(a,
b,c){var d=b.path,a=d==="this"?a:d===""?true:qd(a,d,c);return Ember.View._classStringForValue(d,a,b.className,b.falsyClassName)};te.call(b.split(" "),function(b){var k,l,m,n=Ember.View._parsePropertyPath(b),aa=n.path,o=a;if(aa!==""&&aa!=="this"){b=pd(a,aa,e.data);o=b.root;aa=b.path}l=function(){g=j(o,n,e);p=d?c.$("[data-bindattr-"+d+"='"+d+"']"):c.$();if(p.length===0)Ember.removeObserver(o,aa,m);else{k&&p.removeClass(k);if(g){p.addClass(g);k=g}else k=null}};m=function(){Ember.run.once(l)};aa!==""&&
aa!=="this"&&Ember.addObserver(o,aa,m);if(h=j(o,n,e)){f.push(h);k=h}});return f};var ue=Ember.get,rd=Ember.Handlebars,Ze=Ember.VIEW_PRESERVES_CONTEXT;rd.ViewHelper=Ember.Object.create({propertiesFromHTMLOptions:function(a,b){var c=a.hash,d=a.data,e={},f=c["class"],g=false;if(c.id){e.elementId=c.id;g=true}if(f){f=f.split(" ");e.classNames=f;g=true}if(c.classBinding){e.classNameBindings=c.classBinding.split(" ");g=true}if(c.classNameBindings){if(e.classNameBindings===void 0)e.classNameBindings=[];e.classNameBindings=
e.classNameBindings.concat(c.classNameBindings.split(" "));g=true}if(c.attributeBindings){Ember.assert("Setting 'attributeBindings' via Handlebars is not allowed. Please subclass Ember.View and set it there instead.");e.attributeBindings=null;g=true}if(g){c=Ember.$.extend({},c);delete c.id;delete c["class"];delete c.classBinding}for(var h in c)if(c.hasOwnProperty(h)&&Ember.IS_BINDING.test(h)&&typeof c[h]==="string")(f=this.contextualizeBindingPath(c[h],d))&&(c[h]=f);if(e.classNameBindings)for(var p in e.classNameBindings){h=
e.classNameBindings[p];if(typeof h==="string"){h=Ember.View._parsePropertyPath(h);(f=this.contextualizeBindingPath(h.path,d))&&(e.classNameBindings[p]=f+h.classNames)}}e.bindingContext=b;return Ember.$.extend(c,e)},contextualizeBindingPath:function(a,b){return Ember.Handlebars.normalizePath(null,a,b).isKeyword?"templateData.keywords."+a:Ember.isGlobalPath(a)?null:a==="this"?"bindingContext":"bindingContext."+a},helper:function(a,b,c){var d=c.data,e=c.fn,f;if("string"===typeof b){f=rd.getPath(a,b,
c);Ember.assert("Unable to find view at path '"+b+"'",!!f)}else f=b;Ember.assert(Ember.String.fmt("You must pass a view class to the #view helper, not %@ (%@)",[b,f]),Ember.View.detect(f));b=this.propertiesFromHTMLOptions(c,a);d=d.view;b.templateData=c.data;if(e){Ember.assert("You cannot provide a template block if you also specified a templateName",!ue(b,"templateName")&&!ue(f.proto(),"templateName"));b.template=e}if(Ze&&!f.proto().controller&&!f.proto().controllerBinding&&!b.controller&&!b.controllerBinding)b._context=
a;d.appendChild(f,b)}});rd.registerHelper("view",function(a,b){Ember.assert("The view helper only takes a single argument",arguments.length<=2);if(a&&a.data&&a.data.isRenderData){b=a;a="Ember.View"}return rd.ViewHelper.helper(this,a,b)});var ve=Ember.get,Ud=Ember.Handlebars.getPath,we=Ember.String.fmt;Ember.Handlebars.registerHelper("collection",function(a,b){if(a&&a.data&&a.data.isRenderData){b=a;a=void 0;Ember.assert("You cannot pass more than one argument to the collection helper",arguments.length===
1)}else Ember.assert("You cannot pass more than one argument to the collection helper",arguments.length===2);var c=b.fn,d=b.data,e=b.inverse,f;f=a?Ud(this,a,b):Ember.CollectionView;Ember.assert(we("%@ #collection: Could not find collection class %@",[d.view,a]),!!f);var g=b.hash,h={},p,j;p=g.itemViewClass;var k=f.proto();delete g.itemViewClass;j=p?Ud(k,p,b):k.itemViewClass;Ember.assert(we("%@ #collection: Could not find itemViewClass %@",[d.view,p]),!!j);for(var l in g)if(g.hasOwnProperty(l))if(p=
l.match(/^item(.)(.*)$/)){h[p[1].toLowerCase()+p[2]]=g[l];delete g[l]}if(c){h.template=c;delete b.fn}var m;if(e&&e!==Handlebars.VM.noop){m=ve(k,"emptyViewClass");m=m.extend({template:e,tagName:h.tagName})}else g.emptyViewClass&&(m=Ud(this,g.emptyViewClass,b));g.emptyView=m;if(g.eachHelper==="each"){h._context=Ember.computed(function(){return ve(this,"content")}).property("content");delete g.eachHelper}c=Ember.Handlebars.ViewHelper.propertiesFromHTMLOptions({data:d,hash:h},this);g.itemViewClass=j.extend(c);
return Ember.Handlebars.helpers.view.call(this,f,b)});var $e=Ember.Handlebars.getPath;Ember.Handlebars.registerHelper("unbound",function(a,b){return $e(b.contexts&&b.contexts[0]||this,a,b)});var af=Ember.Handlebars.getPath,bf=Ember.Handlebars.normalizePath;Ember.Handlebars.registerHelper("log",function(a,b){var c=bf(b.contexts&&b.contexts[0]||this,a,b.data),d=c.root,c=c.path,d=c==="this"?d:af(d,c,b);Ember.Logger.log(d)});Ember.Handlebars.registerHelper("debugger",function(){debugger});var Vd=Ember.get,
cf=Ember.set;Ember.Handlebars.EachView=Ember.CollectionView.extend(Ember._Metamorph,{itemViewClass:Ember._MetamorphView,emptyViewClass:Ember._MetamorphView,createChildView:function(a,b){var a=this._super(a,b),c=Vd(this,"keyword");if(c){var d=Vd(a,"templateData"),d=Ember.copy(d);d.keywords=a.cloneKeywords();cf(a,"templateData",d);var e=Vd(a,"content");d.keywords[c]=e}return a}});Ember.Handlebars.registerHelper("each",function(a,b){if(arguments.length===4){Ember.assert("If you pass more than one argument to the each helper, it must be in the form #each foo in bar",
arguments[1]==="in");var c=arguments[0],b=arguments[3],a=arguments[2];a===""&&(a="this");b.hash.keyword=c}else b.hash.eachHelper="each";Ember.assert("You must pass a block to the each helper",b.fn&&b.fn!==Handlebars.VM.noop);b.hash.contentBinding=a;return Ember.Handlebars.helpers.collection.call(this,"Ember.Handlebars.EachView",b)});Ember.Handlebars.registerHelper("template",function(a,b){Ember.assert("Unable to find template with name '"+a+"'.",!!Ember.TEMPLATES[a]);Ember.TEMPLATES[a](this,{data:b.data})});
var sd=Ember.Handlebars,xe=sd.getPath,ye=Ember.get,df=Array.prototype.slice,td=sd.ActionHelper={registeredActions:{}};td.registerAction=function(a,b){var c=(++Ember.$.uuid).toString();td.registeredActions[c]={eventName:b.eventName,handler:function(c){var d=c.which>1,d=c.shiftKey||(c.metaKey||c.altKey||c.ctrlKey)||d;if(!b.link||!d){c.preventDefault();c.view=b.view;if(b.hasOwnProperty("context"))c.context=b.context;if(b.hasOwnProperty("contexts"))c.contexts=b.contexts;d=b.target;if(d.isState&&typeof d.send===
"function")return d.send(a,c);Ember.assert(Ember.String.fmt("Target %@ does not have action %@",[d,a]),d[a]);return d[a].call(d,c)}}};b.view.on("willRerender",function(){delete td.registeredActions[c]});return c};sd.registerHelper("action",function(a){var b=arguments[arguments.length-1],c=df.call(arguments,1,-1),d=b.hash,e=b.data.view,f,g,h={eventName:d.on||"click"};h.view=e=ye(e,"concreteView");if(d.target)f=xe(this,d.target,b);else if(g=b.data.keywords.controller)f=ye(g,"target");h.target=f=f||
e;if(c.length){h.contexts=c=Ember.EnumerableUtils.map(c,function(a){return xe(this,a,b)},this);h.context=c[0]}e=[];if(d.href&&f.urlForEvent){c=f.urlForEvent.apply(f,[a].concat(c));e.push('href="'+c+'"');h.link=true}h=td.registerAction(a,h);e.push('data-ember-action="'+h+'"');return new sd.SafeString(e.join(" "))});var Wd=Ember.get;Ember.Handlebars.registerHelper("yield",function(a){for(var b=a.data.view;b&&!Wd(b,"layout");)b=Wd(b,"parentView");Ember.assert("You called yield in a template that was not a layout",
!!b);(b=Wd(b,"template"))&&b(this,a)});Ember.Handlebars.registerHelper("outlet",function(a,b){if(a&&a.data&&a.data.isRenderData){b=a;a="view"}b.hash.currentViewBinding="controller."+a;return Ember.Handlebars.helpers.view.call(this,Ember.ContainerView,b)});var ef=Ember.set;Ember.Checkbox=Ember.View.extend({classNames:["ember-checkbox"],tagName:"input",attributeBindings:["type","checked","disabled","tabindex"],type:"checkbox",checked:false,disabled:false,init:function(){this._super();this.on("change",
this,this._updateElementValue)},_updateElementValue:function(){ef(this,"checked",this.$().prop("checked"))}});var ff=Ember.set;Ember.TextSupport=Ember.Mixin.create({value:"",attributeBindings:["placeholder","disabled","maxlength","tabindex"],placeholder:null,disabled:false,maxlength:null,insertNewline:Ember.K,cancel:Ember.K,init:function(){this._super();this.on("focusOut",this,this._elementValueDidChange);this.on("change",this,this._elementValueDidChange);this.on("keyUp",this,this.interpretKeyEvents)},
interpretKeyEvents:function(a){var b=Ember.TextSupport.KEY_EVENTS[a.keyCode];this._elementValueDidChange();if(b)return this[b](a)},_elementValueDidChange:function(){ff(this,"value",this.$().val())}});Ember.TextSupport.KEY_EVENTS={13:"insertNewline",27:"cancel"};Ember.TextField=Ember.View.extend(Ember.TextSupport,{classNames:["ember-text-field"],tagName:"input",attributeBindings:["type","value","size"],value:"",type:"text",size:null});var sc=Ember.get,ud=Ember.set;Ember.Button=Ember.View.extend(Ember.TargetActionSupport,
{classNames:["ember-button"],classNameBindings:["isActive"],tagName:"button",propagateEvents:false,attributeBindings:["type","disabled","href","tabindex"],targetObject:Ember.computed(function(){var a=sc(this,"target"),b=sc(this,"context"),c=sc(this,"templateData");return typeof a!=="string"?a:Ember.Handlebars.getPath(b,a,{data:c})}).property("target").cacheable(),type:Ember.computed(function(a,b){var c=this.get("tagName");if(b!==void 0)this._type=b;if(this._type!==void 0)return this._type;if(c===
"input"||c==="button")return"button"}).property("tagName").cacheable(),disabled:false,href:Ember.computed(function(){return this.get("tagName")==="a"?"#":null}).property("tagName").cacheable(),mouseDown:function(){if(!sc(this,"disabled")){ud(this,"isActive",true);this._mouseEntered=this._mouseDown=true}return sc(this,"propagateEvents")},mouseLeave:function(){if(this._mouseDown){ud(this,"isActive",false);this._mouseEntered=false}},mouseEnter:function(){if(this._mouseDown){ud(this,"isActive",true);
this._mouseEntered=true}},mouseUp:function(){if(sc(this,"isActive")){this.triggerAction();ud(this,"isActive",false)}this._mouseEntered=this._mouseDown=false;return sc(this,"propagateEvents")},keyDown:function(a){(a.keyCode===13||a.keyCode===32)&&this.mouseDown()},keyUp:function(a){(a.keyCode===13||a.keyCode===32)&&this.mouseUp()},touchStart:function(a){return this.mouseDown(a)},touchEnd:function(a){return this.mouseUp(a)},init:function(){Ember.deprecate("Ember.Button is deprecated and will be removed from future releases. Consider using the `{{action}}` helper.");
this._super()}});var gf=Ember.get;Ember.TextArea=Ember.View.extend(Ember.TextSupport,{classNames:["ember-text-area"],tagName:"textarea",attributeBindings:["rows","cols"],rows:null,cols:null,_updateElementValue:Ember.observer(function(){var a=gf(this,"value"),b=this.$();b&&a!==b.val()&&b.val(a)},"value"),init:function(){this._super();this.on("didInsertElement",this,this._updateElementValue)}});Ember.TabContainerView=Ember.View.extend({init:function(){Ember.deprecate("Ember.TabContainerView is deprecated and will be removed from future releases.");
this._super()}});var ze=Ember.get;Ember.TabPaneView=Ember.View.extend({tabsContainer:Ember.computed(function(){return this.nearestInstanceOf(Ember.TabContainerView)}).property().safe_volatile(),isVisible:Ember.computed(function(){return ze(this,"viewName")===ze(this,"tabsContainer.currentView")}).property("tabsContainer.currentView").safe_volatile(),init:function(){Ember.deprecate("Ember.TabPaneView is deprecated and will be removed from future releases.");this._super()}});var hf=Ember.get,jf=Ember.setPath;
Ember.TabView=Ember.View.extend({tabsContainer:Ember.computed(function(){return this.nearestInstanceOf(Ember.TabContainerView)}).property().safe_volatile(),mouseUp:function(){jf(this,"tabsContainer.currentView",hf(this,"value"))},init:function(){Ember.deprecate("Ember.TabView is deprecated and will be removed from future releases.");this._super()}});var vd=Ember.set,la=Ember.get,Xd=Ember.EnumerableUtils.indexOf,kf=Ember.EnumerableUtils.indexesOf;Ember.Select=Ember.View.extend({tagName:"select",classNames:["ember-select"],
defaultTemplate:Ember.Handlebars.compile('{{#if view.prompt}}<option value>{{view.prompt}}</option>{{/if}}{{#each view.content}}{{view Ember.SelectOption contentBinding="this"}}{{/each}}'),attributeBindings:["multiple","tabindex"],multiple:false,content:null,selection:null,value:Ember.computed(function(a,b){if(arguments.length===2)return b;var c=la(this,"optionValuePath").replace(/^content\.?/,"");return c?la(this,"selection."+c):la(this,"selection")}).property("selection").cacheable(),prompt:null,
optionLabelPath:"content",optionValuePath:"content",_change:function(){la(this,"multiple")?this._changeMultiple():this._changeSingle()},selectionDidChange:Ember.observer(function(){var a=la(this,"selection"),b=Ember.isArray(a);la(this,"multiple")?b?this._selectionDidChangeMultiple():vd(this,"selection",Ember.A([a])):this._selectionDidChangeSingle()},"selection"),valueDidChange:Ember.observer(function(){var a=la(this,"content"),b=la(this,"value"),c=la(this,"optionValuePath").replace(/^content\.?/,
""),d=c?la(this,"selection."+c):la(this,"selection");if(b!==d){a=a.find(function(a){return b===(c?la(a,c):a)});this.set("selection",a)}},"value"),_triggerChange:function(){la(this,"selection")&&this.selectionDidChange();this._change()},_changeSingle:function(){var a=this.$()[0].selectedIndex,b=la(this,"content"),c=la(this,"prompt");if(b)if(c&&a===0)vd(this,"selection",null);else{c&&(a=a-1);vd(this,"selection",b.objectAt(a))}},_changeMultiple:function(){var a=this.$("option:selected"),b=la(this,"prompt")?
1:0,c=la(this,"content");if(c&&a){a=a.map(function(){return this.index-b}).toArray();vd(this,"selection",c.objectsAt(a))}},_selectionDidChangeSingle:function(){var a=this.get("element");if(a){var b=la(this,"content"),c=la(this,"selection"),b=b?Xd(b,c):-1;la(this,"prompt")&&(b=b+1);if(a)a.selectedIndex=b}},_selectionDidChangeMultiple:function(){var a=la(this,"content"),b=la(this,"selection"),c=a?kf(a,b):[-1],d=la(this,"prompt")?1:0,a=this.$("option"),e;a&&a.each(function(){e=this.index>-1?this.index+
d:-1;this.selected=Xd(c,e)>-1})},init:function(){this._super();this.on("didInsertElement",this,this._triggerChange);this.on("change",this,this._change)}});Ember.SelectOption=Ember.View.extend({tagName:"option",attributeBindings:["value","selected"],defaultTemplate:function(a,b){b={data:b.data,hash:{}};Ember.Handlebars.helpers.bind.call(a,"view.label",b)},init:function(){this.labelPathDidChange();this.valuePathDidChange();this._super()},selected:Ember.computed(function(){var a=la(this,"content"),b=
la(this,"parentView.selection");return la(this,"parentView.multiple")?b&&Xd(b,a)>-1:a==b}).property("content","parentView.selection").safe_volatile(),labelPathDidChange:Ember.observer(function(){var a=la(this,"parentView.optionLabelPath");a&&Ember.defineProperty(this,"label",Ember.computed(function(){return la(this,a)}).property(a).cacheable())},"parentView.optionLabelPath"),valuePathDidChange:Ember.observer(function(){var a=la(this,"parentView.optionValuePath");a&&Ember.defineProperty(this,"value",
Ember.computed(function(){return la(this,a)}).property(a).cacheable())},"parentView.optionValuePath")});var Ae=function(){Ember.Handlebars.bootstrap(Ember.$(document))};Ember.Handlebars.bootstrap=function(a){Ember.$('script[type="text/x-handlebars"], script[type="text/x-raw-handlebars"]',a).each(function(){var a=Ember.$(this);a.attr("type");var b=a.attr("type")==="text/x-raw-handlebars"?Ember.$.proxy(Handlebars.compile,Handlebars):Ember.$.proxy(Ember.Handlebars.compile,Ember.Handlebars),c=a.attr("data-template-name")||
a.attr("id"),b=b(a.html()),d;if(c){Ember.TEMPLATES[c]=b;a.remove()}else{if(a.parents("head").length!==0)throw new Ember.Error("Template found in <head> without a name specified. Please provide a data-template-name attribute.\n"+a.html());c=(c=a.attr("data-view"))?Ember.get(c):Ember.View;d=a.attr("data-element-id");b={template:b};if(d)b.elementId=d;c=c.create(b);c._insertElementLater(function(){a.replaceWith(this.$());a=null})}})};Ember.$(document).ready(Ae);Ember.onLoad("application",Ae);return Ember});
define("bridge/ember",["lib/ember-1.0.pre"],function(a){return a});define("simplekey/App3",["bridge/ember"],function(a){return App3=a.Application.create()});
define("simplekey/Filter",["bridge/ember","bridge/underscore"],function(a,b){return a.Object.extend({init:function(){var a=this.slug,a=a.indexOf("length")>-1||a.indexOf("width")>-1||a.indexOf("height")>-1||a.indexOf("thickness")>-1||a.indexOf("diameter")>-1;this.set("is_length",a);this.set("value",null);this.set("values",null);this.set("choicemap",{})},install_values:function(a){var c=b.filter(a.values,function(c){c.taxa=b.intersect(c.taxa,a.pile_taxa);return c.taxa.length}),e=[],h={};b.each(c,function(a){e=
b.union(e,a.taxa);a.choice&&(h[a.choice]=a)});this.set("values",c);this.set("choicemap",h);this.set("valueless_taxa",b.difference(a.pile_taxa,e))},taxa_matching:function(a){arguments.length==0&&(a=this.get("value"));if(this.value_type==="TEXT")return this.choicemap[a].taxa;if(this.value_type==="LENGTH"){var c=b.filter(this.values,function(b){return b.min==0&&b.max==0?false:a>=b.min&&a<=b.max});return b.uniq(b.flatten(b.pluck(c,"taxa")))}console.log("Error: unknown value_type",this.value_type)},allowed_ranges:function(a){var c=
[];b.each(this.values,function(e){var h=e.min,f=e.max;if(!(h===null||f===null)&&!(h===0&&f===0)&&b.intersect(a,e.taxa).length!=0){var o;for(o=0;o<c.length&&c[o].max<e.min;o++);for(;o<c.length&&h<=c[o].max&&c[o].min<=f;){h=Math.min(c[o].min,h);f=Math.max(c[o].max,f);c.splice(o,1)}c.splice(o,0,{min:h,max:f})}});return c}})});
define("simplekey/FilterController",["bridge/ember","bridge/jquery","bridge/underscore","simplekey/Filter"],function(a,b,d,c){return a.ArrayController.extend({init:function(){var a=this.taxadata;delete this.taxadata;this.set("content",[]);this.set("filtermap",{});this.set("pile_taxa",d.sortBy(d.pluck(a,"id"),this.numsort));this.build_classification_filter("family",a);this.build_classification_filter("genus",a);this.update()},build_classification_filter:function(a,b){var f=c.create({slug:a,value_type:"TEXT"}),
o=d.chain(b).groupBy(a).map(function(a,b){return{choice:b,taxa:d.pluck(a,"id")}}).value();f.install_values({pile_taxa:this.pile_taxa,values:o});this.add(f)},add:function(a){this.addObject(a);this.get("filtermap")[a.slug]=a},compute:function(a){var b=this.get("pile_taxa");this.forEach(function(c){if(c!==a&&c.value!==null&&c.value!=""){c=c.taxa_matching().concat(c.valueless_taxa);b=d.intersect(b,c)}});return d.sortBy(b,this.numsort)},update:function(){this.set("taxa",this.compute())}.observes("@each.value"),
numsort:function(a,b){return a-b}})});
define("lib/jquery.animate-colors",["bridge/jquery"],function(){var a=jQuery,b=function(b,c,d){var o="rgb"+(a.support.rgba?"a":"")+"("+parseInt(b[0]+d*(c[0]-b[0]),10)+","+parseInt(b[1]+d*(c[1]-b[1]),10)+","+parseInt(b[2]+d*(c[2]-b[2]),10);a.support.rgba&&(o=o+(","+(b&&c?parseFloat(b[3]+d*(c[3]-b[3])):1)));return o+")"},d=function(a){var b,c;if(b=/#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})/.exec(a))c=[parseInt(b[1],16),parseInt(b[2],16),parseInt(b[3],16),1];else if(b=/#([0-9a-fA-F])([0-9a-fA-F])([0-9a-fA-F])/.exec(a))c=
[parseInt(b[1],16)*17,parseInt(b[2],16)*17,parseInt(b[3],16)*17,1];else if(b=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(a))c=[parseInt(b[1]),parseInt(b[2]),parseInt(b[3]),1];else if(b=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9\.]*)\s*\)/.exec(a))c=[parseInt(b[1],10),parseInt(b[2],10),parseInt(b[3],10),parseFloat(b[4])];return c};a.extend(true,a,{support:{rgba:function(){var b=a("script:first"),c=b.css("color"),d=false;if(/^rgba/.test(c))d=
true;else try{d=c!=b.css("color","rgba(0, 0, 0, 0.5)").css("color");b.css("color",c)}catch(o){}return d}()}});var c=["color","backgroundColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","outlineColor"];a.each(c,function(c,h){a.fx.step[h]=function(c){if(!c.init){c.begin=d(a(c.elem).css(h));c.end=d(c.end);c.init=true}c.elem.style[h]=b(c.begin,c.end,c.pos)}});a.fx.step.borderColor=function(e){if(!e.init)e.end=d(e.end);var h=c.slice(2,6);a.each(h,function(c,h){e.init||(e[h]=
{begin:d(a(e.elem).css(h))});e.elem.style[h]=b(e[h].begin,e.end,e.pos)});e.init=true}});define("bridge/jquery.animate-colors",["lib/jquery.animate-colors"],function(){});define("simplekey/animation",["bridge/jquery","bridge/jquery.animate-colors"],function(){return{bright_change:function(a,b){var b=b||{},d=b.end_color||"#fff",c=b.duration||3E3;a.css("background-color",b.start_color||"#ff0");a.animate({backgroundColor:d},c,"linear",function(){a.attr("style","").removeAttr("style")})}}});
define("simplekey/ResultsPageState",["bridge/ember"],function(a){return a.Object.extend({init:function(){var a=this.hash||"",d=this.filter_names||[],c=this.filter_values||[],e=this.image_type||"",h=this.tab_view||"";delete this.hash;delete this.filter_names;delete this.filter_values;delete this.image_type;delete this.tab_view;a[0]==="#"&&(a=a.substr(1));this.set("_hash",a);this.set("_filter_names",d);this.set("_filter_values",c);this.set("_image_type",e);this.set("_tab_view",h)},hash_has_filters:function(){return this._hash.indexOf("_filters=")>
-1},filter_names:function(){var a=[],d,c,e=this._hash.split("&");for(c=0;c<e.length;c=c+1)if(e[c].indexOf("_filters=")>-1){d=e[c];break}if(d){d=d.split("=")[1];a=d.split(",")}return a},filter_values:function(){var a={},d,c=decodeURIComponent(this._hash).split("&"),e;for(d=0;d<c.length;d=d+1){e=c[d].split("=");e[0][0]!=="_"&&(a[e[0]]=e[1])}return a},_parameter_from_hash:function(a){var d,c,e=this._hash.split("&");d="_"+a;for(a=0;a<e.length;a=a+1)if(e[a].indexOf(d)>-1){c=e[a].split("=")[1];break}return c},
tab_view:function(){return this._parameter_from_hash("view")},image_type:function(){return this._parameter_from_hash("show")},hash:function(){var a="#_filters=",d,c;for(d=0;d<this._filter_names.length;d=d+1){d>0&&(a=a+",");a=a+this._filter_names[d]}for(c in this._filter_values)this._filter_values.hasOwnProperty(c)&&(a=a+("&"+c+"="+encodeURIComponent(this._filter_values[c])));a=a+("&_view="+this._tab_view);return a=a+("&_show="+this._image_type)}})});
define("simplekey/results_overlay",["util/document_is_ready","bridge/jquery","simplekey/resources"],function(a,b,d){return function(c,e,h){b.when(a,e,h).done(function(a,c,d){a=_.intersect(c[0].species,d);b(".number-of-species .number").html(a.length)});b.when(a,d.pile_characters(c,[])).done(function(a,c){b(".number-of-questions .number").html(c.length)});a.done(function(){if(!original_location_hash){b("#intro-overlay").overlay({mask:{color:b("body").css("background-color"),loadSpeed:500,opacity:0.5,
top:0},closeOnClick:true,load:true}).click(function(){b("#intro-overlay").data("overlay").close()});b("#exposeMask").css("position","fixed")}})}});
define("simplekey/results_photo_menu",[],function(){return{"woody-angiosperms":{"default":"plant form",omit:["additional features","comparison","stems"]},"woody-gymnosperms":{"default":"plant form",omit:["comparison"]},"non-thalloid-aquatic":{"default":"plant form",omit:["additional features","comparison","detail of leaf and/or divisions","flowers and fruits","leaf","leaves and auricles","ligules","shoots","sori","special features","spikelets","spore cones","spores","stems and sheaths","vegetative leaves"]},
"thalloid-aquatic":{"default":"plant form",omit:["comparison"]},carex:{"default":"plant form",omit:["comparison"]},poaceae:{"default":"plant form",omit:["comparison","flowers and fruits","stems"]},"remaining-graminoids":{"default":"plant form",omit:["comparison","leaves","special features","stems"]},"orchid-monocots":{"default":"flowers",omit:["comparison"]},"non-orchid-monocots":{"default":"flowers",omit:["comparison","flowers and fruits","special features","stems"]},monilophytes:{"default":"plant form",
omit:["comparison","flowers and fruits","inflorescences","stems"]},lycophytes:{"default":"plant form",omit:["comparison","flowers and fruits","inflorescences","leaves","stems"]},equisetaceae:{"default":"plant form",omit:["comparison"]},composites:{"default":"flowers",omit:["comparison"]},"remaining-non-monocots":{"default":"flowers",omit:["additional features","bark","comparison","flowers and fruits","inflorescences","special features","winter buds"]}}});
define("simplekey/utils",["bridge/jquery"],function(a){return Object.create({notify:function(b){var d=a("#notification-msg");d.length===0&&(d=a('<div class="hidden" id="notification-msg"></div>').appendTo("body"));d.html(b);var c=a(window),b=c.width()/2-d.width()/2,c=c.scrollTop();d.css({position:"absolute",top:c+"px",left:b+"px"});d.removeClass("hidden");d.fadeIn(1E3);setTimeout(function(){d.fadeOut()},5E3)},clone:function(a,d){var c=a instanceof Array?[]:{};for(i in a)c[i]=a[i];if(d!==void 0)for(var e in d)d.hasOwnProperty(e)&&
(c[e]=d[e]);return c},pretty_length:function(a,d,c){c===void 0&&(c=true);var e=parseFloat(d);isNaN(e)&&console.log("gobotany.utils.pretty_length: "+d+" is not a number");d="";if(a=="mm")d=e.toFixed(2);else if(a==="cm")d=(e/10).toFixed(2);else if(a==="m")d=(e/1E3).toFixed(2);else{a="in";inches=e/25.4;feet=Math.floor(inches/12);inches=inches%12;feet>0&&(d=d+(feet+"\u00a0ft\u00a0"));e=Math.floor(inches);e>0&&(d=d+e);var h=Math.floor(inches%1*8);h>0&&(d=d+" \u215b\u00bc\u215c\u00bd\u215d\u00be\u215e"[h]);
e===0&&h===0&&(d=d+"0")}d.indexOf(".00",d.length-3)!==-1?d=d.substring(0,d.length-3):d.indexOf(".0",d.length-2)!==-1?d=d.substring(0,d.length-2):/\d?\.\d+0/.test(d)&&(d=d.substring(0,d.length-1));c&&(d=d+("\u00a0"+a));return d},convert:function(a,d,c){a=parseFloat(a);isNaN(a)&&console.log("gobotany.utils.convert: "+a+" is not a number");d!==c&&(d==="cm"&&c==="mm"?a=a*10:d==="mm"&&c==="cm"?a=a/10:console.log("gobotany.utils.convert: unknown conversion, returning original value"));return a},click_link:function(a){if(document.createEvent){var d=
document.createEvent("MouseEvents");d.initMouseEvent("click",true,true,window,0,0,0,0,0,false,false,false,false,0,null);a.dispatchEvent(d)}else a.fireEvent&&a.fireEvent("onclick")}})});
define("simplekey/SpeciesSection","bridge/jquery bridge/shadowbox bridge/underscore simplekey/App3 simplekey/resources simplekey/results_photo_menu simplekey/utils util/glossarizer util/lazy_images util/sidebar".split(" "),function(a,b,d,c,e,h,f,o,k,s){var B=function(){},r=o.glossarize,o=B.prototype={};o.init=function(b,c){this.pile_slug=b;this.plant_list=a("#main .plant-list");this.plant_data=[];this.plant_divs=[];this.plant_divs_ready=c;e.pile_species(b).done(a.proxy(this,"create_plant_divs"))};
o.default_image=function(a){for(var b=0;b<a.images.length;b=b+1){var c=a.images[b];if(c.rank===1&&c.type==="habit")return c}return{}};o.connect_plant_preview_popup=function(c,d){a(c).click(a.proxy(function(h){h.preventDefault();var k=/^habitat|habitat_general|state_distribution$/,h=d.scientific_name+" <span>"+d.common_name+"</span>";a("#plant-detail-modal h3").html(h);a.when(e.taxon_info(d.scientific_name),e.pile(this.pile_slug)).done(function(e,h){a("#plant-detail-modal div.details p.facts").html(e.factoid);
var o=a("#plant-detail-modal .details .characteristics");o.empty();for(var s=h.plant_preview_characters,n=0,u=0;u<s.length;u++){var B=s[u];if(B.partner_site===gobotany_sk_partner_site){var C="",t=e[B.character_short_name];if(t!==void 0&&t!==null){C=t;if(B.value_type==="LENGTH"){C=t[1];t=f.convert(t[0],B.unit,"mm");C=f.convert(C,B.unit,"mm");C=f.pretty_length(B.unit,t,false)+"&#8211;"+f.pretty_length(B.unit,C)}else if(typeof C!=="string"){t=k.test(B.character_short_name);C=z(C,t)}}if(C!==void 0&&C!==
""){o.append(a("<dl>").append(a("<dt>",{html:B.friendly_name}),a("<dd>").append(C)));n=n+1;if(n>=6)break}}}u=window.location.href.indexOf("/full/")>-1?"full":"simple";o=d.url;u==="full"&&(o=o+"&key=full");a("#plant-detail-modal a.go-to-species-page").attr("href",o);o="";s=a("img",c).attr("src");s!==void 0&&(s=s.substr(s.lastIndexOf("/")+1));n=a("div.missing-image",c).length?true:false;for(u=0;u<e.images.length;u++){B=e.images[u];C='<img src="'+B.large_thumb_url+'" alt="'+B.title+'">';B=B.large_thumb_url;
B=B.substr(B.lastIndexOf("/")+1);o=s===B&&!n?C+o:o+C}a("#plant-detail-modal div.images").html(o);u=a("#plant-detail-modal")[0];a(window).width()<=600?window.location.href=d.url:b.open({content:u.innerHTML,player:"html",height:520,width:935,options:{handleOversize:"resize",onFinish:function(){var b=a("#sb-container"),c=b.find("p, dt, dd, li");b.find(".img-container").scrollable();r(c)}}})})},this))};o.get_number_of_rows_to_span=function(a,b){var c=1,d;for(d=b;d<a.length;d=d+1)if(d===a.length-1||a[d].genus!==
a[d+1].genus)break;else c=c+1;return c};o.get_image=function(a,b){for(var c=a.images,d=0;d<c.length;d++)if(c[d].type==b)return c[d];return c[0]};o.display_in_list_view=function(c){a(".plant.in-results").removeClass("in-results");a(".plant-list table").remove();var d='<caption class="hidden">List of matching plants</caption><tr class="hidden"><th>Genus</th><th>Scientific Name</th><th>Common Name</th><th>Details</th></tr>',e;for(e=0;e<c.length;e=e+1){var d=e>0?d+"<tr>":d+'<tr class="first-visible">',
f=c[e];if(e===0||f.genus!==c[e-1].genus)var h=this.get_number_of_rows_to_span(c,e),d=d+('<td class="genus" rowspan="'+String(h)+'">Genus: '+f.genus+"</td>");d=d+'<td class="scientific-name">';h=this.get_image(f,"habit");h!==void 0&&(d=d+('<a href="'+h.large_thumb_url+'" title="Photo"><img src="/static/images/icons/icon-camera.png" alt=""></a>'));d=d+(f.scientific_name+"</td>");d=d+('<td class="common-name">'+f.common_name+"</td>");d=d+('<td class="details"><a href="'+f.url+'">Details</a></td>');d=
d+"</tr>"}a("<table>",{html:d}).appendTo(this.plant_list);a(".plant-list").removeAttr("style");s.set_height();b.setup(".plant-list table td.scientific-name a",{title:""})};o.create_plant_divs=function(b){for(var b=b.sort(function(a,b){return a.scientific_name<b.scientific_name?-1:1}),c=0;c<b.length;c++){var d=b[c],e=a("<div>",{"class":"plant"}).appendTo(this.plant_list),f=a("<a>",{href:d.url}).appendTo(e);a("<div>",{"class":"frame"}).appendTo(f);var h=a("<div>",{"class":"plant-img-container"}).appendTo(f),
h=a("<img>",{alt:""}).appendTo(h);h.attr("x-plant-id",d.scientific_name);var k=this.default_image(d).thumb_url;k&&h.attr("data-lazy-img-src",k);h='<span class="latin">'+d.scientific_name+"</span>";d.common_name&&(h=h+(" "+d.common_name));a("<p>",{"class":"plant-name",html:h}).appendTo(f);this.connect_plant_preview_popup(f,d);this.plant_data.push(d);this.plant_divs.push(e)}this.plant_divs_ready.resolve()};o.display_in_grid_view=function(b){a(".plant-list table").remove();for(var c={},d=0;d<b.length;d++)c[b[d].id]=
1;for(var e=[],f=[],d=b=0;d<this.plant_divs.length;d++){var h=this.plant_data[d],o=this.plant_divs[d];if(c[h.id]===1){e.push(h);f.push(o);var h=178*(b%4),r=232*Math.floor(b/4),b=b+1;o.removeClass("genus_alt");o.removeClass("genus_join_left");o.removeClass("genus_join_right");if(o.hasClass("in-results"))o.animate({left:h,top:r});else{o.addClass("in-results");o.css({left:2800,top:r});o.animate({left:h})}}else o.removeClass("in-results")}this.plant_list.animate({height:r+232},function(){s.set_height();
k.load();for(var a=false,b=e[0],c=0;c<e.length;c++){var d=f[c];a&&d.addClass("genus_alt");if(c<e.length-1){var h=b.genus,b=e[c+1];if(b.genus===h){if(c%4!=3){d.addClass("genus_join_right");f[c+1].addClass("genus_join_left")}}else a=!a}}})};o.display_results=function(){query_results=c.filtered_sorted_taxadata;this.plant_list.find(".wait").remove();if(c.show_list)this.display_in_list_view(query_results);else if(c.show_grid){this.display_in_grid_view(query_results);this.populate_image_types(query_results);
k.load()}a(".list-all").removeClass("hidden")};o.populate_image_types=function(a){var b=h[this.pile_slug],a=d.flatten(d.pluck(a,"images")),a=d.uniq(d.pluck(a,"type")),a=d.difference(a,b.omit);a.sort();if(!d.isEqual(c.image_types.get("content"),a)){c.image_types.set("content",a);var e=c.get("image_type");if(a.indexOf(e)===-1){b=b["default"];a.indexOf(b)===-1&&(b=a[0]);c.set("image_type",b)}}};var z=function(b,c){if(typeof b==="string")return b;var e=a("<ul>");c&&e.addClass("compact");var f=null;d.each(b,
function(b){f=a("<li>",{html:b}).appendTo(e)});f!==null&&f.addClass("last");return e};return B});
define("simplekey/Choice","bridge/jquery bridge/underscore simplekey/App3 simplekey/utils util/glossarizer util/tooltip".split(" "),function(a,b,d,c,e){var h=e.glossarize,f=function(a){return a===void 0?"don't know":a.friendly_text?a.friendly_text:a.choice==="NA"?"doesn't apply":a.choice?a.choice:"don't know"},o=function(a,b){var c=a.friendly_text.toLowerCase(),d=b.friendly_text.toLowerCase(),e=a.choice.toLowerCase(),f=b.choice.toLowerCase(),h=parseInt(c,10),o=parseInt(d,10);if(!isNaN(h)&&!isNaN(o))return h-
o;h=parseInt(e,10);o=parseInt(f,10);return!isNaN(h)&&!isNaN(o)?h-o:e==="na"?1:f==="na"||c<d?-1:c>d?1:e<f?-1:e>f?1:0},e=function(){};e.prototype={};e.prototype.init=function(a){this.div=a.div;this.div_map=null;this.filter=a.filter;this._draw_basics(a.y);this._draw_specifics();this._on_filter_change()};e.prototype.clear=function(){a("input",this.div_map[""]).prop("checked",true)};e.prototype.dismiss=function(b){b&&b.preventDefault();a(".close",this.div).unbind();a(".apply-btn",this.div).unbind();a(this.div).hide();
a(".option-list li").removeClass("active")};e.prototype._draw_basics=function(b){var c=a(this.div),d=this.filter;h(a("h4").html(d.info.question));a("h4").css("display","block");h(a(".hint").html(d.info.hint?"<p>"+d.info.hint+"</p>":d.info.hint));a(".info").css("display","block");if(d.info.image_url){d='<img id="'+this._get_image_id_from_path(d.info.image_url)+'" src="'+d.info.image_url+'" alt="character illustration">';c.find(".character-drawing").html(d).css({display:"block"})}else c.find(".character-drawing").html("").css({display:"none"});
c.css("top",b+"px").slideDown("fast");a(".close",this.div).bind("click",a.proxy(this,"dismiss"));a(".apply-btn",this.div).bind("click",a.proxy(this,"_apply_button_clicked"))};e.prototype._draw_specifics=function(){var b=this.filter,d=a("div.working-area .values");d.empty().addClass("multiple").removeClass("numeric");var e=c.clone(b.values);e.sort(o);var r=a("<div>",{"class":"choices"}).appendTo(d),z=a("<div>",{"class":"row"}).appendTo(r),v='<div><label><input name="char_name"'+(b.value===null?" checked":
"")+' type="radio" value=""> '+f()+"</label></div>";this.div_map={};this.div_map[""]=a(v).appendTo(z)[0];var w=1;for(i=0;i<e.length;i++){var u=e[i],v='<div><label><input name="char_name" type="radio"'+(b.value===u.choice?" checked":"")+' value="'+u.choice+'">',P=u.image_url;if(P.length>0)var I=this._get_image_id_from_path(P),v=v+('<img id="'+I+'" src="'+P+'" alt="drawing showing '+u.friendly_text+'"><br>');v=v+(' <span class="label">'+f(u)+'</span> <span class="count">(n)</span></label></div>');w%
5===0&&(z=a("<div>",{"class":"row"}).appendTo(r));w=w+1;v=a(v).appendTo(z)[0];this.div_map[u.choice]=v;if(P.length>0){u='<img class="char-value-larger" id="'+I+'" src="'+P+'" alt="drawing showing '+u.friendly_text+'">';a("#"+I).tooltip({content:u,width:"auto"})}h(a("span.label",v))}d.find("input").bind("click",a.proxy(this,"_on_choice_change"));this._on_choice_change()};e.prototype._current_value=function(){return a("input:checked",this.div).attr("value")||null};e.prototype._on_choice_change=function(){var b=
a(".apply-btn",this.div);this._current_value()===this.filter.value?b.addClass("disabled"):b.removeClass("disabled")};e.prototype._get_image_id_from_path=function(a){var b=a.lastIndexOf("/"),c=a.indexOf(".",b);return a.substring(b+1,c)};e.prototype._on_filter_change=function(){var c=d.filter_controller.compute(this.filter),e=this.div_map;b.map(this.filter.values,function(d){var f=b.intersect(d.taxa,c).length,d=e[d.choice];a(".count",d).html("("+f+")");var h=a("input",d);if(f===0){a(d).addClass("disabled");
h.attr("disabled","disabled")}else{a(d).removeClass("disabled");h.attr("disabled",false)}})};e.prototype._apply_button_clicked=function(){var b=a(".apply-btn");if(b.hasClass("disabled"))return false;b.removeClass("disabled");this._apply_filter_value();this.dismiss();return false};e.prototype._apply_filter_value=function(){var a=this._current_value();a!==null&&this.filter.taxa_matching(a).length==0||this.filter.set("value",a)};return e});
define("util/slider",["bridge/jquery"],function(a){var b=function(b,c){this.container_element=b;this.options=a.extend({},this.defaults,c);this.is_pressed=false;this.is_touch=navigator.userAgent.match(/(iPad|iPod|iPhone|Android)/)?true:false;this.value=this.thumb_width=this.pixels_per_value=this.number_of_segments=this.bar_width=this.bar_min_left=this.bar_max_left=this.bar_left_offset=null;this.init()};b.prototype={defaults:{bar_left_offset_adjust:3,id:"gb-slider",initial_value:0,maximum:100,minimum:0,
orientation:"horizontal",thumb_adjust:15},build_slider:function(){var b=a('<div id="'+this.options.id+'"><div class="bar"><div></div></div><div class="thumb"><div class="label"></div></div></div>');a(this.container_element).append(b)},position_for_value:function(a){return Math.floor(a*this.pixels_per_value)+this.options.bar_left_offset_adjust},value_for_position:function(a){return Math.floor((a+this.thumb_width/2)/this.pixels_per_value)},set_thumb:function(b,c){if(b<this.bar_min_left&&b>=this.bar_min_left-
this.options.thumb_adjust)b=this.bar_min_left;else if(b>this.bar_max_left&&b<=this.bar_max_left+this.options.thumb_adjust)b=this.bar_max_left;if(b>=this.bar_min_left&&b<=this.bar_max_left){a(c).css({left:b});this.set_label(this.value_for_position(b))}},handle_press:function(a){this.is_pressed=true;a.preventDefault();a.stopPropagation()},handle_move:function(a,b){var e=a.pageX-this.bar_left_offset-this.thumb_width/2;if(this.is_pressed){this.set_thumb(e,b);a.stopPropagation();if(this.options.on_move&&
typeof this.options.on_move==="function")this.options.on_move()}},handle_release:function(){this.is_pressed=false},id_selector:function(){return"#"+this.options.id},set_label:function(b){var c=a(this.container_element).find(this.id_selector()+" .label")[0];a(c).html(b)},init:function(){var b=this;b.build_slider();this.value=this.options.initial_value;b.set_label(this.value);var c=a(this.container_element).find(b.id_selector()+" .bar")[0];this.bar_left_offset=a(c).offset().left;this.bar_width=a(c).width();
var e=a(this.container_element).find(b.id_selector()+" .thumb")[0];this.thumb_width=a(e).width();this.bar_min_left=0+this.options.bar_left_offset_adjust;this.bar_max_left=this.bar_width-this.thumb_width+this.options.bar_left_offset_adjust;this.number_of_segments=this.options.maximum-this.options.minimum+1;this.pixels_per_value=this.bar_width/this.number_of_segments;var h=b.position_for_value(this.value);b.set_thumb(h,e);if(this.is_touch)a(e).bind({"touchstart.Slider":function(){b.handle_press()},
"touchmove.Slider":function(a){a.preventDefault();b.handle_move(a.originalEvent,e)},"touchend.Slider":function(){b.handle_release()}});else{a(e).bind({"mousedown.Slider":function(a){b.handle_press(a)},"mousemove.Slider":function(a){a.preventDefault();b.handle_move(a.originalEvent,e)},"mouseup.Slider":function(){b.handle_release()}});a(c).bind({"mousedown.Slider.bar":function(a){b.handle_press(a);b.handle_move(a,e)},"mouseup.Slider.bar":function(){b.handle_release()}});a("body").unbind("mousemove.Slider");
a("body").unbind("mouseup.Slider");a("body").bind({"mousemove.Slider":function(a){b.handle_move(a,e)},"mouseup.Slider":function(){b.handle_release()}})}}};a.fn.slider=function(a){new b(this,a);return this}});
define("simplekey/Slider",["bridge/jquery","util/slider","simplekey/App3","simplekey/Choice"],function(a,b,d,c){b=function(){};b.prototype=new c;b.prototype.init=function(a){this.horizontal_slider=this.slider_container_node=null;c.prototype.init.call(this,a)};b.clear=function(){};b.dismiss=function(){this.slider_container_node&&a(this.slider_container_node).empty();this.horizontal_slider=this.slider_container_node=null;this.inherited(arguments)};b._compute_min_and_max=function(){var a=d.filter_controller.compute(this.filter),
a=this.filter.allowed_ranges(a);this.min=a[0].min;this.max=a[a.length-1].max};b._draw_specifics=function(){this._compute_min_and_max();var b=this.filter,c=Math.ceil((this.max-this.min+1)/2);b.value!==null&&(c=b.get("value"));b=a("div.working-area .values");b.addClass("multiple").removeClass("numeric").html("<label>Select a number between<br>"+this.min+" and "+this.max+"</label>");this.slider_container_node=b.append("<div></div>");this.horizontal_slider=a(this.slider_container_node).slider({id:"slider",
initial_value:c,maximum:this.max,minimum:this.min,on_move:a.proxy(this,"_value_changed")});this._value_changed()};b._current_value=function(){var b=a("#slider .label")[0];return a(b).html()};b._value_changed=function(){this._compute_min_and_max();var b=a(".apply-btn",this.div),c=this._current_value(),d=this.filter.get("value");c==d?b.addClass("disabled"):b.removeClass("disabled")};b._on_filter_change=function(){};return b});
define("simplekey/Length",["bridge/jquery","bridge/underscore","simplekey/App3","simplekey/Choice"],function(a,b,d,c){var e={mm:1,cm:10,m:1E3,"in":25.4,ft:304.8},h=function(){};h.prototype=new c;h.prototype.init=function(a){this.permitted_ranges=[];this.species_vector=[];this.unit="mm";this.is_metric=true;this.factor=1;c.prototype.init.call(this,a)};h.prototype.clear=function(){};h.prototype._draw_specifics=function(){var b=a("div.working-area .values");this._set_unit(this.filter.display_units||"mm");
var c=this.unit,d=this.filter.get("value"),d=d===null?"":d/this.factor,e=function(a){return'<label><input name="units" type="radio" value="'+a+'"'+(a===c?" checked":"")+">"+a+"</label>"},h=function(a,b){return'<input class="'+a+'" name="'+a+'" type="text"'+(b?' value="'+d+'"':" disabled")+">"};b.empty().addClass("numeric").removeClass("multiple").html('<div class="permitted_ranges"></div><div class="current_length"></div><div class="measurement">Metric length: '+h("measure_metric",this.is_metric)+
e("mm")+e("cm")+e("m")+'</div><div class="measurement">English length: '+h("measure_english",!this.is_metric)+e("in")+e("ft")+'</div><div class="instructions"></div>');b.find('[name="units"]').bind("change",a.proxy(this,"_unit_changed"));b.find('[type="text"]').bind("change",a.proxy(this,"_measure_changed"));b.find('[type="text"]').bind("keyup",a.proxy(this,"_key_pressed"))};h.prototype._key_pressed=function(a){a.keyCode==10||a.keyCode==13?this._apply_filter_value():this._measure_changed()};h.prototype._parse_value=
function(a){a=parseFloat(a);return isNaN(a)?null:a};h.prototype._current_value=function(){var b=a(this.is_metric?'[name="measure_metric"]':'[name="measure_english"]',this.div).attr("value"),b=this._parse_value(b);return b===null?null:b*this.factor};h.prototype._set_unit=function(a){this.unit=a;this.factor=e[this.unit];this.is_metric=/m$/.test(this.unit)};h.prototype._unit_changed=function(b){this._set_unit(b.target.value);a(".measure_metric").prop("disabled",!this.is_metric);a(".measure_english").prop("disabled",
this.is_metric);this._redraw_permitted_ranges();this._measure_changed()};h.prototype._measure_changed=function(){var c=this._current_value(),d=this._parse_value(this.filter.get("value")),e=this.filter.taxa_matching(c),e=b.intersect(e,this.species_vector),h=a(".instructions",this.div),B=a(".apply-btn",this.div);if(d===c){instructions="Change the value to narrow your selection to a new set of matching species.";B.addClass("disabled")}else if(e.length>0){instructions="Press \u201cApply\u201d to narrow your selection to the "+
e.length+" matching species.";B.removeClass("disabled")}else{instructions="";B.addClass("disabled")}h.html(instructions);this.filter.display_units=this.unit};h.prototype._redraw_permitted_ranges=function(){for(var b="Please enter a measurement in the range ",c=function(a,b){var c=Math.pow(10,b||0);return String(Math.round(a*c)/c)},d=0;d<this.permitted_ranges.length;d++){var e=this.permitted_ranges[d];d&&(b=b+" or ");b=b+(c(e.min/this.factor,2)+"&nbsp;"+this.unit+"&nbsp;\u2013&nbsp;"+c(e.max/this.factor,
2)+"&nbsp;"+this.unit)}a(".permitted_ranges",this.div).html(b)};h.prototype._on_filter_change=function(){var a=d.filter_controller.compute(this.filter);this.species_vector=a;this.permitted_ranges=this.filter.allowed_ranges(a);this._redraw_permitted_ranges();this._measure_changed()};return h});define("simplekey/working_area",["simplekey/Choice","simplekey/Slider","simplekey/Length"],function(a,b,d){return{select_working_area:function(c){return c.value_type=="TEXT"?a:c.is_length?d:b}}});
define("simplekey/results","util/document_is_ready bridge/jquery bridge/jquery.cookie bridge/jquery.jscrollpane bridge/ember bridge/shadowbox util/shadowbox_init bridge/underscore simplekey/App3 simplekey/Filter simplekey/FilterController simplekey/animation simplekey/resources simplekey/ResultsPageState simplekey/results_overlay simplekey/SpeciesSection simplekey/working_area simplekey/utils util/activate_image_gallery util/glossarizer util/lazy_images util/sidebar".split(" "),function(a,b,d,c,e,
h,f,o,k,s,B,r,z,v,w,u,P,I,A,Y,ga,n){return{results_page_init:function(c){var d=c.pile_slug;n.setup();var f=new u,t=b.Deferred();b.when(a,O,G).done(function(){f.init(d,Q);t.resolve()});k.set("show_grid",true);k.set("show_list",false);k.set("matching_species_count","Loading");k.image_types=e.ArrayProxy.create({content:[]});var A=b.Deferred(),g=b.Deferred(),O=b.Deferred(),x=b.Deferred(),q=b.Deferred(),E=z.pile_species(d),Q=b.Deferred(),G=b.Deferred();if(c.key=="simple")var da=z.key_vector("simple");
else{da=b.Deferred();q.done(function(a){da.resolve([{species:a}])})}E.done(function(a){q.resolve(o.pluck(a,"id"))});k.addObserver("image_type",function(){x.resolve()});w(d,da,q);k.taxa_by_sciname={};E.done(function(a){o.each(a,function(a){k.taxa_by_sciname[a.scientific_name]=a;G.resolve()})});z.pile(d).done(function(a){var c=b("ul.char-groups").empty();o.each(a.character_groups,function(a){c.append(b("<li>").append(b("<label>").append(b("<input>",{type:"checkbox",value:a.id})," "+a.name)))})});b.when(A,
da,E).done(function(a,c,d){var e=c[0].species,d=o.filter(d,function(a){return o.indexOf(e,a.id)!=-1});k.set("taxadata",d);c=B.create({taxadata:d,plain_filters:[],add:function(a){this._super(a);a.slug!="family"&&a.slug!="genus"&&this.plain_filters.addObject(a)}});k.set("family_filter",c.filtermap.family);k.set("genus_filter",c.filtermap.genus);c.filtermap.family.set("value",a.family_name);c.filtermap.genus.set("value",a.genus_name);o.each(a.other_filters,b.proxy(c.add,c));k.set("filter_controller",
c);g.resolve()});b.when(g,a).done(function(){b(".loading").hide()});var l=function(a){var b=k.filter_controller.compute(a),a=o.filter(a.values,function(a){return o.intersect(a.taxa,b).length}),a=o.pluck(a,"choice");a.sort();a.splice(0,0,"");return a};k.reopen({family_choices:function(){var a=[];k.family_filter&&(a=l(k.family_filter));return a}.property("filter_controller.taxa"),genus_choices:function(){var a=[];k.genus_filter&&(a=l(k.genus_filter));return a}.property("filter_controller.taxa"),family_value:function(a,
b){if(!k.family_filter)return"";if(arguments.length===1)return k.family_filter.get("value")||"";k.family_filter.set("value",b||null)}.property("family_filter.value"),genus_value:function(a,b){if(!k.genus_filter)return"";if(arguments.length===1)return k.genus_filter.get("value")||"";k.genus_filter.set("value",b||null)}.property("genus_filter.value")});b("#family_clear").live("click",function(){k.set("family_value","")});b("#genus_clear").live("click",function(){k.set("genus_value","")});var V=null,
Z=function(){if(V!==null){V.dismiss();V=null}};b(document).keydown(function(){if(event.which===27){event.preventDefault();Z()}});k.FilterView=e.View.extend({templateName:"filter-view",filterBinding:"content",classNameBindings:["answered"],elementId:function(){return this.content.slug}.property("content"),didInsertElement:function(){var a=this.get("elementId");Y.glossarize(b("#"+a+" span.name"))},answered:function(){return!!this.filter.value}.property("filter.value"),display_value:function(){var a=
this.get("filter"),b=a.get("value");return b===null?"":b==="NA"?"does not apply":a.value_type==="TEXT"?a.choicemap[b].friendly_text||b:a.is_length?I.pretty_length(a.display_units||"mm",b):b+""}.property("filter.value"),clear:function(){Z();this.filter.set("value",null)},click:function(a){if(!b(a.target).hasClass("clear-filter")){var c=this.get("filter"),a=b(a.target).closest("li");b(".option-list li .active").removeClass("active");a.addClass("active");var d=a.offset().top-15,a=z.character_vector(this.filter.slug);
b.when(q,a).done(function(a,e){c.install_values({pile_taxa:a,values:e});Z();V=new (P.select_working_area(c));V.init({div:b("div.working-area")[0],filter:c,y:d});n.set_height()})}}});b.when(a,g,t).done(function(){k.filters_view=e.CollectionView.create({tagName:"ul",classNames:["option-list"],contentBinding:"App3.filter_controller.plain_filters",itemViewClass:k.FilterView});k.filters_view.appendTo("#questions-go-here");k.species_view_tabs=e.View.create({templateName:"species-view-tabs",tagName:"ul",
choose_grid_view:function(){if(!k.show_grid){k.set("show_grid",true);k.set("show_list",false);f.display_results()}},choose_list_view:function(){if(!k.show_list){k.set("show_list",true);k.set("show_grid",false);f.display_results()}}});k.species_view_tabs.appendTo("#results-tabs");k.species_view_toggle=e.View.create({templateName:"species-view-toggle",tagName:"p",classNames:["list-all"],switch_species_view:function(){k.show_grid?k.species_view_tabs.choose_list_view():k.species_view_tabs.choose_grid_view()}});
k.species_view_toggle.appendTo("#main")});var R=null;b.when(a).done(function(){R=b(".scroll").bind("jsp-scroll-y",function(){Z()}).jScrollPane({maintainPosition:true,stickToBottom:true,verticalGutter:0,showArrows:true});setInterval(function(){V===null&&R.data("jsp").reinitialise()},500)});b.when(g,a).done(function(){b("#sidebar a.clear-all-btn").click(function(){Z();var a=k.filter_controller.get("plain_filters");o.each(a,function(a){a.set("value",null)});k.set("family_value","");k.set("genus_value",
"")})});var na=function(){var a=k.show_list?"list":"photos",c=k.get("image_type");if(c){var d=Object.keys(k.filter_controller.filtermap),e={},f;for(key in k.filter_controller.filtermap)if(k.filter_controller.filtermap.hasOwnProperty(key)){f=k.filter_controller.filtermap[key];if(f.value&&f.value.toString().length>0)e[key]=f.value}c=v.create({filter_names:d,filter_values:e,image_type:c,tab_view:a}).hash();a=true;window.location.hash===""&&(a=false);c=window.location.href.split("#")[0]+c;a?window.location.assign(c):
window.location.replace(c);b.cookie("last_plant_id_url",window.location.href,{path:"/"})}};g.done(function(){na();k.addObserver("filter_controller.@each.value",function(){na()});k.addObserver("image_type",function(){na()});k.addObserver("show_list",function(){na()})});if(window.location.hash!==""){var c=v.create({hash:window.location.hash}),Ea=c.filter_names(),W=c.filter_values(),E=c.image_type();if(E!==""){k.image_types.get("content").length===0&&k.image_types.set("content",[E]);k.set("image_type",
E)}c=c.tab_view()==="list"?true:false;k.set("show_grid",!c);k.set("show_list",c);b.when(z.pile(d),z.pile_characters(d)).done(function(a,c){var d={},e=c.concat(a.default_filters);o.each(e,function(a){d[a.short_name]=a});var e=o.pluck(a.default_filters,"short_name"),f=o.difference(Ea,e),e=e.concat(f),g=[],h={family_name:W.family||null,genus_name:W.genus||null,other_filters:[]};o.each(e,function(a){var c=d[a];if(typeof c!=="undefined"){var e=s.create({slug:c.short_name,value_type:c.value_type,info:c});
h.other_filters.push(e);if(o.has(W,a)){e.set("value",W[a]);var f=b.Deferred();g.push(f);b.when(q,z.character_vector(a)).done(function(a,b){e.install_values({pile_taxa:a,values:b});f.resolve()})}}});b.when.apply(this,g).done(function(){A.resolve(h)})})}else z.pile(d).done(function(a){var b={family_name:null,genus_name:null,other_filters:[]};o.each(a.default_filters,function(a){a=s.create({slug:a.short_name,value_type:a.value_type,info:a});b.other_filters.push(a)});A.resolve(b)});var ha=[];b.when(a).done(function(){b("#sidebar .get-choices").click(function(){Z();
h.open({content:b("#modal").html(),player:"html",height:450,options:{fadeDuration:0.1,onFinish:function(){b("#sb-container input").each(function(a,c){var d=b(c).val(),d=o.indexOf(ha,d)!=-1;b(c).prop("checked",d)});b("#sb-container a.get-choices").addClass("get-choices-ready")}}})})});b("#sb-container a.get-choices").live("click",function(){ha=[];b("#sb-container input").each(function(a,c){b(c).prop("checked")&&ha.push(b(c).val())});var a=[];o.each(k.filter_controller.content,function(b){a.push(b.slug)});
simplekey_resources.more_questions({pile_slug:d,species_ids:k.filter_controller.taxa,character_group_ids:ha,exclude_characters:a}).done(Fa);h.close()});var Fa=function(a){if(a.length===0)I.notify("No more questions left for the boxes checked");else{o.each(a,function(a){k.filter_controller.add(s.create({slug:a.short_name,value_type:a.value_type,info:a}))});e.run.next(function(){var c=b("#sidebar ul li"),c=c.slice(c.length-a.length);r.bright_change(c);R.data("jsp").reinitialise();R.data("jsp").scrollToPercentY(100,
true)});I.notify("More questions added")}};b(window).bind("hashchange",function(){var a=window.location.href,c=b.cookie("last_plant_id_url");if(c!==null){c===void 0&&(c="");a!==c&&window.location.reload()}});var Ia=function(a){k.set("matching_species_count",a.length);a=b(".species-count-heading > span");a.stop();r.bright_change(a,{end_color:"#F0F0C0",duration:2E3})},ka=function(){var a=k.get("image_type");a&&b("div.plant img").each(function(c,d){var e=b(d),f=e.attr("x-plant-id");if(f=o.find(k.taxa_by_sciname[f].images,
function(b){return b.type===a})){e.attr("data-lazy-img-src",f.thumb_url);e.attr("alt",f.title);e.find("+ div.missing-image").remove();e.css("display","inline")}else if(e.css("display")!=="none"){e.css("display","none");e.parent().append(b("<div>",{"class":"missing-image",html:"<p>Image not available yet</p>"}))}})};ga.start();k.reopen({run_filtered_sorted_taxadata:function(){var a=k.filter_controller.taxa,b=o.filter(k.taxadata,function(b){return o.indexOf(a,b.id)!=-1});b.sort(function(a,b){return a.scientific_name<
b.scientific_name?-1:1});k.set("filtered_sorted_taxadata",b);O.resolve();O.resolve()}.observes("filter_controller.taxa")});b.when(t,O,Q).done(function(){Ia(k.filtered_sorted_taxadata);f.display_results(k.filtered_sorted_taxadata);ka();ga.load();k.addObserver("filtered_sorted_taxadata",function(){Ia(k.filtered_sorted_taxadata);f.display_results(k.filtered_sorted_taxadata)});k.addObserver("image_type",function(){ka();ga.load()})})}}});
define("lib/jquery-ui-1.8.16.custom.min",["bridge/jquery"],function(){var a=jQuery;if(a.cleanData){var b=a.cleanData;a.cleanData=function(c){for(var d=0,h;(h=c[d])!=null;d++)try{a(h).triggerHandler("remove")}catch(f){}b(c)}}else{var d=a.fn.remove;a.fn.remove=function(b,e){return this.each(function(){e||(!b||a.filter(b,[this]).length)&&a("*",this).add([this]).each(function(){try{a(this).triggerHandler("remove")}catch(b){}});return d.call(a(this),b,e)})}}a.widget=function(b,d,h){var f=b.split(".")[0],
o,b=b.split(".")[1];o=f+"-"+b;if(!h){h=d;d=a.Widget}a.expr[":"][o]=function(d){return!!a.data(d,b)};a[f]=a[f]||{};a[f][b]=function(a,b){arguments.length&&this._createWidget(a,b)};d=new d;d.options=a.extend(true,{},d.options);a[f][b].prototype=a.extend(true,d,{namespace:f,widgetName:b,widgetEventPrefix:a[f][b].prototype.widgetEventPrefix||b,widgetBaseClass:o},h);a.widget.bridge(b,a[f][b])};a.widget.bridge=function(b,d){a.fn[b]=function(h){var f=typeof h==="string",o=Array.prototype.slice.call(arguments,
1),k=this,h=!f&&o.length?a.extend.apply(null,[true,h].concat(o)):h;if(f&&h.charAt(0)==="_")return k;f?this.each(function(){var d=a.data(this,b),e=d&&a.isFunction(d[h])?d[h].apply(d,o):d;if(e!==d&&e!==void 0){k=e;return false}}):this.each(function(){var f=a.data(this,b);f?f.option(h||{})._init():a.data(this,b,new d(h,this))});return k}};a.Widget=function(a,b){arguments.length&&this._createWidget(a,b)};a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:false},_createWidget:function(b,
d){a.data(d,this.widgetName,this);this.element=a(d);this.options=a.extend(true,{},this.options,this._getCreateOptions(),b);var h=this;this.element.bind("remove."+this.widgetName,function(){h.destroy()});this._create();this._trigger("create");this._init()},_getCreateOptions:function(){return a.metadata&&a.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName);this.widget().unbind("."+
this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled ui-state-disabled")},widget:function(){return this.element},option:function(b,d){var h=b;if(arguments.length===0)return a.extend({},this.options);if(typeof b==="string"){if(d===void 0)return this.options[b];h={};h[b]=d}this._setOptions(h);return this},_setOptions:function(b){var d=this;a.each(b,function(a,b){d._setOption(a,b)});return this},_setOption:function(a,b){this.options[a]=b;a==="disabled"&&this.widget()[b?
"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",b);return this},enable:function(){return this._setOption("disabled",false)},disable:function(){return this._setOption("disabled",true)},_trigger:function(b,d,h){var f=this.options[b],d=a.Event(d);d.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase();h=h||{};if(d.originalEvent)for(var b=a.event.props.length,o;b;){o=a.event.props[--b];d[o]=d.originalEvent[o]}this.element.trigger(d,
h);return!(a.isFunction(f)&&f.call(this.element[0],d,h)===false||d.isDefaultPrevented())}}});define("bridge/jquery-ui",["lib/jquery-ui-1.8.16.custom.min"],function(){});
define("lib/jquery.easing.1.3",["bridge/jquery"],function(){jQuery.easing.jswing=jQuery.easing.swing;jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(a,b,d,c,e){return jQuery.easing[jQuery.easing.def](a,b,d,c,e)},easeInQuad:function(a,b,d,c,e){return c*(b=b/e)*b+d},easeOutQuad:function(a,b,d,c,e){return-c*(b=b/e)*(b-2)+d},easeInOutQuad:function(a,b,d,c,e){return(b=b/(e/2))<1?c/2*b*b+d:-c/2*(--b*(b-2)-1)+d},easeInCubic:function(a,b,d,c,e){return c*(b=b/e)*b*b+d},easeOutCubic:function(a,
b,d,c,e){return c*((b=b/e-1)*b*b+1)+d},easeInOutCubic:function(a,b,d,c,e){return(b=b/(e/2))<1?c/2*b*b*b+d:c/2*((b=b-2)*b*b+2)+d},easeInQuart:function(a,b,d,c,e){return c*(b=b/e)*b*b*b+d},easeOutQuart:function(a,b,d,c,e){return-c*((b=b/e-1)*b*b*b-1)+d},easeInOutQuart:function(a,b,d,c,e){return(b=b/(e/2))<1?c/2*b*b*b*b+d:-c/2*((b=b-2)*b*b*b-2)+d},easeInQuint:function(a,b,d,c,e){return c*(b=b/e)*b*b*b*b+d},easeOutQuint:function(a,b,d,c,e){return c*((b=b/e-1)*b*b*b*b+1)+d},easeInOutQuint:function(a,b,
d,c,e){return(b=b/(e/2))<1?c/2*b*b*b*b*b+d:c/2*((b=b-2)*b*b*b*b+2)+d},easeInSine:function(a,b,d,c,e){return-c*Math.cos(b/e*(Math.PI/2))+c+d},easeOutSine:function(a,b,d,c,e){return c*Math.sin(b/e*(Math.PI/2))+d},easeInOutSine:function(a,b,d,c,e){return-c/2*(Math.cos(Math.PI*b/e)-1)+d},easeInExpo:function(a,b,d,c,e){return b==0?d:c*Math.pow(2,10*(b/e-1))+d},easeOutExpo:function(a,b,d,c,e){return b==e?d+c:c*(-Math.pow(2,-10*b/e)+1)+d},easeInOutExpo:function(a,b,d,c,e){return b==0?d:b==e?d+c:(b=b/(e/
2))<1?c/2*Math.pow(2,10*(b-1))+d:c/2*(-Math.pow(2,-10*--b)+2)+d},easeInCirc:function(a,b,d,c,e){return-c*(Math.sqrt(1-(b=b/e)*b)-1)+d},easeOutCirc:function(a,b,d,c,e){return c*Math.sqrt(1-(b=b/e-1)*b)+d},easeInOutCirc:function(a,b,d,c,e){return(b=b/(e/2))<1?-c/2*(Math.sqrt(1-b*b)-1)+d:c/2*(Math.sqrt(1-(b=b-2)*b)+1)+d},easeInElastic:function(a,b,d,c,e){var a=1.70158,h=0,f=c;if(b==0)return d;if((b=b/e)==1)return d+c;h||(h=e*0.3);if(f<Math.abs(c)){f=c;a=h/4}else a=h/(2*Math.PI)*Math.asin(c/f);return-(f*
Math.pow(2,10*(b=b-1))*Math.sin((b*e-a)*2*Math.PI/h))+d},easeOutElastic:function(a,b,d,c,e){var a=1.70158,h=0,f=c;if(b==0)return d;if((b=b/e)==1)return d+c;h||(h=e*0.3);if(f<Math.abs(c)){f=c;a=h/4}else a=h/(2*Math.PI)*Math.asin(c/f);return f*Math.pow(2,-10*b)*Math.sin((b*e-a)*2*Math.PI/h)+c+d},easeInOutElastic:function(a,b,d,c,e){var a=1.70158,h=0,f=c;if(b==0)return d;if((b=b/(e/2))==2)return d+c;h||(h=e*0.3*1.5);if(f<Math.abs(c)){f=c;a=h/4}else a=h/(2*Math.PI)*Math.asin(c/f);return b<1?-0.5*f*Math.pow(2,
10*(b=b-1))*Math.sin((b*e-a)*2*Math.PI/h)+d:f*Math.pow(2,-10*(b=b-1))*Math.sin((b*e-a)*2*Math.PI/h)*0.5+c+d},easeInBack:function(a,b,d,c,e,h){h==void 0&&(h=1.70158);return c*(b=b/e)*b*((h+1)*b-h)+d},easeOutBack:function(a,b,d,c,e,h){h==void 0&&(h=1.70158);return c*((b=b/e-1)*b*((h+1)*b+h)+1)+d},easeInOutBack:function(a,b,d,c,e,h){h==void 0&&(h=1.70158);return(b=b/(e/2))<1?c/2*b*b*(((h=h*1.525)+1)*b-h)+d:c/2*((b=b-2)*b*(((h=h*1.525)+1)*b+h)+2)+d},easeInBounce:function(a,b,d,c,e){return c-jQuery.easing.easeOutBounce(a,
e-b,0,c,e)+d},easeOutBounce:function(a,b,d,c,e){return(b=b/e)<1/2.75?c*7.5625*b*b+d:b<2/2.75?c*(7.5625*(b=b-1.5/2.75)*b+0.75)+d:b<2.5/2.75?c*(7.5625*(b=b-2.25/2.75)*b+0.9375)+d:c*(7.5625*(b=b-2.625/2.75)*b+0.984375)+d},easeInOutBounce:function(a,b,d,c,e){return b<e/2?jQuery.easing.easeInBounce(a,b*2,0,c,e)*0.5+d:jQuery.easing.easeOutBounce(a,b*2-e,0,c,e)*0.5+c*0.5+d}})});define("bridge/jquery.easing",["lib/jquery.easing.1.3"],function(){});
define("lib/jquery.smoothDivScroll-1.2-mod",["bridge/jquery","bridge/jquery-ui","bridge/jquery.mousewheel"],function(){var a=jQuery;a.widget("thomaskahn.smoothDivScroll",{options:{scrollingHotSpotLeftClass:"scrollingHotSpotLeft",scrollingHotSpotRightClass:"scrollingHotSpotRight",scrollableAreaClass:"scrollableArea",scrollWrapperClass:"scrollWrapper",hiddenOnStart:false,ajaxContentURL:"",countOnlyClass:"",startAtElementId:"",hotSpotScrolling:true,hotSpotScrollingStep:15,hotSpotScrollingInterval:10,
hotSpotMouseDownSpeedBooster:3,visibleHotSpotBackgrounds:"onstart",hotSpotsVisibleTime:5E3,easingAfterHotSpotScrolling:true,easingAfterHotSpotScrollingDistance:10,easingAfterHotSpotScrollingDuration:300,easingAfterHotSpotScrollingFunction:"easeOutQuart",mousewheelScrolling:false,mousewheelScrollingStep:70,easingAfterMouseWheelScrolling:true,easingAfterMouseWheelScrollingDuration:300,easingAfterMouseWheelScrollingFunction:"easeOutQuart",manualContinuousScrolling:false,autoScrollingMode:"",autoScrollingDirection:"endlessloopright",
autoScrollingStep:1,autoScrollingInterval:10,scrollToAnimationDuration:1E3,scrollToEasingFunction:"easeOutQuart"},_create:function(){var b=this,d=this.options,c=this.element;c.wrapInner("<div class='"+d.scrollableAreaClass+"'>").wrapInner("<div class='"+d.scrollWrapperClass+"'>");c.prepend("<div class='"+d.scrollingHotSpotLeftClass+"'></div><div class='"+d.scrollingHotSpotRightClass+"'></div>");c.data("scrollWrapper",c.find("."+d.scrollWrapperClass));c.data("scrollingHotSpotRight",c.find("."+d.scrollingHotSpotRightClass));
c.data("scrollingHotSpotLeft",c.find("."+d.scrollingHotSpotLeftClass));c.data("scrollableArea",c.find("."+d.scrollableAreaClass));c.data("speedBooster",1);c.data("scrollXPos",0);c.data("hotSpotWidth",c.data("scrollingHotSpotLeft").innerWidth());c.data("scrollableAreaWidth",0);c.data("startingPosition",0);c.data("rightScrollingInterval",null);c.data("leftScrollingInterval",null);c.data("autoScrollingInterval",null);c.data("hideHotSpotBackgroundsInterval",null);c.data("previousScrollLeft",0);c.data("pingPongDirection",
"right");c.data("getNextElementWidth",true);c.data("swapAt",null);c.data("startAtElementHasNotPassed",true);c.data("swappedElement",null);c.data("originalElements",c.data("scrollableArea").children(d.countOnlyClass));c.data("visible",true);c.data("enabled",true);c.data("scrollableAreaHeight",c.data("scrollableArea").height());c.data("scrollerOffset",c.offset());c.data("initialAjaxContentLoaded",false);c.data("scrollingHotSpotRight").bind("mousemove",function(a){a=a.pageX-(this.offsetLeft+c.data("scrollerOffset").left);
c.data("scrollXPos",Math.round(a/c.data("hotSpotWidth")*d.hotSpotScrollingStep));c.data("scrollXPos")===Infinity&&c.data("scrollXPos",0)});c.data("scrollingHotSpotRight").bind("mouseover",function(){c.data("scrollWrapper").stop(true,false);b.stopAutoScrolling();c.data("rightScrollingInterval",setInterval(function(){if(c.data("scrollXPos")>0&&c.data("enabled")){c.data("scrollWrapper").scrollLeft(c.data("scrollWrapper").scrollLeft()+c.data("scrollXPos")*c.data("speedBooster"));d.manualContinuousScrolling&&
b._checkContinuousSwapRight();b._showHideHotSpots()}},d.hotSpotScrollingInterval));b._trigger("mouseOverRightHotSpot")});c.data("scrollingHotSpotRight").bind("mouseout",function(){clearInterval(c.data("rightScrollingInterval"));c.data("scrollXPos",0);d.easingAfterHotSpotScrolling&&c.data("enabled")&&c.data("scrollWrapper").animate({scrollLeft:c.data("scrollWrapper").scrollLeft()+d.easingAfterHotSpotScrollingDistance},{duration:d.easingAfterHotSpotScrollingDuration,easing:d.easingAfterHotSpotScrollingFunction})});
c.data("scrollingHotSpotRight").bind("mousedown",function(){c.data("speedBooster",d.hotSpotMouseDownSpeedBooster)});a("body").bind("mouseup",function(){c.data("speedBooster",1)});c.data("scrollingHotSpotLeft").bind("mousemove",function(a){a=this.offsetLeft+c.data("scrollerOffset").left+c.data("hotSpotWidth")-a.pageX;c.data("scrollXPos",Math.round(a/c.data("hotSpotWidth")*d.hotSpotScrollingStep));c.data("scrollXPos")===Infinity&&c.data("scrollXPos",0)});c.data("scrollingHotSpotLeft").bind("mouseover",
function(){c.data("scrollWrapper").stop(true,false);b.stopAutoScrolling();c.data("leftScrollingInterval",setInterval(function(){if(c.data("scrollXPos")>0&&c.data("enabled")){c.data("scrollWrapper").scrollLeft(c.data("scrollWrapper").scrollLeft()-c.data("scrollXPos")*c.data("speedBooster"));d.manualContinuousScrolling&&b._checkContinuousSwapLeft();b._showHideHotSpots()}},d.hotSpotScrollingInterval));b._trigger("mouseOverLeftHotSpot")});c.data("scrollingHotSpotLeft").bind("mouseout",function(){clearInterval(c.data("leftScrollingInterval"));
c.data("scrollXPos",0);d.easingAfterHotSpotScrolling&&c.data("enabled")&&c.data("scrollWrapper").animate({scrollLeft:c.data("scrollWrapper").scrollLeft()-d.easingAfterHotSpotScrollingDistance},{duration:d.easingAfterHotSpotScrollingDuration,easing:d.easingAfterHotSpotScrollingFunction})});c.data("scrollingHotSpotLeft").bind("mousedown",function(){c.data("speedBooster",d.hotSpotMouseDownSpeedBooster)});c.data("scrollableArea").mousewheel(function(a,h){if(c.data("enabled")&&d.mousewheelScrolling){a.preventDefault();
b.stopAutoScrolling();var f=Math.round(d.mousewheelScrollingStep*h);b.move(f)}});d.mousewheelScrolling&&c.data("scrollingHotSpotLeft").add(c.data("scrollingHotSpotRight")).mousewheel(function(a){a.preventDefault()});a(window).bind("resize",function(){b._showHideHotSpots();b._trigger("windowResized")});d.ajaxContentURL.length>0?b.changeContent(d.ajaxContentURL,"","html","replace"):b.recalculateScrollableArea();if(d.autoScrollingMode!=="always")switch(d.visibleHotSpotBackgrounds){case "always":b.showHotSpotBackgrounds();
break;case "onstart":b.showHotSpotBackgrounds();c.data("hideHotSpotBackgroundsInterval",setTimeout(function(){b.hideHotSpotBackgrounds("slow")},d.hotSpotsVisibleTime))}d.hiddenOnStart&&b.hide();a(window).load(function(){d.hiddenOnStart||b.recalculateScrollableArea();d.autoScrollingMode.length>0&&!d.hiddenOnStart&&b.startAutoScrolling()})},_setOption:function(a,d){var c=this.options,e=this.element;c[a]=d;if(a==="hotSpotScrolling")if(d===true)this._showHideHotSpots();else{e.data("scrollingHotSpotLeft").hide();
e.data("scrollingHotSpotRight").hide()}else if(a==="autoScrollingStep"||a==="easingAfterHotSpotScrollingDistance"||a==="easingAfterHotSpotScrollingDuration"||a==="easingAfterMouseWheelScrollingDuration")c[a]=parseInt(d,10);else if(a==="autoScrollingInterval"){c[a]=parseInt(d,10);this.startAutoScrolling()}},showHotSpotBackgrounds:function(a){var d=this.element;if(a!==void 0){d.data("scrollingHotSpotLeft").add(d.data("scrollingHotSpotRight")).css("opacity","0.0");d.data("scrollingHotSpotLeft").addClass("scrollingHotSpotLeftVisible");
d.data("scrollingHotSpotRight").addClass("scrollingHotSpotRightVisible");d.data("scrollingHotSpotLeft").add(d.data("scrollingHotSpotRight")).fadeTo(a,0.35)}else{d.data("scrollingHotSpotLeft").addClass("scrollingHotSpotLeftVisible");d.data("scrollingHotSpotLeft").removeAttr("style");d.data("scrollingHotSpotRight").addClass("scrollingHotSpotRightVisible");d.data("scrollingHotSpotRight").removeAttr("style")}this._showHideHotSpots()},hideHotSpotBackgrounds:function(a){var d=this.element;if(a!==void 0){d.data("scrollingHotSpotLeft").fadeTo(a,
0,function(){d.data("scrollingHotSpotLeft").removeClass("scrollingHotSpotLeftVisible")});d.data("scrollingHotSpotRight").fadeTo(a,0,function(){d.data("scrollingHotSpotRight").removeClass("scrollingHotSpotRightVisible")})}else{d.data("scrollingHotSpotLeft").removeClass("scrollingHotSpotLeftVisible").removeAttr("style");d.data("scrollingHotSpotRight").removeClass("scrollingHotSpotRightVisible").removeAttr("style")}},_showHideHotSpots:function(){var a=this.element,d=this.options;if(d.manualContinuousScrolling&&
d.hotSpotScrolling){a.data("scrollingHotSpotLeft").show();a.data("scrollingHotSpotRight").show()}else if(d.autoScrollingMode!=="always"&&d.hotSpotScrolling)if(a.data("scrollableAreaWidth")<=a.data("scrollWrapper").innerWidth()){a.data("scrollingHotSpotLeft").hide();a.data("scrollingHotSpotRight").hide()}else if(a.data("scrollWrapper").scrollLeft()===0){a.data("scrollingHotSpotLeft").hide();a.data("scrollingHotSpotRight").show();this._trigger("scrollerLeftLimitReached");clearInterval(a.data("leftScrollingInterval"));
a.data("leftScrollingInterval",null)}else if(a.data("scrollableAreaWidth")<=a.data("scrollWrapper").innerWidth()+a.data("scrollWrapper").scrollLeft()){a.data("scrollingHotSpotLeft").show();a.data("scrollingHotSpotRight").hide();this._trigger("scrollerRightLimitReached");clearInterval(a.data("rightScrollingInterval"));a.data("rightScrollingInterval",null)}else{a.data("scrollingHotSpotLeft").show();a.data("scrollingHotSpotRight").show()}else{a.data("scrollingHotSpotLeft").hide();a.data("scrollingHotSpotRight").hide()}},
_setElementScrollPosition:function(b,d){var c=this.element,e=this.options,h=0;switch(b){case "first":c.data("scrollXPos",0);return true;case "start":if(e.startAtElementId!==""&&c.data("scrollableArea").has("#"+e.startAtElementId)){h=a("#"+e.startAtElementId).position().left;c.data("scrollXPos",h);return true}return false;case "last":c.data("scrollXPos",c.data("scrollableAreaWidth")-c.data("scrollWrapper").innerWidth());return true;case "number":if(!isNaN(d)){h=c.data("scrollableArea").children(e.countOnlyClass).eq(d-
1).position().left;c.data("scrollXPos",h);return true}return false;case "id":if(d.length>0&&c.data("scrollableArea").has("#"+d)){h=a("#"+d).position().left;c.data("scrollXPos",h);return true}return false;default:return false}},jumpToElement:function(a,d){var c=this.element;if(c.data("enabled")&&this._setElementScrollPosition(a,d)){c.data("scrollWrapper").scrollLeft(c.data("scrollXPos"));this._showHideHotSpots();switch(a){case "first":this._trigger("jumpedToFirstElement");break;case "start":this._trigger("jumpedToStartElement");
break;case "last":this._trigger("jumpedToLastElement");break;case "number":this._trigger("jumpedToElementNumber",null,{elementNumber:d});break;case "id":this._trigger("jumpedToElementId",null,{elementId:d})}}},scrollToElement:function(a,d){var c=this,e=this.element,h=this.options,f=false;if(e.data("enabled")&&c._setElementScrollPosition(a,d)){if(e.data("autoScrollingInterval")!==null){c.stopAutoScrolling();f=true}e.data("scrollWrapper").stop(true,false);e.data("scrollWrapper").animate({scrollLeft:e.data("scrollXPos")},
{duration:h.scrollToAnimationDuration,easing:h.scrollToEasingFunction,complete:function(){f&&c.startAutoScrolling();c._showHideHotSpots();switch(a){case "first":c._trigger("scrolledToFirstElement");break;case "start":c._trigger("scrolledToStartElement");break;case "last":c._trigger("scrolledToLastElement");break;case "number":c._trigger("scrolledToElementNumber",null,{elementNumber:d});break;case "id":c._trigger("scrolledToElementId",null,{elementId:d})}}})}},move:function(a){var d=this,c=this.element,
e=this.options;c.data("scrollWrapper").stop(true,true);if(a<0&&c.data("scrollWrapper").scrollLeft()>0||a>0&&c.data("scrollableAreaWidth")>c.data("scrollWrapper").innerWidth()+c.data("scrollWrapper").scrollLeft())if(e.easingAfterMouseWheelScrolling)c.data("scrollWrapper").animate({scrollLeft:c.data("scrollWrapper").scrollLeft()+a},{duration:e.easingAfterMouseWheelScrollingDuration,easing:e.easingAfterMouseWheelFunction,complete:function(){d._showHideHotSpots();e.manualContinuousScrolling&&(a>0?d._checkContinuousSwapRight():
d._checkContinuousSwapLeft())}});else{c.data("scrollWrapper").scrollLeft(c.data("scrollWrapper").scrollLeft()+a);d._showHideHotSpots();e.manualContinuousScrolling&&(a>0?d._checkContinuousSwapRight():d._checkContinuousSwapLeft())}},changeContent:function(b,d,c,e){var h=this,f=this.element;switch(d){case "flickrFeed":a.getJSON(b,function(b){function d(b,o){var v=b.media.m.replace("_m",B[o].letter);a("<img />").attr("src",v).load(function(){this.height<f.data("scrollableAreaHeight")?o+1<B.length?d(b,
o+1):s(this):s(this);if(u===w){switch(c){case "add":e==="first"?f.data("scrollableArea").children(":first").before(r):f.data("scrollableArea").children(":last").after(r);break;default:f.data("scrollableArea").html(r)}f.data("initialAjaxContentLoaded")?h.recalculateScrollableArea():f.data("initialAjaxContentLoaded",true);h._showHideHotSpots();h._trigger("addedFlickrContent",null,{addedElementIds:z})}})}function s(b){var c=f.data("scrollableAreaHeight")/b.height,c=Math.round(b.width*c),d=a(b).attr("src").split("/"),
d=d[d.length-1].split(".");a(b).attr("id",d[0]);a(b).css({height:f.data("scrollableAreaHeight"),width:c});z.push(d[0]);r.push(b);u++}var B=[{size:"small square",pixels:75,letter:"_s"},{size:"thumbnail",pixels:100,letter:"_t"},{size:"small",pixels:240,letter:"_m"},{size:"medium",pixels:500,letter:""},{size:"medium 640",pixels:640,letter:"_z"},{size:"large",pixels:1024,letter:"_b"}],r=[],z=[],v,w=b.items.length,u=0;v=f.data("scrollableAreaHeight")<=75?0:f.data("scrollableAreaHeight")<=100?1:f.data("scrollableAreaHeight")<=
240?2:f.data("scrollableAreaHeight")<=500?3:f.data("scrollableAreaHeight")<=640?4:5;a.each(b.items,function(a,b){d(b,v)})});break;default:a.get(b,function(a){switch(c){case "add":e==="first"?f.data("scrollableArea").children(":first").before(a):f.data("scrollableArea").children(":last").after(a);break;default:f.data("scrollableArea").html(a)}f.data("initialAjaxContentLoaded")?h.recalculateScrollableArea():f.data("initialAjaxContentLoaded",true);h._showHideHotSpots();h._trigger("addedHtmlContent")})}},
recalculateScrollableArea:function(){var b=0,d=false,c=this.options,e=this.element;e.data("scrollableArea").children(c.countOnlyClass).each(function(){if(c.startAtElementId.length>0&&a(this).attr("id")===c.startAtElementId){e.data("startingPosition",b);d=true}b=b+a(this).outerWidth(true)});d||e.data("startAtElementId","");e.data("scrollableAreaWidth",b);e.data("scrollableArea").width(e.data("scrollableAreaWidth"));e.data("scrollWrapper").scrollLeft(e.data("startingPosition"));e.data("scrollXPos",
e.data("startingPosition"))},stopAutoScrolling:function(){var a=this.element;if(a.data("autoScrollingInterval")!==null){clearInterval(a.data("autoScrollingInterval"));a.data("autoScrollingInterval",null);this._showHideHotSpots();this._trigger("autoScrollingStopped")}},startAutoScrolling:function(){var a=this,d=this.element,c=this.options;if(d.data("enabled")){a._showHideHotSpots();clearInterval(d.data("autoScrollingInterval"));d.data("autoScrollingInterval",null);a._trigger("autoScrollingStarted");
d.data("autoScrollingInterval",setInterval(function(){a._showHideHotSpots();if(!d.data("visible")||d.data("scrollableAreaWidth")<=d.data("scrollWrapper").innerWidth()){clearInterval(d.data("autoScrollingInterval"));d.data("autoScrollingInterval",null)}else{d.data("previousScrollLeft",d.data("scrollWrapper").scrollLeft());switch(c.autoScrollingDirection){case "right":d.data("scrollWrapper").scrollLeft(d.data("scrollWrapper").scrollLeft()+c.autoScrollingStep);if(d.data("previousScrollLeft")===d.data("scrollWrapper").scrollLeft()){a._trigger("autoScrollingRightLimitReached");
clearInterval(d.data("autoScrollingInterval"));d.data("autoScrollingInterval",null);a._trigger("autoScrollingIntervalStopped")}break;case "left":d.data("scrollWrapper").scrollLeft(d.data("scrollWrapper").scrollLeft()-c.autoScrollingStep);if(d.data("previousScrollLeft")===d.data("scrollWrapper").scrollLeft()){a._trigger("autoScrollingLeftLimitReached");clearInterval(d.data("autoScrollingInterval"));d.data("autoScrollingInterval",null);a._trigger("autoScrollingIntervalStopped")}break;case "backandforth":d.data("pingPongDirection")===
"right"?d.data("scrollWrapper").scrollLeft(d.data("scrollWrapper").scrollLeft()+c.autoScrollingStep):d.data("scrollWrapper").scrollLeft(d.data("scrollWrapper").scrollLeft()-c.autoScrollingStep);if(d.data("previousScrollLeft")===d.data("scrollWrapper").scrollLeft())if(d.data("pingPongDirection")==="right"){d.data("pingPongDirection","left");a._trigger("autoScrollingRightLimitReached")}else{d.data("pingPongDirection","right");a._trigger("autoScrollingLeftLimitReached")}break;case "endlessloopright":d.data("scrollWrapper").scrollLeft(d.data("scrollWrapper").scrollLeft()+
c.autoScrollingStep);a._checkContinuousSwapRight();break;case "endlessloopleft":d.data("scrollWrapper").scrollLeft(d.data("scrollWrapper").scrollLeft()-c.autoScrollingStep);a._checkContinuousSwapLeft()}}},c.autoScrollingInterval))}},_checkContinuousSwapRight:function(){var b=this.element,d=this.options;if(b.data("getNextElementWidth")){if(d.startAtElementId.length>0&&b.data("startAtElementHasNotPassed")){b.data("swapAt",a("#"+d.startAtElementId).outerWidth(true));b.data("startAtElementHasNotPassed",
false)}else b.data("swapAt",b.data("scrollableArea").children(":first").outerWidth(true));b.data("getNextElementWidth",false)}if(b.data("swapAt")<=b.data("scrollWrapper").scrollLeft()){b.data("swappedElement",b.data("scrollableArea").children(":first").detach());b.data("scrollableArea").append(b.data("swappedElement"));d=b.data("scrollWrapper").scrollLeft();b.data("scrollWrapper").scrollLeft(d-b.data("swappedElement").outerWidth(true));b.data("getNextElementWidth",true)}},_checkContinuousSwapLeft:function(){var b=
this.element,d=this.options;if(b.data("getNextElementWidth")){if(d.startAtElementId.length>0&&b.data("startAtElementHasNotPassed")){b.data("swapAt",a("#"+d.startAtElementId).outerWidth(true));b.data("startAtElementHasNotPassed",false)}else b.data("swapAt",b.data("scrollableArea").children(":first").outerWidth(true));b.data("getNextElementWidth",false)}if(b.data("scrollWrapper").scrollLeft()===0){b.data("swappedElement",b.data("scrollableArea").children(":last").detach());b.data("scrollableArea").prepend(b.data("swappedElement"));
b.data("scrollWrapper").scrollLeft(b.data("scrollWrapper").scrollLeft()+b.data("swappedElement").outerWidth(true));b.data("getNextElementWidth",true)}},restoreOriginalElements:function(){var a=this.element;a.data("scrollableArea").html(a.data("originalElements"));this.recalculateScrollableArea();this.jumpToElement("first")},show:function(){var a=this.element;a.data("visible",true);a.show()},hide:function(){var a=this.element;a.data("visible",false);a.hide()},enable:function(){this.element.data("enabled",
true)},disable:function(){var a=this.element;this.stopAutoScrolling();clearInterval(a.data("rightScrollingInterval"));clearInterval(a.data("leftScrollingInterval"));clearInterval(a.data("hideHotSpotBackgroundsInterval"));a.data("enabled",false)},destroy:function(){var b=this.element;this.stopAutoScrolling();clearInterval(b.data("rightScrollingInterval"));clearInterval(b.data("leftScrollingInterval"));clearInterval(b.data("hideHotSpotBackgroundsInterval"));b.data("scrollingHotSpotRight").unbind("mouseover");
b.data("scrollingHotSpotRight").unbind("mouseout");b.data("scrollingHotSpotRight").unbind("mousedown");b.data("scrollingHotSpotLeft").unbind("mouseover");b.data("scrollingHotSpotLeft").unbind("mouseout");b.data("scrollingHotSpotLeft").unbind("mousedown");b.data("scrollingHotSpotRight").remove();b.data("scrollingHotSpotLeft").remove();b.data("scrollableArea").remove();b.data("scrollWrapper").remove();b.html(b.data("originalElements"));a.Widget.prototype.destroy.apply(this,arguments)}})});
define("bridge/jquery.smoothdivscroll",["lib/jquery.smoothDivScroll-1.2-mod"],function(){});require(["bridge/jquery","bridge/jquery-ui","bridge/jquery.easing","bridge/jquery.smoothdivscroll"],function(a){a(document).ready(function(){a("#species-images").smoothDivScroll({autoScrollingMode:"onstart",autoScrollingDirection:"backandforth",autoScrollingStep:1,autoScrollingInterval:75,visibleHotSpotBackgrounds:"always"});a(window).load()})});define("util/activate_smooth_div_scroll",function(){});
define("taxa/SpeciesPageHelper",["bridge/jquery","bridge/shadowbox","simplekey/PhotoHelper","util/glossarizer"],function(a,b,d,c){var e={init:function(){this.photo_helper=d()},set_active_main_navigation:function(){var b="dkey",c=a("#breadcrumb p").text();c.indexOf("Simple Key")>-1?b="simple":c.indexOf("Full Key")>-1&&(b="full");a("body").addClass(b)},toggle_character_group:function(){a("ul.full-description li").toggle(function(){var b=a(this).find("h5").eq(0);b.siblings("div").show();b.css("background-image",
'url("/static/images/icons/minus.png")');return false},function(){var b=a(this).find("h5").eq(0);b.siblings("div").hide();b.css("background-image",'url("/static/images/icons/plus.png")');return false})},toggle_characters_full_list:function(){var b=this;a("a.description-control").toggle(function(){a("ul.full-description").show();a(this).text("Hide "+a(this).text().substr(a(this).text().indexOf(" ")));a(this).css("background-image",'url("/static/images/icons/minus.png")');b.toggle_character_group();
return false},function(){a("ul.full-description").hide();a(this).text("Show "+a(this).text().substr(a(this).text().indexOf(" ")));a(this).css("background-image",'url("/static/images/icons/plus.png")');return false})},wire_up_image_links:function(){var c=this;a("#species-images a").each(function(d,e){a(e).click(a.proxy(function(a){a.preventDefault();b.open({content:e.href,player:"img",title:e.title,options:{onOpen:c.photo_helper.prepare_to_enlarge,onFinish:c.photo_helper.process_credit}})},this))})},
wire_up_us_map_link:function(){a("#sidebar .section.namap div.trans").first().click(a.proxy(function(c){c.preventDefault();c=a("#sidebar .section.namap div").first();b.open({content:c.html(),player:"html",height:582,width:1E3})},this))},setup:function(){this.set_active_main_navigation();this.toggle_characters_full_list();c.glossarize(a("#sidebar dd, #main p:not(.nogloss), #main dt, #main dd, #main li, #main th, #main td"));this.wire_up_image_links();this.wire_up_us_map_link()}};return function(){var a=
Object.create(e);a.init();return a}});define("taxa/species",["bridge/jquery","util/shadowbox_init","util/activate_smooth_div_scroll","taxa/SpeciesPageHelper"],function(a,b,d,c){a(document).ready(function(){c().setup()})});
define("taxa/family",["bridge/jquery","simplekey/PhotoHelper","util/glossarizer","util/shadowbox_init","util/sidebar"],function(a,b,d,c,e){return{init:function(){a(document).ready(function(){d.glossarize(a(".description"));e.setup();var c=b();a(".pics .plant").each(function(b,d){var e=a(d).children(".frame"),s=a(d).children("a"),B=a(s).attr("href"),r=a(s).attr("title");a(e).click(function(){Shadowbox.open({content:B,player:"img",title:r,options:{onOpen:c.prepare_to_enlarge,onFinish:c.process_credit}})})})})}}});
define("taxa/genus",["bridge/jquery","simplekey/PhotoHelper","util/glossarizer","util/shadowbox_init","util/sidebar"],function(a,b,d,c,e){return{init:function(){a(document).ready(function(){d.glossarize(a(".description"));e.setup();var c=b();a(".pics .plant").each(function(b,d){var e=a(d).children(".frame"),s=a(d).children("a"),B=a(s).attr("href"),r=a(s).attr("title");a(e).click(function(){Shadowbox.open({content:B,player:"img",title:r,options:{onOpen:c.prepare_to_enlarge,onFinish:c.process_credit}})})})})}}});
require(["util/sidebar"],function(a){a.setup()});define("simplekey/search",function(){});define("util/mailto",["bridge/jquery"],function(a){var b={_address_from_text:function(a){a=a.replace(/\s/g,"");a=a.replace("[at]","@");return a=a.replace("[dot]",".")},make_link:function(d){a(d).each(function(){var c=b._address_from_text(a(this).text());a(this).text(c);a(this).attr("href","mailto:"+c)})}};return b});
require(["util/activate_video_links","bridge/shadowbox","util/shadowbox_init","util/mailto"],function(a,b,d,c){$(document).ready(function(){c.make_link(".email")})});define("site/help",function(){});
define("site/MapToGroupsHelper",["bridge/jquery"],function(a){var b={MAX_SMALL_SCREEN_WIDTH:600,groups:null,subgroup_sets:null,init:function(){this.groups=a(".plant-group");this.subgroup_sets=a(".subgroups")},get_left_margin_for_subgroup_set:function(b){var c=this.groups.offset().left,e=this.groups.last(),e=e.offset().left+e.width(),h=a(this.groups[b]),h=h.offset().left+Math.floor(h.width()/2),f=0;a(this.subgroup_sets[b]).find(".plant-subgroup").each(function(b,c){f=f+a(c).width()});e=e-c-f-22;c=
h-Math.floor(f/2)-c;b===this.groups.length-1&&(e=e+11);c<0?c=0:c>=e&&(c=e);return c},activate_group:function(b){this.groups.each(function(c,e){c===b?a(e).addClass("active"):a(e).removeClass("active")});this.subgroup_sets.each(a.proxy(function(c,e){if(c===b){a(e).removeClass("hidden");if(a(window).width()>this.MAX_SMALL_SCREEN_WIDTH){var h=this.get_left_margin_for_subgroup_set(c);a(e).css("marginLeft",h.toString()+"px")}}else a(e).addClass("hidden")},this))},setup:function(){var b;for(b=0;b<this.groups.length;b=
b+1)a(this.groups[b]).bind("click",{groupNumber:b},a.proxy(function(b){this.activate_group(b.data.groupNumber);a(window).width()<=this.MAX_SMALL_SCREEN_WIDTH&&a("#subgroup-section").get(0).scrollIntoView()},this));this.activate_group(0)}};return function(){var a=Object.create(b);a.init();return a}});require(["bridge/jquery","util/activate_video_links","util/shadowbox_init","site/MapToGroupsHelper"],function(a,b,d,c){a(document).ready(function(){c().setup()})});define("site/advanced_map",function(){});
require(["bridge/shadowbox","util/glossarizer","util/shadowbox_init"],function(a,b){$(document).ready(function(){b.glossarize($("#terms dd"))})});define("site/glossary",function(){});
define("lib/picnet.table.filter.min",["bridge/jquery"],function(){function a(a){throw a;}function b(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&
"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function d(a){var c=b(a);return"array"==c||"object"==c&&"number"==typeof a.length}function c(a){return"string"==typeof a}function e(a){return"function"==b(a)}function h(a){var b=typeof a;return"object"==b&&a!=D||"function"==b}function f(a,b,c){return a.call.apply(a.bind,arguments)}function o(b,c,d){b||a(Error());if(2<
arguments.length){var e=Array.prototype.slice.call(arguments,2);return function(){var a=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(a,e);return b.apply(c,a)}}return function(){return b.apply(c,arguments)}}function k(a,b,c){k=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?f:o;return k.apply(D,arguments)}function s(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=Array.prototype.slice.call(arguments);b.unshift.apply(b,
c);return a.apply(this,b)}}function B(a,b){function c(){}c.prototype=b.prototype;a.$superClass_$=b.prototype;a.prototype=new c}function r(a,b,c,d){this.id=a;this.value=b;this.$idx$=c;this.type=d}function z(){}function v(){}function w(a,b){for(var c=1;c<arguments.length;c++)var d=(""+arguments[c]).replace(/\$/g,"$$$$"),a=a.replace(/\%s/,d);return a}function u(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")}function P(a){if(!Ja.test(a))return a;-1!=a.indexOf("&")&&(a=a.replace(oa,"&amp;"));-1!=a.indexOf("<")&&
(a=a.replace(N,"&lt;"));-1!=a.indexOf(">")&&(a=a.replace(Va,"&gt;"));-1!=a.indexOf('"')&&(a=a.replace(Bb,"&quot;"));return a}function I(a){var b;if(!(b=kc[a])){b=0;for(var c=u(""+Ba).split("."),d=u(""+a).split("."),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var g=c[f]||"",h=d[f]||"",k=RegExp("(\\d*)(\\D*)","g"),l=RegExp("(\\d*)(\\D*)","g");do{var m=k.exec(g)||["","",""],n=l.exec(h)||["","",""];if(0==m[0].length&&0==n[0].length)break;b=((0==m[1].length?0:parseInt(m[1],10))<(0==n[1].length?0:
parseInt(n[1],10))?-1:(0==m[1].length?0:parseInt(m[1],10))>(0==n[1].length?0:parseInt(n[1],10))?1:0)||((0==m[2].length)<(0==n[2].length)?-1:(0==m[2].length)>(0==n[2].length)?1:0)||(m[2]<n[2]?-1:m[2]>n[2]?1:0)}while(0==b)}b=kc[a]=0<=b}return b}function A(){return ec[9]||(ec[9]=Aa&&!!document.documentMode&&9<=document.documentMode)}function Y(a,b){for(var c in a)b.call(U,a[c],c,a)}function ga(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<lc.length;f++){c=
lc[f];Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}}}function n(a){this.stack=Error().stack||"";a&&(this.message=""+a)}function T(a,b){b.unshift(a);n.call(this,w.apply(D,b));b.shift()}function za(b,c,d){if(!b){var e=Array.prototype.slice.call(arguments,2),f="Assertion failed";if(c)var f=f+(": "+c),g=e;a(new T(""+f,g||[]))}}function C(a,b){if(c(a))return!c(b)||1!=b.length?-1:a.indexOf(b,0);for(var d=0;d<a.length;d++)if(d in a&&a[d]===b)return d;return-1}function t(a,b,d){for(var e=a.length,
f=c(a)?a.split(""):a,g=0;g<e;g++)g in f&&b.call(d,f[g],g,a)}function M(a,b,d){for(var e=a.length,f=Array(e),g=c(a)?a.split(""):a,h=0;h<e;h++)h in g&&(f[h]=b.call(d,g[h],h,a));return f}function g(a){return Db.concat.apply(Db,arguments)}function O(a,b,c){za(a.length!=D);return 2>=arguments.length?Db.slice.call(a,b):Db.slice.call(a,b,c)}function x(a,b){var d;d=a.className;d=c(d)&&d.match(/\S+/g)||[];for(var e=O(arguments,1),f=d.length+e.length,g=d,h=0;h<e.length;h++)0<=C(g,e[h])||g.push(e[h]);a.className=
d.join(" ");return d.length==f}function q(a,b,c){c=c||document;a=a&&"*"!=a?a.toUpperCase():"";if(c.querySelectorAll&&c.querySelector&&(!y||"CSS1Compat"==document.compatMode||I("528"))&&(a||b))return c.querySelectorAll(a+(b?"."+b:""));if(b&&c.getElementsByClassName){c=c.getElementsByClassName(b);if(a){for(var d={},e=0,f=0,g;g=c[f];f++)a==g.nodeName&&(d[e++]=g);d.length=e;return d}return c}c=c.getElementsByTagName(a||"*");if(b){d={};for(f=e=0;g=c[f];f++){a=g.className;"function"==typeof a.split&&0<=
C(a.split(/\s+/),b)&&(d[e++]=g)}d.length=e;return d}return c}function E(a,f,k){var l=arguments,m=document,n=l[0],o=l[1];if(!hb&&o&&(o.name||o.type)){n=["<",n];o.name&&n.push(' name="',P(o.name),'"');if(o.type){n.push(' type="',P(o.type),'"');var q={};ga(q,o);o=q;delete o.type}n.push(">");n=n.join("")}n=m.createElement(n);if(o)if(c(o))n.className=o;else if("array"==b(o))x.apply(D,[n].concat(o));else{var r=n;Y(o,function(a,b){"style"==b?r.style.cssText=a:"class"==b?r.className=a:"for"==b?r.htmlFor=
a:b in Vb?r.setAttribute(Vb[b],a):0==b.lastIndexOf("aria-",0)?r.setAttribute(b,a):r[b]=a})}if(2<l.length)for(var s=m,u=n,m=function(a){a&&u.appendChild(c(a)?s.createTextNode(a):a)},o=2;o<l.length;o++){q=l[o];if(d(q)&&!(h(q)&&0<q.nodeType)){var v;a:{if(q&&"number"==typeof q.length){if(h(q)){v="function"==typeof q.item||"string"==typeof q.item;break a}if(e(q)){v="function"==typeof q.item;break a}}v=J}if(v)if("array"==b(q))q=g(q);else{v=[];for(var w=0,y=q.length;w<y;w++)v[w]=q[w];q=v}t(q,m)}else m(q)}return n}
function Q(a){if(Eb&&"innerText"in a)a=a.innerText.replace(/(\r\n|\r|\n)/g,"\n");else{var b=[];G(a,b,F);a=b.join("")}a=a.replace(/ \xAD /g," ").replace(/\xAD/g,"");a=a.replace(/\u200B/g,"");Eb||(a=a.replace(/ +/g," "));" "!=a&&(a=a.replace(/^\s*/,""));return a}function G(a,b,c){if(!(a.nodeName in Ca))if(3==a.nodeType)c?b.push((""+a.nodeValue).replace(/(\r\n|\r|\n)/g,"")):b.push(a.nodeValue);else if(a.nodeName in tb)b.push(tb[a.nodeName]);else for(a=a.firstChild;a;){G(a,b,c);a=a.nextSibling}}function da(a,
b){if(!b)return D;var c=b?b.toUpperCase():D;a:{for(var d=a,e=0;d;){if((!c||d.nodeName==c)&&F){c=d;break a}d=d.parentNode;e++}c=D}return c}function l(a,b,c){a.style[Ga[c]||(Ga[c]=(""+c).replace(/\-([a-z])/g,function(a,b){return b.toUpperCase()}))]=b}function V(){}function Z(){}function R(a){a&&"function"==typeof a.$dispose$&&a.$dispose$()}function na(a){for(var b=0,c=arguments.length;b<c;++b){var e=arguments[b];d(e)?na.apply(D,e):R(e)}}function Ea(a,b){this.type=a;this.currentTarget=this.target=b}
function W(a){W[" "](a);return a}function ha(a,b){a&&this.$init$(a,b)}function Fa(c,d,e,f,g){if(d){if("array"==b(d)){for(var h=0;h<d.length;h++)Fa(c,d[h],e,f,g);return D}var f=!!f,k=eb;d in k||(k[d]={$count_$:0,$remaining_$:0});k=k[d];f in k||(k[f]={$count_$:0,$remaining_$:0},k.$count_$++);var k=k[f],l=c[ra]||(c[ra]=++Za),m;k.$remaining_$++;if(k[l]){m=k[l];for(h=0;h<m.length;h++)if(k=m[h],k.$listener$==e&&k.$handler$==g){if(k.$removed$)break;return m[h].key}}else{m=k[l]=[];k.$count_$++}var n=Qa,o=
Fb?function(a){return n.call(o.src,o.key,a)}:function(a){a=n.call(o.src,o.key,a);if(!a)return a},h=o;h.src=c;k=new V;k.$init$(e,h,c,d,f,g);e=k.key;h.key=e;m.push(k);L[e]=k;S[l]||(S[l]=[]);S[l].push(k);c.addEventListener?(c==ma||!c.$customEvent_$)&&c.addEventListener(d,h,f):c.attachEvent(d in lb?lb[d]:lb[d]="on"+d,h);return e}a(Error("Invalid event type"))}function Ia(a){if(!L[a])return J;var b=L[a];if(b.$removed$)return J;var c=b.src,d=b.type,e=b.$proxy$,f=b.capture;c.removeEventListener?(c==ma||
!c.$customEvent_$)&&c.removeEventListener(d,e,f):c.detachEvent&&c.detachEvent(d in lb?lb[d]:lb[d]="on"+d,e);c=c[ra]||(c[ra]=++Za);e=eb[d][f][c];if(S[c]){var g=S[c],h=C(g,b);0<=h&&(za(g.length!=D),Db.splice.call(g,h,1));0==g.length&&delete S[c]}b.$removed$=F;e.$needsCleanup_$=F;ka(d,f,c,e);delete L[a];return F}function ka(a,b,c,d){if(!d.$locked_$&&d.$needsCleanup_$){for(var e=0,f=0;e<d.length;e++)d[e].$removed$?d[e].$proxy$.src=D:(e!=f&&(d[f]=d[e]),f++);d.length=f;d.$needsCleanup_$=J;0==f&&(delete eb[a][b][c],
eb[a][b].$count_$--,0==eb[a][b].$count_$&&(delete eb[a][b],eb[a].$count_$--),0==eb[a].$count_$&&delete eb[a])}}function Na(a,b,c,d,e){var f=1,b=b[ra]||(b[ra]=++Za);if(a[b]){a.$remaining_$--;a=a[b];a.$locked_$?a.$locked_$++:a.$locked_$=1;try{for(var g=a.length,h=0;h<g;h++){var k=a[h];k&&!k.$removed$&&(f=f&sa(k,e)!==J)}}finally{a.$locked_$--;ka(c,d,b,a)}}return Boolean(f)}function sa(a,b){var c=a.handleEvent(b);a.$callOnce$&&Ia(a.key);return c}function Qa(a,b){if(!L[a])return F;var c=L[a],d=c.type,
e=eb;if(!(d in e))return F;var e=e[d],f,g;if(!Fb){var h;if(!(h=b))a:{h=["window","event"];for(var k=ma;f=h.shift();)if(k[f]!=D)k=k[f];else{h=D;break a}h=k}f=h;h=F in e;k=J in e;if(h){if(0>f.keyCode||f.returnValue!=U)return F;a:{var l=J;if(0==f.keyCode)try{f.keyCode=-1;break a}catch(m){l=F}if(l||f.returnValue==U)f.returnValue=F}}l=new ha;l.$init$(f,this);f=F;try{if(h){for(var n=[],o=l.currentTarget;o;o=o.parentNode)n.push(o);g=e[F];g.$remaining_$=g.$count_$;for(var q=n.length-1;!l.$propagationStopped_$&&
0<=q&&g.$remaining_$;q--){l.currentTarget=n[q];f=f&Na(g,n[q],d,F,l)}if(k){g=e[J];g.$remaining_$=g.$count_$;for(q=0;!l.$propagationStopped_$&&q<n.length&&g.$remaining_$;q++){l.currentTarget=n[q];f=f&Na(g,n[q],d,J,l)}}}else f=sa(c,l)}finally{n&&(n.length=0);l.$dispose$()}return f}d=new ha(b,this);try{f=sa(c,d)}finally{d.$dispose$()}return f}function Ra(a){this.$handler_$=a;this.$keys_$=[]}function xa(a,c,d,e,f){"array"!=b(d)&&(ub[0]=d,d=ub);for(var g=0;g<d.length;g++)a.$keys_$.push(Fa(c,d[g],e||a,J,
f||a.$handler_$||a))}function ya(a){this.$document_$=a}function Ha(){this.$precedences_$={or:1,and:2,not:3}}function Xa(b,c){var d,e,f;d=c;"$"===d.charAt(0)&&(d=d.substring(1));f=parseFloat(d);if(0===b.indexOf("=")){d="=";e=parseFloat(b.substring(1))}else if(0===b.indexOf("!=")){d="!=";e=parseFloat(b.substring(2))}else if(0===b.indexOf(">=")){d=">=";e=parseFloat(b.substring(2))}else if(0===b.indexOf(">")){d=">";e=parseFloat(b.substring(1))}else if(0===b.indexOf("<=")){d="<=";e=parseFloat(b.substring(2))}else if(0===
b.indexOf("<")){d="<";e=parseFloat(b.substring(1))}else return F;switch(d){case "!=":return f!==e;case "=":return f===e;case ">=":return f>=e;case ">":return f>e;case "<=":return f<=e;case "<":return f<e}a(Error("Could not find a number operation: "+d))}function La(a,b,c){for(var d=b.indexOf(c);-1!==d;){0<d&&a.push(b.substring(0,d));a.push(c);b=b.substring(d+1);d=b.indexOf(c)}return b}function Oa(a,b,c){this.list=b;this.options=c;this.$input_$=a;this.$listItems$=[];this.$filters$=[this.$input_$];
this.$eh_$=new Ra(this);this.$lastTimerID_$=this.$lastkeytime_$=0;this.$cancelQuickFind_$=J;this.$filterKey_$="";this.$search_$=new Ha;this.$initialiseFilters$()}function X(a){return a.list.getAttribute("id")||a.list.getAttribute("name")||""}function ca(b){t(b.$filters$,function(a){xa(this.$eh_$,a,"text"===a.getAttribute("type")?"keyup":"change",this.$onFilterChanged_$,this)},b);if(b.options.clearFiltersControls)for(var c=0;c<b.options.clearFiltersControls.length;c++){b.options.clearFiltersControls[c].length&&
(b.options.clearFiltersControls[c]=b.options.clearFiltersControls[c][0]);xa(b.$eh_$,b.options.clearFiltersControls[c],"click",b.$clearAllFilters$,b)}if(b.options.additionalFilterTriggers)for(c=0;c<b.options.additionalFilterTriggers.length;c++){var d=b.options.additionalFilterTriggers[c];d.length&&(d=b.options.additionalFilterTriggers[c]=d[0]);var e=d.options?"select-one":d.getAttribute("type"),f=kb;switch(e){case "select-one":xa(b.$eh_$,d,f.$CHANGE$,b.$onFilterChanged_$,b);break;case "text":d.setAttribute("title",
b.options.filterToolTipMessage);xa(b.$eh_$,d,f.$KEYUP$,b.$onFilterChanged_$,b);break;case "checkbox":xa(b.$eh_$,d,f.$CLICK$,b.$onFilterChanged_$,b);break;default:a("Filter type "+e+" is not supported")}}}function Ya(a){var b=a.options.enableCookies&&Xb.get(a.$filterKey_$),c=[];if(b)for(var b=b.split("|"),d=0;d<b.length;d++){var e=b[d].split(","),f=new r(e[0],e[3],parseInt(e[1],10),e[2]);c.push(f)}if(b=a.options.sharedCookieId){e=a.options.enableCookies&&Xb.get(b);if(!e)return;e=e.split("|");b=[];
for(d=0;d<e.length;d++){var g=e[d].split(","),h=g[0];if("#"==h.charAt(0)){f=new r(h.substr(1),g[3],-1,g[2]);b.push(f)}else for(var k=0;k<a.$headers_$.length;k++){var f=a.$headers_$[k],l="none"!=f.style.display;if((f="false"===f.getAttribute("filter")||!l?D:Q(f))&&f==h){f=a.$filters$[a.$filterColumnIndexes_$.indexOf(k)].getAttribute("id");f=new r(f,g[3],k,g[2]);b.push(f)}}}for(d=0;d<b.length;d++){e=J;for(g=0;g<c.length;g++)b[d].id==c[g].id&&(c[g].value=b[d].value,e=F);e||c.push(b[d])}}ba(a,c,F)}function pa(a,
b){0<a.length&&a.push("|");a.push(b.id);a.push(",");a.push(b.$idx$);a.push(",");a.push(b.type);a.push(",");a.push(b.value)}function ba(b,d,e){b.options.filteringElements&&b.options.filteringElements(d);t(b.$listItems$,function(a){a.removeAttribute("filtermatch")});if(!(0===(!d||d.length)&&b.options.matchingElement))if(d===D||0===d.length)ja(b,D);else for(var f=0;f<d.length;f++){var g=d[f];if(e&&g.type&&g.id){var h=c(g.id)?document.getElementById(g.id):g.id;if(!h||0===h.length)continue;switch(g.type){case "select-one":t(h.options,
function(a,b){a.value===g.value?(a.setAttribute("selected","selected"),h.selectedIndex=b):a.removeAttribute("selected")});break;case "text":h.value=g.value;break;case "checkbox":h.checked="true"===g.value;break;default:a("Filter type "+g.type+" is not supported")}}ja(b,g)}for(e=0;e<b.$listItems$.length&&!b.$cancelQuickFind_$;e++){var f=b.$listItems$[e],k="false"!==f.getAttribute("filtermatch");f.style.display=k?"":"none"}b.options.filteredElements&&b.options.filteredElements(d)}function ja(a,b){for(var c=
bb(a,b),d=0;d<a.$listItems$.length&&!a.$cancelQuickFind_$;d++){var e=a.$listItems$[d];e.getAttribute("filtermatch")||a.$doesElementContainText$(b,e,c)||e.setAttribute("filtermatch","false")}}function bb(b,c){if(c===D)return D;switch(c.type){case "select-one":var d;if(-1!=c.value.indexOf("&"))if("document"in ma){d=c.value;var e={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'},f=document.createElement("div");d=d.replace(Pa,function(a,b){var c=e[a];if(c)return c;if("#"==b.charAt(0)){var d=Number("0"+
b.substr(1));isNaN(d)||(c=String.fromCharCode(d))}c||(f.innerHTML=a+" ",c=f.firstChild.nodeValue.slice(0,-1));return e[a]=c})}else d=c.value.replace(/&([^;]+);/g,function(a,b){switch(b){case "amp":return"&";case "lt":return"<";case "gt":return">";case "quot":return'"';default:if("#"==b.charAt(0)){var c=Number("0"+b.substr(1));if(!isNaN(c))return String.fromCharCode(c)}return a}});else d=c.value;return[d];case "text":d=b.$search_$;var g=c.value;if(g){var g=g.toLowerCase(),h;h=g.replace(">= ",">=").replace("> ",
">").replace("<= ","<=").replace("< ","<").replace("!= ","!=").replace("= ","=");for(var k=/([^"^\s]+)\s*|"([^"]+)"\s*/g,g=[],l=D;l=k.exec(h);)g.push(l[1]||l[2]);h=[];for(k=0;k<g.length;k++){l=g[k];l=La(h,l,"(");l=La(h,l,")");0<l.length&&h.push(l)}g=h;h=[];for(var m,k=0;k<g.length;k++)if((l=g[k])&&0!==l.length){0===l.indexOf("-")&&(l="not",g[k]=g[k].substring(1),k--);m&&"("!==m&&"not"!==m&&"and"!==m&&"or"!==m&&"and"!==l&&"or"!==l&&")"!==l&&h.push("and");h.push(l);m=l}m=h;g="";h=[];for(l=0;l<m.length;l++){var n=
m[l];if(0!==n.length)if("and"!==n&&"or"!==n&&"not"!==n&&"("!==n&&")"!==n)g=g+"|"+n;else if(0===h.length||"("===n)h.push(n);else if(")"===n)for(k=h.pop();"("!==k&&0<h.length;){g=g+"|"+k;k=h.pop()}else{if("("!==h[h.length-1])for(;0!==h.length&&"("!==h[h.length-1];)if(d.$precedences_$[h[h.length-1]]>d.$precedences_$[n]){k=h.pop();g=g+"|"+k}else break;h.push(n)}}for(;0<h.length;)g=g+"|"+h.pop();d=g.substring(1).split("|")}else d=D;return d;case "checkbox":return D;default:a("State type "+c.type+" is not supported")}}
function fa(a,b){b.matchingRow&&(b.matchingElement=b.matchingRow);b.filteringRows&&(b.filteringElements=b.filteringRows);b.filteredRows&&(b.filteredElements=b.filteredRows);Oa.call(this,D,a,b)}function ia(a,b){var c=E("select",{id:X(a)+"_filter_"+b,"class":"filter"},E("option",{},a.options.selectOptionLabel)),d=M(a.$listItems$,function(a){return a.cells[b]}),e=[];t(d,function(a){(a=u(Q(a)))&&!("&nbsp;"===a||0<=C(e,a))&&e.push(a)});e.sort();t(e,function(a){a=E("option",{value:a.replace('"',"&quot;")},
a);c.appendChild(a)});return c}var U=void 0,F=true,D=null,J=false,H,ma=this,ra="closure_uid_"+Math.floor(2147483648*Math.random()).toString(36),Za=0,rb=Date.now||function(){return+new Date};r.prototype.toString=function(){return"id["+this.id+"] value["+this.value+"] idx["+this.$idx$+"] type["+this.type+"]"};z.prototype.additionalFilterTriggers=[];z.prototype.clearFiltersControls=[];z.prototype.filterDelay=250;z.prototype.filterToolTipMessage='Quotes (") match phrases. (not) excludes a match from the results. (or) can be used to do Or searches. I.e. [red or blue] will match either red or blue. Numeric values support >=, >, <=, <, = and != operators.';
z.prototype.enableCookies=F;z.prototype.matchingElement=D;z.prototype.filteringElements=D;z.prototype.sharedCookieId=D;z.prototype.$disposeInternal$=function(){z.$superClass_$.$disposeInternal$.call(this);t(this.additionalFilterTriggers,R);t(this.clearFiltersControls,R);for(var a in this)delete this[a]};B(v,z);v.prototype.selectOptionLabel="Select...";v.prototype.frozenHeaderTable=D;v.prototype.$disposeInternal$=function(){R(this.frozenHeaderTable);v.$superClass_$.$disposeInternal$.call(this)};var oa=
/&/g,N=/</g,Va=/>/g,Bb=/\"/g,Ja=/[&<>\"]/,Pa=/&([^;\s<&]+);?/g,Ga={},Ka,Wa,sb,qa;qa=sb=Wa=Ka=J;var Ma;if(Ma=ma.navigator?ma.navigator.userAgent:D){var ab=ma.navigator;Ka=0==Ma.indexOf("Opera");Wa=!Ka&&-1!=Ma.indexOf("MSIE");sb=!Ka&&-1!=Ma.indexOf("WebKit");qa=!Ka&&!sb&&"Gecko"==ab.product}var Ta=Ka,Aa=Wa,m=qa,y=sb,Ba;a:{var gb="",cb;if(Ta&&ma.opera)var Kb=ma.opera.version,gb="function"==typeof Kb?Kb():Kb;else if(m?cb=/rv\:([^\);]+)(\)|;)/:Aa?cb=/MSIE\s+([^\);]+)(\)|;)/:y&&(cb=/WebKit\/(\S+)/),cb)var yb=
cb.exec(ma.navigator?ma.navigator.userAgent:D),gb=yb?yb[1]:"";if(Aa){var Ub,Lb=ma.document;Ub=Lb?Lb.documentMode:U;if(Ub>parseFloat(gb)){Ba=""+Ub;break a}}Ba=gb}var kc={},ec={},lc=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"];B(n,Error);n.prototype.name="CustomError";B(T,n);T.prototype.name="AssertionError";var Db=Array.prototype,hb=!Aa||A();!m&&!Aa||Aa&&A()||m&&I("1.9.1");var Eb=Aa&&!I("9"),Vb={cellpadding:"cellPadding",cellspacing:"cellSpacing",
colspan:"colSpan",rowspan:"rowSpan",valign:"vAlign",height:"height",width:"width",usemap:"useMap",frameborder:"frameBorder",maxlength:"maxLength",type:"type"},Ca={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1},tb={IMG:" ",BR:"\n"},ua=0;H=V.prototype;H.key=0;H.$removed$=J;H.$callOnce$=J;H.$init$=function(b,c,d,f,g,h){e(b)?this.$isFunctionListener_$=F:b&&b.handleEvent&&e(b.handleEvent)?this.$isFunctionListener_$=J:a(Error("Invalid listener argument"));this.$listener$=b;this.$proxy$=c;this.src=d;this.type=
f;this.capture=!!g;this.$handler$=h;this.$callOnce$=J;this.key=++ua;this.$removed$=J};H.handleEvent=function(a){return this.$isFunctionListener_$?this.$listener$.call(this.$handler$||this.src,a):this.$listener$.handleEvent.call(this.$listener$,a)};!Aa||A();var Fb=!Aa||A();Aa&&I("8");!y||I("528");m&&I("1.9b")||Aa&&I("8")||Ta&&I("9.5")||y&&I("528");m&&!I("8")||Aa&&I("9");var kb={$CLICK$:"click",$DBLCLICK$:"dblclick",$MOUSEDOWN$:"mousedown",$MOUSEUP$:"mouseup",$MOUSEOVER$:"mouseover",$MOUSEOUT$:"mouseout",
$MOUSEMOVE$:"mousemove",$SELECTSTART$:"selectstart",$KEYPRESS$:"keypress",$KEYDOWN$:"keydown",$KEYUP$:"keyup",$BLUR$:"blur",$FOCUS$:"focus",$DEACTIVATE$:"deactivate",$FOCUSIN$:Aa?"focusin":"DOMFocusIn",$FOCUSOUT$:Aa?"focusout":"DOMFocusOut",$CHANGE$:"change",$SELECT$:"select",$SUBMIT$:"submit",$INPUT$:"input",$PROPERTYCHANGE$:"propertychange",$DRAGSTART$:"dragstart",$DRAGENTER$:"dragenter",$DRAGOVER$:"dragover",$DRAGLEAVE$:"dragleave",$DROP$:"drop",$TOUCHSTART$:"touchstart",$TOUCHMOVE$:"touchmove",
$TOUCHEND$:"touchend",$TOUCHCANCEL$:"touchcancel",$CONTEXTMENU$:"contextmenu",$ERROR$:"error",$HELP$:"help",$LOAD$:"load",$LOSECAPTURE$:"losecapture",$READYSTATECHANGE$:"readystatechange",$RESIZE$:"resize",$SCROLL$:"scroll",$UNLOAD$:"unload",$HASHCHANGE$:"hashchange",$PAGEHIDE$:"pagehide",$PAGESHOW$:"pageshow",$POPSTATE$:"popstate",$COPY$:"copy",$PASTE$:"paste",$CUT$:"cut",$BEFORECOPY$:"beforecopy",$BEFORECUT$:"beforecut",$BEFOREPASTE$:"beforepaste",$MESSAGE$:"message",$CONNECT$:"connect",$TRANSITIONEND$:y?
"webkitTransitionEnd":Ta?"oTransitionEnd":"transitionend"};Z.prototype.$disposed_$=J;Z.prototype.$dispose$=function(){this.$disposed_$||(this.$disposed_$=F,this.$disposeInternal$())};Z.prototype.$disposeInternal$=function(){this.$dependentDisposables_$&&na.apply(D,this.$dependentDisposables_$)};B(Ea,Z);Ea.prototype.$disposeInternal$=function(){delete this.type;delete this.target;delete this.currentTarget};Ea.prototype.$propagationStopped_$=J;Ea.prototype.$returnValue_$=F;W[" "]=function(){};B(ha,
Ea);H=ha.prototype;H.target=D;H.relatedTarget=D;H.offsetX=0;H.offsetY=0;H.clientX=0;H.clientY=0;H.screenX=0;H.screenY=0;H.button=0;H.keyCode=0;H.charCode=0;H.ctrlKey=J;H.altKey=J;H.shiftKey=J;H.metaKey=J;H.$init$=function(a,b){var c=this.type=a.type;Ea.call(this,c);this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(m){var e;a:{try{W(d.nodeName);e=F;break a}catch(f){}e=J}e||(d=D)}}else"mouseover"==c?d=a.fromElement:"mouseout"==c&&(d=a.toElement);this.relatedTarget=
d;this.offsetX=y||a.offsetX!==U?a.offsetX:a.layerX;this.offsetY=y||a.offsetY!==U?a.offsetY:a.layerY;this.clientX=a.clientX!==U?a.clientX:a.pageX;this.clientY=a.clientY!==U?a.clientY:a.pageY;this.screenX=a.screenX||0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.state=a.state;delete this.$returnValue_$;delete this.$propagationStopped_$};
H.$disposeInternal$=function(){ha.$superClass_$.$disposeInternal$.call(this);this.relatedTarget=this.currentTarget=this.target=D};var L={},eb={},S={},lb={},mc=ma.window;B(Ra,Z);var ub=[];Ra.prototype.$disposeInternal$=function(){Ra.$superClass_$.$disposeInternal$.call(this);t(this.$keys_$,Ia);this.$keys_$.length=0};Ra.prototype.handleEvent=function(){a(Error("EventHandler.handleEvent not implemented"))};var db=/\s*;\s*/;ya.prototype.set=function(b,c,d,e,f,g){/[;=\s]/.test(b)&&a(Error('Invalid cookie name "'+
b+'"'));/[;\r\n]/.test(c)&&a(Error('Invalid cookie value "'+c+'"'));d!==U||(d=-1);f=f?";domain="+f:"";e=e?";path="+e:"";g=g?";secure":"";d=0>d?"":0==d?";expires="+(new Date(1970,1,1)).toUTCString():";expires="+(new Date(rb()+1E3*d)).toUTCString();this.$document_$.cookie=b+"="+c+f+e+d+g};ya.prototype.get=function(a,b){for(var c=a+"=",d=(this.$document_$.cookie||"").split(db),e=0,f;f=d[e];e++){if(0==f.indexOf(c))return f.substr(c.length);if(f==a)return""}return b};var Xb=new ya(document);Xb.$MAX_COOKIE_LENGTH$=
3950;B(Oa,Z);var Wb=0;H=Oa.prototype;H.$resetList$=function(a){R(this.list);t(this.$listItems$,R);this.list=a;this.$initialiseControlCaches$();ca(this);Ya(this)};H.$initialiseFilters$=function(){this.$filterKey_$=X(this)+"_"+ ++Wb+"_filters";this.$initialiseControlCaches$();ca(this);Ya(this)};H.$clearAllFilters$=function(){t(this.$filters$,this.$clearFilterValue$,this);this.options.additionalFilterTriggers&&t(this.options.additionalFilterTriggers,this.$clearFilterValue$,this);this.refresh()};H.$clearFilterValue$=
function(b){var c=b.options?"select-one":b.getAttribute("type");switch(c){case "select-one":b.selectedIndex=0;break;case "text":b.value="";break;case "checkbox":b.checked=J;break;default:a("Filter type "+c+" is not supported")}};H.$initialiseControlCaches$=function(){this.$listItems$=this.list.childNodes};H.$onFilterChanged_$=function(){this.$lastkeytime_$=(new Date).getTime();this.$quickFindTimer_$()};H.$quickFindTimer_$=function(){this.$lastTimerID_$&&(clearTimeout(this.$lastTimerID_$),this.$lastTimerID_$=
0);this.$cancelQuickFind_$=F;var b=this.options.filterDelay;if((new Date).getTime()-this.$lastkeytime_$>=b)this.refresh();else{var c=function(){this.$quickFindTimer_$.call(this)},b=b/3;e(c)?this&&(c=k(c,this)):c&&"function"==typeof c.handleEvent?c=k(c.handleEvent,c):a(Error("Invalid listener argument"));this.$lastTimerID_$=2147483647<b?-1:mc.setTimeout(c,b||0)}};H.refresh=function(){this.$cancelQuickFind_$=J;clearTimeout(this.$lastTimerID_$);var a=this.$getFilterStates$();ba(this,a,J);if(this.options.enableCookies){for(var b=
[],c=[],d=D,e=0;e<a.length;e++){var f=a[e];pa(b,f);if(d=this.options.sharedCookieId){var g;if(0<=f.$idx$){g=this.$headers_$[f.$idx$];var h="none"!=g.style.display;g="false"===g.getAttribute("filter")||!h?D:Q(g)}else g="#"+f.id;g&&(c=pa(c,new r(g,f.value,f.$idx$,f.type)))}}Xb.set(this.$filterKey_$,b.join(""),999999);d&&Xb.set(d,c.join(""),999999)}};H.$getFilterStates$=function(){var a=this.$getFilterStateForFilter$(this.$input_$);return a?[a]:[]};H.$getFilterStateForFilter$=function(b){var c=b.options?
"select-one":b.getAttribute("type"),d;switch(c){case "text":d=b.value===D?D:b.value.toLowerCase();break;case "select-one":d=0===b.selectedIndex?D:b.options[b.selectedIndex].value;break;case "checkbox":d=b.checked;break;default:a("Filter type "+c+" is not supported")}if(d===D||0>=d.length)return D;b=b.getAttribute("id");return new r(b,d,0,c)};H.$doesElementContainText$=function(a,b,c,d){var e=a!=D&&"select-one"===a.type;d||(d=u(Q(b)));var f;if(c){for(var d=e?d:d.toLowerCase(),g=[],h,k=0;k<c.length;k++){h=
c[k];"and"!==h&&"or"!==h&&"not"!==h?0===h.indexOf(">")||0===h.indexOf("<")||0===h.indexOf("=")||0===h.indexOf("!=")?g.push(Xa(h,d)):g.push(e?d===h:0<=d.indexOf(h)):"and"===h?(h=g.pop(),f=g.pop(),g.push(h&&f)):"or"===h?(h=g.pop(),f=g.pop(),g.push(h||f)):"not"===h&&(h=g.pop(),g.push(!h))}f=1===g.length&&g.pop()}else f=F;if(e=f)this.options.matchingElement?(e=b,window.jQuery&&(e=window.jQuery(b)),e=this.options.matchingElement(a,e,c)):e=F;return e};H.$disposeInternal$=function(){Oa.$superClass_$.$disposeInternal$.call(this);
R(this.list);R(this.options);R(this.$input_$);t(this.$listItems$,R);t(this.$filters$,R);R(this.$eh_$);R(this.$search_$);delete this.list;delete this.options;delete this.$input_$;delete this.$listItems$;delete this.$filters$;delete this.$eh_$;delete this.$search_$};B(fa,Oa);H=fa.prototype;H.$initialiseFilters$=function(){this.$tbody_$=q("tbody",D,this.list)[0];this.$thead_$=q("thead",D,this.options.frozenHeaderTable||this.list)[0];if(!this.$thead_$){var a=q("tr",D,this.$tbody_$)[0],a=q("td",D,a),b=
E("thead",D),c=this.list;c.insertBefore(b,c.childNodes[0]||D);c=E("tr",D);b.appendChild(c);for(var d=0;d<a.length;d++){var e=E("th",D);e.innerHTML="col"+d;c.appendChild(e)}this.$thead_$=b}fa.$superClass_$.$initialiseFilters$.call(this)};H.$initialiseControlCaches$=function(){var b=q("tr",D,this.$thead_$),d=q("tr","filters",this.$thead_$);1<b.length&&0<d.length?this.$headers_$=q("th",D,b[b.length-2]):0<b.length&&(this.$headers_$=q("th",D,b[b.length-1]));this.$listItems$=q("tr",D,this.$tbody_$);b=q("tr",
"filters",this.$thead_$);0<b.length&&(b=b[0])&&b.parentNode&&b.parentNode.removeChild(b);b=E("tr",{"class":"filters"});for(d=0;d<this.$headers_$.length;d++){var e=this.$headers_$[d],f="none"!=e.style.display;if(f){var h="false"===e.getAttribute("filter")||!f?"":Q(e),f=e.getAttribute("filter-class");if(h&&0<h.length){var k;a:{var h=this,m=d,e=e.getAttribute("filter-type")||"text";switch(e){case "text":k=E("input",{type:"text",id:X(h)+"_filter_"+m,"class":"filter",title:h.options.filterToolTipMessage});
break a;case "ddl":k=ia(h,m);break a;default:a("filter-type: "+e+" is not supported")}}e=k;c("width")?l(e,"95%","width"):Y("width",s(l,e));e=E("td",D,k)}else e=E("td",{},"");f&&x(e,f);b.appendChild(e)}}this.$thead_$.appendChild(b);b=q("tr","filters",this.$thead_$)[0];this.$filters$=g(M(q("input",D,b),function(a){return a}),M(q("select",D,b),function(a){return a}));this.$filterColumnIndexes_$=M(this.$filters$,this.$getColumnIndexOfFilter_$,this)};H.$getColumnIndexOfFilter_$=function(a){a=da(a,"TD");
if(!a||0>=a.length)return-1;var b=da(a,"TR").getElementsByTagName("td");return C(b,a)};H.$getFilterStates$=function(){for(var a=[],b=0;b<this.$filters$.length;b++){var c=this.$getFilterStateForFilter$(this.$filters$[b]);c&&a.push(c)}if(!this.options.additionalFilterTriggers)return a;for(b=0;b<this.options.additionalFilterTriggers.length;b++)(c=this.$getFilterStateForFilter$(this.options.additionalFilterTriggers[b]))&&a.push(c);return a};H.$getFilterStateForFilter$=function(a){var b=fa.$superClass_$.$getFilterStateForFilter$.call(this,
a);b&&(b.$idx$=this.$getColumnIndexOfFilter_$(a));return b};H.$doesElementContainText$=function(a,b,c){var d=b.getElementsByTagName("td"),e=a===D?-1:a.$idx$;if(0>e){for(var e=[],f=0;f<d.length;f++){var g=this.$headers_$[f];"none"!=g.style.display&&"false"!==g.getAttribute("filter")&&e.push(u(Q(d[f])))}return fa.$superClass_$.$doesElementContainText$.call(this,a,b,c,e.join("\t"))}return fa.$superClass_$.$doesElementContainText$.call(this,a,d[e],c)};H.$disposeInternal$=function(){fa.$superClass_$.$disposeInternal$.call(this);
R(this.$thead_$);R(this.$tbody_$);t(this.$headers_$,R);delete this.$filterColumnIndexes_$;delete this.$headers_$;delete this.$thead_$;delete this.$tbody_$};var Da=window.jQuery;if(Da){Da.$tableFilter$=function(a,b){var c;this.$init$=function(){var d=Da.extend({},new v,b);c=new fa(a,d)};this.refresh=function(){fa.$superClass_$.refresh.call(c)};this.reset=function(a){fa.$superClass_$.$resetList$.call(c,a)};this.$init$()};Da.fn.tableFilter=function(a){return t(this,function(b){if(U===Da(b).data("tableFilter")||
Da(b).data("tableFilter")===D){var c=new Da.$tableFilter$(b,a);Da(b).data("tableFilter",c)}})};Da.fn.tableFilterApplyFilterValues=function(){return t(this,function(a){U!==Da(a).data("tableFilter")&&Da(a).data("tableFilter")!==D&&Da(a).data("tableFilter").refresh()})};Da.fn.tableFilterRefresh=function(){return t(this,function(a){U!==Da(a).data("tableFilter")&&Da(a).data("tableFilter")!==D&&Da(a).data("tableFilter").reset(a)})}}});
define("site/species_list",["lib/picnet.table.filter.min"],function(){$(document).ready(function(){function a(){$(d+"0").is(":visible")&&(c=true);if(c===false)setTimeout(a,1E3);else{var f=d+"0",h;for(h in e)if(h in b){f=d+b[h];$(f).val(e[h])}else console.log("Invalid parameter:",h);$("table#species").tableFilterApplyFilterValues()}}var b={name:0,common:1,family:2,dist:3,"native":4,wetland:5,group:6,subgroup:7},d="#species_filter_",c=false,e={};$("body").addClass("about");$("table#species").tableFilter({enableCookies:false,
filterDelay:400});var h=decodeURIComponent(window.location.hash);if(h.length>0){for(var f,o=h.substr(1).split("&"),h=0;h<o.length;h++){f=o[h].split("=");e[f[0]]=f[1]}a()}})});define("util/fade",["bridge/jquery"],function(a){return fade_next_banner_image=function(){var b=a("#banner > img"),d,c=a(b[0]);for(d=0;d<b.length;d++)if(a(b[d]).is(":visible")){c=a(b[d]);break}b=d<b.length-1?a(b[d+1]):a(b[0]);c.fadeOut(2E3);b.fadeIn(2E3)}});require(["util/fade"],function(a){setInterval(a,6E3)});
define("site/home",function(){});
define("site/maps_test",["bridge/jquery","mapping/google_maps","mapping/sightings_map"],function(a,b,d){b=function(){a(document).ready(function(){a('div.map[data-type="sightings"]').each(function(){var a=new d(this);a.setup();a.mark_center()});var b=a("#new-england-map"),b=new d(b);b.setup();b.mark_center();b=a("#mini-sightings-map");b=new d(b);b.setup();b.show_plant("Acer saccharum");b=a("#sightings-map");b=new d(b);b.setup();b.show_plant("Nymphaea odorata")})};b.prototype.expose=function(){a(this).expose()};
b.prototype.show_overlay=function(){a("#overlay-test").overlay({mask:{color:"#ccc",loadSpeed:500,opacity:0.5,top:0},closeOnClick:true,load:true}).click(function(){a("#overlay-test").data("overlay").close()});a("#exposeMask").css("position","fixed")};return b});
define("simplekey/SearchSuggest",["bridge/jquery"],function(a){var b=function(){};b.prototype={};b.prototype.init=function(b){this.stored_search_box_value=b;this.search_box=a("#search-suggest input").first();this.search_box.length==0&&console.error("SearchSuggest.js: Search box not found.");this.menu=a("#search-suggest .menu").first();this.menu.length==0&&console.error("SearchSuggest.js: Menu not found.");this.menu_list=a("#search-suggest .menu ul").first();this.menu_list.length==0&&console.error("SearchSuggest.js: Menu list not found.");
this.result_cache={}};b.prototype.setup=function(){this.set_timer();this.search_box.keyup(a.proxy(this.handle_keys,this));a(window).resize(a.proxy(this.set_horizontal_position,this))};b.prototype.get_highlighted_menu_item_index=function(){return this.menu.find("li.highlighted").index()};b.prototype.get_text_from_item_html=function(a){var b=a.indexOf("q=")+2,e=a.indexOf('">');return a.slice(b,e)};b.prototype.highlight_menu_item=function(a){var b=this.menu.find("li").eq(a);if(b!==void 0){a=this.get_highlighted_menu_item_index();
a>=0&&this.menu.find("li").eq(a).removeClass("highlighted");b.addClass("highlighted");this.stored_search_box_value=b=unescape(this.get_text_from_item_html(b.html()));this.search_box.val(b)}else console.log("menu item "+a+" undefined")};b.prototype.highlight_next_menu_item=function(){var a=this.get_highlighted_menu_item_index()+1,b=this.menu.find("li").length;a>=b&&(a=0);this.highlight_menu_item(a)};b.prototype.highlight_previous_menu_item=function(){var a=this.get_highlighted_menu_item_index()-1,
b=this.menu.find("li").length;a<0&&(a=b-1);this.highlight_menu_item(a)};b.prototype.handle_keys=function(a){switch(a.which){case 40:this.highlight_next_menu_item();break;case 38:this.highlight_previous_menu_item();break;case 9:case 27:this.show_menu(false)}};b.prototype.set_timer=function(){setTimeout(a.proxy(this.check_for_change,this),200)};b.prototype.check_for_change=function(){this.has_search_box_changed()&&this.handle_search_query();this.set_timer()};b.prototype.has_search_box_changed=function(){var a=
false;if(this.search_box.val()!==this.stored_search_box_value){a=true;this.stored_search_box_value=this.search_box.val()}return a};b.prototype.set_horizontal_position=function(){var a=this.search_box.offset();this.menu.css("left",a.left-3+"px")};b.prototype.show_menu=function(a){a?this.menu.removeClass("hidden"):this.menu.addClass("hidden");this.set_horizontal_position()};b.prototype.format_suggestion=function(a,b){return a.replace(RegExp(b,"i"),"<span>$&</span>").toLowerCase()};b.prototype.display_suggestions=
function(b,c){this.menu_list.empty();if(b.length>0){this.show_menu(true);var e;for(e=0;e<b.length;e=e+1){var h=b[e],f=h.toLowerCase().replace(/\-/g," "),f=SEARCH_URL+"?q="+f,h=this.format_suggestion(h,c),o=a(document.createElement("li")),k=a(document.createElement("a"));k.attr("href",f);k.html(h);o.append(k);o.bind("click",{item:o},a.proxy(function(a){this.select_suggestion(a.data.item)},this));this.menu_list.append(o)}}else this.show_menu(false)};b.prototype.get_cached_suggestions=function(a){return this.result_cache[a]};
b.prototype.get_suggestions=function(b){a.ajax({url:SUGGEST_URL,data:{q:b},context:this}).done(function(a){this.result_cache[b]=a;this.display_suggestions(a,b)})};b.prototype.handle_search_query=function(){var a=this.stored_search_box_value;if(a.length>0){var b=this.get_cached_suggestions(a);b===void 0?this.get_suggestions(a):this.display_suggestions(b,a)}else this.show_menu(false)};b.prototype.select_suggestion=function(a){a=a.find("a").first();if(a!==void 0){a=a.attr("href");if(a!==void 0){var b=
unescape(a.substring(a.indexOf("=")+1));this.stored_search_box_value=b;this.search_box.val(b);this.show_menu(false);window.location.href=a}}};return b});require(["bridge/jquery","simplekey/SearchSuggest"],function(a,b){return a(document).ready(function(){var d=a("#search input").val(),c=new b;c.init(d);c.setup()})});define("util/activate_search_suggest",function(){});
define("util/suggester",["bridge/jquery"],function(a){function b(b){this.TIMEOUT_INTERVAL_MS=200;this.KEY_CODE={DOWN:40,UP:38,TAB:9,ESCAPE:27,ENTER:13,SHIFT:16};this.SELECTED_CLASS="selected";this.$input_box=a(b);this.suggestions_url=this.$input_box.attr("data-suggest-url");this.submit_on_select=this.$input_box.attr("data-submit-on-select");this.align_menu_inside_input=this.$input_box.attr("data-align-menu-inside-input");this.cached_suggestions={}}b.prototype.setup=function(){this.$form=this.$input_box.parent();
this.$input_box.after("<div><ul></ul></div>");this.$menu=this.$input_box.next();this.$menu.hide();this.$menu_list=this.$menu.children("ul").eq(0);var b=this.$input_box.outerWidth(true)-2;this.align_menu_inside_input==="true"&&(b=b-parseInt(this.$input_box.css("padding-right")));this.$menu.css("width",b);this.set_menu_position();a(window).resize(a.proxy(this.set_menu_position,this));this.$input_box.keyup(a.proxy(this.handle_keys_up,this));this.$input_box.keydown(a.proxy(this.handle_keys_down,this));
a(document).click(a.proxy(function(){this.$menu.hide()},this));this.$menu.click(function(a){a.stopPropagation()});this.$input_box.blur(a.proxy(this.enter_current_item,this));this.$input_box.focus(a.proxy(this.hide_menu,this))};b.prototype.hide_menu=function(){this.$menu.hide()};b.prototype.set_menu_position=function(){var a=this.$input_box.offset(),b=0;this.align_menu_inside_input==="true"&&(b=b+(parseInt(this.$input_box.css("padding-left"))-3));this.$menu.css("left",a.left+b);this.$menu.css("top",
a.top+this.$input_box.outerHeight())};b.prototype.handle_keys_up=function(a){switch(a.which){case this.KEY_CODE.DOWN:this.select_next_menu_item();break;case this.KEY_CODE.UP:this.select_previous_menu_item();break;case this.KEY_CODE.ESCAPE:this.$menu.hide();break;case this.KEY_CODE.TAB:this.$menu.hide();break;case this.KEY_CODE.ENTER:break;case this.KEY_CODE_SHIFT:break;default:this.handle_input_value()}};b.prototype.handle_keys_down=function(a){switch(a.which){case this.KEY_CODE.TAB:this.$menu.hide();
break;case this.KEY_CODE.ENTER:if(this.$menu.is(":visible")){a.preventDefault();a.stopPropagation()}this.enter_current_item();this.$menu.hide()}};b.prototype.handle_input_value=function(){var a=this.$input_box.val();if(a.length>0){var b=this.cached_suggestions[a];b===void 0?this.get_suggestions(a):this.display_suggestions(b,a)}else this.$menu.hide()};b.prototype.get_suggestions=function(b){var c=this.suggestions_url.replace("%s",b);a.ajax({url:c,context:this}).done(function(a){this.cached_suggestions[b]=
a;this.display_suggestions(a,b)})};b.prototype.format_suggestion=function(a,b){return a.replace(RegExp(b,"i"),"<span>$&</span>")};b.prototype.display_suggestions=function(b,c){this.$menu_list.empty();if(b.length>0){this.$menu.show();var e;for(e=0;e<b.length;e=e+1){var h=b[e];h.toLowerCase().replace(/\-/g," ");var h=this.format_suggestion(h,c),f=a(document.createElement("li"));f.append(h);f.mouseenter(a.proxy(function(b){this.clear_menu_selection();a(b.target).addClass(this.SELECTED_CLASS)},this));
f.mouseleave(a.proxy(function(b){a(b.target).removeClass(this.SELECTED_CLASS)},this));f.click(a.proxy(function(a){this.fill_box(a.target.innerText)},this));this.$menu_list.append(f)}}else this.$menu.hide()};b.prototype.get_selected_index=function(){return this.$menu.find("li."+this.SELECTED_CLASS).index()};b.prototype.clear_menu_selection=function(){this.$menu.find("li").removeClass(this.SELECTED_CLASS)};b.prototype.select_menu_item=function(a){this.clear_menu_selection();if(a>=0){a=this.$menu.find("li").eq(a);
a!==void 0&&a.addClass(this.SELECTED_CLASS)}};b.prototype.select_next_menu_item=function(){if(this.$menu.is(":visible")){var a=this.get_selected_index()+1,b=this.$menu.find("li").length;a>b&&(a=-1);this.select_menu_item(a)}};b.prototype.select_previous_menu_item=function(){if(this.$menu.is(":visible")){var a=this.get_selected_index(),b=a-1,e=this.$menu.find("li").length;a<=-1&&(b=e-1);this.select_menu_item(b)}};b.prototype.fill_box=function(a){this.$input_box.val(a);this.$menu.hide();this.submit_on_select===
"true"&&this.$form.submit()};b.prototype.enter_current_item=function(){var a=this.get_selected_index();if(a>-1){a=this.$menu.find("li").eq(a).text();this.fill_box(a)}};return b});define("util/suggester_init",["bridge/jquery","util/suggester"],function(a,b){a(document).ready(function(){a("input.suggest").each(function(){(new b(this)).setup()})})});
define("util/location_field",["bridge/jquery"],function(a){function b(b){this.$input_box=a(b);this.$input_box_id=this.$input_box.attr("id");this.$location_map_id=this.$input_box_id+"_map";this.$location_map=a("#"+this.$location_map_id)}b.prototype.setup=function(){this.$location_map!==void 0&&this.$input_box.blur(a.proxy(this.update_map,this))};b.prototype.update_map=function(){var a=this.$input_box.val();if(a!==""){var b=this.$location_map.attr("alt").slice(5);if(a!==b){b=this.$location_map.attr("src").replace(RegExp(b,
"g"),a);this.$location_map.attr("src",b);this.$location_map.attr("alt","Map: "+a)}}};return b});define("util/location_field_init",["bridge/jquery","util/location_field"],function(a,b){a(document).ready(function(){a("input.location").each(function(){(new b(this)).setup()})})});