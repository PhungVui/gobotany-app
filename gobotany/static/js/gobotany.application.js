/*
 Color animation jQuery-plugin
 http://www.bitstorm.org/jquery/color-animation/
 Copyright 2011 Edwin Martin <edwin@bitstorm.org>
 Released under the MIT and GPL licenses.

 ==========================================================================
 Ember
 Copyright ©2006-2011, Strobe Inc. and contributors.
 Portions copyright ©2008-2011 Apple Inc. All rights reserved.

 Permission is hereby granted, free of charge, to any person obtaining a
 copy of this software and associated documentation files (the "Software"),
 to deal in the Software without restriction, including without limitation
 the rights to use, copy, modify, merge, publish, distribute, sublicense,
 and/or sell copies of the Software, and to permit persons to whom the
 Software is furnished to do so, subject to the following conditions:

 The above copyright notice and this permission notice shall be included in
 all copies or substantial portions of the Software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
 DEALINGS IN THE SOFTWARE.

 For more information about Ember, visit http://www.emberjs.com

 ==========================================================================
*/
(function(a,b){function d(c,h,H){if(H===b&&1===c.nodeType)if(H="data-"+h.replace(wa,"-$1").toLowerCase(),H=c.getAttribute(H),"string"===typeof H){try{H="true"===H?!0:"false"===H?!1:"null"===H?null:f.isNumeric(H)?+H:Gb.test(H)?f.parseJSON(H):H}catch(a){}f.data(c,h,H)}else H=b;return H}function e(c){for(var h in c)if(!("data"===h&&f.isEmptyObject(c[h]))&&"toJSON"!==h)return!1;return!0}function g(c,h,H){var b=h+"defer",a=h+"queue",d=h+"mark",e=f._data(c,b);e&&(("queue"===H||!f._data(c,a))&&("mark"===
H||!f._data(c,d)))&&setTimeout(function(){!f._data(c,a)&&!f._data(c,d)&&(f.removeData(c,b,!0),e.fire())},0)}function k(){return!1}function j(){return!0}function p(c,h,H){h=h||0;if(f.isFunction(h))return f.grep(c,function(c,b){return!!h.call(c,b,c)===H});if(h.nodeType)return f.grep(c,function(c){return c===h===H});if("string"===typeof h){var b=f.grep(c,function(c){return 1===c.nodeType});if(Hb.test(h))return f.filter(h,b,!H);h=f.filter(h,b)}return f.grep(c,function(c){return 0<=f.inArray(c,h)===H})}
function o(c){var h=uc.split("|"),c=c.createDocumentFragment();if(c.createElement)for(;h.length;)c.createElement(h.pop());return c}function z(c,h){if(1===h.nodeType&&f.hasData(c)){var b,a,d;a=f._data(c);var e=f._data(h,a),m=a.events;if(m)for(b in delete e.handle,e.events={},m){a=0;for(d=m[b].length;a<d;a++)f.event.add(h,b,m[b][a])}e.data&&(e.data=f.extend({},e.data))}}function B(c,h){var b;if(1===h.nodeType){h.clearAttributes&&h.clearAttributes();h.mergeAttributes&&h.mergeAttributes(c);b=h.nodeName.toLowerCase();
if("object"===b)h.outerHTML=c.outerHTML;else if("input"===b&&("checkbox"===c.type||"radio"===c.type)){if(c.checked&&(h.defaultChecked=h.checked=c.checked),h.value!==c.value)h.value=c.value}else"option"===b?h.selected=c.defaultSelected:"input"===b||"textarea"===b?h.defaultValue=c.defaultValue:"script"===b&&h.text!==c.text&&(h.text=c.text);h.removeAttribute(f.expando);h.removeAttribute("_submit_attached");h.removeAttribute("_change_attached")}}function y(c){return"undefined"!==typeof c.getElementsByTagName?
c.getElementsByTagName("*"):"undefined"!==typeof c.querySelectorAll?c.querySelectorAll("*"):[]}function F(c){if("checkbox"===c.type||"radio"===c.type)c.defaultChecked=c.checked}function C(c){var h=(c.nodeName||"").toLowerCase();"input"===h?F(c):"script"!==h&&"undefined"!==typeof c.getElementsByTagName&&f.grep(c.getElementsByTagName("input"),F)}function A(c,h,b){var a="width"===h?c.offsetWidth:c.offsetHeight,d="width"===h?1:0;if(0<a){if("border"!==b)for(;4>d;d+=2)b||(a-=parseFloat(f.css(c,"padding"+
Ib[d]))||0),a="margin"===b?a+(parseFloat(f.css(c,b+Ib[d]))||0):a-(parseFloat(f.css(c,"border"+Ib[d]+"Width"))||0);return a+"px"}a=Ob(c,h);if(0>a||null==a)a=c.style[h];if(Pb.test(a))return a;a=parseFloat(a)||0;if(b)for(;4>d;d+=2)a+=parseFloat(f.css(c,"padding"+Ib[d]))||0,"padding"!==b&&(a+=parseFloat(f.css(c,"border"+Ib[d]+"Width"))||0),"margin"===b&&(a+=parseFloat(f.css(c,b+Ib[d]))||0);return a+"px"}function w(c){return function(h,b){"string"!==typeof h&&(b=h,h="*");if(f.isFunction(b))for(var a=h.toLowerCase().split(Pc),
d=0,e=a.length,m,j;d<e;d++)m=a[d],(j=/^\+/.test(m))&&(m=m.substr(1)||"*"),m=c[m]=c[m]||[],m[j?"unshift":"push"](b)}}function K(c,h,H,a,f,d){f=f||h.dataTypes[0];d=d||{};d[f]=!0;for(var f=c[f],e=0,m=f?f.length:0,j=c===vc,g;e<m&&(j||!g);e++)g=f[e](h,H,a),"string"===typeof g&&(!j||d[g]?g=b:(h.dataTypes.unshift(g),g=K(c,h,H,a,g,d)));if((j||!g)&&!d["*"])g=K(c,h,H,a,"*",d);return g}function W(c,h){var H,a,d=f.ajaxSettings.flatOptions||{};for(H in h)h[H]!==b&&((d[H]?c:a||(a={}))[H]=h[H]);a&&f.extend(!0,c,
a)}function L(c,h,b,a){if(f.isArray(h))f.each(h,function(h,f){b||xd.test(c)?a(c,f):L(c+"["+("object"===typeof f?h:"")+"]",f,b,a)});else if(!b&&"object"===f.type(h))for(var d in h)L(c+"["+d+"]",h[d],b,a);else a(c,h)}function X(){try{return new a.XMLHttpRequest}catch(c){}}function qa(){setTimeout(n,0);return Qb=f.now()}function n(){Qb=b}function E(c,h){var b={};f.each($b.concat.apply([],$b.slice(0,h)),function(){b[this]=c});return b}function ma(c){if(!Rb[c]){var h=s.body,b=f("<"+c+">").appendTo(h),
a=b.css("display");b.remove();if("none"===a||""===a){Na||(Na=s.createElement("iframe"),Na.frameBorder=Na.width=Na.height=0);h.appendChild(Na);if(!Jb||!Na.createElement)Jb=(Na.contentWindow||Na.contentDocument).document,Jb.write((f.support.boxModel?"<!doctype html>":"")+"<html><body>"),Jb.close();b=Jb.createElement(c);Jb.body.appendChild(b);a=f.css(b,"display");h.removeChild(Na)}Rb[c]=a}return Rb[c]}function v(c){return f.isWindow(c)?c:9===c.nodeType?c.defaultView||c.parentWindow:!1}var s=a.document,
M=a.location,f,O=function(){if(!u.isReady){try{s.documentElement.doScroll("left")}catch(c){setTimeout(O,1);return}u.ready()}},u=function(c,h){return new u.fn.init(c,h,P)},r=a.jQuery,x=a.$,P,ca=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,aa=/\S/,l=/^\s+/,R=/\s+$/,xa=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,Y=/^[\],:{}\s]*$/,na=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,Oa=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,da=/(?:^|:|,)(?:\s*\[)+/g,fa=/(webkit)[ \/]([\w.]+)/,Ja=/(opera)(?:.*version)?[ \/]([\w.]+)/,
Ka=/(msie) ([\w.]+)/,oa=/(mozilla)(?:.*? rv:([\w.]+))?/,ea=/-([a-z]|[0-9])/ig,Z=/^-ms-/,Fa=function(c,h){return(h+"").toUpperCase()},Wa=a.navigator.userAgent,za,ua,va,Pa=Object.prototype.toString,Aa=Object.prototype.hasOwnProperty,Ta=Array.prototype.push,hb=Array.prototype.slice,Qa=String.prototype.trim,pb=Array.prototype.indexOf,ib={};u.fn=u.prototype={constructor:u,init:function(c,h,H){var a;if(!c)return this;if(c.nodeType)return this.context=this[0]=c,this.length=1,this;if("body"===c&&!h&&s.body)return this.context=
s,this[0]=s.body,this.selector=c,this.length=1,this;if("string"===typeof c){if((a="<"===c.charAt(0)&&">"===c.charAt(c.length-1)&&3<=c.length?[null,c,null]:ca.exec(c))&&(a[1]||!h)){if(a[1])return H=(h=h instanceof u?h[0]:h)?h.ownerDocument||h:s,(c=xa.exec(c))?u.isPlainObject(h)?(c=[s.createElement(c[1])],u.fn.attr.call(c,h,!0)):c=[H.createElement(c[1])]:(c=u.buildFragment([a[1]],[H]),c=(c.cacheable?u.clone(c.fragment):c.fragment).childNodes),u.merge(this,c);if((h=s.getElementById(a[2]))&&h.parentNode){if(h.id!==
a[2])return H.find(c);this.length=1;this[0]=h}this.context=s;this.selector=c;return this}return!h||h.jquery?(h||H).find(c):this.constructor(h).find(c)}if(u.isFunction(c))return H.ready(c);c.selector!==b&&(this.selector=c.selector,this.context=c.context);return u.makeArray(c,this)},selector:"",jquery:"1.7.2",length:0,size:function(){return this.length},toArray:function(){return hb.call(this,0)},get:function(c){return null==c?this.toArray():0>c?this[this.length+c]:this[c]},pushStack:function(c,h,b){var a=
this.constructor();u.isArray(c)?Ta.apply(a,c):u.merge(a,c);a.prevObject=this;a.context=this.context;"find"===h?a.selector=this.selector+(this.selector?" ":"")+b:h&&(a.selector=this.selector+"."+h+"("+b+")");return a},each:function(c,h){return u.each(this,c,h)},ready:function(c){u.bindReady();ua.add(c);return this},eq:function(c){c=+c;return-1===c?this.slice(c):this.slice(c,c+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(hb.apply(this,
arguments),"slice",hb.call(arguments).join(","))},map:function(c){return this.pushStack(u.map(this,function(h,b){return c.call(h,b,h)}))},end:function(){return this.prevObject||this.constructor(null)},push:Ta,sort:[].sort,splice:[].splice};u.fn.init.prototype=u.fn;u.extend=u.fn.extend=function(){var c,h,a,f,d,e=arguments[0]||{},m=1,g=arguments.length,j=!1;"boolean"===typeof e&&(j=e,e=arguments[1]||{},m=2);"object"!==typeof e&&!u.isFunction(e)&&(e={});g===m&&(e=this,--m);for(;m<g;m++)if(null!=(c=arguments[m]))for(h in c)a=
e[h],f=c[h],e!==f&&(j&&f&&(u.isPlainObject(f)||(d=u.isArray(f)))?(d?(d=!1,a=a&&u.isArray(a)?a:[]):a=a&&u.isPlainObject(a)?a:{},e[h]=u.extend(j,a,f)):f!==b&&(e[h]=f));return e};u.extend({noConflict:function(c){a.$===u&&(a.$=x);c&&a.jQuery===u&&(a.jQuery=r);return u},isReady:!1,readyWait:1,holdReady:function(c){c?u.readyWait++:u.ready(!0)},ready:function(c){if(!0===c&&!--u.readyWait||!0!==c&&!u.isReady){if(!s.body)return setTimeout(u.ready,1);u.isReady=!0;!0!==c&&0<--u.readyWait||(ua.fireWith(s,[u]),
u.fn.trigger&&u(s).trigger("ready").off("ready"))}},bindReady:function(){if(!ua){ua=u.Callbacks("once memory");if("complete"===s.readyState)return setTimeout(u.ready,1);if(s.addEventListener)s.addEventListener("DOMContentLoaded",va,!1),a.addEventListener("load",u.ready,!1);else if(s.attachEvent){s.attachEvent("onreadystatechange",va);a.attachEvent("onload",u.ready);var c=!1;try{c=null==a.frameElement}catch(h){}s.documentElement.doScroll&&c&&O()}}},isFunction:function(c){return"function"===u.type(c)},
isArray:Array.isArray||function(c){return"array"===u.type(c)},isWindow:function(c){return null!=c&&c==c.window},isNumeric:function(c){return!isNaN(parseFloat(c))&&isFinite(c)},type:function(c){return null==c?String(c):ib[Pa.call(c)]||"object"},isPlainObject:function(c){if(!c||"object"!==u.type(c)||c.nodeType||u.isWindow(c))return!1;try{if(c.constructor&&!Aa.call(c,"constructor")&&!Aa.call(c.constructor.prototype,"isPrototypeOf"))return!1}catch(h){return!1}for(var a in c);return a===b||Aa.call(c,a)},
isEmptyObject:function(c){for(var h in c)return!1;return!0},error:function(c){throw Error(c);},parseJSON:function(c){if("string"!==typeof c||!c)return null;c=u.trim(c);if(a.JSON&&a.JSON.parse)return a.JSON.parse(c);if(Y.test(c.replace(na,"@").replace(Oa,"]").replace(da,"")))return(new Function("return "+c))();u.error("Invalid JSON: "+c)},parseXML:function(c){if("string"!==typeof c||!c)return null;var h,H;try{a.DOMParser?(H=new DOMParser,h=H.parseFromString(c,"text/xml")):(h=new ActiveXObject("Microsoft.XMLDOM"),
h.async="false",h.loadXML(c))}catch(f){h=b}(!h||!h.documentElement||h.getElementsByTagName("parsererror").length)&&u.error("Invalid XML: "+c);return h},noop:function(){},globalEval:function(c){c&&aa.test(c)&&(a.execScript||function(c){a.eval.call(a,c)})(c)},camelCase:function(c){return c.replace(Z,"ms-").replace(ea,Fa)},nodeName:function(c,h){return c.nodeName&&c.nodeName.toUpperCase()===h.toUpperCase()},each:function(c,h,a){var f,d=0,e=c.length,m=e===b||u.isFunction(c);if(a)if(m)for(f in c){if(!1===
h.apply(c[f],a))break}else for(;d<e&&!1!==h.apply(c[d++],a););else if(m)for(f in c){if(!1===h.call(c[f],f,c[f]))break}else for(;d<e&&!1!==h.call(c[d],d,c[d++]););return c},trim:Qa?function(c){return null==c?"":Qa.call(c)}:function(c){return null==c?"":c.toString().replace(l,"").replace(R,"")},makeArray:function(c,h){var b=h||[];if(null!=c){var a=u.type(c);null==c.length||"string"===a||"function"===a||"regexp"===a||u.isWindow(c)?Ta.call(b,c):u.merge(b,c)}return b},inArray:function(c,h,b){var a;if(h){if(pb)return pb.call(h,
c,b);a=h.length;for(b=b?0>b?Math.max(0,a+b):b:0;b<a;b++)if(b in h&&h[b]===c)return b}return-1},merge:function(c,h){var a=c.length,f=0;if("number"===typeof h.length)for(var d=h.length;f<d;f++)c[a++]=h[f];else for(;h[f]!==b;)c[a++]=h[f++];c.length=a;return c},grep:function(c,h,b){for(var a=[],f,b=!!b,d=0,e=c.length;d<e;d++)f=!!h(c[d],d),b!==f&&a.push(c[d]);return a},map:function(c,h,a){var f,d,e=[],m=0,g=c.length;if(c instanceof u||g!==b&&"number"===typeof g&&(0<g&&c[0]&&c[g-1]||0===g||u.isArray(c)))for(;m<
g;m++)f=h(c[m],m,a),null!=f&&(e[e.length]=f);else for(d in c)f=h(c[d],d,a),null!=f&&(e[e.length]=f);return e.concat.apply([],e)},guid:1,proxy:function(c,h){if("string"===typeof h)var a=c[h],h=c,c=a;if(!u.isFunction(c))return b;var f=hb.call(arguments,2),a=function(){return c.apply(h,f.concat(hb.call(arguments)))};a.guid=c.guid=c.guid||a.guid||u.guid++;return a},access:function(c,h,a,f,d,e,m){var g,j=null==a,q=0,k=c.length;if(a&&"object"===typeof a){for(q in a)u.access(c,h,q,a[q],1,e,f);d=1}else if(f!==
b){g=m===b&&u.isFunction(f);j&&(g?(g=h,h=function(c,h,b){return g.call(u(c),b)}):(h.call(c,f),h=null));if(h)for(;q<k;q++)h(c[q],a,g?f.call(c[q],q,h(c[q],a)):f,m);d=1}return d?c:j?h.call(c):k?h(c[0],a):e},now:function(){return(new Date).getTime()},uaMatch:function(c){c=c.toLowerCase();c=fa.exec(c)||Ja.exec(c)||Ka.exec(c)||0>c.indexOf("compatible")&&oa.exec(c)||[];return{browser:c[1]||"",version:c[2]||"0"}},sub:function(){function c(h,b){return new c.fn.init(h,b)}u.extend(!0,c,this);c.superclass=this;
c.fn=c.prototype=this();c.fn.constructor=c;c.sub=this.sub;c.fn.init=function(b,a){a&&(a instanceof u&&!(a instanceof c))&&(a=c(a));return u.fn.init.call(this,b,a,h)};c.fn.init.prototype=c.fn;var h=c(s);return c},browser:{}});u.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(c,h){ib["[object "+h+"]"]=h.toLowerCase()});za=u.uaMatch(Wa);za.browser&&(u.browser[za.browser]=!0,u.browser.version=za.version);u.browser.webkit&&(u.browser.safari=!0);aa.test("\u00a0")&&(l=
/^[\s\xA0]+/,R=/[\s\xA0]+$/);P=u(s);s.addEventListener?va=function(){s.removeEventListener("DOMContentLoaded",va,false);u.ready()}:s.attachEvent&&(va=function(){if(s.readyState==="complete"){s.detachEvent("onreadystatechange",va);u.ready()}});f=u;var Ba={};f.Callbacks=function(c){var h;if(c){if(!(h=Ba[c])){h=c;var a=Ba[h]={},d,e;h=h.split(/\s+/);d=0;for(e=h.length;d<e;d++)a[h[d]]=true;h=a}}else h={};var c=h,m=[],g=[],j,q,k,l,r,Q,o=function(h){var b,a,d,H;b=0;for(a=h.length;b<a;b++){d=h[b];H=f.type(d);
H==="array"?o(d):H==="function"&&(!c.unique||!x.has(d))&&m.push(d)}},p=function(h,b){b=b||[];j=!c.memory||[h,b];k=q=true;Q=l||0;l=0;for(r=m.length;m&&Q<r;Q++)if(m[Q].apply(h,b)===false&&c.stopOnFalse){j=true;break}k=false;if(m)if(c.once)j===true?x.disable():m=[];else if(g&&g.length){j=g.shift();x.fireWith(j[0],j[1])}},x={add:function(){if(m){var c=m.length;o(arguments);if(k)r=m.length;else if(j&&j!==true){l=c;p(j[0],j[1])}}return this},remove:function(){if(m)for(var h=arguments,b=0,a=h.length;b<a;b++)for(var f=
0;f<m.length;f++)if(h[b]===m[f]){if(k&&f<=r){r--;f<=Q&&Q--}m.splice(f--,1);if(c.unique)break}return this},has:function(c){if(m)for(var h=0,b=m.length;h<b;h++)if(c===m[h])return true;return false},empty:function(){m=[];return this},disable:function(){m=g=j=b;return this},disabled:function(){return!m},lock:function(){g=b;(!j||j===true)&&x.disable();return this},locked:function(){return!g},fireWith:function(h,b){g&&(k?c.once||g.push([h,b]):(!c.once||!j)&&p(h,b));return this},fire:function(){x.fireWith(this,
arguments);return this},fired:function(){return!!q}};return x};var ha=[].slice;f.extend({Deferred:function(c){var h=f.Callbacks("once memory"),b=f.Callbacks("once memory"),a=f.Callbacks("memory"),d="pending",e={resolve:h,reject:b,notify:a},m={done:h.add,fail:b.add,progress:a.add,state:function(){return d},isResolved:h.fired,isRejected:b.fired,then:function(c,h,b){g.done(c).fail(h).progress(b);return this},always:function(){g.done.apply(g,arguments).fail.apply(g,arguments);return this},pipe:function(c,
h,b){return f.Deferred(function(a){f.each({done:[c,"resolve"],fail:[h,"reject"],progress:[b,"notify"]},function(c,h){var b=h[0],d=h[1],H;if(f.isFunction(b))g[c](function(){if((H=b.apply(this,arguments))&&f.isFunction(H.promise))H.promise().then(a.resolve,a.reject,a.notify);else a[d+"With"](this===g?a:this,[H])});else g[c](a[d])})}).promise()},promise:function(c){if(c==null)c=m;else for(var h in m)c[h]=m[h];return c}},g=m.promise({}),j;for(j in e){g[j]=e[j].fire;g[j+"With"]=e[j].fireWith}g.done(function(){d=
"resolved"},b.disable,a.lock).fail(function(){d="rejected"},h.disable,a.lock);c&&c.call(g,g);return g},when:function(c){function h(c){return function(h){a[c]=arguments.length>1?ha.call(arguments,0):h;--g||j.resolveWith(j,a)}}function b(c){return function(h){m[c]=arguments.length>1?ha.call(arguments,0):h;j.notifyWith(q,m)}}var a=ha.call(arguments,0),d=0,e=a.length,m=Array(e),g=e,j=e<=1&&c&&f.isFunction(c.promise)?c:f.Deferred(),q=j.promise();if(e>1){for(;d<e;d++)a[d]&&a[d].promise&&f.isFunction(a[d].promise)?
a[d].promise().then(h(d),j.reject,b(d)):--g;g||j.resolveWith(j,a)}else j!==c&&j.resolveWith(j,e?[c]:[]);return q}});var rb=f,ta;var ia,T,J,ab,U,ja,Xa,Ca,Da,bb,la,G=s.createElement("div");G.setAttribute("className","t");G.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>";T=G.getElementsByTagName("*");J=G.getElementsByTagName("a")[0];if(!T||!T.length||!J)ta={};else{ab=s.createElement("select");U=ab.appendChild(s.createElement("option"));
ja=G.getElementsByTagName("input")[0];ia={leadingWhitespace:3===G.firstChild.nodeType,tbody:!G.getElementsByTagName("tbody").length,htmlSerialize:!!G.getElementsByTagName("link").length,style:/top/.test(J.getAttribute("style")),hrefNormalized:"/a"===J.getAttribute("href"),opacity:/^0.55/.test(J.style.opacity),cssFloat:!!J.style.cssFloat,checkOn:"on"===ja.value,optSelected:U.selected,getSetAttribute:"t"!==G.className,enctype:!!s.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==s.createElement("nav").cloneNode(!0).outerHTML,
submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,pixelMargin:!0};f.boxModel=ia.boxModel="CSS1Compat"===s.compatMode;ja.checked=!0;ia.noCloneChecked=ja.cloneNode(!0).checked;ab.disabled=!0;ia.optDisabled=!U.disabled;try{delete G.test}catch(Ra){ia.deleteExpando=!1}!G.addEventListener&&(G.attachEvent&&G.fireEvent)&&(G.attachEvent("onclick",function(){ia.noCloneEvent=false}),G.cloneNode(!0).fireEvent("onclick"));
ja=s.createElement("input");ja.value="t";ja.setAttribute("type","radio");ia.radioValue="t"===ja.value;ja.setAttribute("checked","checked");ja.setAttribute("name","t");G.appendChild(ja);Xa=s.createDocumentFragment();Xa.appendChild(G.lastChild);ia.checkClone=Xa.cloneNode(!0).cloneNode(!0).lastChild.checked;ia.appendChecked=ja.checked;Xa.removeChild(ja);Xa.appendChild(G);if(G.attachEvent)for(bb in{submit:1,change:1,focusin:1})Da="on"+bb,la=Da in G,la||(G.setAttribute(Da,"return;"),la="function"===typeof G[Da]),
ia[bb+"Bubbles"]=la;Xa.removeChild(G);Xa=ab=U=G=ja=null;f(function(){var c,h,b,d,e=s.getElementsByTagName("body")[0];if(e){c=s.createElement("div");c.style.cssText="padding:0;margin:0;border:0;visibility:hidden;width:0;height:0;position:static;top:0;margin-top:1px";e.insertBefore(c,e.firstChild);G=s.createElement("div");c.appendChild(G);G.innerHTML="<table><tr><td style='padding:0;margin:0;border:0;display:none'></td><td>t</td></tr></table>";Ca=G.getElementsByTagName("td");la=Ca[0].offsetHeight===
0;Ca[0].style.display="";Ca[1].style.display="none";ia.reliableHiddenOffsets=la&&Ca[0].offsetHeight===0;if(a.getComputedStyle){G.innerHTML="";h=s.createElement("div");h.style.width="0";h.style.marginRight="0";G.style.width="2px";G.appendChild(h);ia.reliableMarginRight=(parseInt((a.getComputedStyle(h,null)||{marginRight:0}).marginRight,10)||0)===0}if(typeof G.style.zoom!=="undefined"){G.innerHTML="";G.style.width=G.style.padding="1px";G.style.border=0;G.style.overflow="hidden";G.style.display="inline";
G.style.zoom=1;ia.inlineBlockNeedsLayout=G.offsetWidth===3;G.style.display="block";G.style.overflow="visible";G.innerHTML="<div style='width:5px;'></div>";ia.shrinkWrapBlocks=G.offsetWidth!==3}G.style.cssText="position:absolute;top:0;left:0;width:1px;height:1px;padding:0;margin:0;border:0;visibility:hidden;";G.innerHTML="<div style='position:absolute;top:0;left:0;width:1px;height:1px;padding:0;margin:0;border:5px solid #000;display:block;'><div style='padding:0;margin:0;border:0;display:block;overflow:hidden;'></div></div><table style='position:absolute;top:0;left:0;width:1px;height:1px;padding:0;margin:0;border:5px solid #000;' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>";
h=G.firstChild;b=h.firstChild;d=h.nextSibling.firstChild.firstChild;d={doesNotAddBorder:b.offsetTop!==5,doesAddBorderForTableAndCells:d.offsetTop===5};b.style.position="fixed";b.style.top="20px";d.fixedPosition=b.offsetTop===20||b.offsetTop===15;b.style.position=b.style.top="";h.style.overflow="hidden";h.style.position="relative";d.subtractsBorderForOverflowNotVisible=b.offsetTop===-5;d.doesNotIncludeMarginInBodyOffset=e.offsetTop!==1;if(a.getComputedStyle){G.style.marginTop="1%";ia.pixelMargin=(a.getComputedStyle(G,
null)||{marginTop:0}).marginTop!=="1%"}if(typeof c.style.zoom!=="undefined")c.style.zoom=1;e.removeChild(c);G=null;f.extend(ia,d)}});ta=ia}rb.support=ta;var Gb=/^(?:\{.*\}|\[.*\])$/,wa=/([A-Z])/g;f.extend({cache:{},uuid:0,expando:"jQuery"+(f.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(c){c=c.nodeType?f.cache[c[f.expando]]:c[f.expando];return!!c&&!e(c)},data:function(c,h,a,d){if(f.acceptData(c)){var e;e=
f.expando;var m=typeof h==="string",g=c.nodeType,j=g?f.cache:c,q=g?c[e]:c[e]&&e,k=h==="events";if(q&&j[q]&&(k||d||j[q].data)||!(m&&a===b)){q||(g?c[e]=q=++f.uuid:q=e);if(!j[q]){j[q]={};if(!g)j[q].toJSON=f.noop}if(typeof h==="object"||typeof h==="function")d?j[q]=f.extend(j[q],h):j[q].data=f.extend(j[q].data,h);e=c=j[q];if(!d){if(!c.data)c.data={};c=c.data}a!==b&&(c[f.camelCase(h)]=a);if(k&&!c[h])return e.events;if(m){a=c[h];a==null&&(a=c[f.camelCase(h)])}else a=c;return a}}},removeData:function(c,
h,b){if(f.acceptData(c)){var a,d,m,g=f.expando,j=c.nodeType,q=j?f.cache:c,k=j?c[g]:g;if(q[k]){if(h)if(a=b?q[k]:q[k].data){if(!f.isArray(h))if(h in a)h=[h];else{h=f.camelCase(h);h=h in a?[h]:h.split(" ")}d=0;for(m=h.length;d<m;d++)delete a[h[d]];if(!(b?e:f.isEmptyObject)(a))return}if(!b){delete q[k].data;if(!e(q[k]))return}f.support.deleteExpando||!q.setInterval?delete q[k]:q[k]=null;j&&(f.support.deleteExpando?delete c[g]:c.removeAttribute?c.removeAttribute(g):c[g]=null)}}},_data:function(c,h,b){return f.data(c,
h,b,true)},acceptData:function(c){if(c.nodeName){var h=f.noData[c.nodeName.toLowerCase()];if(h)return!(h===true||c.getAttribute("classid")!==h)}return true}});f.fn.extend({data:function(c,h){var a,e,m,g,j,q=this[0],k=0,l=null;if(c===b){if(this.length){l=f.data(q);if(q.nodeType===1&&!f._data(q,"parsedAttrs")){m=q.attributes;for(j=m.length;k<j;k++){g=m[k].name;if(g.indexOf("data-")===0){g=f.camelCase(g.substring(5));d(q,g,l[g])}}f._data(q,"parsedAttrs",true)}}return l}if(typeof c==="object")return this.each(function(){f.data(this,
c)});a=c.split(".",2);a[1]=a[1]?"."+a[1]:"";e=a[1]+"!";return f.access(this,function(h){if(h===b){l=this.triggerHandler("getData"+e,[a[0]]);if(l===b&&q){l=f.data(q,c);l=d(q,c,l)}return l===b&&a[1]?this.data(a[0]):l}a[1]=h;this.each(function(){var b=f(this);b.triggerHandler("setData"+e,a);f.data(this,c,h);b.triggerHandler("changeData"+e,a)})},null,h,arguments.length>1,null,false)},removeData:function(c){return this.each(function(){f.removeData(this,c)})}});f.extend({_mark:function(c,h){if(c){h=(h||
"fx")+"mark";f._data(c,h,(f._data(c,h)||0)+1)}},_unmark:function(c,h,b){if(c!==true){b=h;h=c;c=false}if(h){var b=b||"fx",a=b+"mark";if(c=c?0:(f._data(h,a)||1)-1)f._data(h,a,c);else{f.removeData(h,a,true);g(h,b,"mark")}}},queue:function(c,h,b){var a;if(c){h=(h||"fx")+"queue";a=f._data(c,h);b&&(!a||f.isArray(b)?a=f._data(c,h,f.makeArray(b)):a.push(b));return a||[]}},dequeue:function(c,h){var h=h||"fx",b=f.queue(c,h),a=b.shift(),d={};a==="inprogress"&&(a=b.shift());if(a){h==="fx"&&b.unshift("inprogress");
f._data(c,h+".run",d);a.call(c,function(){f.dequeue(c,h)},d)}if(!b.length){f.removeData(c,h+"queue "+h+".run",true);g(c,h,"queue")}}});f.fn.extend({queue:function(c,h){var a=2;if(typeof c!=="string"){h=c;c="fx";a--}return arguments.length<a?f.queue(this[0],c):h===b?this:this.each(function(){var b=f.queue(this,c,h);c==="fx"&&b[0]!=="inprogress"&&f.dequeue(this,c)})},dequeue:function(c){return this.each(function(){f.dequeue(this,c)})},delay:function(c,h){c=f.fx?f.fx.speeds[c]||c:c;return this.queue(h||
"fx",function(h,b){var a=setTimeout(h,c);b.stop=function(){clearTimeout(a)}})},clearQueue:function(c){return this.queue(c||"fx",[])},promise:function(c,h){function a(){--g||d.resolveWith(e,[e])}if(typeof c!=="string"){h=c;c=b}for(var c=c||"fx",d=f.Deferred(),e=this,m=e.length,g=1,j=c+"defer",q=c+"queue",k=c+"mark",l;m--;)if(l=f.data(e[m],j,b,true)||(f.data(e[m],q,b,true)||f.data(e[m],k,b,true))&&f.data(e[m],j,f.Callbacks("once memory"),true)){g++;l.add(a)}a();return d.promise(h)}});var Ga=/[\n\t\r]/g,
ya=/\s+/,Ua=/\r/g,wb=/^(?:button|input)$/i,Sb=/^(?:button|input|object|select|textarea)$/i,ra=/^a(?:rea)?$/i,La=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,Ya=f.support.getSetAttribute,Sa,sb,m;f.fn.extend({attr:function(c,h){return f.access(this,f.attr,c,h,arguments.length>1)},removeAttr:function(c){return this.each(function(){f.removeAttr(this,c)})},prop:function(c,h){return f.access(this,f.prop,c,h,arguments.length>
1)},removeProp:function(c){c=f.propFix[c]||c;return this.each(function(){try{this[c]=b;delete this[c]}catch(h){}})},addClass:function(c){var h,b,a,d,e,m,g;if(f.isFunction(c))return this.each(function(h){f(this).addClass(c.call(this,h,this.className))});if(c&&typeof c==="string"){h=c.split(ya);b=0;for(a=this.length;b<a;b++){d=this[b];if(d.nodeType===1)if(!d.className&&h.length===1)d.className=c;else{e=" "+d.className+" ";m=0;for(g=h.length;m<g;m++)~e.indexOf(" "+h[m]+" ")||(e=e+(h[m]+" "));d.className=
f.trim(e)}}}return this},removeClass:function(c){var h,a,d,e,m,g,j;if(f.isFunction(c))return this.each(function(h){f(this).removeClass(c.call(this,h,this.className))});if(c&&typeof c==="string"||c===b){h=(c||"").split(ya);a=0;for(d=this.length;a<d;a++){e=this[a];if(e.nodeType===1&&e.className)if(c){m=(" "+e.className+" ").replace(Ga," ");g=0;for(j=h.length;g<j;g++)m=m.replace(" "+h[g]+" "," ");e.className=f.trim(m)}else e.className=""}}return this},toggleClass:function(c,h){var b=typeof c,a=typeof h===
"boolean";return f.isFunction(c)?this.each(function(b){f(this).toggleClass(c.call(this,b,this.className,h),h)}):this.each(function(){if(b==="string")for(var d,e=0,m=f(this),g=h,j=c.split(ya);d=j[e++];){g=a?g:!m.hasClass(d);m[g?"addClass":"removeClass"](d)}else if(b==="undefined"||b==="boolean"){this.className&&f._data(this,"__className__",this.className);this.className=this.className||c===false?"":f._data(this,"__className__")||""}})},hasClass:function(c){for(var c=" "+c+" ",h=0,b=this.length;h<b;h++)if(this[h].nodeType===
1&&(" "+this[h].className+" ").replace(Ga," ").indexOf(c)>-1)return true;return false},val:function(c){var h,a,d,e=this[0];if(arguments.length){d=f.isFunction(c);return this.each(function(a){var e=f(this);if(this.nodeType===1){a=d?c.call(this,a,e.val()):c;a==null?a="":typeof a==="number"?a=a+"":f.isArray(a)&&(a=f.map(a,function(c){return c==null?"":c+""}));h=f.valHooks[this.type]||f.valHooks[this.nodeName.toLowerCase()];if(!h||!("set"in h)||h.set(this,a,"value")===b)this.value=a}})}if(e){if((h=f.valHooks[e.type]||
f.valHooks[e.nodeName.toLowerCase()])&&"get"in h&&(a=h.get(e,"value"))!==b)return a;a=e.value;return typeof a==="string"?a.replace(Ua,""):a==null?"":a}}});f.extend({valHooks:{option:{get:function(c){var h=c.attributes.value;return!h||h.specified?c.value:c.text}},select:{get:function(c){var h,b,a=c.selectedIndex,d=[],e=c.options,m=c.type==="select-one";if(a<0)return null;c=m?a:0;for(b=m?a+1:e.length;c<b;c++){h=e[c];if(h.selected&&(f.support.optDisabled?!h.disabled:h.getAttribute("disabled")===null)&&
(!h.parentNode.disabled||!f.nodeName(h.parentNode,"optgroup"))){h=f(h).val();if(m)return h;d.push(h)}}return m&&!d.length&&e.length?f(e[a]).val():d},set:function(c,h){var b=f.makeArray(h);f(c).find("option").each(function(){this.selected=f.inArray(f(this).val(),b)>=0});if(!b.length)c.selectedIndex=-1;return b}}},attrFn:{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0},attr:function(c,h,a,d){var e,m,g=c.nodeType;if(c&&!(g===3||g===8||g===2)){if(d&&h in f.attrFn)return f(c)[h](a);
if(typeof c.getAttribute==="undefined")return f.prop(c,h,a);if(d=g!==1||!f.isXMLDoc(c)){h=h.toLowerCase();m=f.attrHooks[h]||(La.test(h)?sb:Sa)}if(a!==b)if(a===null)f.removeAttr(c,h);else{if(m&&"set"in m&&d&&(e=m.set(c,a,h))!==b)return e;c.setAttribute(h,""+a);return a}else{if(m&&"get"in m&&d&&(e=m.get(c,h))!==null)return e;e=c.getAttribute(h);return e===null?b:e}}},removeAttr:function(c,h){var b,a,d,e,m,g=0;if(h&&c.nodeType===1){a=h.toLowerCase().split(ya);for(e=a.length;g<e;g++)if(d=a[g]){b=f.propFix[d]||
d;(m=La.test(d))||f.attr(c,d,"");c.removeAttribute(Ya?d:b);m&&b in c&&(c[b]=false)}}},attrHooks:{type:{set:function(c,h){if(wb.test(c.nodeName)&&c.parentNode)f.error("type property can't be changed");else if(!f.support.radioValue&&h==="radio"&&f.nodeName(c,"input")){var b=c.value;c.setAttribute("type",h);if(b)c.value=b;return h}}},value:{get:function(c,h){return Sa&&f.nodeName(c,"button")?Sa.get(c,h):h in c?c.value:null},set:function(c,h,b){if(Sa&&f.nodeName(c,"button"))return Sa.set(c,h,b);c.value=
h}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(c,h,a){var d,e,m;m=c.nodeType;if(c&&!(m===3||m===8||m===2)){if(m=m!==1||!f.isXMLDoc(c)){h=f.propFix[h]||h;e=f.propHooks[h]}return a!==b?e&&"set"in e&&(d=e.set(c,a,h))!==b?d:c[h]=a:e&&"get"in e&&(d=e.get(c,h))!==
null?d:c[h]}},propHooks:{tabIndex:{get:function(c){var h=c.getAttributeNode("tabindex");return h&&h.specified?parseInt(h.value,10):Sb.test(c.nodeName)||ra.test(c.nodeName)&&c.href?0:b}}}});f.attrHooks.tabindex=f.propHooks.tabIndex;sb={get:function(c,h){var a,d=f.prop(c,h);return d===true||typeof d!=="boolean"&&(a=c.getAttributeNode(h))&&a.nodeValue!==false?h.toLowerCase():b},set:function(c,h,b){if(h===false)f.removeAttr(c,b);else{h=f.propFix[b]||b;h in c&&(c[h]=true);c.setAttribute(b,b.toLowerCase())}return b}};
Ya||(m={name:!0,id:!0,coords:!0},Sa=f.valHooks.button={get:function(c,h){var a;return(a=c.getAttributeNode(h))&&(m[h]?a.nodeValue!=="":a.specified)?a.nodeValue:b},set:function(c,h,b){var a=c.getAttributeNode(b);if(!a){a=s.createAttribute(b);c.setAttributeNode(a)}return a.nodeValue=h+""}},f.attrHooks.tabindex.set=Sa.set,f.each(["width","height"],function(c,h){f.attrHooks[h]=f.extend(f.attrHooks[h],{set:function(c,b){if(b===""){c.setAttribute(h,"auto");return b}}})}),f.attrHooks.contenteditable={get:Sa.get,
set:function(c,h,b){h===""&&(h="false");Sa.set(c,h,b)}});f.support.hrefNormalized||f.each(["href","src","width","height"],function(c,h){f.attrHooks[h]=f.extend(f.attrHooks[h],{get:function(c){c=c.getAttribute(h,2);return c===null?b:c}})});f.support.style||(f.attrHooks.style={get:function(c){return c.style.cssText.toLowerCase()||b},set:function(c,h){return c.style.cssText=""+h}});f.support.optSelected||(f.propHooks.selected=f.extend(f.propHooks.selected,{get:function(c){if(c=c.parentNode){c.selectedIndex;
c.parentNode&&c.parentNode.selectedIndex}return null}}));f.support.enctype||(f.propFix.enctype="encoding");f.support.checkOn||f.each(["radio","checkbox"],function(){f.valHooks[this]={get:function(c){return c.getAttribute("value")===null?"on":c.value}}});f.each(["radio","checkbox"],function(){f.valHooks[this]=f.extend(f.valHooks[this],{set:function(c,h){if(f.isArray(h))return c.checked=f.inArray(f(c).val(),h)>=0}})});var q=/^(?:textarea|input|select)$/i,Q=/^([^\.]*)?(?:\.(.+))?$/,Ha=/(?:^|\s)hover(\.\S+)?\b/,
S=/^key/,Ia=/^(?:mouse|contextmenu)|click/,Ma=/^(?:focusinfocus|focusoutblur)$/,yc=/^(\w*)(?:#([\w\-]+))?(?:\.([\w\-]+))?$/,ac=function(c){if(c=yc.exec(c)){c[1]=(c[1]||"").toLowerCase();c[3]=c[3]&&RegExp("(?:^|\\s)"+c[3]+"(?:\\s|$)")}return c},Rc=function(c){return f.event.special.hover?c:c.replace(Ha,"mouseenter$1 mouseleave$1")};f.event={add:function(c,h,a,d,e){var m,g,j,q,k,l,r,o,p;if(!(c.nodeType===3||c.nodeType===8||!h||!a||!(m=f._data(c)))){if(a.handler){r=a;a=r.handler;e=r.selector}if(!a.guid)a.guid=
f.guid++;j=m.events;if(!j)m.events=j={};g=m.handle;if(!g){m.handle=g=function(c){return typeof f!=="undefined"&&(!c||f.event.triggered!==c.type)?f.event.dispatch.apply(g.elem,arguments):b};g.elem=c}h=f.trim(Rc(h)).split(" ");for(m=0;m<h.length;m++){q=Q.exec(h[m])||[];k=q[1];l=(q[2]||"").split(".").sort();p=f.event.special[k]||{};k=(e?p.delegateType:p.bindType)||k;p=f.event.special[k]||{};q=f.extend({type:k,origType:q[1],data:d,handler:a,guid:a.guid,selector:e,quick:e&&ac(e),namespace:l.join(".")},
r);o=j[k];if(!o){o=j[k]=[];o.delegateCount=0;if(!p.setup||p.setup.call(c,d,l,g)===false)c.addEventListener?c.addEventListener(k,g,false):c.attachEvent&&c.attachEvent("on"+k,g)}if(p.add){p.add.call(c,q);if(!q.handler.guid)q.handler.guid=a.guid}e?o.splice(o.delegateCount++,0,q):o.push(q);f.event.global[k]=true}c=null}},global:{},remove:function(c,h,b,a,d){var e=f.hasData(c)&&f._data(c),m,g,j,q,k,l,r,o,p,x;if(e&&(r=e.events)){h=f.trim(Rc(h||"")).split(" ");for(m=0;m<h.length;m++){g=Q.exec(h[m])||[];
j=q=g[1];g=g[2];if(j){o=f.event.special[j]||{};j=(a?o.delegateType:o.bindType)||j;p=r[j]||[];k=p.length;g=g?RegExp("(^|\\.)"+g.split(".").sort().join("\\.(?:.*\\.)?")+"(\\.|$)"):null;for(l=0;l<p.length;l++){x=p[l];if((d||q===x.origType)&&(!b||b.guid===x.guid)&&(!g||g.test(x.namespace))&&(!a||a===x.selector||a==="**"&&x.selector)){p.splice(l--,1);x.selector&&p.delegateCount--;o.remove&&o.remove.call(c,x)}}if(p.length===0&&k!==p.length){(!o.teardown||o.teardown.call(c,g)===false)&&f.removeEvent(c,j,
e.handle);delete r[j]}}else for(j in r)f.event.remove(c,j+h[m],b,a,true)}if(f.isEmptyObject(r)){if(h=e.handle)h.elem=null;f.removeData(c,["events","handle"],true)}}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(c,h,d,e){if(!d||!(d.nodeType===3||d.nodeType===8)){var m=c.type||c,g=[],j,q,k,l,r;if(!Ma.test(m+f.event.triggered)){if(m.indexOf("!")>=0){m=m.slice(0,-1);j=true}if(m.indexOf(".")>=0){g=m.split(".");m=g.shift();g.sort()}if(d&&!f.event.customEvent[m]||f.event.global[m]){c=
typeof c==="object"?c[f.expando]?c:new f.Event(m,c):new f.Event(m);c.type=m;c.isTrigger=true;c.exclusive=j;c.namespace=g.join(".");c.namespace_re=c.namespace?RegExp("(^|\\.)"+g.join("\\.(?:.*\\.)?")+"(\\.|$)"):null;j=m.indexOf(":")<0?"on"+m:"";if(d){c.result=b;if(!c.target)c.target=d;h=h!=null?f.makeArray(h):[];h.unshift(c);k=f.event.special[m]||{};if(!(k.trigger&&k.trigger.apply(d,h)===false)){r=[[d,k.bindType||m]];if(!e&&!k.noBubble&&!f.isWindow(d)){l=k.delegateType||m;g=Ma.test(l+m)?d:d.parentNode;
for(q=null;g;g=g.parentNode){r.push([g,l]);q=g}q&&q===d.ownerDocument&&r.push([q.defaultView||q.parentWindow||a,l])}for(q=0;q<r.length&&!c.isPropagationStopped();q++){g=r[q][0];c.type=r[q][1];(l=(f._data(g,"events")||{})[c.type]&&f._data(g,"handle"))&&l.apply(g,h);(l=j&&g[j])&&(f.acceptData(g)&&l.apply(g,h)===false)&&c.preventDefault()}c.type=m;if(!e&&!c.isDefaultPrevented()&&(!k._default||k._default.apply(d.ownerDocument,h)===false)&&!(m==="click"&&f.nodeName(d,"a"))&&f.acceptData(d))if(j&&d[m]&&
(m!=="focus"&&m!=="blur"||c.target.offsetWidth!==0)&&!f.isWindow(d)){(q=d[j])&&(d[j]=null);f.event.triggered=m;d[m]();f.event.triggered=b;q&&(d[j]=q)}return c.result}}else{d=f.cache;for(q in d)d[q].events&&d[q].events[m]&&f.event.trigger(c,h,d[q].handle.elem,true)}}}}},dispatch:function(c){var c=f.event.fix(c||a.event),h=(f._data(this,"events")||{})[c.type]||[],d=h.delegateCount,e=[].slice.call(arguments,0),m=!c.exclusive&&!c.namespace,g=f.event.special[c.type]||{},j=[],q,k,l,r,Q,o,p;e[0]=c;c.delegateTarget=
this;if(!(g.preDispatch&&g.preDispatch.call(this,c)===false)){if(d&&!(c.button&&c.type==="click")){l=f(this);l.context=this.ownerDocument||this;for(k=c.target;k!=this;k=k.parentNode||this)if(k.disabled!==true){Q={};o=[];l[0]=k;for(q=0;q<d;q++){r=h[q];p=r.selector;if(Q[p]===b){var x=Q,z=p,n;if(r.quick){n=r.quick;var Ha=k.attributes||{};n=(!n[1]||k.nodeName.toLowerCase()===n[1])&&(!n[2]||(Ha.id||{}).value===n[2])&&(!n[3]||n[3].test((Ha["class"]||{}).value))}else n=l.is(p);x[z]=n}Q[p]&&o.push(r)}o.length&&
j.push({elem:k,matches:o})}}h.length>d&&j.push({elem:this,matches:h.slice(d)});for(q=0;q<j.length&&!c.isPropagationStopped();q++){d=j[q];c.currentTarget=d.elem;for(h=0;h<d.matches.length&&!c.isImmediatePropagationStopped();h++){r=d.matches[h];if(m||!c.namespace&&!r.namespace||c.namespace_re&&c.namespace_re.test(r.namespace)){c.data=r.data;c.handleObj=r;r=((f.event.special[r.origType]||{}).handle||r.handler).apply(d.elem,e);if(r!==b){c.result=r;if(r===false){c.preventDefault();c.stopPropagation()}}}}}g.postDispatch&&
g.postDispatch.call(this,c);return c.result}},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:["char","charCode","key","keyCode"],filter:function(c,h){if(c.which==null)c.which=h.charCode!=null?h.charCode:h.keyCode;return c}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),
filter:function(c,h){var a,d,e=h.button,f=h.fromElement;if(c.pageX==null&&h.clientX!=null){a=c.target.ownerDocument||s;d=a.documentElement;a=a.body;c.pageX=h.clientX+(d&&d.scrollLeft||a&&a.scrollLeft||0)-(d&&d.clientLeft||a&&a.clientLeft||0);c.pageY=h.clientY+(d&&d.scrollTop||a&&a.scrollTop||0)-(d&&d.clientTop||a&&a.clientTop||0)}if(!c.relatedTarget&&f)c.relatedTarget=f===c.target?h.toElement:f;if(!c.which&&e!==b)c.which=e&1?1:e&2?3:e&4?2:0;return c}},fix:function(c){if(c[f.expando])return c;var h,
a,d=c,e=f.event.fixHooks[c.type]||{},m=e.props?this.props.concat(e.props):this.props,c=f.Event(d);for(h=m.length;h;){a=m[--h];c[a]=d[a]}if(!c.target)c.target=d.srcElement||s;if(c.target.nodeType===3)c.target=c.target.parentNode;if(c.metaKey===b)c.metaKey=c.ctrlKey;return e.filter?e.filter(c,d):c},special:{ready:{setup:f.bindReady},load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(c,h,a){if(f.isWindow(this))this.onbeforeunload=a},teardown:function(c,
h){if(this.onbeforeunload===h)this.onbeforeunload=null}}},simulate:function(c,h,a,b){c=f.extend(new f.Event,a,{type:c,isSimulated:true,originalEvent:{}});b?f.event.trigger(c,null,h):f.event.dispatch.call(h,c);c.isDefaultPrevented()&&a.preventDefault()}};f.event.handle=f.event.dispatch;f.removeEvent=s.removeEventListener?function(c,h,a){c.removeEventListener&&c.removeEventListener(h,a,false)}:function(c,h,a){c.detachEvent&&c.detachEvent("on"+h,a)};f.Event=function(c,h){if(!(this instanceof f.Event))return new f.Event(c,
h);if(c&&c.type){this.originalEvent=c;this.type=c.type;this.isDefaultPrevented=c.defaultPrevented||c.returnValue===false||c.getPreventDefault&&c.getPreventDefault()?j:k}else this.type=c;h&&f.extend(this,h);this.timeStamp=c&&c.timeStamp||f.now();this[f.expando]=true};f.Event.prototype={preventDefault:function(){this.isDefaultPrevented=j;var c=this.originalEvent;if(c)c.preventDefault?c.preventDefault():c.returnValue=false},stopPropagation:function(){this.isPropagationStopped=j;var c=this.originalEvent;
if(c){c.stopPropagation&&c.stopPropagation();c.cancelBubble=true}},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=j;this.stopPropagation()},isDefaultPrevented:k,isPropagationStopped:k,isImmediatePropagationStopped:k};f.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(c,h){f.event.special[c]={delegateType:h,bindType:h,handle:function(c){var a=c.relatedTarget,b=c.handleObj,d;if(!a||a!==this&&!f.contains(this,a)){c.type=b.origType;d=b.handler.apply(this,arguments);
c.type=h}return d}}});f.support.submitBubbles||(f.event.special.submit={setup:function(){if(f.nodeName(this,"form"))return false;f.event.add(this,"click._submit keypress._submit",function(c){c=c.target;if((c=f.nodeName(c,"input")||f.nodeName(c,"button")?c.form:b)&&!c._submit_attached){f.event.add(c,"submit._submit",function(c){c._submit_bubble=true});c._submit_attached=true}})},postDispatch:function(c){if(c._submit_bubble){delete c._submit_bubble;this.parentNode&&!c.isTrigger&&f.event.simulate("submit",
this.parentNode,c,true)}},teardown:function(){if(f.nodeName(this,"form"))return false;f.event.remove(this,"._submit")}});f.support.changeBubbles||(f.event.special.change={setup:function(){if(q.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio"){f.event.add(this,"propertychange._change",function(c){if(c.originalEvent.propertyName==="checked")this._just_changed=true});f.event.add(this,"click._change",function(c){if(this._just_changed&&!c.isTrigger){this._just_changed=false;f.event.simulate("change",
this,c,true)}})}return false}f.event.add(this,"beforeactivate._change",function(c){c=c.target;if(q.test(c.nodeName)&&!c._change_attached){f.event.add(c,"change._change",function(c){this.parentNode&&(!c.isSimulated&&!c.isTrigger)&&f.event.simulate("change",this.parentNode,c,true)});c._change_attached=true}})},handle:function(c){var h=c.target;if(this!==h||c.isSimulated||c.isTrigger||h.type!=="radio"&&h.type!=="checkbox")return c.handleObj.handler.apply(this,arguments)},teardown:function(){f.event.remove(this,
"._change");return q.test(this.nodeName)}});f.support.focusinBubbles||f.each({focus:"focusin",blur:"focusout"},function(c,h){var a=0,b=function(c){f.event.simulate(h,c.target,f.event.fix(c),true)};f.event.special[h]={setup:function(){a++===0&&s.addEventListener(c,b,true)},teardown:function(){--a===0&&s.removeEventListener(c,b,true)}}});f.fn.extend({on:function(c,h,a,d,e){var m,g;if(typeof c==="object"){if(typeof h!=="string"){a=a||h;h=b}for(g in c)this.on(g,h,a,c[g],e);return this}if(a==null&&d==
null){d=h;a=h=b}else if(d==null)if(typeof h==="string"){d=a;a=b}else{d=a;a=h;h=b}if(d===false)d=k;else if(!d)return this;if(e===1){m=d;d=function(c){f().off(c);return m.apply(this,arguments)};d.guid=m.guid||(m.guid=f.guid++)}return this.each(function(){f.event.add(this,c,d,a,h)})},one:function(c,h,a,b){return this.on(c,h,a,b,1)},off:function(c,h,a){if(c&&c.preventDefault&&c.handleObj){var d=c.handleObj;f(c.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler);
return this}if(typeof c==="object"){for(d in c)this.off(d,h,c[d]);return this}if(h===false||typeof h==="function"){a=h;h=b}a===false&&(a=k);return this.each(function(){f.event.remove(this,c,a,h)})},bind:function(c,h,a){return this.on(c,null,h,a)},unbind:function(c,h){return this.off(c,null,h)},live:function(c,h,a){f(this.context).on(c,this.selector,h,a);return this},die:function(c,h){f(this.context).off(c,this.selector||"**",h);return this},delegate:function(c,h,a,b){return this.on(h,c,a,b)},undelegate:function(c,
h,a){return arguments.length==1?this.off(c,"**"):this.off(h,c,a)},trigger:function(c,h){return this.each(function(){f.event.trigger(c,h,this)})},triggerHandler:function(c,h){if(this[0])return f.event.trigger(c,h,this[0],true)},toggle:function(c){var h=arguments,a=c.guid||f.guid++,b=0,d=function(a){var d=(f._data(this,"lastToggle"+c.guid)||0)%b;f._data(this,"lastToggle"+c.guid,d+1);a.preventDefault();return h[d].apply(this,arguments)||false};for(d.guid=a;b<h.length;)h[b++].guid=a;return this.click(d)},
hover:function(c,h){return this.mouseenter(c).mouseleave(h||c)}});f.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(c,h){f.fn[h]=function(c,a){if(a==null){a=c;c=null}return arguments.length>0?this.on(h,null,c,a):this.trigger(h)};f.attrFn&&(f.attrFn[h]=true);if(S.test(h))f.event.fixHooks[h]=f.event.keyHooks;if(Ia.test(h))f.event.fixHooks[h]=
f.event.mouseHooks});var zc=function(c,h,a,b,d,e){for(var d=0,f=b.length;d<f;d++){var m=b[d];if(m){for(var g=false,m=m[c];m;){if(m[jb]===a){g=b[m.sizset];break}if(m.nodeType===1&&!e){m[jb]=a;m.sizset=d}if(m.nodeName.toLowerCase()===h){g=m;break}m=m[c]}b[d]=g}}},Sc=function(c,h,a,b,d,e){for(var d=0,f=b.length;d<f;d++){var m=b[d];if(m){for(var g=false,m=m[c];m;){if(m[jb]===a){g=b[m.sizset];break}if(m.nodeType===1){if(!e){m[jb]=a;m.sizset=d}if(typeof h!=="string"){if(m===h){g=true;break}}else if(I.filter(h,
[m]).length>0){g=m;break}}m=m[c]}b[d]=g}}},Ac=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,jb="sizcache"+(Math.random()+"").replace(".",""),Tb=0,lc=Object.prototype.toString,sa=!1,xb=!0,pa=/\\/g,Ub=/\r\n/g,mb=/\W/;[0,0].sort(function(){xb=false;return 0});var I=function(c,h,a,b){var a=a||[],d=h=h||s;if(h.nodeType!==1&&h.nodeType!==9)return[];if(!c||typeof c!=="string")return a;var e,f,m,g,j,q=true,k=I.isXML(h),
l=[],r=c;do{Ac.exec("");if(e=Ac.exec(r)){r=e[3];l.push(e[1]);if(e[2]){g=e[3];break}}}while(e);if(l.length>1&&bc.exec(c))if(l.length===2&&N.relative[l[0]])f=Vb(l[0]+l[1],h,b);else for(f=N.relative[l[0]]?[h]:I(l.shift(),h);l.length;){c=l.shift();N.relative[c]&&(c=c+l.shift());f=Vb(c,f,b)}else{if(!b&&l.length>1&&h.nodeType===9&&!k&&N.match.ID.test(l[0])&&!N.match.ID.test(l[l.length-1])){e=I.find(l.shift(),h,k);h=e.expr?I.filter(e.expr,e.set)[0]:e.set[0]}if(h){e=b?{expr:l.pop(),set:cb(b)}:I.find(l.pop(),
l.length===1&&(l[0]==="~"||l[0]==="+")&&h.parentNode?h.parentNode:h,k);f=e.expr?I.filter(e.expr,e.set):e.set;for(l.length>0?m=cb(f):q=false;l.length;){e=j=l.pop();N.relative[j]?e=l.pop():j="";e==null&&(e=h);N.relative[j](m,e,k)}}else m=[]}m||(m=f);m||I.error(j||c);if(lc.call(m)==="[object Array]")if(q)if(h&&h.nodeType===1)for(c=0;m[c]!=null;c++)m[c]&&(m[c]===true||m[c].nodeType===1&&I.contains(h,m[c]))&&a.push(f[c]);else for(c=0;m[c]!=null;c++)m[c]&&m[c].nodeType===1&&a.push(f[c]);else a.push.apply(a,
m);else cb(m,a);if(g){I(g,d,a,b);I.uniqueSort(a)}return a};I.uniqueSort=function(c){if(cc){sa=xb;c.sort(cc);if(sa)for(var h=1;h<c.length;h++)c[h]===c[h-1]&&c.splice(h--,1)}return c};I.matches=function(c,h){return I(c,null,null,h)};I.matchesSelector=function(c,h){return I(h,null,null,[c]).length>0};I.find=function(c,h,a){var b,d,e,m,f,g;if(!c)return[];d=0;for(e=N.order.length;d<e;d++){f=N.order[d];if(m=N.leftMatch[f].exec(c)){g=m[1];m.splice(1,1);if(g.substr(g.length-1)!=="\\"){m[1]=(m[1]||"").replace(pa,
"");b=N.find[f](m,h,a);if(b!=null){c=c.replace(N.match[f],"");break}}}}b||(b=typeof h.getElementsByTagName!=="undefined"?h.getElementsByTagName("*"):[]);return{set:b,expr:c}};I.filter=function(c,h,a,d){for(var e,m,f,g,j,q,k,l,r=c,Q=[],o=h,p=h&&h[0]&&I.isXML(h[0]);c&&h.length;){for(f in N.filter)if((e=N.leftMatch[f].exec(c))!=null&&e[2]){q=N.filter[f];j=e[1];m=false;e.splice(1,1);if(j.substr(j.length-1)!=="\\"){o===Q&&(Q=[]);if(N.preFilter[f])if(e=N.preFilter[f](e,o,a,Q,d,p)){if(e===true)continue}else m=
g=true;if(e)for(k=0;(j=o[k])!=null;k++)if(j){g=q(j,e,k,o);l=d^g;if(a&&g!=null)l?m=true:o[k]=false;else if(l){Q.push(j);m=true}}if(g!==b){a||(o=Q);c=c.replace(N.match[f],"");if(!m)return[];break}}}if(c===r)if(m==null)I.error(c);else break;r=c}return o};I.error=function(c){throw Error("Syntax error, unrecognized expression: "+c);};var Bc=I.getText=function(c){var h,a;h=c.nodeType;var b="";if(h)if(h===1||h===9||h===11){if(typeof c.textContent==="string")return c.textContent;if(typeof c.innerText==="string")return c.innerText.replace(Ub,
"");for(c=c.firstChild;c;c=c.nextSibling)b=b+Bc(c)}else{if(h===3||h===4)return c.nodeValue}else for(h=0;a=c[h];h++)a.nodeType!==8&&(b=b+Bc(a));return b},N=I.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,
POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(c){return c.getAttribute("href")},type:function(c){return c.getAttribute("type")}},relative:{"+":function(c,h){var a=typeof h==="string",b=a&&!mb.test(h),a=a&&!b;b&&(h=h.toLowerCase());for(var b=0,d=c.length,e;b<d;b++)if(e=c[b]){for(;(e=e.previousSibling)&&e.nodeType!==
1;);c[b]=a||e&&e.nodeName.toLowerCase()===h?e||false:e===h}a&&I.filter(h,c,true)},">":function(c,h){var a,b=typeof h==="string",d=0,e=c.length;if(b&&!mb.test(h))for(h=h.toLowerCase();d<e;d++){if(a=c[d]){a=a.parentNode;c[d]=a.nodeName.toLowerCase()===h?a:false}}else{for(;d<e;d++)(a=c[d])&&(c[d]=b?a.parentNode:a.parentNode===h);b&&I.filter(h,c,true)}},"":function(c,h,a){var b,d=Tb++,e=Sc;if(typeof h==="string"&&!mb.test(h)){b=h=h.toLowerCase();e=zc}e("parentNode",h,d,c,b,a)},"~":function(c,h,a){var b,
d=Tb++,e=Sc;if(typeof h==="string"&&!mb.test(h)){b=h=h.toLowerCase();e=zc}e("previousSibling",h,d,c,b,a)}},find:{ID:function(c,h,a){if(typeof h.getElementById!=="undefined"&&!a)return(c=h.getElementById(c[1]))&&c.parentNode?[c]:[]},NAME:function(c,h){if(typeof h.getElementsByName!=="undefined"){for(var a=[],b=h.getElementsByName(c[1]),d=0,e=b.length;d<e;d++)b[d].getAttribute("name")===c[1]&&a.push(b[d]);return a.length===0?null:a}},TAG:function(c,h){if(typeof h.getElementsByTagName!=="undefined")return h.getElementsByTagName(c[1])}},
preFilter:{CLASS:function(c,h,a,b,d,e){c=" "+c[1].replace(pa,"")+" ";if(e)return c;for(var e=0,m;(m=h[e])!=null;e++)m&&(d^(m.className&&(" "+m.className+" ").replace(/[\t\n\r]/g," ").indexOf(c)>=0)?a||b.push(m):a&&(h[e]=false));return false},ID:function(c){return c[1].replace(pa,"")},TAG:function(c){return c[1].replace(pa,"").toLowerCase()},CHILD:function(c){if(c[1]==="nth"){c[2]||I.error(c[0]);c[2]=c[2].replace(/^\+|\s*/g,"");var h=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec(c[2]==="even"&&"2n"||c[2]==="odd"&&
"2n+1"||!/\D/.test(c[2])&&"0n+"+c[2]||c[2]);c[2]=h[1]+(h[2]||1)-0;c[3]=h[3]-0}else c[2]&&I.error(c[0]);c[0]=Tb++;return c},ATTR:function(c,h,a,b,d,e){h=c[1]=c[1].replace(pa,"");!e&&N.attrMap[h]&&(c[1]=N.attrMap[h]);c[4]=(c[4]||c[5]||"").replace(pa,"");c[2]==="~="&&(c[4]=" "+c[4]+" ");return c},PSEUDO:function(c,h,a,b,d){if(c[1]==="not")if((Ac.exec(c[3])||"").length>1||/^\w/.test(c[3]))c[3]=I(c[3],null,null,h);else{c=I.filter(c[3],h,a,1^d);a||b.push.apply(b,c);return false}else if(N.match.POS.test(c[0])||
N.match.CHILD.test(c[0]))return true;return c},POS:function(c){c.unshift(true);return c}},filters:{enabled:function(c){return c.disabled===false&&c.type!=="hidden"},disabled:function(c){return c.disabled===true},checked:function(c){return c.checked===true},selected:function(c){c.parentNode&&c.parentNode.selectedIndex;return c.selected===true},parent:function(c){return!!c.firstChild},empty:function(c){return!c.firstChild},has:function(c,a,b){return!!I(b[3],c).length},header:function(c){return/h\d/i.test(c.nodeName)},
text:function(c){var a=c.getAttribute("type"),b=c.type;return c.nodeName.toLowerCase()==="input"&&"text"===b&&(a===b||a===null)},radio:function(c){return c.nodeName.toLowerCase()==="input"&&"radio"===c.type},checkbox:function(c){return c.nodeName.toLowerCase()==="input"&&"checkbox"===c.type},file:function(c){return c.nodeName.toLowerCase()==="input"&&"file"===c.type},password:function(c){return c.nodeName.toLowerCase()==="input"&&"password"===c.type},submit:function(c){var a=c.nodeName.toLowerCase();
return(a==="input"||a==="button")&&"submit"===c.type},image:function(c){return c.nodeName.toLowerCase()==="input"&&"image"===c.type},reset:function(c){var a=c.nodeName.toLowerCase();return(a==="input"||a==="button")&&"reset"===c.type},button:function(c){var a=c.nodeName.toLowerCase();return a==="input"&&"button"===c.type||a==="button"},input:function(c){return/input|select|textarea|button/i.test(c.nodeName)},focus:function(c){return c===c.ownerDocument.activeElement}},setFilters:{first:function(c,
a){return a===0},last:function(c,a,b,d){return a===d.length-1},even:function(c,a){return a%2===0},odd:function(c,a){return a%2===1},lt:function(c,a,b){return a<b[3]-0},gt:function(c,a,b){return a>b[3]-0},nth:function(c,a,b){return b[3]-0===a},eq:function(c,a,b){return b[3]-0===a}},filter:{PSEUDO:function(c,a,b,d){var e=a[1],m=N.filters[e];if(m)return m(c,b,a,d);if(e==="contains")return(c.textContent||c.innerText||Bc([c])||"").indexOf(a[3])>=0;if(e==="not"){a=a[3];b=0;for(d=a.length;b<d;b++)if(a[b]===
c)return false;return true}I.error(e)},CHILD:function(c,a){var b,d,e,m,f,g;b=a[1];g=c;switch(b){case "only":case "first":for(;g=g.previousSibling;)if(g.nodeType===1)return false;if(b==="first")return true;g=c;case "last":for(;g=g.nextSibling;)if(g.nodeType===1)return false;return true;case "nth":b=a[2];d=a[3];if(b===1&&d===0)return true;e=a[0];if((m=c.parentNode)&&(m[jb]!==e||!c.nodeIndex)){f=0;for(g=m.firstChild;g;g=g.nextSibling)if(g.nodeType===1)g.nodeIndex=++f;m[jb]=e}g=c.nodeIndex-d;return b===
0?g===0:g%b===0&&g/b>=0}},ID:function(c,a){return c.nodeType===1&&c.getAttribute("id")===a},TAG:function(c,a){return a==="*"&&c.nodeType===1||!!c.nodeName&&c.nodeName.toLowerCase()===a},CLASS:function(c,a){return(" "+(c.className||c.getAttribute("class"))+" ").indexOf(a)>-1},ATTR:function(c,a){var b=a[1],b=I.attr?I.attr(c,b):N.attrHandle[b]?N.attrHandle[b](c):c[b]!=null?c[b]:c.getAttribute(b),d=b+"",e=a[2],m=a[4];return b==null?e==="!=":!e&&I.attr?b!=null:e==="="?d===m:e==="*="?d.indexOf(m)>=0:e===
"~="?(" "+d+" ").indexOf(m)>=0:!m?d&&b!==false:e==="!="?d!==m:e==="^="?d.indexOf(m)===0:e==="$="?d.substr(d.length-m.length)===m:e==="|="?d===m||d.substr(0,m.length+1)===m+"-":false},POS:function(c,a,b,d){var e=N.setFilters[a[2]];if(e)return e(c,b,a,d)}}},bc=N.match.POS,Cc=function(c,a){return"\\"+(a-0+1)},yb;for(yb in N.match)N.match[yb]=RegExp(N.match[yb].source+/(?![^\[]*\])(?![^\(]*\))/.source),N.leftMatch[yb]=RegExp(/(^(?:.|\r|\n)*?)/.source+N.match[yb].source.replace(/\\(\d+)/g,Cc));N.match.globalPOS=
bc;var cb=function(c,a){c=Array.prototype.slice.call(c,0);if(a){a.push.apply(a,c);return a}return c};try{Array.prototype.slice.call(s.documentElement.childNodes,0)[0].nodeType}catch(zd){cb=function(c,a){var b=0,d=a||[];if(lc.call(c)==="[object Array]")Array.prototype.push.apply(d,c);else if(typeof c.length==="number")for(var e=c.length;b<e;b++)d.push(c[b]);else for(;c[b];b++)d.push(c[b]);return d}}var cc,Wb;s.documentElement.compareDocumentPosition?cc=function(c,a){if(c===a){sa=true;return 0}return!c.compareDocumentPosition||
!a.compareDocumentPosition?c.compareDocumentPosition?-1:1:c.compareDocumentPosition(a)&4?-1:1}:(cc=function(c,a){if(c===a){sa=true;return 0}if(c.sourceIndex&&a.sourceIndex)return c.sourceIndex-a.sourceIndex;var b,d,e=[],m=[];b=c.parentNode;d=a.parentNode;var f=b;if(b===d)return Wb(c,a);if(b){if(!d)return 1}else return-1;for(;f;){e.unshift(f);f=f.parentNode}for(f=d;f;){m.unshift(f);f=f.parentNode}b=e.length;d=m.length;for(f=0;f<b&&f<d;f++)if(e[f]!==m[f])return Wb(e[f],m[f]);return f===b?Wb(c,m[f],
-1):Wb(e[f],a,1)},Wb=function(c,a,b){if(c===a)return b;for(c=c.nextSibling;c;){if(c===a)return-1;c=c.nextSibling}return 1});var zb=s.createElement("div"),Dc="script"+(new Date).getTime(),dc=s.documentElement;zb.innerHTML="<a name='"+Dc+"'/>";dc.insertBefore(zb,dc.firstChild);s.getElementById(Dc)&&(N.find.ID=function(c,a,d){if(typeof a.getElementById!=="undefined"&&!d)return(a=a.getElementById(c[1]))?a.id===c[1]||typeof a.getAttributeNode!=="undefined"&&a.getAttributeNode("id").nodeValue===c[1]?[a]:
b:[]},N.filter.ID=function(c,a){var b=typeof c.getAttributeNode!=="undefined"&&c.getAttributeNode("id");return c.nodeType===1&&b&&b.nodeValue===a});dc.removeChild(zb);var dc=zb=null,Ab=s.createElement("div");Ab.appendChild(s.createComment(""));0<Ab.getElementsByTagName("*").length&&(N.find.TAG=function(c,a){var b=a.getElementsByTagName(c[1]);if(c[1]==="*"){for(var d=[],e=0;b[e];e++)b[e].nodeType===1&&d.push(b[e]);b=d}return b});Ab.innerHTML="<a href='#'></a>";Ab.firstChild&&("undefined"!==typeof Ab.firstChild.getAttribute&&
"#"!==Ab.firstChild.getAttribute("href"))&&(N.attrHandle.href=function(c){return c.getAttribute("href",2)});Ab=null;if(s.querySelectorAll){var mc=I,Ea=s.createElement("div");Ea.innerHTML="<p class='TEST'></p>";if(!(Ea.querySelectorAll&&0===Ea.querySelectorAll(".TEST").length)){var I=function(c,a,b,d){a=a||s;if(!d&&!I.isXML(a)){var e=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(c);if(e&&(a.nodeType===1||a.nodeType===9)){if(e[1])return cb(a.getElementsByTagName(c),b);if(e[2]&&N.find.CLASS&&a.getElementsByClassName)return cb(a.getElementsByClassName(e[2]),
b)}if(a.nodeType===9){if(c==="body"&&a.body)return cb([a.body],b);if(e&&e[3]){var m=a.getElementById(e[3]);if(m&&m.parentNode){if(m.id===e[3])return cb([m],b)}else return cb([],b)}try{return cb(a.querySelectorAll(c),b)}catch(f){}}else if(a.nodeType===1&&a.nodeName.toLowerCase()!=="object"){var e=a,g=(m=a.getAttribute("id"))||"__sizzle__",j=a.parentNode,q=/^\s*[+~]/.test(c);m?g=g.replace(/'/g,"\\$&"):a.setAttribute("id",g);if(q&&j)a=a.parentNode;try{if(!q||j)return cb(a.querySelectorAll("[id='"+g+
"'] "+c),b)}catch(k){}finally{m||e.removeAttribute("id")}}}return mc(c,a,b,d)},Kb;for(Kb in mc)I[Kb]=mc[Kb];Ea=null}}var Lb=s.documentElement,tb=Lb.matchesSelector||Lb.mozMatchesSelector||Lb.webkitMatchesSelector||Lb.msMatchesSelector;if(tb){var Ec=!tb.call(s.createElement("div"),"div"),Tc=!1;try{tb.call(s.documentElement,"[test!='']:sizzle")}catch(ee){Tc=!0}I.matchesSelector=function(c,a){a=a.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");if(!I.isXML(c))try{if(Tc||!N.match.PSEUDO.test(a)&&!/!=/.test(a)){var b=
tb.call(c,a);if(b||!Ec||c.document&&c.document.nodeType!==11)return b}}catch(d){}return I(a,null,null,[c]).length>0}}var Mb=s.createElement("div");Mb.innerHTML="<div class='test e'></div><div class='test'></div>";Mb.getElementsByClassName&&0!==Mb.getElementsByClassName("e").length&&(Mb.lastChild.className="e",1!==Mb.getElementsByClassName("e").length&&(N.order.splice(1,0,"CLASS"),N.find.CLASS=function(c,a,b){if(typeof a.getElementsByClassName!=="undefined"&&!b)return a.getElementsByClassName(c[1])},
Mb=null));I.contains=s.documentElement.contains?function(c,a){return c!==a&&(c.contains?c.contains(a):true)}:s.documentElement.compareDocumentPosition?function(c,a){return!!(c.compareDocumentPosition(a)&16)}:function(){return false};I.isXML=function(c){return(c=(c?c.ownerDocument||c:0).documentElement)?c.nodeName!=="HTML":false};var Vb=function(c,a,b){for(var d,e=[],m="",a=a.nodeType?[a]:a;d=N.match.PSEUDO.exec(c);){m=m+d[0];c=c.replace(N.match.PSEUDO,"")}c=N.relative[c]?c+"*":c;d=0;for(var f=a.length;d<
f;d++)I(c,a[d],e,b);return I.filter(m,e)};I.attr=f.attr;I.selectors.attrMap={};f.find=I;f.expr=I.selectors;f.expr[":"]=f.expr.filters;f.unique=I.uniqueSort;f.text=I.getText;f.isXMLDoc=I.isXML;f.contains=I.contains;var Uc=/Until$/,Fc=/^(?:parents|prevUntil|prevAll)/,Ad=/,/,Hb=/^.[^:#\[\.,]*$/,Bd=Array.prototype.slice,Bb=f.expr.match.globalPOS,Nb={children:!0,contents:!0,next:!0,prev:!0};f.fn.extend({find:function(c){var a=this,b,d;if(typeof c!=="string")return f(c).filter(function(){b=0;for(d=a.length;b<
d;b++)if(f.contains(a[b],this))return true});var e=this.pushStack("","find",c),m,g,j;b=0;for(d=this.length;b<d;b++){m=e.length;f.find(c,this[b],e);if(b>0)for(g=m;g<e.length;g++)for(j=0;j<m;j++)if(e[j]===e[g]){e.splice(g--,1);break}}return e},has:function(c){var a=f(c);return this.filter(function(){for(var c=0,b=a.length;c<b;c++)if(f.contains(this,a[c]))return true})},not:function(c){return this.pushStack(p(this,c,false),"not",c)},filter:function(c){return this.pushStack(p(this,c,true),"filter",c)},
is:function(c){return!!c&&(typeof c==="string"?Bb.test(c)?f(c,this.context).index(this[0])>=0:f.filter(c,this).length>0:this.filter(c).length>0)},closest:function(c,a){var b=[],d,e,m=this[0];if(f.isArray(c)){for(e=1;m&&m.ownerDocument&&m!==a;){for(d=0;d<c.length;d++)f(m).is(c[d])&&b.push({selector:c[d],elem:m,level:e});m=m.parentNode;e++}return b}var g=Bb.test(c)||typeof c!=="string"?f(c,a||this.context):0;d=0;for(e=this.length;d<e;d++)for(m=this[d];m;)if(g?g.index(m)>-1:f.find.matchesSelector(m,
c)){b.push(m);break}else{m=m.parentNode;if(!m||!m.ownerDocument||m===a||m.nodeType===11)break}b=b.length>1?f.unique(b):b;return this.pushStack(b,"closest",c)},index:function(c){return!c?this[0]&&this[0].parentNode?this.prevAll().length:-1:typeof c==="string"?f.inArray(this[0],f(c)):f.inArray(c.jquery?c[0]:c,this)},add:function(c,a){var b=typeof c==="string"?f(c,a):f.makeArray(c&&c.nodeType?[c]:c),d=f.merge(this.get(),b);return this.pushStack(!b[0]||!b[0].parentNode||b[0].parentNode.nodeType===11||
!d[0]||!d[0].parentNode||d[0].parentNode.nodeType===11?d:f.unique(d))},andSelf:function(){return this.add(this.prevObject)}});f.each({parent:function(c){return(c=c.parentNode)&&c.nodeType!==11?c:null},parents:function(c){return f.dir(c,"parentNode")},parentsUntil:function(c,a,b){return f.dir(c,"parentNode",b)},next:function(c){return f.nth(c,2,"nextSibling")},prev:function(c){return f.nth(c,2,"previousSibling")},nextAll:function(c){return f.dir(c,"nextSibling")},prevAll:function(c){return f.dir(c,
"previousSibling")},nextUntil:function(c,a,b){return f.dir(c,"nextSibling",b)},prevUntil:function(c,a,b){return f.dir(c,"previousSibling",b)},siblings:function(c){return f.sibling((c.parentNode||{}).firstChild,c)},children:function(c){return f.sibling(c.firstChild)},contents:function(c){return f.nodeName(c,"iframe")?c.contentDocument||c.contentWindow.document:f.makeArray(c.childNodes)}},function(c,a){f.fn[c]=function(b,d){var e=f.map(this,a,b);Uc.test(c)||(d=b);d&&typeof d==="string"&&(e=f.filter(d,
e));e=this.length>1&&!Nb[c]?f.unique(e):e;if((this.length>1||Ad.test(d))&&Fc.test(c))e=e.reverse();return this.pushStack(e,c,Bd.call(arguments).join(","))}});f.extend({filter:function(c,a,b){b&&(c=":not("+c+")");return a.length===1?f.find.matchesSelector(a[0],c)?[a[0]]:[]:f.find.matches(c,a)},dir:function(c,a,d){for(var e=[],c=c[a];c&&c.nodeType!==9&&(d===b||c.nodeType!==1||!f(c).is(d));){c.nodeType===1&&e.push(c);c=c[a]}return e},nth:function(c,a,b){for(var a=a||1,d=0;c;c=c[b])if(c.nodeType===1&&
++d===a)break;return c},sibling:function(c,a){for(var b=[];c;c=c.nextSibling)c.nodeType===1&&c!==a&&b.push(c);return b}});var uc="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Gc=/ jQuery\d+="(?:\d+|null)"/g,Hc=/^\s+/,Ic=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,Vc=/<([\w:]+)/,Cd=/<tbody/i,Wc=/<|&#?\w+;/,Dd=/<(?:script|style)/i,Ed=/<(?:script|object|embed|option|style)/i,
Xc=RegExp("<(?:"+uc+")[\\s/>]","i"),Yc=/checked\s*(?:[^=]|=\s*.checked.)/i,Zc=/\/(java|ecma)script/i,Fd=/^\s*<!(?:\[CDATA\[|\-\-)/,Za={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},Jc=o(s);Za.optgroup=Za.option;Za.tbody=
Za.tfoot=Za.colgroup=Za.caption=Za.thead;Za.th=Za.td;f.support.htmlSerialize||(Za._default=[1,"div<div>","</div>"]);f.fn.extend({text:function(c){return f.access(this,function(c){return c===b?f.text(this):this.empty().append((this[0]&&this[0].ownerDocument||s).createTextNode(c))},null,c,arguments.length)},wrapAll:function(c){if(f.isFunction(c))return this.each(function(a){f(this).wrapAll(c.call(this,a))});if(this[0]){var a=f(c,this[0].ownerDocument).eq(0).clone(true);this[0].parentNode&&a.insertBefore(this[0]);
a.map(function(){for(var c=this;c.firstChild&&c.firstChild.nodeType===1;)c=c.firstChild;return c}).append(this)}return this},wrapInner:function(c){return f.isFunction(c)?this.each(function(a){f(this).wrapInner(c.call(this,a))}):this.each(function(){var a=f(this),b=a.contents();b.length?b.wrapAll(c):a.append(c)})},wrap:function(c){var a=f.isFunction(c);return this.each(function(b){f(this).wrapAll(a?c.call(this,b):c)})},unwrap:function(){return this.parent().each(function(){f.nodeName(this,"body")||
f(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,true,function(c){this.nodeType===1&&this.appendChild(c)})},prepend:function(){return this.domManip(arguments,true,function(c){this.nodeType===1&&this.insertBefore(c,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,false,function(c){this.parentNode.insertBefore(c,this)});if(arguments.length){var c=f.clean(arguments);c.push.apply(c,this.toArray());return this.pushStack(c,
"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,false,function(c){this.parentNode.insertBefore(c,this.nextSibling)});if(arguments.length){var c=this.pushStack(this,"after",arguments);c.push.apply(c,f.clean(arguments));return c}},remove:function(c,a){for(var b=0,d;(d=this[b])!=null;b++)if(!c||f.filter(c,[d]).length){if(!a&&d.nodeType===1){f.cleanData(d.getElementsByTagName("*"));f.cleanData([d])}d.parentNode&&d.parentNode.removeChild(d)}return this},
empty:function(){for(var c=0,a;(a=this[c])!=null;c++)for(a.nodeType===1&&f.cleanData(a.getElementsByTagName("*"));a.firstChild;)a.removeChild(a.firstChild);return this},clone:function(c,a){c=c==null?false:c;a=a==null?c:a;return this.map(function(){return f.clone(this,c,a)})},html:function(c){return f.access(this,function(c){var a=this[0]||{},d=0,e=this.length;if(c===b)return a.nodeType===1?a.innerHTML.replace(Gc,""):null;if(typeof c==="string"&&!Dd.test(c)&&(f.support.leadingWhitespace||!Hc.test(c))&&
!Za[(Vc.exec(c)||["",""])[1].toLowerCase()]){c=c.replace(Ic,"<$1></$2>");try{for(;d<e;d++){a=this[d]||{};if(a.nodeType===1){f.cleanData(a.getElementsByTagName("*"));a.innerHTML=c}}a=0}catch(m){}}a&&this.empty().append(c)},null,c,arguments.length)},replaceWith:function(c){if(this[0]&&this[0].parentNode){if(f.isFunction(c))return this.each(function(a){var b=f(this),d=b.html();b.replaceWith(c.call(this,a,d))});typeof c!=="string"&&(c=f(c).detach());return this.each(function(){var a=this.nextSibling,
b=this.parentNode;f(this).remove();a?f(a).before(c):f(b).append(c)})}return this.length?this.pushStack(f(f.isFunction(c)?c():c),"replaceWith",c):this},detach:function(c){return this.remove(c,true)},domManip:function(c,a,d){var e,m,g,j=c[0],q=[];if(!f.support.checkClone&&arguments.length===3&&typeof j==="string"&&Yc.test(j))return this.each(function(){f(this).domManip(c,a,d,true)});if(f.isFunction(j))return this.each(function(e){var m=f(this);c[0]=j.call(this,e,a?m.html():b);m.domManip(c,a,d)});if(this[0]){e=
j&&j.parentNode;e=f.support.parentNode&&e&&e.nodeType===11&&e.childNodes.length===this.length?{fragment:e}:f.buildFragment(c,this,q);g=e.fragment;if(m=g.childNodes.length===1?g=g.firstChild:g.firstChild){a=a&&f.nodeName(m,"tr");m=0;for(var k=this.length,l=k-1;m<k;m++)d.call(a?f.nodeName(this[m],"table")?this[m].getElementsByTagName("tbody")[0]||this[m].appendChild(this[m].ownerDocument.createElement("tbody")):this[m]:this[m],e.cacheable||k>1&&m<l?f.clone(g,true,true):g)}q.length&&f.each(q,function(c,
a){a.src?f.ajax({type:"GET",global:false,url:a.src,async:false,dataType:"script"}):f.globalEval((a.text||a.textContent||a.innerHTML||"").replace(Fd,"/*$0*/"));a.parentNode&&a.parentNode.removeChild(a)})}return this}});f.buildFragment=function(c,a,b){var d,e,m,g,j=c[0];a&&a[0]&&(g=a[0].ownerDocument||a[0]);g.createDocumentFragment||(g=s);if(c.length===1&&typeof j==="string"&&j.length<512&&g===s&&j.charAt(0)==="<"&&!Ed.test(j)&&(f.support.checkClone||!Yc.test(j))&&(f.support.html5Clone||!Xc.test(j))){e=
true;(m=f.fragments[j])&&m!==1&&(d=m)}if(!d){d=g.createDocumentFragment();f.clean(c,g,d,b)}e&&(f.fragments[j]=m?d:1);return{fragment:d,cacheable:e}};f.fragments={};f.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(c,a){f.fn[c]=function(b){var d=[],b=f(b),e=this.length===1&&this[0].parentNode;if(e&&e.nodeType===11&&e.childNodes.length===1&&b.length===1){b[a](this[0]);return this}for(var e=0,m=b.length;e<m;e++){var g=(e>0?this.clone(true):
this).get();f(b[e])[a](g);d=d.concat(g)}return this.pushStack(d,c,b.selector)}});f.extend({clone:function(c,a,b){var d,e,m;if(f.support.html5Clone||f.isXMLDoc(c)||!Xc.test("<"+c.nodeName+">"))d=c.cloneNode(true);else{d=s.createElement("div");Jc.appendChild(d);d.innerHTML=c.outerHTML;d=d.firstChild}var g=d;if((!f.support.noCloneEvent||!f.support.noCloneChecked)&&(c.nodeType===1||c.nodeType===11)&&!f.isXMLDoc(c)){B(c,g);d=y(c);e=y(g);for(m=0;d[m];++m)e[m]&&B(d[m],e[m])}if(a){z(c,g);if(b){d=y(c);e=y(g);
for(m=0;d[m];++m)z(d[m],e[m])}}return g},clean:function(c,a,b,d){var e,m=[],a=a||s;typeof a.createElement==="undefined"&&(a=a.ownerDocument||a[0]&&a[0].ownerDocument||s);for(var g=0,j;(j=c[g])!=null;g++){typeof j==="number"&&(j=j+"");if(j){if(typeof j==="string")if(Wc.test(j)){j=j.replace(Ic,"<$1></$2>");e=(Vc.exec(j)||["",""])[1].toLowerCase();var q=Za[e]||Za._default,k=q[0],l=a.createElement("div"),r=Jc.childNodes;a===s?Jc.appendChild(l):o(a).appendChild(l);for(l.innerHTML=q[1]+j+q[2];k--;)l=l.lastChild;
if(!f.support.tbody){k=Cd.test(j);q=e==="table"&&!k?l.firstChild&&l.firstChild.childNodes:q[1]==="<table>"&&!k?l.childNodes:[];for(e=q.length-1;e>=0;--e)f.nodeName(q[e],"tbody")&&!q[e].childNodes.length&&q[e].parentNode.removeChild(q[e])}!f.support.leadingWhitespace&&Hc.test(j)&&l.insertBefore(a.createTextNode(Hc.exec(j)[0]),l.firstChild);j=l.childNodes;if(l){l.parentNode.removeChild(l);if(r.length>0)(l=r[r.length-1])&&l.parentNode&&l.parentNode.removeChild(l)}}else j=a.createTextNode(j);var Q;if(!f.support.appendChecked)if(j[0]&&
typeof(Q=j.length)==="number")for(e=0;e<Q;e++)C(j[e]);else C(j);j.nodeType?m.push(j):m=f.merge(m,j)}}if(b){c=function(c){return!c.type||Zc.test(c.type)};for(g=0;m[g];g++){a=m[g];if(d&&f.nodeName(a,"script")&&(!a.type||Zc.test(a.type)))d.push(a.parentNode?a.parentNode.removeChild(a):a);else{if(a.nodeType===1){j=f.grep(a.getElementsByTagName("script"),c);m.splice.apply(m,[g+1,0].concat(j))}b.appendChild(a)}}}return m},cleanData:function(c){for(var a,b,d=f.cache,e=f.event.special,m=f.support.deleteExpando,
g=0,j;(j=c[g])!=null;g++)if(!j.nodeName||!f.noData[j.nodeName.toLowerCase()])if(b=j[f.expando]){if((a=d[b])&&a.events){for(var q in a.events)e[q]?f.event.remove(j,q):f.removeEvent(j,q,a.handle);if(a.handle)a.handle.elem=null}m?delete j[f.expando]:j.removeAttribute&&j.removeAttribute(f.expando);delete d[b]}}});var Kc=/alpha\([^)]*\)/i,Gd=/opacity=([^)]*)/,Hd=/([A-Z]|^ms)/g,$c=/^[\-+]?(?:\d*\.)?\d+$/i,Pb=/^-?(?:\d*\.)?\d+(?!px)[^\d\s]+$/i,nc=/^([\-+])=([\-+.\de]+)/,oc=/^margin/,db={position:"absolute",
visibility:"hidden",display:"block"},Ib=["Top","Right","Bottom","Left"],Ob,ad,pc;f.fn.css=function(c,a){return f.access(this,function(c,a,d){return d!==b?f.style(c,a,d):f.css(c,a)},c,a,arguments.length>1)};f.extend({cssHooks:{opacity:{get:function(c,a){if(a){var b=Ob(c,"opacity");return b===""?"1":b}return c.style.opacity}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":f.support.cssFloat?"cssFloat":"styleFloat"},style:function(c,
a,d,e){if(c&&!(c.nodeType===3||c.nodeType===8||!c.style)){var m,g=f.camelCase(a),j=c.style,q=f.cssHooks[g],a=f.cssProps[g]||g;if(d!==b){e=typeof d;if(e==="string"&&(m=nc.exec(d))){d=+(m[1]+1)*+m[2]+parseFloat(f.css(c,a));e="number"}if(!(d==null||e==="number"&&isNaN(d))){e==="number"&&!f.cssNumber[g]&&(d=d+"px");if(!q||!("set"in q)||(d=q.set(c,d))!==b)try{j[a]=d}catch(k){}}}else return q&&"get"in q&&(m=q.get(c,false,e))!==b?m:j[a]}},css:function(c,a,d){var e,m,a=f.camelCase(a);m=f.cssHooks[a];a=f.cssProps[a]||
a;a==="cssFloat"&&(a="float");if(m&&"get"in m&&(e=m.get(c,true,d))!==b)return e;if(Ob)return Ob(c,a)},swap:function(c,a,b){var d={},e;for(e in a){d[e]=c.style[e];c.style[e]=a[e]}b=b.call(c);for(e in a)c.style[e]=d[e];return b}});f.curCSS=f.css;s.defaultView&&s.defaultView.getComputedStyle&&(ad=function(c,a){var b,d,e,m=c.style,a=a.replace(Hd,"-$1").toLowerCase();if((d=c.ownerDocument.defaultView)&&(e=d.getComputedStyle(c,null))){b=e.getPropertyValue(a);b===""&&!f.contains(c.ownerDocument.documentElement,
c)&&(b=f.style(c,a))}if(!f.support.pixelMargin&&e&&oc.test(a)&&Pb.test(b)){d=m.width;m.width=b;b=e.width;m.width=d}return b});s.documentElement.currentStyle&&(pc=function(c,a){var b,d,e=c.currentStyle&&c.currentStyle[a],m=c.style;if(e==null&&m&&(b=m[a]))e=b;if(Pb.test(e)){b=m.left;if(d=c.runtimeStyle&&c.runtimeStyle.left)c.runtimeStyle.left=c.currentStyle.left;m.left=a==="fontSize"?"1em":e;e=m.pixelLeft+"px";m.left=b;if(d)c.runtimeStyle.left=d}return e===""?"auto":e});Ob=ad||pc;f.each(["height","width"],
function(c,a){f.cssHooks[a]={get:function(c,b,d){if(b)return c.offsetWidth!==0?A(c,a,d):f.swap(c,db,function(){return A(c,a,d)})},set:function(c,a){return $c.test(a)?a+"px":a}}});f.support.opacity||(f.cssHooks.opacity={get:function(c,a){return Gd.test((a&&c.currentStyle?c.currentStyle.filter:c.style.filter)||"")?parseFloat(RegExp.$1)/100+"":a?"1":""},set:function(c,a){var b=c.style,d=c.currentStyle,e=f.isNumeric(a)?"alpha(opacity="+a*100+")":"",m=d&&d.filter||b.filter||"";b.zoom=1;if(a>=1&&f.trim(m.replace(Kc,
""))===""){b.removeAttribute("filter");if(d&&!d.filter)return}b.filter=Kc.test(m)?m.replace(Kc,e):m+" "+e}});f(function(){if(!f.support.reliableMarginRight)f.cssHooks.marginRight={get:function(c,a){return f.swap(c,{display:"inline-block"},function(){return a?Ob(c,"margin-right"):c.style.marginRight})}}});f.expr&&f.expr.filters&&(f.expr.filters.hidden=function(c){var a=c.offsetHeight;return c.offsetWidth===0&&a===0||!f.support.reliableHiddenOffsets&&(c.style&&c.style.display||f.css(c,"display"))===
"none"},f.expr.filters.visible=function(c){return!f.expr.filters.hidden(c)});f.each({margin:"",padding:"",border:"Width"},function(c,a){f.cssHooks[c+a]={expand:function(b){for(var d=typeof b==="string"?b.split(" "):[b],e={},b=0;b<4;b++)e[c+Ib[b]+a]=d[b]||d[b-2]||d[0];return e}}});var $a=/%20/g,xd=/\[\]$/,Lc=/\r?\n/g,Id=/#.*$/,Jd=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,Kd=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,bd=/^(?:GET|HEAD)$/,
cd=/^\/\//,nb=/\?/,Cb=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,ec=/^(?:select|textarea)/i,Pc=/\s+/,fc=/([?&])_=[^&]*/,Mc=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,dd=f.fn.load,vc={},ed={},Db,ub,fd=["*/"]+["*"];try{Db=M.href}catch(fe){Db=s.createElement("a"),Db.href="",Db=Db.href}ub=Mc.exec(Db.toLowerCase())||[];f.fn.extend({load:function(c,a,d){if(typeof c!=="string"&&dd)return dd.apply(this,arguments);if(!this.length)return this;var e=c.indexOf(" ");if(e>=0)var m=c.slice(e,c.length),
c=c.slice(0,e);e="GET";if(a)if(f.isFunction(a)){d=a;a=b}else if(typeof a==="object"){a=f.param(a,f.ajaxSettings.traditional);e="POST"}var g=this;f.ajax({url:c,type:e,dataType:"html",data:a,complete:function(c,a,b){b=c.responseText;if(c.isResolved()){c.done(function(c){b=c});g.html(m?f("<div>").append(b.replace(Cb,"")).find(m):b)}d&&g.each(d,[b,a,c])}});return this},serialize:function(){return f.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?
f.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||ec.test(this.nodeName)||Kd.test(this.type))}).map(function(c,a){var b=f(this).val();return b==null?null:f.isArray(b)?f.map(b,function(c){return{name:a.name,value:c.replace(Lc,"\r\n")}}):{name:a.name,value:b.replace(Lc,"\r\n")}}).get()}});f.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(c,a){f.fn[a]=function(c){return this.on(a,c)}});f.each(["get","post"],
function(c,a){f[a]=function(c,d,e,m){if(f.isFunction(d)){m=m||e;e=d;d=b}return f.ajax({type:a,url:c,data:d,success:e,dataType:m})}});f.extend({getScript:function(c,a){return f.get(c,b,a,"script")},getJSON:function(c,a,b){return f.get(c,a,b,"json")},ajaxSetup:function(c,a){if(a)W(c,f.ajaxSettings);else{a=c;c=f.ajaxSettings}W(c,a);return c},ajaxSettings:{url:Db,isLocal:/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/.test(ub[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",
processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":fd},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":a.String,"text html":!0,"text json":f.parseJSON,"text xml":f.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:w(vc),ajaxTransport:w(ed),ajax:function(c,a){function d(c,a,h,r){if(Ha!==2){Ha=2;z&&clearTimeout(z);x=b;o=r||"";S.readyState=
c>0?4:0;var Q,p,n,r=a;if(h){var B=e,H=S,ca=B.contents,Ia=B.dataTypes,w=B.responseFields,s,E,A,C;for(E in w)E in h&&(H[w[E]]=h[E]);for(;Ia[0]==="*";){Ia.shift();s===b&&(s=B.mimeType||H.getResponseHeader("content-type"))}if(s)for(E in ca)if(ca[E]&&ca[E].test(s)){Ia.unshift(E);break}if(Ia[0]in h)A=Ia[0];else{for(E in h){if(!Ia[0]||B.converters[E+" "+Ia[0]]){A=E;break}C||(C=E)}A=A||C}if(A){A!==Ia[0]&&Ia.unshift(A);h=h[A]}else h=void 0}else h=b;if(c>=200&&c<300||c===304){if(e.ifModified){if(s=S.getResponseHeader("Last-Modified"))f.lastModified[l]=
s;if(s=S.getResponseHeader("Etag"))f.etag[l]=s}if(c===304){r="notmodified";Q=true}else try{s=e;s.dataFilter&&(h=s.dataFilter(h,s.dataType));var T=s.dataTypes;E={};var J,y,u=T.length,aa,Ma=T[0],v,K,ea,Z,ma;for(J=1;J<u;J++){if(J===1)for(y in s.converters)typeof y==="string"&&(E[y.toLowerCase()]=s.converters[y]);v=Ma;Ma=T[J];if(Ma==="*")Ma=v;else if(v!=="*"&&v!==Ma){K=v+" "+Ma;ea=E[K]||E["* "+Ma];if(!ea){ma=b;for(Z in E){aa=Z.split(" ");if(aa[0]===v||aa[0]==="*")if(ma=E[aa[1]+" "+Ma]){Z=E[Z];Z===true?
ea=ma:ma===true&&(ea=Z);break}}}!ea&&!ma&&f.error("No conversion from "+K.replace(" "," to "));ea!==true&&(h=ea?ea(h):ma(Z(h)))}}p=h;r="success";Q=true}catch(F){r="parsererror";n=F}}else{n=r;if(!r||c){r="error";c<0&&(c=0)}}S.status=c;S.statusText=""+(a||r);Q?j.resolveWith(m,[p,r,S]):j.rejectWith(m,[S,r,n]);S.statusCode(k);k=b;P&&g.trigger("ajax"+(Q?"Success":"Error"),[S,e,Q?p:n]);q.fireWith(m,[S,r]);if(P){g.trigger("ajaxComplete",[S,e]);--f.active||f.event.trigger("ajaxStop")}}}if(typeof c==="object"){a=
c;c=b}var a=a||{},e=f.ajaxSetup({},a),m=e.context||e,g=m!==e&&(m.nodeType||m instanceof f)?f(m):f.event,j=f.Deferred(),q=f.Callbacks("once memory"),k=e.statusCode||{},l,r={},Q={},o,p,x,z,n,Ha=0,P,B,S={readyState:0,setRequestHeader:function(c,a){if(!Ha){var b=c.toLowerCase(),c=Q[b]=Q[b]||c;r[c]=a}return this},getAllResponseHeaders:function(){return Ha===2?o:null},getResponseHeader:function(c){var a;if(Ha===2){if(!p)for(p={};a=Jd.exec(o);)p[a[1].toLowerCase()]=a[2];a=p[c.toLowerCase()]}return a===b?
null:a},overrideMimeType:function(c){if(!Ha)e.mimeType=c;return this},abort:function(c){c=c||"abort";x&&x.abort(c);d(0,c);return this}};j.promise(S);S.success=S.done;S.error=S.fail;S.complete=q.add;S.statusCode=function(c){if(c){var a;if(Ha<2)for(a in c)k[a]=[k[a],c[a]];else{a=c[S.status];S.then(a,a)}}return this};e.url=((c||e.url)+"").replace(Id,"").replace(cd,ub[1]+"//");e.dataTypes=f.trim(e.dataType||"*").toLowerCase().split(Pc);if(e.crossDomain==null){n=Mc.exec(e.url.toLowerCase());e.crossDomain=
!(!n||!(n[1]!=ub[1]||n[2]!=ub[2]||(n[3]||(n[1]==="http:"?80:443))!=(ub[3]||(ub[1]==="http:"?80:443))))}if(e.data&&e.processData&&typeof e.data!=="string")e.data=f.param(e.data,e.traditional);K(vc,e,a,S);if(Ha===2)return false;P=e.global;e.type=e.type.toUpperCase();e.hasContent=!bd.test(e.type);P&&f.active++===0&&f.event.trigger("ajaxStart");if(!e.hasContent){if(e.data){e.url=e.url+((nb.test(e.url)?"&":"?")+e.data);delete e.data}l=e.url;if(e.cache===false){n=f.now();var ca=e.url.replace(fc,"$1_="+
n);e.url=ca+(ca===e.url?(nb.test(e.url)?"&":"?")+"_="+n:"")}}(e.data&&e.hasContent&&e.contentType!==false||a.contentType)&&S.setRequestHeader("Content-Type",e.contentType);if(e.ifModified){l=l||e.url;f.lastModified[l]&&S.setRequestHeader("If-Modified-Since",f.lastModified[l]);f.etag[l]&&S.setRequestHeader("If-None-Match",f.etag[l])}S.setRequestHeader("Accept",e.dataTypes[0]&&e.accepts[e.dataTypes[0]]?e.accepts[e.dataTypes[0]]+(e.dataTypes[0]!=="*"?", "+fd+"; q=0.01":""):e.accepts["*"]);for(B in e.headers)S.setRequestHeader(B,
e.headers[B]);if(e.beforeSend&&(e.beforeSend.call(m,S,e)===false||Ha===2)){S.abort();return false}for(B in{success:1,error:1,complete:1})S[B](e[B]);if(x=K(ed,e,a,S)){S.readyState=1;P&&g.trigger("ajaxSend",[S,e]);e.async&&e.timeout>0&&(z=setTimeout(function(){S.abort("timeout")},e.timeout));try{Ha=1;x.send(r,d)}catch(Ia){if(Ha<2)d(-1,Ia);else throw Ia;}}else d(-1,"No Transport");return S},param:function(c,a){var d=[],e=function(c,a){a=f.isFunction(a)?a():a;d[d.length]=encodeURIComponent(c)+"="+encodeURIComponent(a)};
if(a===b)a=f.ajaxSettings.traditional;if(f.isArray(c)||c.jquery&&!f.isPlainObject(c))f.each(c,function(){e(this.name,this.value)});else for(var m in c)L(m,c[m],a,e);return d.join("&").replace($a,"+")}});f.extend({active:0,lastModified:{},etag:{}});var Od=f.now(),Xb=/(\=)\?(&|$)|\?\?/i;f.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return f.expando+"_"+Od++}});f.ajaxPrefilter("json jsonp",function(c,b,d){b=typeof c.data==="string"&&/^application\/x\-www\-form\-urlencoded/.test(c.contentType);
if(c.dataTypes[0]==="jsonp"||c.jsonp!==false&&(Xb.test(c.url)||b&&Xb.test(c.data))){var e,m=c.jsonpCallback=f.isFunction(c.jsonpCallback)?c.jsonpCallback():c.jsonpCallback,g=a[m],j=c.url,q=c.data,k="$1"+m+"$2";if(c.jsonp!==false){j=j.replace(Xb,k);if(c.url===j){b&&(q=q.replace(Xb,k));c.data===q&&(j=j+((/\?/.test(j)?"&":"?")+c.jsonp+"="+m))}}c.url=j;c.data=q;a[m]=function(c){e=[c]};d.always(function(){a[m]=g;if(e&&f.isFunction(g))a[m](e[0])});c.converters["script json"]=function(){e||f.error(m+" was not called");
return e[0]};c.dataTypes[0]="json";return"script"}});f.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(c){f.globalEval(c);return c}}});f.ajaxPrefilter("script",function(c){if(c.cache===b)c.cache=false;if(c.crossDomain){c.type="GET";c.global=false}});f.ajaxTransport("script",function(c){if(c.crossDomain){var a,d=s.head||s.getElementsByTagName("head")[0]||
s.documentElement;return{send:function(e,m){a=s.createElement("script");a.async="async";if(c.scriptCharset)a.charset=c.scriptCharset;a.src=c.url;a.onload=a.onreadystatechange=function(c,e){if(e||!a.readyState||/loaded|complete/.test(a.readyState)){a.onload=a.onreadystatechange=null;d&&a.parentNode&&d.removeChild(a);a=b;e||m(200,"success")}};d.insertBefore(a,d.firstChild)},abort:function(){if(a)a.onload(0,1)}}}});var rc=a.ActiveXObject?function(){for(var c in Fb)Fb[c](0,1)}:!1,Yb=0,Fb;f.ajaxSettings.xhr=
a.ActiveXObject?function(){var c;if(!(c=!this.isLocal&&X()))a:{try{c=new a.ActiveXObject("Microsoft.XMLHTTP");break a}catch(b){}c=void 0}return c}:X;var eb=f.ajaxSettings.xhr();f.extend(f.support,{ajax:!!eb,cors:!!eb&&"withCredentials"in eb});f.support.ajax&&f.ajaxTransport(function(c){if(!c.crossDomain||f.support.cors){var d;return{send:function(e,m){var g=c.xhr(),j,q;c.username?g.open(c.type,c.url,c.async,c.username,c.password):g.open(c.type,c.url,c.async);if(c.xhrFields)for(q in c.xhrFields)g[q]=
c.xhrFields[q];c.mimeType&&g.overrideMimeType&&g.overrideMimeType(c.mimeType);!c.crossDomain&&!e["X-Requested-With"]&&(e["X-Requested-With"]="XMLHttpRequest");try{for(q in e)g.setRequestHeader(q,e[q])}catch(k){}g.send(c.hasContent&&c.data||null);d=function(a,e){var q,k,l,r,Q;try{if(d&&(e||g.readyState===4)){d=b;if(j){g.onreadystatechange=f.noop;rc&&delete Fb[j]}if(e)g.readyState!==4&&g.abort();else{q=g.status;l=g.getAllResponseHeaders();r={};if((Q=g.responseXML)&&Q.documentElement)r.xml=Q;try{r.text=
g.responseText}catch(o){}try{k=g.statusText}catch(p){k=""}!q&&c.isLocal&&!c.crossDomain?q=r.text?200:404:q===1223&&(q=204)}}}catch(x){e||m(-1,x)}r&&m(q,k,r,l)};if(!c.async||g.readyState===4)d();else{j=++Yb;if(rc){if(!Fb){Fb={};f(a).unload(rc)}Fb[j]=d}g.onreadystatechange=d}},abort:function(){d&&d(0,1)}}}});var Rb={},Na,Jb,Pd=/^(?:toggle|show|hide)$/,Va=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,gc,$b=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft",
"paddingRight"],["opacity"]],Qb;f.fn.extend({show:function(c,a,b){if(c||c===0)return this.animate(E("show",3),c,a,b);for(var b=0,d=this.length;b<d;b++){c=this[b];if(c.style){a=c.style.display;if(!f._data(c,"olddisplay")&&a==="none")a=c.style.display="";(a===""&&f.css(c,"display")==="none"||!f.contains(c.ownerDocument.documentElement,c))&&f._data(c,"olddisplay",ma(c.nodeName))}}for(b=0;b<d;b++){c=this[b];if(c.style){a=c.style.display;if(a===""||a==="none")c.style.display=f._data(c,"olddisplay")||""}}return this},
hide:function(c,a,b){if(c||c===0)return this.animate(E("hide",3),c,a,b);for(var b=0,d=this.length;b<d;b++){c=this[b];if(c.style){a=f.css(c,"display");a!=="none"&&!f._data(c,"olddisplay")&&f._data(c,"olddisplay",a)}}for(b=0;b<d;b++)if(this[b].style)this[b].style.display="none";return this},_toggle:f.fn.toggle,toggle:function(c,a,b){var d=typeof c==="boolean";f.isFunction(c)&&f.isFunction(a)?this._toggle.apply(this,arguments):c==null||d?this.each(function(){var a=d?c:f(this).is(":hidden");f(this)[a?
"show":"hide"]()}):this.animate(E("toggle",3),c,a,b);return this},fadeTo:function(c,a,b,d){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:a},c,b,d)},animate:function(c,a,b,d){function e(){m.queue===false&&f._mark(this);var a=f.extend({},m),b=this.nodeType===1,d=b&&f(this).is(":hidden"),h,g,j,q,k;a.animatedProperties={};for(j in c){h=f.camelCase(j);if(j!==h){c[h]=c[j];delete c[j]}if((g=f.cssHooks[h])&&"expand"in g){q=g.expand(c[h]);delete c[h];for(j in q)j in c||(c[j]=
q[j])}}for(h in c){g=c[h];if(f.isArray(g)){a.animatedProperties[h]=g[1];g=c[h]=g[0]}else a.animatedProperties[h]=a.specialEasing&&a.specialEasing[h]||a.easing||"swing";if(g==="hide"&&d||g==="show"&&!d)return a.complete.call(this);if(b&&(h==="height"||h==="width")){a.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY];if(f.css(this,"display")==="inline"&&f.css(this,"float")==="none")!f.support.inlineBlockNeedsLayout||ma(this.nodeName)==="inline"?this.style.display="inline-block":
this.style.zoom=1}}if(a.overflow!=null)this.style.overflow="hidden";for(j in c){b=new f.fx(this,a,j);g=c[j];if(Pd.test(g))if(h=f._data(this,"toggle"+j)||(g==="toggle"?d?"show":"hide":0)){f._data(this,"toggle"+j,h==="show"?"hide":"show");b[h]()}else b[g]();else{h=Va.exec(g);q=b.cur();if(h){g=parseFloat(h[2]);k=h[3]||(f.cssNumber[j]?"":"px");if(k!=="px"){f.style(this,j,(g||1)+k);q=(g||1)/b.cur()*q;f.style(this,j,q+k)}h[1]&&(g=(h[1]==="-="?-1:1)*g+q);b.custom(q,g,k)}else b.custom(q,g,"")}}return true}
var m=f.speed(a,b,d);if(f.isEmptyObject(c))return this.each(m.complete,[false]);c=f.extend({},c);return m.queue===false?this.each(e):this.queue(m.queue,e)},stop:function(c,a,d){if(typeof c!=="string"){d=a;a=c;c=b}a&&c!==false&&this.queue(c||"fx",[]);return this.each(function(){var a,b=false,e=f.timers,m=f._data(this);d||f._unmark(true,this);if(c==null)for(a in m){if(m[a]&&m[a].stop&&a.indexOf(".run")===a.length-4){var h=m[a];f.removeData(this,a,true);h.stop(d)}}else if(m[a=c+".run"]&&m[a].stop){m=
m[a];f.removeData(this,a,true);m.stop(d)}for(a=e.length;a--;)if(e[a].elem===this&&(c==null||e[a].queue===c)){if(d)e[a](true);else e[a].saveState();b=true;e.splice(a,1)}(!d||!b)&&f.dequeue(this,c)})}});f.each({slideDown:E("show",1),slideUp:E("hide",1),slideToggle:E("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(c,a){f.fn[c]=function(c,b,d){return this.animate(a,c,b,d)}});f.extend({speed:function(c,a,b){var d=c&&typeof c==="object"?f.extend({},c):
{complete:b||!b&&a||f.isFunction(c)&&c,duration:c,easing:b&&a||a&&!f.isFunction(a)&&a};d.duration=f.fx.off?0:typeof d.duration==="number"?d.duration:d.duration in f.fx.speeds?f.fx.speeds[d.duration]:f.fx.speeds._default;if(d.queue==null||d.queue===true)d.queue="fx";d.old=d.complete;d.complete=function(c){f.isFunction(d.old)&&d.old.call(this);d.queue?f.dequeue(this,d.queue):c!==false&&f._unmark(this)};return d},easing:{linear:function(c){return c},swing:function(c){return-Math.cos(c*Math.PI)/2+0.5}},
timers:[],fx:function(c,a,b){this.options=a;this.elem=c;this.prop=b;a.orig=a.orig||{}}});f.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this);(f.fx.step[this.prop]||f.fx.step._default)(this)},cur:function(){if(this.elem[this.prop]!=null&&(!this.elem.style||this.elem.style[this.prop]==null))return this.elem[this.prop];var c,a=f.css(this.elem,this.prop);return isNaN(c=parseFloat(a))?!a||a==="auto"?0:a:c},custom:function(c,a,d){function e(c){return m.step(c)}
var m=this,g=f.fx;this.startTime=Qb||qa();this.end=a;this.now=this.start=c;this.pos=this.state=0;this.unit=d||this.unit||(f.cssNumber[this.prop]?"":"px");e.queue=this.options.queue;e.elem=this.elem;e.saveState=function(){f._data(m.elem,"fxshow"+m.prop)===b&&(m.options.hide?f._data(m.elem,"fxshow"+m.prop,m.start):m.options.show&&f._data(m.elem,"fxshow"+m.prop,m.end))};e()&&(f.timers.push(e)&&!gc)&&(gc=setInterval(g.tick,g.interval))},show:function(){var c=f._data(this.elem,"fxshow"+this.prop);this.options.orig[this.prop]=
c||f.style(this.elem,this.prop);this.options.show=true;c!==b?this.custom(this.cur(),c):this.custom(this.prop==="width"||this.prop==="height"?1:0,this.cur());f(this.elem).show()},hide:function(){this.options.orig[this.prop]=f._data(this.elem,"fxshow"+this.prop)||f.style(this.elem,this.prop);this.options.hide=true;this.custom(this.cur(),0)},step:function(c){var a,b=Qb||qa(),d=true,e=this.elem,m=this.options;if(c||b>=m.duration+this.startTime){this.now=this.end;this.pos=this.state=1;this.update();m.animatedProperties[this.prop]=
true;for(a in m.animatedProperties)m.animatedProperties[a]!==true&&(d=false);if(d){m.overflow!=null&&!f.support.shrinkWrapBlocks&&f.each(["","X","Y"],function(c,a){e.style["overflow"+a]=m.overflow[c]});m.hide&&f(e).hide();if(m.hide||m.show)for(a in m.animatedProperties){f.style(e,a,m.orig[a]);f.removeData(e,"fxshow"+a,true);f.removeData(e,"toggle"+a,true)}if(c=m.complete){m.complete=false;c.call(e)}}return false}if(m.duration==Infinity)this.now=b;else{c=b-this.startTime;this.state=c/m.duration;this.pos=
f.easing[m.animatedProperties[this.prop]](this.state,c,0,1,m.duration);this.now=this.start+(this.end-this.start)*this.pos}this.update();return true}};f.extend(f.fx,{tick:function(){for(var c,a=f.timers,b=0;b<a.length;b++){c=a[b];!c()&&a[b]===c&&a.splice(b--,1)}a.length||f.fx.stop()},interval:13,stop:function(){clearInterval(gc);gc=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(c){f.style(c.elem,"opacity",c.now)},_default:function(c){c.elem.style&&c.elem.style[c.prop]!=null?c.elem.style[c.prop]=
c.now+c.unit:c.elem[c.prop]=c.now}}});f.each($b.concat.apply([],$b),function(c,a){a.indexOf("margin")&&(f.fx.step[a]=function(c){f.style(c.elem,a,Math.max(0,c.now)+c.unit)})});f.expr&&f.expr.filters&&(f.expr.filters.animated=function(c){return f.grep(f.timers,function(a){return c===a.elem}).length});var kd,Qd=/^t(?:able|d|h)$/i,ld=/^(?:body|html)$/i;kd="getBoundingClientRect"in s.documentElement?function(c,a,b,d){try{d=c.getBoundingClientRect()}catch(e){}if(!d||!f.contains(b,c))return d?{top:d.top,
left:d.left}:{top:0,left:0};c=a.body;a=v(a);return{top:d.top+(a.pageYOffset||f.support.boxModel&&b.scrollTop||c.scrollTop)-(b.clientTop||c.clientTop||0),left:d.left+(a.pageXOffset||f.support.boxModel&&b.scrollLeft||c.scrollLeft)-(b.clientLeft||c.clientLeft||0)}}:function(c,a,b){var d,e=c.offsetParent,m=a.body;d=(a=a.defaultView)?a.getComputedStyle(c,null):c.currentStyle;for(var g=c.offsetTop,j=c.offsetLeft;(c=c.parentNode)&&c!==m&&c!==b;){if(f.support.fixedPosition&&d.position==="fixed")break;d=a?
a.getComputedStyle(c,null):c.currentStyle;g=g-c.scrollTop;j=j-c.scrollLeft;if(c===e){g=g+c.offsetTop;j=j+c.offsetLeft;if(f.support.doesNotAddBorder&&(!f.support.doesAddBorderForTableAndCells||!Qd.test(c.nodeName))){g=g+(parseFloat(d.borderTopWidth)||0);j=j+(parseFloat(d.borderLeftWidth)||0)}e=c.offsetParent}if(f.support.subtractsBorderForOverflowNotVisible&&d.overflow!=="visible"){g=g+(parseFloat(d.borderTopWidth)||0);j=j+(parseFloat(d.borderLeftWidth)||0)}}if(d.position==="relative"||d.position===
"static"){g=g+m.offsetTop;j=j+m.offsetLeft}if(f.support.fixedPosition&&d.position==="fixed"){g=g+Math.max(b.scrollTop,m.scrollTop);j=j+Math.max(b.scrollLeft,m.scrollLeft)}return{top:g,left:j}};f.fn.offset=function(c){if(arguments.length)return c===b?this:this.each(function(a){f.offset.setOffset(this,c,a)});var a=this[0],d=a&&a.ownerDocument;return!d?null:a===d.body?f.offset.bodyOffset(a):kd(a,d,d.documentElement)};f.offset={bodyOffset:function(c){var a=c.offsetTop,b=c.offsetLeft;if(f.support.doesNotIncludeMarginInBodyOffset){a=
a+(parseFloat(f.css(c,"marginTop"))||0);b=b+(parseFloat(f.css(c,"marginLeft"))||0)}return{top:a,left:b}},setOffset:function(c,a,b){var d=f.css(c,"position");if(d==="static")c.style.position="relative";var e=f(c),m=e.offset(),g=f.css(c,"top"),j=f.css(c,"left"),q={},k={};if((d==="absolute"||d==="fixed")&&f.inArray("auto",[g,j])>-1){k=e.position();d=k.top;j=k.left}else{d=parseFloat(g)||0;j=parseFloat(j)||0}f.isFunction(a)&&(a=a.call(c,b,m));if(a.top!=null)q.top=a.top-m.top+d;if(a.left!=null)q.left=a.left-
m.left+j;"using"in a?a.using.call(c,q):e.css(q)}};f.fn.extend({position:function(){if(!this[0])return null;var c=this[0],a=this.offsetParent(),b=this.offset(),d=ld.test(a[0].nodeName)?{top:0,left:0}:a.offset();b.top=b.top-(parseFloat(f.css(c,"marginTop"))||0);b.left=b.left-(parseFloat(f.css(c,"marginLeft"))||0);d.top=d.top+(parseFloat(f.css(a[0],"borderTopWidth"))||0);d.left=d.left+(parseFloat(f.css(a[0],"borderLeftWidth"))||0);return{top:b.top-d.top,left:b.left-d.left}},offsetParent:function(){return this.map(function(){for(var c=
this.offsetParent||s.body;c&&!ld.test(c.nodeName)&&f.css(c,"position")==="static";)c=c.offsetParent;return c})}});f.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(c,a){var d=/Y/.test(a);f.fn[c]=function(e){return f.access(this,function(c,e,m){var g=v(c);if(m===b)return g?a in g?g[a]:f.support.boxModel&&g.document.documentElement[e]||g.document.body[e]:c[e];g?g.scrollTo(!d?m:f(g).scrollLeft(),d?m:f(g).scrollTop()):c[e]=m},c,e,arguments.length,null)}});f.each({Height:"height",Width:"width"},
function(c,a){var d="client"+c,e="scroll"+c,m="offset"+c;f.fn["inner"+c]=function(){var c=this[0];return c?c.style?parseFloat(f.css(c,a,"padding")):this[a]():null};f.fn["outer"+c]=function(c){var b=this[0];return b?b.style?parseFloat(f.css(b,a,c?"margin":"border")):this[a]():null};f.fn[a]=function(c){return f.access(this,function(c,a,g){if(f.isWindow(c)){a=c.document;c=a.documentElement[d];return f.support.boxModel&&c||a.body&&a.body[d]||c}if(c.nodeType===9){a=c.documentElement;return a[d]>=a[e]?
a[d]:Math.max(c.body[e],a[e],c.body[m],a[m])}if(g===b){c=f.css(c,a);a=parseFloat(c);return f.isNumeric(a)?a:c}f(c).css(a,g)},a,c,arguments.length,null)}});a.jQuery=a.$=f;"function"===typeof define&&(define.amd&&define.amd.jQuery)&&define("jquery",[],function(){return f})})(window);define("jquery/jquery-1.7.2",function(){});
define("jquery/jquery.tools.min",["jquery/jquery-1.7.2"],function(){var a=jQuery,b=function(b,g){var j=this,k=b.add(j),p=a(window),C,A,w,K=a.tools.expose&&(g.mask||g.expose),W=Math.random().toString().slice(10);K&&("string"==typeof K&&(K={color:K}),K.closeOnClick=K.closeOnEsc=!1);var L=g.target||b.attr("rel");A=L?a(L):b;if(!A.length)throw"Could not find Overlay: "+L;b&&-1==b.index(A)&&b.click(function(a){j.load(a);return a.preventDefault()});a.extend(j,{load:function(b){if(j.isOpened())return j;var o=
e[g.effect];if(!o)throw'Overlay: cannot find effect : "'+g.effect+'"';g.oneInstance&&a.each(d,function(){this.close(b)});b=b||a.Event();b.type="onBeforeLoad";k.trigger(b);if(b.isDefaultPrevented())return j;w=!0;K&&a(A).expose(K);var n=g.top,E=g.left,C=A.outerWidth({margin:!0}),v=A.outerHeight({margin:!0});"string"==typeof n&&(n="center"==n?Math.max((p.height()-v)/2,0):parseInt(n,10)/100*p.height());"center"==E&&(E=Math.max((p.width()-C)/2,0));o[0].call(j,{top:n,left:E},function(){w&&(b.type="onLoad",
k.trigger(b))});K&&g.closeOnClick&&a.mask.getMask().one("click",j.close);g.closeOnClick&&a(document).on("click."+W,function(b){a(b.target).parents(A).length||j.close(b)});g.closeOnEsc&&a(document).on("keydown."+W,function(a){27==a.keyCode&&j.close(a)});return j},close:function(b){if(!j.isOpened())return j;b=b||a.Event();b.type="onBeforeClose";k.trigger(b);if(!b.isDefaultPrevented())return w=!1,e[g.effect][1].call(j,function(){b.type="onClose";k.trigger(b)}),a(document).off("click."+W+" keydown."+
W),K&&a.mask.close(),j},getOverlay:function(){return A},getTrigger:function(){return b},getClosers:function(){return C},isOpened:function(){return w},getConf:function(){return g}});a.each(["onBeforeLoad","onStart","onLoad","onBeforeClose","onClose"],function(b,d){a.isFunction(g[d])&&a(j).on(d,g[d]);j[d]=function(b){b&&a(j).on(d,b);return j}});C=A.find(g.close||".close");!C.length&&!g.close&&(C=a('<a class="close"></a>'),A.prepend(C));C.click(function(a){j.close(a)});g.load&&j.load()};a.tools=a.tools||
{version:"v1.2.7"};a.tools.overlay={addEffect:function(a,b,d){e[a]=[b,d]},conf:{close:null,closeOnClick:!0,closeOnEsc:!0,closeSpeed:"fast",effect:"default",fixed:!a.browser.msie||6<a.browser.version,left:"center",load:!1,mask:null,oneInstance:!0,speed:"normal",target:null,top:"10%"}};var d=[],e={};a.tools.overlay.addEffect("default",function(b,d){var e=this.getConf(),g=a(window);e.fixed||(b.top+=g.scrollTop(),b.left+=g.scrollLeft());b.position=e.fixed?"fixed":"absolute";this.getOverlay().css(b).fadeIn(e.speed,
d)},function(a){this.getOverlay().fadeOut(this.getConf().closeSpeed,a)});a.fn.overlay=function(e){var g=this.data("overlay");if(g)return g;a.isFunction(e)&&(e={onBeforeLoad:e});e=a.extend(!0,{},a.tools.overlay.conf,e);this.each(function(){g=new b(a(this),e);d.push(g);a(this).data("overlay",g)});return e.api?g:this};var g=jQuery,k=function(a,b){var d=g(b);return 2>d.length?d:a.parent().find(b)},j=function(a,b){var d=this,e=a.add(d),j=a.children(),C=0,A=b.vertical;p||(p=d);1<j.length&&(j=g(b.items,
a));1<b.size&&(b.circular=!1);g.extend(d,{getConf:function(){return b},getIndex:function(){return C},getSize:function(){return d.getItems().size()},getNaviButtons:function(){return L.add(X)},getRoot:function(){return a},getItemWrap:function(){return j},getItems:function(){return j.find(b.item).not("."+b.clonedClass)},move:function(a,b){return d.seekTo(C+a,b)},next:function(a){return d.move(b.size,a)},prev:function(a){return d.move(-b.size,a)},begin:function(a){return d.seekTo(0,a)},end:function(a){return d.seekTo(d.getSize()-
1,a)},focus:function(){return p=d},addItem:function(a){a=g(a);b.circular?(j.children().last().before(a),j.children().first().replaceWith(a.clone().addClass(b.clonedClass))):(j.append(a),X.removeClass("disabled"));e.trigger("onAddItem",[a]);return d},seekTo:function(a,k,o){a.jquery||(a*=1);if(b.circular&&0===a&&-1==C&&0!==k||!b.circular&&0>a||a>d.getSize()||-1>a)return d;var n=a;a.jquery?a=d.getItems().index(a):n=d.getItems().eq(a);var w=g.Event("onBeforeSeek");if(!o&&(e.trigger(w,[a,k]),w.isDefaultPrevented()||
!n.length))return d;n=A?{top:-n.position().top}:{left:-n.position().left};C=a;p=d;void 0===k&&(k=b.speed);j.animate(n,k,b.easing,o||function(){e.trigger("onSeek",[a])});return d}});g.each(["onBeforeSeek","onSeek","onAddItem"],function(a,e){g.isFunction(b[e])&&g(d).on(e,b[e]);d[e]=function(a){a&&g(d).on(e,a);return d}});if(b.circular){var w=d.getItems().slice(-1).clone().prependTo(j),K=d.getItems().eq(1).clone().appendTo(j);w.add(K).addClass(b.clonedClass);d.onBeforeSeek(function(a,b,e){if(!a.isDefaultPrevented()){if(-1==
b)return d.seekTo(w,e,function(){d.end(0)}),a.preventDefault();b==d.getSize()&&d.seekTo(K,e,function(){d.begin(0)})}});var W=a.parents().add(a).filter(function(){if("none"===g(this).css("display"))return!0});W.length?(W.show(),d.seekTo(0,0,function(){}),W.hide()):d.seekTo(0,0,function(){})}var L=k(a,b.prev).click(function(a){a.stopPropagation();d.prev()}),X=k(a,b.next).click(function(a){a.stopPropagation();d.next()});b.circular||(d.onBeforeSeek(function(a,e){setTimeout(function(){a.isDefaultPrevented()||
(L.toggleClass(b.disabledClass,0>=e),X.toggleClass(b.disabledClass,e>=d.getSize()-1))},1)}),b.initialIndex||L.addClass(b.disabledClass));2>d.getSize()&&L.add(X).addClass(b.disabledClass);b.mousewheel&&g.fn.mousewheel&&a.mousewheel(function(a,e){if(b.mousewheel)return d.move(0>e?1:-1,b.wheelSpeed||50),!1});if(b.touch){var qa,n;j[0].ontouchstart=function(a){a=a.touches[0];qa=a.clientX;n=a.clientY};j[0].ontouchmove=function(a){if(1==a.touches.length&&!j.is(":animated")){var b=a.touches[0],e=qa-b.clientX,
b=n-b.clientY;d[A&&0<b||!A&&0<e?"next":"prev"]();a.preventDefault()}}}b.keyboard&&g(document).on("keydown.scrollable",function(a){if(b.keyboard&&(!a.altKey&&!a.ctrlKey&&!a.metaKey&&!g(a.target).is(":input"))&&!("static"!=b.keyboard&&p!=d)){var e=a.keyCode;if(A&&(38==e||40==e))return d.move(38==e?-1:1),a.preventDefault();if(!A&&(37==e||39==e))return d.move(37==e?-1:1),a.preventDefault()}});b.initialIndex&&d.seekTo(b.initialIndex,0,function(){})};g.tools=g.tools||{version:"v1.2.7"};g.tools.scrollable=
{conf:{activeClass:"active",circular:!1,clonedClass:"cloned",disabledClass:"disabled",easing:"swing",initialIndex:0,item:"> *",items:".items",keyboard:!0,mousewheel:!1,next:".next",prev:".prev",size:1,speed:400,vertical:!1,touch:!0,wheelSpeed:0}};var p;g.fn.scrollable=function(a){var b=this.data("scrollable");if(b)return b;a=g.extend({},g.tools.scrollable.conf,a);this.each(function(){b=new j(g(this),a);g(this).data("scrollable",b)});return a.api?b:this}});
define("bridge/jquery",["jquery/jquery.tools.min"],function(){return jQuery});define("util/sidebar",["bridge/jquery"],function(a){var b={set_height:function(){if(!(600>=a(window).width())){var b=0,e=a("div#main").height();e>b&&(b=e);for(var e=a("div#sidebar").children(),g=0,k=0;k<e.length;k++)var j=a(e[k]).height()+16,g=g+j;g>b&&(b=g);550>b&&(b=550);a("div#sidebar").css("height",b)}},setup:function(){a(document).ready(function(){b.set_height();a("#main img").load(function(){b.set_height()})})}};return b});
define("jquery/jquery.mousewheel.min",["bridge/jquery"],function(){var a=jQuery,b=function(b){var d=[].slice.call(arguments,1),k=0,b=a.event.fix(b||window.event);b.type="mousewheel";b.wheelDelta&&(k=b.wheelDelta/120);b.detail&&(k=-b.detail/3);d.unshift(b,k);return a.event.handle.apply(this,d)},d=["DOMMouseScroll","mousewheel"];a.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var a=d.length;a;)this.addEventListener(d[--a],b,!1);else this.onmousewheel=b},teardown:function(){if(this.removeEventListener)for(var a=
d.length;a;)this.removeEventListener(d[--a],b,!1);else this.onmousewheel=null}};a.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})});define("bridge/jquery.mousewheel",["jquery/jquery.mousewheel.min"],function(){});
define("tools/shadowbox",[],function(){var a,b,d,e,g=window,k=function(a){l.options.enableKeys&&(a?L:X)(document,"keydown",j)},j=function(a){if(!a.metaKey&&!a.shiftKey&&!a.altKey&&!a.ctrlKey){var b;switch(a.which?a.which:a.keyCode){case 81:case 88:case 27:b=l.close;break;case 37:b=l.previous;break;case 39:b=l.next;break;case 32:b="number"==typeof Z?l.pause:l.play}b&&(a.preventDefault(),b())}},p=function(a){k(!1);var b=l.getCurrent(),d="inline"==b.player?"html":b.player;if("function"!=typeof l[d])throw"unknown player "+
d;a&&(l.player.remove(),l.revertOptions(),l.applyOptions(b.options||{}));l.player=new l[d](b,l.playerId);if(1<l.gallery.length&&(b=l.gallery[l.current+1]||l.gallery[0],"img"==b.player&&((new Image).src=b.content),b=l.gallery[l.current-1]||l.gallery[l.gallery.length-1],"img"==b.player))(new Image).src=b.content;l.skin.onLoad(a,o)},o=function(){if(fa)if("undefined"!=typeof l.player.ready)var a=setInterval(function(){fa?l.player.ready&&(clearInterval(a),a=null,l.skin.onReady(z)):(clearInterval(a),a=
null)},10);else l.skin.onReady(z)},z=function(){fa&&(l.player.append(l.skin.body,l.dimensions),l.skin.onShow(B))},B=function(){if(fa){if(l.player.onLoad)l.player.onLoad();l.options.onFinish(l.getCurrent());l.isPaused()||l.play();k(!0)}},y=function(a,b){for(var d in b)a[d]=b[d];return a},F=function(a,b){for(var d=0,e=a.length,f=a[0];d<e&&!1!==b.call(f,d,f);f=a[++d]);},C=function(a,b){return a.replace(/\{(\w+?)\}/g,function(a,d){return b[d]})},A=function(){},w=function(a){return document.getElementById(a)},
K=function(a){a.parentNode.removeChild(a)},W=function(a){return[a.pageX||a.clientX+(document.documentElement.scrollLeft||document.body.scrollLeft),a.pageY||a.clientY+(document.documentElement.scrollTop||document.body.scrollTop)]},L=function(a,b,d){if(a.addEventListener)a.addEventListener(b,d,!1);else if(!(3===a.nodeType||8===a.nodeType)){a.setInterval&&(a!==g&&!a.frameElement)&&(a=g);d.__guid||(d.__guid=L.guid++);a.events||(a.events={});var e=a.events[b];e||(e=a.events[b]={},a["on"+b]&&(e[0]=a["on"+
b]));e[d.__guid]=d;a["on"+b]=L.handleEvent}},X=function(a,b,d){a.removeEventListener?a.removeEventListener(b,d,!1):a.events&&a.events[b]&&delete a.events[b][d.__guid]},qa=function(){if(!va){try{document.documentElement.doScroll("left")}catch(a){setTimeout(qa,1);return}l.load()}},n=function(a){l.open(this);l.gallery.length&&a.preventDefault()},E=function(){var a=l.dimensions;y(Ga.style,{height:a.innerHeight+"px",width:a.innerWidth+"px"})},ma=function(a){a.preventDefault();a=W(a);d=a[0];e=a[1];ya=w(l.player.id);
L(document,"mousemove",v);L(document,"mouseup",s);l.isGecko&&(Ga.style.cursor="-moz-grabbing")},v=function(m){var f=l.player,g=l.dimensions,m=W(m),j=m[0]-d;d+=j;a=Math.max(Math.min(0,a+j),g.innerWidth-f.width);m=m[1]-e;e+=m;b=Math.max(Math.min(0,b+m),g.innerHeight-f.height);y(ya.style,{left:a+"px",top:b+"px"})},s=function(){X(document,"mousemove",v);X(document,"mouseup",s);l.isGecko&&(Ga.style.cursor="-moz-grab")},M=function(a,b,d,e,f){var g="opacity"==b,j=g?l.setOpacity:function(a,d){a.style[b]=
""+d+"px"};if(0==e||!g&&!l.options.animate||g&&!l.options.animateFade)j(a,d),f&&f();else{var k=parseFloat(l.getStyle(a,b))||0,r=d-k;if(0==r)f&&f();else var e=1E3*e,o=(new Date).getTime(),p=l.ease,x=o+e,n,P=setInterval(function(){n=(new Date).getTime();n>=x?(clearInterval(P),P=null,j(a,d),f&&f()):j(a,k+p((n-o)/e)*r)},10)}},f=function(){ra.style.height=l.getWindowSize("Height")+"px";ra.style.width=l.getWindowSize("Width")+"px"},O=function(){ra.style.top=document.documentElement.scrollTop+"px";ra.style.left=
document.documentElement.scrollLeft+"px"},u=function(a){a?F(wb,function(a,b){b[0].style.visibility=b[1]||""}):(wb=[],F(l.options.troubleElements,function(a,b){F(document.getElementsByTagName(b),function(a,b){wb.push([b,b.style.visibility]);b.style.visibility="hidden"})}))},r=function(a,b){var d=w("sb-nav-"+a);d&&(d.style.display=b?"":"none")},x=function(a,b){var d=w("sb-loading"),e=l.getCurrent().player,e="img"==e||"html"==e;if(a){l.setOpacity(d,0);d.style.display="block";var f=function(){l.clearOpacity(d);
b&&b()};e?M(d,"opacity",1,l.options.fadeDuration,f):f()}else f=function(){d.style.display="none";l.clearOpacity(d);b&&b()},e?M(d,"opacity",0,l.options.fadeDuration,f):f()},P=function(a,b,d,e){var f=w("sb-wrapper-inner"),d=d?l.options.resizeDuration:0;M(Ya,"top",b,d);M(f,"height",a,d,e)},ca=function(a,b,d,e){d=d?l.options.resizeDuration:0;M(Ya,"left",b,d);M(Ya,"width",a,d,e)},aa=function(a,b){var d=w("sb-body-inner"),a=parseInt(a),b=parseInt(b),e=Ya.offsetHeight-d.offsetHeight,d=Ya.offsetWidth-d.offsetWidth,
f=La.offsetHeight,g=La.offsetWidth,j=parseInt(l.options.viewportPadding)||20;return l.setDimensions(a,b,f,g,e,d,j,l.player&&"drag"!=l.options.handleOversize)},l={version:"3.0.3"},R=navigator.userAgent.toLowerCase();-1<R.indexOf("windows")||-1<R.indexOf("win32")?l.isWindows=!0:-1<R.indexOf("macintosh")||-1<R.indexOf("mac os x")?l.isMac=!0:-1<R.indexOf("linux")&&(l.isLinux=!0);l.isIE=-1<R.indexOf("msie");l.isIE6=-1<R.indexOf("msie 6");l.isIE7=-1<R.indexOf("msie 7");l.isGecko=-1<R.indexOf("gecko")&&
-1==R.indexOf("safari");l.isWebKit=-1<R.indexOf("applewebkit/");var xa=/#(.+)$/,Y=/^(light|shadow)box\[(.*?)\]/i,na=/\s*([a-z_]*?)\s*=\s*(.+)\s*/,Oa=/[0-9a-z]+$/i,da=/(.+\/)shadowbox\.js/i,fa=!1,Ja=!1,Ka={},oa=0,ea,Z;l.current=-1;l.dimensions=null;l.ease=function(a){return 1+Math.pow(a-1,3)};l.errorInfo={fla:{name:"Flash",url:"http://www.adobe.com/products/flashplayer/"},qt:{name:"QuickTime",url:"http://www.apple.com/quicktime/download/"},wmp:{name:"Windows Media Player",url:"http://www.microsoft.com/windows/windowsmedia/"},
f4m:{name:"Flip4Mac",url:"http://www.flip4mac.com/wmv_download.htm"}};l.gallery=[];l.onReady=A;l.path=null;l.player=null;l.playerId="sb-player";l.options={animate:!0,animateFade:!0,autoplayMovies:!0,continuous:!1,enableKeys:!0,flashParams:{bgcolor:"#000000",allowfullscreen:!0},flashVars:{},flashVersion:"9.0.115",handleOversize:"resize",handleUnsupported:"link",onChange:A,onClose:A,onFinish:A,onOpen:A,showMovieControls:!0,skipSetup:!1,slideshowDelay:0,viewportPadding:20};l.getCurrent=function(){return l.current>
-1?l.gallery[l.current]:null};l.hasNext=function(){return l.gallery.length>1&&(l.current!=l.gallery.length-1||l.options.continuous)};l.isOpen=function(){return fa};l.isPaused=function(){return Z=="pause"};l.applyOptions=function(a){Ka=y({},l.options);y(l.options,a)};l.revertOptions=function(){y(l.options,Ka)};l.init=function(a,b){if(!Ja){Ja=true;l.skin.options&&y(l.options,l.skin.options);a&&y(l.options,a);if(!l.path)for(var d,e=document.getElementsByTagName("script"),f=0,j=e.length;f<j;++f)if(d=
da.exec(e[f].src)){l.path=d[1];break}if(b)l.onReady=b;if(document.readyState==="complete")l.load();else if(document.addEventListener){document.addEventListener("DOMContentLoaded",Pa,false);g.addEventListener("load",l.load,false)}else if(document.attachEvent){document.attachEvent("onreadystatechange",Pa);g.attachEvent("onload",l.load);d=false;try{d=g.frameElement===null}catch(k){}document.documentElement.doScroll&&d&&qa()}}};l.open=function(a){if(!fa){a=l.makeGallery(a);l.gallery=a[0];l.current=a[1];
a=l.getCurrent();if(a!=null){l.applyOptions(a.options||{});for(var a=l.errorInfo,b=l.plugins,d,e,f,g,j=0;j<l.gallery.length;++j){d=l.gallery[j];e=false;f=null;switch(d.player){case "flv":case "swf":b.fla||(f="fla");break;case "qt":b.qt||(f="qt");break;case "wmp":l.isMac?b.qt&&b.f4m?d.player="qt":f="qtf4m":b.wmp||(f="wmp");break;case "qtwmp":b.qt?d.player="qt":b.wmp?d.player="wmp":f="qtwmp"}if(f)if(l.options.handleUnsupported=="link"){switch(f){case "qtf4m":g="shared";f=[a.qt.url,a.qt.name,a.f4m.url,
a.f4m.name];break;case "qtwmp":g="either";f=[a.qt.url,a.qt.name,a.wmp.url,a.wmp.name];break;default:g="single";f=[a[f].url,a[f].name]}d.player="html";d.content='<div class="sb-message">'+C(l.lang.errors[g],f)+"</div>"}else e=true;else if(d.player=="inline")if(g=xa.exec(d.content))(g=w(g[1]))?d.content=g.innerHTML:e=true;else e=true;else if(d.player=="swf"||d.player=="flv"){g=d.options&&d.options.flashVersion||l.options.flashVersion;if(l.flash&&!l.flash.hasFlashPlayerVersion(g)){d.width=310;d.height=
177}}if(e){l.gallery.splice(j,1);if(j<l.current)--l.current;else if(j==l.current)l.current=j>0?j-1:j;--j}}if(l.gallery.length){a=l.getCurrent();if(l.options.onOpen(a)!==false){fa=true;l.skin.onOpen(a,p)}}}}};l.close=function(){if(fa){fa=false;if(l.player){l.player.remove();l.player=null}if(typeof Z=="number"){clearTimeout(Z);Z=null}oa=0;k(false);l.options.onClose(l.getCurrent());l.skin.onClose();l.revertOptions()}};l.play=function(){if(l.hasNext()){oa||(oa=l.options.slideshowDelay*1E3);if(oa){ea=
(new Date).getTime();Z=setTimeout(function(){oa=ea=0;l.next()},oa);if(l.skin.onPlay)l.skin.onPlay()}}};l.pause=function(){if(typeof Z=="number")if(oa=Math.max(0,oa-((new Date).getTime()-ea))){clearTimeout(Z);Z="pause";if(l.skin.onPause)l.skin.onPause()}};l.change=function(a){if(!(a in l.gallery))if(l.options.continuous){a=a<0?l.gallery.length+a:0;if(!(a in l.gallery))return}else return;l.current=a;if(typeof Z=="number"){clearTimeout(Z);Z=null;oa=ea=0}l.options.onChange(l.getCurrent());p(true)};l.next=
function(){l.change(l.current+1)};l.previous=function(){l.change(l.current-1)};l.setDimensions=function(a,b,d,e,f,g,j,k){var r=a,o=b,p=2*j+f;a+p>d&&(a=d-p);var x=2*j+g;b+x>e&&(b=e-x);var n=(r-a)/r,P=(o-b)/o,z=n>0||P>0;k&&z&&(n>P?b=Math.round(o/r*a):P>n&&(a=Math.round(r/o*b)));l.dimensions={height:a+f,width:b+g,innerHeight:a,innerWidth:b,top:Math.floor((d-(a+p))/2+j),left:Math.floor((e-(b+x))/2+j),oversized:z};return l.dimensions};l.makeGallery=function(a){var b=[],d=-1;typeof a=="string"&&(a=[a]);
if(typeof a.length=="number"){F(a,function(a,d){b[a]=d.content?d:{content:d}});d=0}else{if(a.tagName)var e=l.getCache(a),a=e?e:l.makeObject(a);if(a.gallery){var b=[],f;for(f in l.cache){e=l.cache[f];if(e.gallery&&e.gallery==a.gallery){if(d==-1&&e.content==a.content)d=b.length;b.push(e)}}if(d==-1){b.unshift(a);d=0}}else{b=[a];d=0}}F(b,function(a,d){b[a]=y({},d)});return[b,d]};l.makeObject=function(a,b){var d={content:a.href,title:a.getAttribute("title")||"",link:a};if(b){b=y({},b);F(["player","title",
"height","width","gallery"],function(a,e){if(typeof b[e]!="undefined"){d[e]=b[e];delete b[e]}});d.options=b}else d.options={};if(!d.player)d.player=l.getPlayer(d.content);var e=a.getAttribute("rel");if(e){var f=e.match(Y);if(f)d.gallery=escape(f[2]);F(e.split(";"),function(a,b){(f=b.match(na))&&(d[f[1]]=f[2])})}return d};l.getPlayer=function(a){if(a.indexOf("#")>-1&&a.indexOf(document.location.href)==0)return"inline";var b=a.indexOf("?");b>-1&&(a=a.substring(0,b));var d;(a=a.match(Oa))&&(d=a[0].toLowerCase());
if(d){if(l.img&&l.img.ext.indexOf(d)>-1)return"img";if(l.swf&&l.swf.ext.indexOf(d)>-1)return"swf";if(l.flv&&l.flv.ext.indexOf(d)>-1)return"flv";if(l.qt&&l.qt.ext.indexOf(d)>-1)return l.wmp&&l.wmp.ext.indexOf(d)>-1?"qtwmp":"qt";if(l.wmp&&l.wmp.ext.indexOf(d)>-1)return"wmp"}return"iframe"};Array.prototype.indexOf||(Array.prototype.indexOf=function(a,b){var d=this.length>>>0,b=b||0;for(b<0&&(b=b+d);b<d;++b)if(b in this&&this[b]===a)return b;return-1});var Fa=!0,Wa=!0,za=/opacity=([^)]*)/,ua=document.defaultView&&
document.defaultView.getComputedStyle;l.getStyle=function(a,b){var d;if(!Fa&&b=="opacity"&&a.currentStyle){d=za.test(a.currentStyle.filter||"")?parseFloat(RegExp.$1)/100+"":"";return d===""?"1":d}if(ua){var e=ua(a,null);e&&(d=e[b]);b=="opacity"&&d==""&&(d="1")}else d=a.currentStyle[b];return d};l.appendHTML=function(a,b){if(a.insertAdjacentHTML)a.insertAdjacentHTML("BeforeEnd",b);else if(a.lastChild){var d=a.ownerDocument.createRange();d.setStartAfter(a.lastChild);d=d.createContextualFragment(b);
a.appendChild(d)}else a.innerHTML=b};l.getWindowSize=function(a){return document.compatMode==="CSS1Compat"?document.documentElement["client"+a]:document.body["client"+a]};l.setOpacity=function(a,b){var d=a.style;if(Fa)d.opacity=b==1?"":b;else{d.zoom=1;if(b==1){if(typeof d.filter=="string"&&/alpha/i.test(d.filter))d.filter=d.filter.replace(/\s*[\w\.]*alpha\([^\)]*\);?/gi,"")}else d.filter=(d.filter||"").replace(/\s*[\w\.]*alpha\([^\)]*\)/gi,"")+" alpha(opacity="+b*100+")"}};l.clearOpacity=function(a){l.setOpacity(a,
1)};L.guid=1;L.handleEvent=function(a){var b=true,a=a||L.fixEvent(((this.ownerDocument||this.document||this).parentWindow||g).event),d=this.events[a.type],e;for(e in d){this.__handleEvent=d[e];this.__handleEvent(a)===false&&(b=false)}return b};L.preventDefault=function(){this.returnValue=false};L.stopPropagation=function(){this.cancelBubble=true};L.fixEvent=function(a){a.preventDefault=L.preventDefault;a.stopPropagation=L.stopPropagation;return a};var va=!1,Pa;document.addEventListener?Pa=function(){document.removeEventListener("DOMContentLoaded",
Pa,false);l.load()}:document.attachEvent&&(Pa=function(){if(document.readyState==="complete"){document.detachEvent("onreadystatechange",Pa);l.load()}});l.load=function(){if(!va){if(!document.body)return setTimeout(l.load,13);va=true;var a=document.body,b=document.createElement("div");Fa=typeof b.style.opacity==="string";b.style.position="fixed";b.style.margin=0;b.style.top="20px";a.appendChild(b,a.firstChild);Wa=b.offsetTop==20;a.removeChild(b);l.onReady();l.options.skipSetup||l.setup();l.skin.init()}};
l.plugins={};if(navigator.plugins&&navigator.plugins.length){var Aa=[];F(navigator.plugins,function(a,b){Aa.push(b.name)});Aa=Aa.join(",");A=-1<Aa.indexOf("Flip4Mac");l.plugins={fla:-1<Aa.indexOf("Shockwave Flash"),qt:-1<Aa.indexOf("QuickTime"),wmp:!A&&-1<Aa.indexOf("Windows Media"),f4m:A}}else A=function(a){var b;try{b=new ActiveXObject(a)}catch(d){}return!!b},l.plugins={fla:A("ShockwaveFlash.ShockwaveFlash"),qt:A("QuickTime.QuickTime"),wmp:A("wmplayer.ocx"),f4m:!1};var Ta=/^(light|shadow)box/i,
hb=1;l.cache={};l.select=function(a){var b=[];if(a){var d=a.length;if(d)if(typeof a=="string")l.find&&(b=l.find(a));else if(d==2&&typeof a[0]=="string"&&a[1].nodeType)l.find&&(b=l.find(a[0],a[1]));else for(var e=0;e<d;++e)b[e]=a[e];else b.push(a)}else{var f;F(document.getElementsByTagName("a"),function(a,d){(f=d.getAttribute("rel"))&&Ta.test(f)&&b.push(d)})}return b};l.setup=function(a,b){F(l.select(a),function(a,d){l.addCache(d,b)})};l.teardown=function(a){F(l.select(a),function(a,b){l.removeCache(b)})};
l.addCache=function(a,b){var d=a.shadowboxCacheKey;if(d==void 0){d=hb++;a.shadowboxCacheKey=d;L(a,"click",n)}l.cache[d]=l.makeObject(a,b)};l.removeCache=function(a){X(a,"click",n);delete l.cache[a.shadowboxCacheKey];a.shadowboxCacheKey=null};l.getCache=function(a){a=a.shadowboxCacheKey;return a in l.cache&&l.cache[a]};l.clearCache=function(){for(var a in l.cache)l.removeCache(l.cache[a].link);l.cache={}};var A=l,Qa=function(a){for(var b="",d,e=0;a[e];e++){d=a[e];d.nodeType===3||d.nodeType===4?b=b+
d.nodeValue:d.nodeType!==8&&(b=b+Qa(d.childNodes))}return b},pb=function(a,b,d,e,f,g){for(var f=0,j=e.length;f<j;f++){var k=e[f];if(k){for(var k=k[a],l=false;k;){if(k.sizcache===d){l=e[k.sizset];break}if(k.nodeType===1&&!g){k.sizcache=d;k.sizset=f}if(k.nodeName.toLowerCase()===b){l=k;break}k=k[a]}e[f]=l}}},ib=function(a,b,d,e,f,g){for(var f=0,j=e.length;f<j;f++){var k=e[f];if(k){for(var k=k[a],l=false;k;){if(k.sizcache===d){l=e[k.sizset];break}if(k.nodeType===1){if(!g){k.sizcache=d;k.sizset=f}if(typeof b!==
"string"){if(k===b){l=true;break}}else if(T.filter(b,[k]).length>0){l=k;break}}k=k[a]}e[f]=l}}},Ba=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^[\]]*\]|['"][^'"]*['"]|[^[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,ha=0,rb=Object.prototype.toString,ta=!1,ia=!0;[0,0].sort(function(){ia=false;return 0});var T=function(a,b,d,e){var d=d||[],f=b=b||document;if(b.nodeType!==1&&b.nodeType!==9)return[];if(!a||typeof a!=="string")return d;for(var g=[],j,k,l,r,o=true,p=Ra(b),x=a;(Ba.exec(""),
j=Ba.exec(x))!==null;){x=j[3];g.push(j[1]);if(j[2]){r=j[3];break}}if(g.length>1&&ab.exec(a))if(g.length===2&&J.relative[g[0]])k=Gb(g[0]+g[1],b);else for(k=J.relative[g[0]]?[b]:T(g.shift(),b);g.length;){a=g.shift();J.relative[a]&&(a=a+g.shift());k=Gb(a,k)}else{if(!e&&g.length>1&&b.nodeType===9&&!p&&J.match.ID.test(g[0])&&!J.match.ID.test(g[g.length-1])){j=T.find(g.shift(),b,p);b=j.expr?T.filter(j.expr,j.set)[0]:j.set[0]}if(b){j=e?{expr:g.pop(),set:ja(e)}:T.find(g.pop(),g.length===1&&(g[0]==="~"||g[0]===
"+")&&b.parentNode?b.parentNode:b,p);k=j.expr?T.filter(j.expr,j.set):j.set;for(g.length>0?l=ja(k):o=false;g.length;){var n=g.pop();j=n;J.relative[n]?j=g.pop():n="";j==null&&(j=b);J.relative[n](l,j,p)}}else l=[]}l||(l=k);if(!l)throw"Syntax error, unrecognized expression: "+(n||a);if(rb.call(l)==="[object Array]")if(o)if(b&&b.nodeType===1)for(a=0;l[a]!=null;a++)l[a]&&(l[a]===true||l[a].nodeType===1&&G(b,l[a]))&&d.push(k[a]);else for(a=0;l[a]!=null;a++)l[a]&&l[a].nodeType===1&&d.push(k[a]);else d.push.apply(d,
l);else ja(l,d);if(r){T(r,f,d,e);T.uniqueSort(d)}return d};T.uniqueSort=function(a){if(Ca){ta=ia;a.sort(Ca);if(ta)for(var b=1;b<a.length;b++)a[b]===a[b-1]&&a.splice(b--,1)}return a};T.matches=function(a,b){return T(a,null,null,b)};T.find=function(a,b,d){var e,f;if(!a)return[];for(var g=0,j=J.order.length;g<j;g++){var k=J.order[g];if(f=J.leftMatch[k].exec(a)){var l=f[1];f.splice(1,1);if(l.substr(l.length-1)!=="\\"){f[1]=(f[1]||"").replace(/\\/g,"");e=J.find[k](f,b,d);if(e!=null){a=a.replace(J.match[k],
"");break}}}}e||(e=b.getElementsByTagName("*"));return{set:e,expr:a}};T.filter=function(a,b,d,e){for(var f=a,g=[],j=b,k,l,r=b&&b[0]&&Ra(b[0]);a&&b.length;){for(var o in J.filter)if((k=J.match[o].exec(a))!=null){var p=J.filter[o],x,n;l=false;j===g&&(g=[]);if(J.preFilter[o])if(k=J.preFilter[o](k,j,d,g,e,r)){if(k===true)continue}else l=x=true;if(k)for(var P=0;(n=j[P])!=null;P++)if(n){x=p(n,k,P,j);var z=e^!!x;if(d&&x!=null)z?l=true:j[P]=false;else if(z){g.push(n);l=true}}if(x!==void 0){d||(j=g);a=a.replace(J.match[o],
"");if(!l)return[];break}}if(a===f){if(l==null)throw"Syntax error, unrecognized expression: "+a;break}f=a}return j};var J=T.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF-]|\\.)+)\s*(?:(\S?=)\s*(['"]*)(.*?)\3|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\((even|odd|[\dn+-]*)\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^-]|$)/,
PSEUDO:/:((?:[\w\u00c0-\uFFFF-]|\\.)+)(?:\((['"]*)((?:\([^\)]+\)|[^\2\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(a){return a.getAttribute("href")}},relative:{"+":function(a,b){var d=typeof b==="string",e=d&&!/\W/.test(b),d=d&&!e;e&&(b=b.toLowerCase());for(var e=0,f=a.length,g;e<f;e++)if(g=a[e]){for(;(g=g.previousSibling)&&g.nodeType!==1;);a[e]=d||g&&g.nodeName.toLowerCase()===b?g||false:g===b}d&&T.filter(b,a,true)},">":function(a,b){var d=
typeof b==="string";if(d&&!/\W/.test(b))for(var b=b.toLowerCase(),e=0,f=a.length;e<f;e++){var g=a[e];if(g){d=g.parentNode;a[e]=d.nodeName.toLowerCase()===b?d:false}}else{e=0;for(f=a.length;e<f;e++)(g=a[e])&&(a[e]=d?g.parentNode:g.parentNode===b);d&&T.filter(b,a,true)}},"":function(a,b,d){var e=ha++,f=ib;if(typeof b==="string"&&!/\W/.test(b))var g=b=b.toLowerCase(),f=pb;f("parentNode",b,e,a,g,d)},"~":function(a,b,d){var e=ha++,f=ib;if(typeof b==="string"&&!/\W/.test(b))var g=b=b.toLowerCase(),f=pb;
f("previousSibling",b,e,a,g,d)}},find:{ID:function(a,b,d){if(typeof b.getElementById!=="undefined"&&!d)return(a=b.getElementById(a[1]))?[a]:[]},NAME:function(a,b){if(typeof b.getElementsByName!=="undefined"){for(var d=[],e=b.getElementsByName(a[1]),f=0,g=e.length;f<g;f++)e[f].getAttribute("name")===a[1]&&d.push(e[f]);return d.length===0?null:d}},TAG:function(a,b){return b.getElementsByTagName(a[1])}},preFilter:{CLASS:function(a,b,d,e,f,g){a=" "+a[1].replace(/\\/g,"")+" ";if(g)return a;for(var g=0,
j;(j=b[g])!=null;g++)j&&(f^(j.className&&(" "+j.className+" ").replace(/[\t\n]/g," ").indexOf(a)>=0)?d||e.push(j):d&&(b[g]=false));return false},ID:function(a){return a[1].replace(/\\/g,"")},TAG:function(a){return a[1].toLowerCase()},CHILD:function(a){if(a[1]==="nth"){var b=/(-?)(\d*)n((?:\+|-)?\d*)/.exec(a[2]==="even"&&"2n"||a[2]==="odd"&&"2n+1"||!/\D/.test(a[2])&&"0n+"+a[2]||a[2]);a[2]=b[1]+(b[2]||1)-0;a[3]=b[3]-0}a[0]=ha++;return a},ATTR:function(a,b,d,e,f,g){b=a[1].replace(/\\/g,"");!g&&J.attrMap[b]&&
(a[1]=J.attrMap[b]);a[2]==="~="&&(a[4]=" "+a[4]+" ");return a},PSEUDO:function(a,b,d,e,f){if(a[1]==="not")if((Ba.exec(a[3])||"").length>1||/^\w/.test(a[3]))a[3]=T(a[3],null,null,b);else{a=T.filter(a[3],b,d,1^f);d||e.push.apply(e,a);return false}else if(J.match.POS.test(a[0])||J.match.CHILD.test(a[0]))return true;return a},POS:function(a){a.unshift(true);return a}},filters:{enabled:function(a){return a.disabled===false&&a.type!=="hidden"},disabled:function(a){return a.disabled===true},checked:function(a){return a.checked===
true},selected:function(a){a.parentNode.selectedIndex;return a.selected===true},parent:function(a){return!!a.firstChild},empty:function(a){return!a.firstChild},has:function(a,b,d){return!!T(d[3],a).length},header:function(a){return/h\d/i.test(a.nodeName)},text:function(a){return"text"===a.type},radio:function(a){return"radio"===a.type},checkbox:function(a){return"checkbox"===a.type},file:function(a){return"file"===a.type},password:function(a){return"password"===a.type},submit:function(a){return"submit"===
a.type},image:function(a){return"image"===a.type},reset:function(a){return"reset"===a.type},button:function(a){return"button"===a.type||a.nodeName.toLowerCase()==="button"},input:function(a){return/input|select|textarea|button/i.test(a.nodeName)}},setFilters:{first:function(a,b){return b===0},last:function(a,b,d,e){return b===e.length-1},even:function(a,b){return b%2===0},odd:function(a,b){return b%2===1},lt:function(a,b,d){return b<d[3]-0},gt:function(a,b,d){return b>d[3]-0},nth:function(a,b,d){return d[3]-
0===b},eq:function(a,b,d){return d[3]-0===b}},filter:{PSEUDO:function(a,b,d,e){var f=b[1],g=J.filters[f];if(g)return g(a,d,b,e);if(f==="contains")return(a.textContent||a.innerText||Qa([a])||"").indexOf(b[3])>=0;if(f==="not"){b=b[3];d=0;for(e=b.length;d<e;d++)if(b[d]===a)return false;return true}throw"Syntax error, unrecognized expression: "+f;},CHILD:function(a,b){var d=b[1],e=a;switch(d){case "only":case "first":for(;e=e.previousSibling;)if(e.nodeType===1)return false;if(d==="first")return true;
e=a;case "last":for(;e=e.nextSibling;)if(e.nodeType===1)return false;return true;case "nth":var d=b[2],f=b[3];if(d===1&&f===0)return true;var g=b[0],j=a.parentNode;if(j&&(j.sizcache!==g||!a.nodeIndex)){for(var k=0,e=j.firstChild;e;e=e.nextSibling)if(e.nodeType===1)e.nodeIndex=++k;j.sizcache=g}e=a.nodeIndex-f;return d===0?e===0:e%d===0&&e/d>=0}},ID:function(a,b){return a.nodeType===1&&a.getAttribute("id")===b},TAG:function(a,b){return b==="*"&&a.nodeType===1||a.nodeName.toLowerCase()===b},CLASS:function(a,
b){return(" "+(a.className||a.getAttribute("class"))+" ").indexOf(b)>-1},ATTR:function(a,b){var d=b[1],d=J.attrHandle[d]?J.attrHandle[d](a):a[d]!=null?a[d]:a.getAttribute(d),e=d+"",f=b[2],g=b[4];return d==null?f==="!=":f==="="?e===g:f==="*="?e.indexOf(g)>=0:f==="~="?(" "+e+" ").indexOf(g)>=0:!g?e&&d!==false:f==="!="?e!==g:f==="^="?e.indexOf(g)===0:f==="$="?e.substr(e.length-g.length)===g:f==="|="?e===g||e.substr(0,g.length+1)===g+"-":false},POS:function(a,b,d,e){var f=J.setFilters[b[2]];if(f)return f(a,
d,b,e)}}},ab=J.match.POS,U;for(U in J.match)J.match[U]=RegExp(J.match[U].source+/(?![^\[]*\])(?![^\(]*\))/.source),J.leftMatch[U]=RegExp(/(^(?:.|\r|\n)*?)/.source+J.match[U].source);var ja=function(a,b){a=Array.prototype.slice.call(a,0);if(b){b.push.apply(b,a);return b}return a};try{Array.prototype.slice.call(document.documentElement.childNodes,0)}catch(Xa){ja=function(a,b){var d=b||[];if(rb.call(a)==="[object Array]")Array.prototype.push.apply(d,a);else if(typeof a.length==="number")for(var e=0,
f=a.length;e<f;e++)d.push(a[e]);else for(e=0;a[e];e++)d.push(a[e]);return d}}var Ca;document.documentElement.compareDocumentPosition?Ca=function(a,b){if(!a.compareDocumentPosition||!b.compareDocumentPosition){a==b&&(ta=true);return a.compareDocumentPosition?-1:1}var d=a.compareDocumentPosition(b)&4?-1:a===b?0:1;d===0&&(ta=true);return d}:"sourceIndex"in document.documentElement?Ca=function(a,b){if(!a.sourceIndex||!b.sourceIndex){a==b&&(ta=true);return a.sourceIndex?-1:1}var d=a.sourceIndex-b.sourceIndex;
d===0&&(ta=true);return d}:document.createRange&&(Ca=function(a,b){if(!a.ownerDocument||!b.ownerDocument){a==b&&(ta=true);return a.ownerDocument?-1:1}var d=a.ownerDocument.createRange(),e=b.ownerDocument.createRange();d.setStart(a,0);d.setEnd(a,0);e.setStart(b,0);e.setEnd(b,0);d=d.compareBoundaryPoints(Range.START_TO_END,e);d===0&&(ta=true);return d});U=document.createElement("div");R="script"+(new Date).getTime();U.innerHTML="<a name='"+R+"'/>";var Da=document.documentElement;Da.insertBefore(U,Da.firstChild);
document.getElementById(R)&&(J.find.ID=function(a,b,d){if(typeof b.getElementById!=="undefined"&&!d)return(b=b.getElementById(a[1]))?b.id===a[1]||typeof b.getAttributeNode!=="undefined"&&b.getAttributeNode("id").nodeValue===a[1]?[b]:void 0:[]},J.filter.ID=function(a,b){var d=typeof a.getAttributeNode!=="undefined"&&a.getAttributeNode("id");return a.nodeType===1&&d&&d.nodeValue===b});Da.removeChild(U);Da=U=null;U=document.createElement("div");U.appendChild(document.createComment(""));0<U.getElementsByTagName("*").length&&
(J.find.TAG=function(a,b){var d=b.getElementsByTagName(a[1]);if(a[1]==="*"){for(var e=[],f=0;d[f];f++)d[f].nodeType===1&&e.push(d[f]);d=e}return d});U.innerHTML="<a href='#'></a>";U.firstChild&&("undefined"!==typeof U.firstChild.getAttribute&&"#"!==U.firstChild.getAttribute("href"))&&(J.attrHandle.href=function(a){return a.getAttribute("href",2)});U=null;if(document.querySelectorAll){var bb=T;U=document.createElement("div");U.innerHTML="<p class='TEST'></p>";if(!(U.querySelectorAll&&0===U.querySelectorAll(".TEST").length)){var T=
function(a,b,d,e){b=b||document;if(!e&&b.nodeType===9&&!Ra(b))try{return ja(b.querySelectorAll(a),d)}catch(f){}return bb(a,b,d,e)},la;for(la in bb)T[la]=bb[la];U=null}}la=document.createElement("div");la.innerHTML="<div class='test e'></div><div class='test'></div>";la.getElementsByClassName&&0!==la.getElementsByClassName("e").length&&(la.lastChild.className="e",1!==la.getElementsByClassName("e").length&&(J.order.splice(1,0,"CLASS"),J.find.CLASS=function(a,b,d){if(typeof b.getElementsByClassName!==
"undefined"&&!d)return b.getElementsByClassName(a[1])},la=null));var G=document.compareDocumentPosition?function(a,b){return a.compareDocumentPosition(b)&16}:function(a,b){return a!==b&&(a.contains?a.contains(b):true)},Ra=function(a){return(a=(a?a.ownerDocument||a:0).documentElement)?a.nodeName!=="HTML":false},Gb=function(a,b){for(var d=[],e="",f,g=b.nodeType?[b]:b;f=J.match.PSEUDO.exec(a);){e=e+f[0];a=a.replace(J.match.PSEUDO,"")}a=J.relative[a]?a+"*":a;f=0;for(var j=g.length;f<j;f++)T(a,g[f],d);
return T.filter(e,d)};A.find=T;l.lang={code:"en",of:"of",loading:"loading",cancel:"Cancel",next:"Next",previous:"Previous",play:"Play",pause:"Pause",close:"Close",errors:{single:'You must install the <a href="{0}">{1}</a> browser plugin to view this content.',shared:'You must install both the <a href="{0}">{1}</a> and <a href="{2}">{3}</a> browser plugins to view this content.',either:'You must install either the <a href="{0}">{1}</a> or the <a href="{2}">{3}</a> browser plugin to view this content.'}};
var wa,Ga,ya;l.img=function(a,b){this.obj=a;this.id=b;this.ready=false;var d=this;wa=new Image;wa.onload=function(){d.height=a.height?parseInt(a.height,10):wa.height;d.width=a.width?parseInt(a.width,10):wa.width;d.ready=true;wa=wa.onload=null};wa.src=a.content};l.img.ext=["bmp","gif","jpg","jpeg","png"];l.img.prototype={append:function(a,b){var d=document.createElement("img");d.id=this.id;d.src=this.obj.content;d.style.position="absolute";var e,f;if(b.oversized&&l.options.handleOversize=="resize"){e=
b.innerHeight;f=b.innerWidth}else{e=this.height;f=this.width}d.setAttribute("height",e);d.setAttribute("width",f);a.appendChild(d)},remove:function(){var a=w(this.id);a&&K(a);if(Ga){X(Ga,"mousedown",ma);K(Ga);Ga=null}ya=null;if(wa)wa=wa.onload=null},onLoad:function(){if(l.dimensions.oversized&&l.options.handleOversize=="drag"){b=a=0;e=d=null;var f=["position:absolute","cursor:"+(l.isGecko?"-moz-grab":"move"),"background-color:"+(l.isIE?"#fff;filter:alpha(opacity=0)":"transparent")].join(";");l.appendHTML(l.skin.body,
'<div id="sb-drag-proxy" style="'+f+'"></div>');Ga=w("sb-drag-proxy");E();L(Ga,"mousedown",ma)}},onWindowResize:function(){var a=l.dimensions;switch(l.options.handleOversize){case "resize":var b=w(this.id);b.height=a.innerHeight;b.width=a.innerWidth;break;case "drag":if(ya){var b=parseInt(l.getStyle(ya,"top")),d=parseInt(l.getStyle(ya,"left"));if(b+this.height<a.innerHeight)ya.style.top=a.innerHeight-this.height+"px";if(d+this.width<a.innerWidth)ya.style.left=a.innerWidth-this.width+"px";E()}}}};
l.iframe=function(a,b){this.obj=a;this.id=b;var d=w("sb-overlay");this.height=a.height?parseInt(a.height,10):d.offsetHeight;this.width=a.width?parseInt(a.width,10):d.offsetWidth};l.iframe.prototype={append:function(a){var b='<iframe id="'+this.id+'" name="'+this.id+'" height="100%" width="100%" frameborder="0" marginwidth="0" marginheight="0" style="visibility:hidden" onload="this.style.visibility=\'visible\'" scrolling="auto"';if(l.isIE){b=b+' allowtransparency="true"';l.isIE6&&(b=b+" src=\"javascript:false;document.write('');\"")}a.innerHTML=
b+"></iframe>"},remove:function(){var a=w(this.id);if(a){K(a);l.isGecko&&delete g.frames[this.id]}},onLoad:function(){(l.isIE?w(this.id).contentWindow:g.frames[this.id]).location.href=this.obj.content}};l.html=function(a,b){this.obj=a;this.id=b;this.height=a.height?parseInt(a.height,10):300;this.width=a.width?parseInt(a.width,10):500};l.html.prototype={append:function(a){var b=document.createElement("div");b.id=this.id;b.className="html";b.innerHTML=this.obj.content;a.appendChild(b)},remove:function(){var a=
w(this.id);a&&K(a)}};var Ua=!1,wb=[],Sb=["sb-nav-close","sb-nav-next","sb-nav-play","sb-nav-pause","sb-nav-previous"],ra,La,Ya,Sa=!0,sb={markup:'<div id="sb-container"><div id="sb-overlay"></div><div id="sb-wrapper"><div id="sb-title"><div id="sb-title-inner"></div></div><div id="sb-wrapper-inner"><div id="sb-body"><div id="sb-body-inner"></div><div id="sb-loading"><div id="sb-loading-inner"><span>{loading}</span></div></div></div></div><div id="sb-info"><div id="sb-info-inner"><div id="sb-counter"></div><div id="sb-nav"><a id="sb-nav-close" title="{close}" onclick="Shadowbox.close()"></a><a id="sb-nav-next" title="{next}" onclick="Shadowbox.next()"></a><a id="sb-nav-play" title="{play}" onclick="Shadowbox.play()"></a><a id="sb-nav-pause" title="{pause}" onclick="Shadowbox.pause()"></a><a id="sb-nav-previous" title="{previous}" onclick="Shadowbox.previous()"></a></div></div></div></div></div>',
options:{animSequence:"sync",counterLimit:10,counterType:"default",displayCounter:!0,displayNav:!0,fadeDuration:0.35,initialHeight:160,initialWidth:320,modal:!1,overlayColor:"#000",overlayOpacity:0.5,resizeDuration:0.35,showOverlay:!0,troubleElements:["select","object","embed","canvas"]},init:function(){l.appendHTML(document.body,C(sb.markup,l.lang));sb.body=w("sb-body-inner");ra=w("sb-container");La=w("sb-overlay");Ya=w("sb-wrapper");if(!Wa)ra.style.position="absolute";if(!Fa){var a,b,d=/url\("(.*\.png)"\)/;
F(Sb,function(e,f){if(a=w(f))if(b=l.getStyle(a,"backgroundImage").match(d)){a.style.backgroundImage="none";a.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled=true,src="+b[1]+",sizingMethod=scale);"}})}var e;L(g,"resize",function(){if(e){clearTimeout(e);e=null}fa&&(e=setTimeout(sb.onWindowResize,10))})},onOpen:function(a,b){Sa=false;ra.style.display="block";f();var d=aa(l.options.initialHeight,l.options.initialWidth);P(d.innerHeight,d.top);ca(d.width,d.left);if(l.options.showOverlay){La.style.backgroundColor=
l.options.overlayColor;l.setOpacity(La,0);l.options.modal||L(La,"click",l.close);Ua=true}if(!Wa){O();L(g,"scroll",O)}u();ra.style.visibility="visible";Ua?M(La,"opacity",l.options.overlayOpacity,l.options.fadeDuration,b):b()},onLoad:function(a,b){for(x(true);sb.body.firstChild;)K(sb.body.firstChild);var d=w("sb-title"),e=w("sb-info"),d=d.offsetHeight,e=e.offsetHeight,f=w("sb-title-inner"),g=w("sb-info-inner"),j=a?0.35:0;M(f,"marginTop",d,j);M(g,"marginTop",e*-1,j,function(){f.style.visibility=g.style.visibility=
"hidden";if(fa){if(!a)Ya.style.visibility="visible";var d=l.getCurrent();w("sb-title-inner").innerHTML=d.title||"";var e,j,k,o,p;if(l.options.displayNav){e=true;d=l.gallery.length;if(d>1)if(l.options.continuous)j=p=true;else{j=d-1>l.current;p=l.current>0}if(l.options.slideshowDelay>0&&l.hasNext()){o=!l.isPaused();k=!o}}else e=j=k=o=p=false;r("close",e);r("next",j);r("play",k);r("pause",o);r("previous",p);j="";if(l.options.displayCounter&&l.gallery.length>1){d=l.gallery.length;if(l.options.counterType==
"skip"){k=0;p=d;o=parseInt(l.options.counterLimit)||0;if(o<d&&o>2){p=Math.floor(o/2);k=l.current-p;k<0&&(k=k+d);p=l.current+(o-p);p>d&&(p=p-d)}for(;k!=p;){k==d&&(k=0);j=j+('<a onclick="Shadowbox.change('+k+');"');k==l.current&&(j=j+' class="sb-counter-current"');j=j+(">"+ ++k+"</a>")}}else j=[l.current+1,l.lang.of,d].join(" ")}w("sb-counter").innerHTML=j;b()}})},onReady:function(a){if(fa){var b=l.player,d=aa(b.height,b.width),e=function(){var b=w("sb-title-inner"),d=w("sb-info-inner");b.style.visibility=
d.style.visibility="";b.innerHTML!=""&&M(b,"marginTop",0,0.35);M(d,"marginTop",0,0.35,a)};switch(l.options.animSequence){case "hw":P(d.innerHeight,d.top,true,function(){ca(d.width,d.left,true,e)});break;case "wh":ca(d.width,d.left,true,function(){P(d.innerHeight,d.top,true,e)});break;default:ca(d.width,d.left,true);P(d.innerHeight,d.top,true,e)}}},onShow:function(a){x(false,a);Sa=true},onClose:function(){Wa||X(g,"scroll",O);X(La,"click",l.close);Ya.style.visibility="hidden";var a=function(){ra.style.visibility=
"hidden";ra.style.display="none";u(true)};Ua?M(La,"opacity",0,l.options.fadeDuration,a):a()},onPlay:function(){r("play",false);r("pause",true)},onPause:function(){r("pause",false);r("play",true)},onWindowResize:function(){if(Sa){f();var a=l.player,b=aa(a.height,a.width);ca(b.width,b.left);P(b.innerHeight,b.top);if(a.onWindowResize)a.onWindowResize()}}};l.skin=sb;g.Shadowbox=l});define("bridge/shadowbox",["tools/shadowbox"],function(){var a;window.Shadowbox&&(a=window.Shadowbox);return a});
define("util/shadowbox_init",["bridge/jquery","bridge/shadowbox"],function(a,b){shadowbox_move_close_button=function(){var a=document.getElementById("sb-nav-close"),b=document.getElementById("sb-wrapper");b&&b.appendChild(a)};shadowbox_on_open=function(){navigator.userAgent.match(/(iPad|iPod|iPhone)/)&&navigator.userAgent.match(/(OS 3_|OS 4_)/)&&window.scrollTo(0,0);shadowbox_move_close_button()};a(document).ready(function(){b.init({onOpen:shadowbox_on_open})})});
define("simplekey/PhotoHelper",["bridge/jquery","util/shadowbox_init"],function(a){var b={init:function(){},prepare_to_enlarge:function(){a("#sb-title-inner").first().addClass("hidden");shadowbox_on_open()},process_credit:function(){var b=a("#sb-title-inner").first(),e=b.html().split(" ~ "),g=e[0],k=e[1],j=e[2],p="";e[3]&&(p=e[3]);var g=g.split(":"),o=g[0],z="",B=a("h2 .scientific");0<B.length?z=a.trim(B[0].innerHTML)+".":void 0!==g[1]&&(z="<i>"+a.trim(g[1])+"</i>");0<z.length&&(o+=": "+z);k="<div><h6>"+
o+"</h6><span>"+k+" "+j+' <a href="/legal/terms-of-use/#ip" target="_blank">Terms of Use</a></span>';""!==p&&(k+="<br><span>"+e[3]+"</span>");b.html(k+"</div>");b.removeClass("hidden")}};return function(){var a=Object.create(b);a.init();return a}});
require(["bridge/jquery","util/sidebar","bridge/jquery.mousewheel","bridge/shadowbox","simplekey/PhotoHelper"],function(a,b,d,e,g){b.setup();a(document).ready(function(){a(".img-container").scrollable({keyboard:!1});a(".img-gallery").each(function(){var b=this,d=g();a(b).children(".frame").click(function(){var g=a(b).children(".img-container").data("scrollable"),g=g.getItems()[g.getIndex()],o=a(g).attr("rel"),z=a(g).attr("title"),o=o.split("[")[1].split("]")[0];e.setup(".img-gallery .images a",{onOpen:d.prepare_to_enlarge,
onChange:d.prepare_to_enlarge,onFinish:d.process_credit});e.open({content:g,gallery:o,player:"img",title:z,options:{counterType:"skip"}})})})})});define("util/activate_image_gallery",function(){});
require(["bridge/jquery","bridge/shadowbox","util/shadowbox_init"],function(a,b){a(document).ready(function(){a("a.video").each(function(){if(navigator.userAgent.match(/(iPad|iPod|iPhone)/)){var d=this.href.lastIndexOf("/")+1,e=this.href.indexOf("?");this.href="http://www.youtube.com/v/"+this.href.substring(d,e)}else{var g=this;a(this).click(function(){b.open({content:g.href,player:"iframe"});return!1})}})})});define("util/activate_video_links",function(){});
var Handlebars={VERSION:"1.0.beta.6",helpers:{},partials:{},registerHelper:function(a,b,d){d&&(b.not=d);this.helpers[a]=b},registerPartial:function(a,b){this.partials[a]=b}};Handlebars.registerHelper("helperMissing",function(a){if(2!==arguments.length)throw Error("Could not find property '"+a+"'");});var toString=Object.prototype.toString,functionType="[object Function]";
Handlebars.registerHelper("blockHelperMissing",function(a,b){var d=b.inverse||function(){},e=b.fn,g="",k=toString.call(a);k===functionType&&(a=a.call(this));if(!0===a)return e(this);if(!1===a||null==a)return d(this);if("[object Array]"===k){if(0<a.length){d=0;for(k=a.length;d<k;d++)g+=e(a[d])}else g=d(this);return g}return e(a)});Handlebars.registerHelper("each",function(a,b){var d=b.fn,e=b.inverse,g="";if(a&&0<a.length)for(var e=0,k=a.length;e<k;e++)g+=d(a[e]);else g=e(this);return g});
Handlebars.registerHelper("if",function(a,b){toString.call(a)===functionType&&(a=a.call(this));return!a||Handlebars.Utils.isEmpty(a)?b.inverse(this):b.fn(this)});Handlebars.registerHelper("unless",function(a,b){var d=b.fn;b.fn=b.inverse;b.inverse=d;return Handlebars.helpers["if"].call(this,a,b)});Handlebars.registerHelper("with",function(a,b){return b.fn(a)});Handlebars.registerHelper("log",function(a){Handlebars.log(a)});
var handlebars=function(){return{trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,statements:6,simpleInverse:7,statement:8,openInverse:9,closeBlock:10,openBlock:11,mustache:12,partial:13,CONTENT:14,COMMENT:15,OPEN_BLOCK:16,inMustache:17,CLOSE:18,OPEN_INVERSE:19,OPEN_ENDBLOCK:20,path:21,OPEN:22,OPEN_UNESCAPED:23,OPEN_PARTIAL:24,params:25,hash:26,param:27,STRING:28,INTEGER:29,BOOLEAN:30,hashSegments:31,hashSegment:32,ID:33,EQUALS:34,pathSegments:35,SEP:36,$accept:0,$end:1},terminals_:{2:"error",
5:"EOF",14:"CONTENT",15:"COMMENT",16:"OPEN_BLOCK",18:"CLOSE",19:"OPEN_INVERSE",20:"OPEN_ENDBLOCK",22:"OPEN",23:"OPEN_UNESCAPED",24:"OPEN_PARTIAL",28:"STRING",29:"INTEGER",30:"BOOLEAN",33:"ID",34:"EQUALS",36:"SEP"},productions_:[0,[3,2],[4,3],[4,1],[4,0],[6,1],[6,2],[8,3],[8,3],[8,1],[8,1],[8,1],[8,1],[11,3],[9,3],[10,3],[12,3],[12,3],[13,3],[13,4],[7,2],[17,3],[17,2],[17,2],[17,1],[25,2],[25,1],[27,1],[27,1],[27,1],[27,1],[26,1],[31,2],[31,1],[32,3],[32,3],[32,3],[32,3],[21,1],[35,3],[35,1]],performAction:function(a,
b,d,e,g,k){a=k.length-1;switch(g){case 1:return k[a-1];case 2:this.$=new e.ProgramNode(k[a-2],k[a]);break;case 3:this.$=new e.ProgramNode(k[a]);break;case 4:this.$=new e.ProgramNode([]);break;case 5:this.$=[k[a]];break;case 6:k[a-1].push(k[a]);this.$=k[a-1];break;case 7:this.$=new e.InverseNode(k[a-2],k[a-1],k[a]);break;case 8:this.$=new e.BlockNode(k[a-2],k[a-1],k[a]);break;case 9:this.$=k[a];break;case 10:this.$=k[a];break;case 11:this.$=new e.ContentNode(k[a]);break;case 12:this.$=new e.CommentNode(k[a]);
break;case 13:this.$=new e.MustacheNode(k[a-1][0],k[a-1][1]);break;case 14:this.$=new e.MustacheNode(k[a-1][0],k[a-1][1]);break;case 15:this.$=k[a-1];break;case 16:this.$=new e.MustacheNode(k[a-1][0],k[a-1][1]);break;case 17:this.$=new e.MustacheNode(k[a-1][0],k[a-1][1],!0);break;case 18:this.$=new e.PartialNode(k[a-1]);break;case 19:this.$=new e.PartialNode(k[a-2],k[a-1]);break;case 21:this.$=[[k[a-2]].concat(k[a-1]),k[a]];break;case 22:this.$=[[k[a-1]].concat(k[a]),null];break;case 23:this.$=[[k[a-
1]],k[a]];break;case 24:this.$=[[k[a]],null];break;case 25:k[a-1].push(k[a]);this.$=k[a-1];break;case 26:this.$=[k[a]];break;case 27:this.$=k[a];break;case 28:this.$=new e.StringNode(k[a]);break;case 29:this.$=new e.IntegerNode(k[a]);break;case 30:this.$=new e.BooleanNode(k[a]);break;case 31:this.$=new e.HashNode(k[a]);break;case 32:k[a-1].push(k[a]);this.$=k[a-1];break;case 33:this.$=[k[a]];break;case 34:this.$=[k[a-2],k[a]];break;case 35:this.$=[k[a-2],new e.StringNode(k[a])];break;case 36:this.$=
[k[a-2],new e.IntegerNode(k[a])];break;case 37:this.$=[k[a-2],new e.BooleanNode(k[a])];break;case 38:this.$=new e.IdNode(k[a]);break;case 39:k[a-2].push(k[a]);this.$=k[a-2];break;case 40:this.$=[k[a]]}},table:[{3:1,4:2,5:[2,4],6:3,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],22:[1,13],23:[1,14],24:[1,15]},{1:[3]},{5:[1,16]},{5:[2,3],7:17,8:18,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,19],20:[2,3],22:[1,13],23:[1,14],24:[1,15]},{5:[2,5],14:[2,5],15:[2,5],16:[2,5],19:[2,
5],20:[2,5],22:[2,5],23:[2,5],24:[2,5]},{4:20,6:3,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,4],22:[1,13],23:[1,14],24:[1,15]},{4:21,6:3,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,4],22:[1,13],23:[1,14],24:[1,15]},{5:[2,9],14:[2,9],15:[2,9],16:[2,9],19:[2,9],20:[2,9],22:[2,9],23:[2,9],24:[2,9]},{5:[2,10],14:[2,10],15:[2,10],16:[2,10],19:[2,10],20:[2,10],22:[2,10],23:[2,10],24:[2,10]},{5:[2,11],14:[2,11],15:[2,11],16:[2,11],19:[2,11],20:[2,11],22:[2,
11],23:[2,11],24:[2,11]},{5:[2,12],14:[2,12],15:[2,12],16:[2,12],19:[2,12],20:[2,12],22:[2,12],23:[2,12],24:[2,12]},{17:22,21:23,33:[1,25],35:24},{17:26,21:23,33:[1,25],35:24},{17:27,21:23,33:[1,25],35:24},{17:28,21:23,33:[1,25],35:24},{21:29,33:[1,25],35:24},{1:[2,1]},{6:30,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],22:[1,13],23:[1,14],24:[1,15]},{5:[2,6],14:[2,6],15:[2,6],16:[2,6],19:[2,6],20:[2,6],22:[2,6],23:[2,6],24:[2,6]},{17:22,18:[1,31],21:23,33:[1,25],35:24},{10:32,20:[1,
33]},{10:34,20:[1,33]},{18:[1,35]},{18:[2,24],21:40,25:36,26:37,27:38,28:[1,41],29:[1,42],30:[1,43],31:39,32:44,33:[1,45],35:24},{18:[2,38],28:[2,38],29:[2,38],30:[2,38],33:[2,38],36:[1,46]},{18:[2,40],28:[2,40],29:[2,40],30:[2,40],33:[2,40],36:[2,40]},{18:[1,47]},{18:[1,48]},{18:[1,49]},{18:[1,50],21:51,33:[1,25],35:24},{5:[2,2],8:18,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,2],22:[1,13],23:[1,14],24:[1,15]},{14:[2,20],15:[2,20],16:[2,20],19:[2,20],22:[2,20],23:[2,20],24:[2,
20]},{5:[2,7],14:[2,7],15:[2,7],16:[2,7],19:[2,7],20:[2,7],22:[2,7],23:[2,7],24:[2,7]},{21:52,33:[1,25],35:24},{5:[2,8],14:[2,8],15:[2,8],16:[2,8],19:[2,8],20:[2,8],22:[2,8],23:[2,8],24:[2,8]},{14:[2,14],15:[2,14],16:[2,14],19:[2,14],20:[2,14],22:[2,14],23:[2,14],24:[2,14]},{18:[2,22],21:40,26:53,27:54,28:[1,41],29:[1,42],30:[1,43],31:39,32:44,33:[1,45],35:24},{18:[2,23]},{18:[2,26],28:[2,26],29:[2,26],30:[2,26],33:[2,26]},{18:[2,31],32:55,33:[1,56]},{18:[2,27],28:[2,27],29:[2,27],30:[2,27],33:[2,
27]},{18:[2,28],28:[2,28],29:[2,28],30:[2,28],33:[2,28]},{18:[2,29],28:[2,29],29:[2,29],30:[2,29],33:[2,29]},{18:[2,30],28:[2,30],29:[2,30],30:[2,30],33:[2,30]},{18:[2,33],33:[2,33]},{18:[2,40],28:[2,40],29:[2,40],30:[2,40],33:[2,40],34:[1,57],36:[2,40]},{33:[1,58]},{14:[2,13],15:[2,13],16:[2,13],19:[2,13],20:[2,13],22:[2,13],23:[2,13],24:[2,13]},{5:[2,16],14:[2,16],15:[2,16],16:[2,16],19:[2,16],20:[2,16],22:[2,16],23:[2,16],24:[2,16]},{5:[2,17],14:[2,17],15:[2,17],16:[2,17],19:[2,17],20:[2,17],22:[2,
17],23:[2,17],24:[2,17]},{5:[2,18],14:[2,18],15:[2,18],16:[2,18],19:[2,18],20:[2,18],22:[2,18],23:[2,18],24:[2,18]},{18:[1,59]},{18:[1,60]},{18:[2,21]},{18:[2,25],28:[2,25],29:[2,25],30:[2,25],33:[2,25]},{18:[2,32],33:[2,32]},{34:[1,57]},{21:61,28:[1,62],29:[1,63],30:[1,64],33:[1,25],35:24},{18:[2,39],28:[2,39],29:[2,39],30:[2,39],33:[2,39],36:[2,39]},{5:[2,19],14:[2,19],15:[2,19],16:[2,19],19:[2,19],20:[2,19],22:[2,19],23:[2,19],24:[2,19]},{5:[2,15],14:[2,15],15:[2,15],16:[2,15],19:[2,15],20:[2,
15],22:[2,15],23:[2,15],24:[2,15]},{18:[2,34],33:[2,34]},{18:[2,35],33:[2,35]},{18:[2,36],33:[2,36]},{18:[2,37],33:[2,37]}],defaultActions:{16:[2,1],37:[2,23],53:[2,21]},parseError:function(a){throw Error(a);},parse:function(a){var b=[0],d=[null],e=[],g=this.table,k="",j=0,p=0,o=0;this.lexer.setInput(a);this.lexer.yy=this.yy;this.yy.lexer=this.lexer;"undefined"==typeof this.lexer.yylloc&&(this.lexer.yylloc={});a=this.lexer.yylloc;e.push(a);"function"===typeof this.yy.parseError&&(this.parseError=
this.yy.parseError);for(var z,B,y,F,C={},A,w;;){y=b[b.length-1];this.defaultActions[y]?F=this.defaultActions[y]:(null==z&&(z=void 0,z=this.lexer.lex()||1,"number"!==typeof z&&(z=this.symbols_[z]||z)),F=g[y]&&g[y][z]);if(("undefined"===typeof F||!F.length||!F[0])&&!o){w=[];for(A in g[y])this.terminals_[A]&&2<A&&w.push("'"+this.terminals_[A]+"'");var K="",K=this.lexer.showPosition?"Parse error on line "+(j+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+w.join(", ")+", got '"+this.terminals_[z]+"'":
"Parse error on line "+(j+1)+": Unexpected "+(1==z?"end of input":"'"+(this.terminals_[z]||z)+"'");this.parseError(K,{text:this.lexer.match,token:this.terminals_[z]||z,line:this.lexer.yylineno,loc:a,expected:w})}if(F[0]instanceof Array&&1<F.length)throw Error("Parse Error: multiple actions possible at state: "+y+", token: "+z);switch(F[0]){case 1:b.push(z);d.push(this.lexer.yytext);e.push(this.lexer.yylloc);b.push(F[1]);z=null;B?(z=B,B=null):(p=this.lexer.yyleng,k=this.lexer.yytext,j=this.lexer.yylineno,
a=this.lexer.yylloc,0<o&&o--);break;case 2:w=this.productions_[F[1]][1];C.$=d[d.length-w];C._$={first_line:e[e.length-(w||1)].first_line,last_line:e[e.length-1].last_line,first_column:e[e.length-(w||1)].first_column,last_column:e[e.length-1].last_column};y=this.performAction.call(C,k,p,j,this.yy,F[1],d,e);if("undefined"!==typeof y)return y;w&&(b=b.slice(0,-2*w),d=d.slice(0,-1*w),e=e.slice(0,-1*w));b.push(this.productions_[F[1]][0]);d.push(C.$);e.push(C._$);F=g[b[b.length-2]][b[b.length-1]];b.push(F);
break;case 3:return!0}}return!0},lexer:{EOF:1,parseError:function(a,b){if(this.yy.parseError)this.yy.parseError(a,b);else throw Error(a);},setInput:function(a){this._input=a;this._more=this._less=this.done=!1;this.yylineno=this.yyleng=0;this.yytext=this.matched=this.match="";this.conditionStack=["INITIAL"];this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0};return this},input:function(){var a=this._input[0];this.yytext+=a;this.yyleng++;this.match+=a;this.matched+=a;a.match(/\n/)&&
this.yylineno++;this._input=this._input.slice(1);return a},unput:function(a){this._input=a+this._input;return this},more:function(){this._more=!0;return this},pastInput:function(){var a=this.matched.substr(0,this.matched.length-this.match.length);return(20<a.length?"...":"")+a.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var a=this.match;20>a.length&&(a+=this._input.substr(0,20-a.length));return(a.substr(0,20)+(20<a.length?"...":"")).replace(/\n/g,"")},showPosition:function(){var a=this.pastInput(),
b=Array(a.length+1).join("-");return a+this.upcomingInput()+"\n"+b+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var a,b;this._more||(this.match=this.yytext="");for(var d=this._currentRules(),e=0;e<d.length;e++)if(a=this._input.match(this.rules[d[e]])){if(b=a[0].match(/\n.*/g))this.yylineno+=b.length;this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:b?b[b.length-1].length-1:this.yylloc.last_column+
a[0].length};this.yytext+=a[0];this.match+=a[0];this.matches=a;this.yyleng=this.yytext.length;this._more=!1;this._input=this._input.slice(a[0].length);this.matched+=a[0];if(a=this.performAction.call(this,this.yy,this,d[e],this.conditionStack[this.conditionStack.length-1]))return a;return}if(""===this._input)return this.EOF;this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var a=this.next();
return"undefined"!==typeof a?a:this.lex()},begin:function(a){this.conditionStack.push(a)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(a){this.begin(a)},performAction:function(a,b,d){switch(d){case 0:"\\"!==b.yytext.slice(-1)&&this.begin("mu");"\\"===b.yytext.slice(-1)&&(b.yytext=b.yytext.substr(0,
b.yyleng-1),this.begin("emu"));if(b.yytext)return 14;break;case 1:return 14;case 2:return this.popState(),14;case 3:return 24;case 4:return 16;case 5:return 20;case 6:return 19;case 7:return 19;case 8:return 23;case 9:return 23;case 10:return b.yytext=b.yytext.substr(3,b.yyleng-5),this.popState(),15;case 11:return 22;case 12:return 34;case 13:return 33;case 14:return 33;case 15:return 36;case 17:return this.popState(),18;case 18:return this.popState(),18;case 19:return b.yytext=b.yytext.substr(1,
b.yyleng-2).replace(/\\"/g,'"'),28;case 20:return 30;case 21:return 30;case 22:return 29;case 23:return 33;case 24:return b.yytext=b.yytext.substr(1,b.yyleng-2),33;case 25:return"INVALID";case 26:return 5}},rules:[/^[^\x00]*?(?=(\{\{))/,/^[^\x00]+/,/^[^\x00]{2,}?(?=(\{\{))/,/^\{\{>/,/^\{\{#/,/^\{\{\//,/^\{\{\^/,/^\{\{\s*else\b/,/^\{\{\{/,/^\{\{&/,/^\{\{![\s\S]*?\}\}/,/^\{\{/,/^=/,/^\.(?=[} ])/,/^\.\./,/^[\/.]/,/^\s+/,/^\}\}\}/,/^\}\}/,/^"(\\["]|[^"])*"/,/^true(?=[}\s])/,/^false(?=[}\s])/,/^[0-9]+(?=[}\s])/,
/^[a-zA-Z0-9_$-]+(?=[=}\s\/.])/,/^\[[^\]]*\]/,/^./,/^$/],conditions:{mu:{rules:[3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26],inclusive:!1},emu:{rules:[2],inclusive:!1},INITIAL:{rules:[0,1,26],inclusive:!0}}}}}();
"undefined"!==typeof require&&"undefined"!==typeof exports&&(exports.parser=handlebars,exports.parse=function(){return handlebars.parse.apply(handlebars,arguments)},exports.main=function(a){if(!a[1])throw Error("Usage: "+a[0]+" FILE");a="undefined"!==typeof process?require("fs").readFileSync(require("path").join(process.cwd(),a[1]),"utf8"):require("file").path(require("file").cwd()).join(a[1]).read({charset:"utf-8"});return exports.parser.parse(a)},"undefined"!==typeof module&&require.main===module&&
exports.main("undefined"!==typeof process?process.argv.slice(1):require("system").args));Handlebars.Parser=handlebars;Handlebars.parse=function(a){Handlebars.Parser.yy=Handlebars.AST;return Handlebars.Parser.parse(a)};Handlebars.print=function(a){return(new Handlebars.PrintVisitor).accept(a)};Handlebars.logger={DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,log:function(){}};Handlebars.log=function(a,b){Handlebars.logger.log(a,b)};
(function(){Handlebars.AST={};Handlebars.AST.ProgramNode=function(a,d){this.type="program";this.statements=a;if(d)this.inverse=new Handlebars.AST.ProgramNode(d)};Handlebars.AST.MustacheNode=function(a,d,e){this.type="mustache";this.id=a[0];this.params=a.slice(1);this.hash=d;this.escaped=!e};Handlebars.AST.PartialNode=function(a,d){this.type="partial";this.id=a;this.context=d};var a=function(a,d){if(a.original!==d.original)throw new Handlebars.Exception(a.original+" doesn't match "+d.original);};Handlebars.AST.BlockNode=
function(b,d,e){a(b.id,e);this.type="block";this.mustache=b;this.program=d};Handlebars.AST.InverseNode=function(b,d,e){a(b.id,e);this.type="inverse";this.mustache=b;this.program=d};Handlebars.AST.ContentNode=function(a){this.type="content";this.string=a};Handlebars.AST.HashNode=function(a){this.type="hash";this.pairs=a};Handlebars.AST.IdNode=function(a){this.type="ID";this.original=a.join(".");for(var d=[],e=0,g=0,k=a.length;g<k;g++){var j=a[g];j===".."?e++:j==="."||j==="this"?this.isScoped=true:
d.push(j)}this.parts=d;this.string=d.join(".");this.depth=e;this.isSimple=d.length===1&&e===0};Handlebars.AST.StringNode=function(a){this.type="STRING";this.string=a};Handlebars.AST.IntegerNode=function(a){this.type="INTEGER";this.integer=a};Handlebars.AST.BooleanNode=function(a){this.type="BOOLEAN";this.bool=a};Handlebars.AST.CommentNode=function(a){this.type="comment";this.comment=a}})();
Handlebars.Exception=function(a){var b=Error.prototype.constructor.apply(this,arguments),d;for(d in b)b.hasOwnProperty(d)&&(this[d]=b[d]);this.message=b.message};Handlebars.Exception.prototype=Error();Handlebars.SafeString=function(a){this.string=a};Handlebars.SafeString.prototype.toString=function(){return this.string.toString()};
(function(){var a={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},b=/&(?!\w+;)|[<>"'`]/g,d=/[&<>"'`]/,e=function(b){return a[b]||"&amp;"};Handlebars.Utils={escapeExpression:function(a){return a instanceof Handlebars.SafeString?a.toString():a==null||a===false?"":!d.test(a)?a:a.replace(b,e)},isEmpty:function(a){return typeof a==="undefined"?true:a===null?true:a===false?true:Object.prototype.toString.call(a)==="[object Array]"&&a.length===0?true:false}}})();Handlebars.Compiler=function(){};
Handlebars.JavaScriptCompiler=function(){};
(function(a,b){a.OPCODE_MAP={appendContent:1,getContext:2,lookupWithHelpers:3,lookup:4,append:5,invokeMustache:6,appendEscaped:7,pushString:8,truthyOrFallback:9,functionOrFallback:10,invokeProgram:11,invokePartial:12,push:13,assignToHash:15,pushStringParam:16};a.MULTI_PARAM_OPCODES={appendContent:1,getContext:1,lookupWithHelpers:2,lookup:1,invokeMustache:3,pushString:1,truthyOrFallback:1,functionOrFallback:1,invokeProgram:3,invokePartial:1,push:1,assignToHash:1,pushStringParam:1};a.DISASSEMBLE_MAP=
{};for(var d in a.OPCODE_MAP)a.DISASSEMBLE_MAP[a.OPCODE_MAP[d]]=d;a.multiParamSize=function(b){return a.MULTI_PARAM_OPCODES[a.DISASSEMBLE_MAP[b]]};a.prototype={compiler:a,disassemble:function(){for(var b=this.opcodes,d,e=[],g,k=0,y=b.length;k<y;k++){d=b[k];if(d==="DECLARE"){g=b[++k];d=b[++k];e.push("DECLARE "+g+" = "+d)}else{g=a.DISASSEMBLE_MAP[d];for(var F=a.multiParamSize(d),C=[],A=0;A<F;A++){d=b[++k];typeof d==="string"&&(d='"'+d.replace("\n","\\n")+'"');C.push(d)}g=g+" "+C.join(" ");e.push(g)}}return e.join("\n")},
guid:0,compile:function(a,b){this.children=[];this.depths={list:[]};this.options=b;var d=this.options.knownHelpers;this.options.knownHelpers={helperMissing:true,blockHelperMissing:true,each:true,"if":true,unless:true,"with":true,log:true};if(d)for(var e in d)this.options.knownHelpers[e]=d[e];return this.program(a)},accept:function(a){return this[a.type](a)},program:function(a){var a=a.statements,b;this.opcodes=[];for(var d=0,e=a.length;d<e;d++){b=a[d];this[b.type](b)}this.isSimple=e===1;this.depths.list=
this.depths.list.sort(function(a,b){return a-b});return this},compileProgram:function(a){var a=(new this.compiler).compile(a,this.options),b=this.guid++;this.usePartial=this.usePartial||a.usePartial;this.children[b]=a;for(var d=0,e=a.depths.list.length;d<e;d++){depth=a.depths.list[d];depth<2||this.addDepth(depth-1)}return b},block:function(a){var b=a.mustache,d=this.setupStackForMustache(b),e=this.compileProgram(a.program);if(a.program.inverse){a=this.compileProgram(a.program.inverse);this.declare("inverse",
a)}this.opcode("invokeProgram",e,d.length,!!b.hash);this.declare("inverse",null);this.opcode("append")},inverse:function(a){var b=this.setupStackForMustache(a.mustache),d=this.compileProgram(a.program);this.declare("inverse",d);this.opcode("invokeProgram",null,b.length,!!a.mustache.hash);this.declare("inverse",null);this.opcode("append")},hash:function(a){var a=a.pairs,b,d;this.opcode("push","{}");for(var e=0,g=a.length;e<g;e++){b=a[e];d=b[1];this.accept(d);this.opcode("assignToHash",b[0])}},partial:function(a){var b=
a.id;this.usePartial=true;a.context?this.ID(a.context):this.opcode("push","depth0");this.opcode("invokePartial",b.original);this.opcode("append")},content:function(a){this.opcode("appendContent",a.string)},mustache:function(a){var b=this.setupStackForMustache(a);this.opcode("invokeMustache",b.length,a.id.original,!!a.hash);a.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},ID:function(a){this.addDepth(a.depth);this.opcode("getContext",a.depth);this.opcode("lookupWithHelpers",
a.parts[0]||null,a.isScoped||false);for(var b=1,d=a.parts.length;b<d;b++)this.opcode("lookup",a.parts[b])},STRING:function(a){this.opcode("pushString",a.string)},INTEGER:function(a){this.opcode("push",a.integer)},BOOLEAN:function(a){this.opcode("push",a.bool)},comment:function(){},pushParams:function(a){for(var b=a.length,d;b--;){d=a[b];if(this.options.stringParams){d.depth&&this.addDepth(d.depth);this.opcode("getContext",d.depth||0);this.opcode("pushStringParam",d.string)}else this[d.type](d)}},
opcode:function(b,d,e,g){this.opcodes.push(a.OPCODE_MAP[b]);d!==void 0&&this.opcodes.push(d);e!==void 0&&this.opcodes.push(e);g!==void 0&&this.opcodes.push(g)},declare:function(a,b){this.opcodes.push("DECLARE");this.opcodes.push(a);this.opcodes.push(b)},addDepth:function(a){if(a!==0&&!this.depths[a]){this.depths[a]=true;this.depths.list.push(a)}},setupStackForMustache:function(a){var b=a.params;this.pushParams(b);a.hash&&this.hash(a.hash);this.ID(a.id);return b}};b.prototype={nameLookup:function(a,
d){return/^[0-9]+$/.test(d)?a+"["+d+"]":b.isValidJavaScriptVariableName(d)?a+"."+d:a+"['"+d+"']"},appendToBuffer:function(a){return this.environment.isSimple?"return "+a+";":"buffer += "+a+";"},initializeBuffer:function(){return this.quotedString("")},namespace:"Handlebars",compile:function(a,b,d,e){this.environment=a;this.options=b||{};this.name=this.environment.name;this.isChild=!!d;this.context=d||{programs:[],aliases:{self:"this"},registers:{list:[]}};this.preamble();this.stackSlot=0;this.stackVars=
[];this.compileChildren(a,b);a=a.opcodes;this.i=0;for(k=a.length;this.i<k;this.i++){a=this.nextOpcode(0);if(a[0]==="DECLARE"){this.i=this.i+2;this[a[1]]=a[2]}else{this.i=this.i+a[1].length;this[a[0]].apply(this,a[1])}}return this.createFunctionContext(e)},nextOpcode:function(b){var d=this.environment.opcodes,e=d[this.i+b],g,k;if(e==="DECLARE"){g=d[this.i+1];b=d[this.i+2];return["DECLARE",g,b]}g=a.DISASSEMBLE_MAP[e];e=a.multiParamSize(e);k=[];for(var y=0;y<e;y++)k.push(d[this.i+y+1+b]);return[g,k]},
eat:function(a){this.i=this.i+a.length},preamble:function(){var a=[];this.useRegister("foundHelper");if(this.isChild)a.push("");else{var b=this.namespace,d="helpers = helpers || "+b+".helpers;";this.environment.usePartial&&(d=d+" partials = partials || "+b+".partials;");a.push(d)}this.environment.isSimple?a.push(""):a.push(", buffer = "+this.initializeBuffer());this.lastContext=0;this.source=a},createFunctionContext:function(a){var b=this.stackVars;this.isChild||(b=b.concat(this.context.registers.list));
b.length>0&&(this.source[1]=this.source[1]+", "+b.join(", "));if(!this.isChild)for(var d in this.context.aliases)this.source[1]=this.source[1]+", "+d+"="+this.context.aliases[d];this.source[1]&&(this.source[1]="var "+this.source[1].substring(2)+";");this.isChild||(this.source[1]=this.source[1]+("\n"+this.context.programs.join("\n")+"\n"));this.environment.isSimple||this.source.push("return buffer;");b=this.isChild?["depth0","data"]:["Handlebars","depth0","helpers","partials","data"];d=0;for(var e=
this.environment.depths.list.length;d<e;d++)b.push("depth"+this.environment.depths.list[d]);if(a){b.push(this.source.join("\n  "));return Function.apply(this,b)}a="function "+(this.name||"")+"("+b.join(",")+") {\n  "+this.source.join("\n  ")+"}";Handlebars.log(Handlebars.logger.DEBUG,a+"\n\n");return a},appendContent:function(a){this.source.push(this.appendToBuffer(this.quotedString(a)))},append:function(){var a=this.popStack();this.source.push("if("+a+" || "+a+" === 0) { "+this.appendToBuffer(a)+
" }");this.environment.isSimple&&this.source.push("else { "+this.appendToBuffer("''")+" }")},appendEscaped:function(){var a=this.nextOpcode(1),b="";this.context.aliases.escapeExpression="this.escapeExpression";if(a[0]==="appendContent"){b=" + "+this.quotedString(a[1][0]);this.eat(a)}this.source.push(this.appendToBuffer("escapeExpression("+this.popStack()+")"+b))},getContext:function(a){if(this.lastContext!==a)this.lastContext=a},lookupWithHelpers:function(a,b){if(a){var d=this.nextStack();this.usingKnownHelper=
false;if(!b&&this.options.knownHelpers[a]){d=d+" = "+this.nameLookup("helpers",a,"helper");this.usingKnownHelper=true}else if(b||this.options.knownHelpersOnly)d=d+" = "+this.nameLookup("depth"+this.lastContext,a,"context");else{this.register("foundHelper",this.nameLookup("helpers",a,"helper"));d=d+" = foundHelper || "+this.nameLookup("depth"+this.lastContext,a,"context")}this.source.push(d+";")}else this.pushStack("depth"+this.lastContext)},lookup:function(a){var b=this.topStack();this.source.push(b+
" = ("+b+" === null || "+b+" === undefined || "+b+" === false ? "+b+" : "+this.nameLookup(b,a,"context")+");")},pushStringParam:function(a){this.pushStack("depth"+this.lastContext);this.pushString(a)},pushString:function(a){this.pushStack(this.quotedString(a))},push:function(a){this.pushStack(a)},invokeMustache:function(a,b,d){this.populateParams(a,this.quotedString(b),"{}",null,d,function(a,b,d){if(!this.usingKnownHelper){this.context.aliases.helperMissing="helpers.helperMissing";this.context.aliases.undef=
"void 0";this.source.push("else if("+d+"=== undef) { "+a+" = helperMissing.call("+b+"); }");a!==d&&this.source.push("else { "+a+" = "+d+"; }")}})},invokeProgram:function(a,b,d){var e=this.programExpression(this.inverse),a=this.programExpression(a);this.populateParams(b,null,a,e,d,function(a,b){if(!this.usingKnownHelper){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";this.source.push("else { "+a+" = blockHelperMissing.call("+b+"); }")}})},populateParams:function(a,b,d,e,g,k){var F=
g||this.options.stringParams||e||this.options.data,C=this.popStack(),A=[],w;if(F){this.register("tmp1",d);w="tmp1"}else w="{ hash: {} }";if(F){g=g?this.popStack():"{}";this.source.push("tmp1.hash = "+g+";")}this.options.stringParams&&this.source.push("tmp1.contexts = [];");for(F=0;F<a;F++){g=this.popStack();A.push(g);this.options.stringParams&&this.source.push("tmp1.contexts.push("+this.popStack()+");")}if(e){this.source.push("tmp1.fn = tmp1;");this.source.push("tmp1.inverse = "+e+";")}this.options.data&&
this.source.push("tmp1.data = data;");A.push(w);this.populateCall(A,C,b||C,k,d!=="{}")},populateCall:function(a,b,d,e,g){var k=["depth0"].concat(a).join(", "),a=["depth0"].concat(d).concat(a).join(", "),d=this.nextStack();if(this.usingKnownHelper)this.source.push(d+" = "+b+".call("+k+");");else{this.context.aliases.functionType='"function"';this.source.push("if("+(g?"foundHelper && ":"")+"typeof "+b+" === functionType) { "+d+" = "+b+".call("+k+"); }")}e.call(this,d,a,b);this.usingKnownHelper=false},
invokePartial:function(a){params=[this.nameLookup("partials",a,"partial"),"'"+a+"'",this.popStack(),"helpers","partials"];this.options.data&&params.push("data");this.pushStack("self.invokePartial("+params.join(", ")+");")},assignToHash:function(a){var b=this.popStack(),d=this.topStack();this.source.push(d+"['"+a+"'] = "+b+";")},compiler:b,compileChildren:function(a,b){for(var d=a.children,e,g,k=0,F=d.length;k<F;k++){e=d[k];g=new this.compiler;this.context.programs.push("");var C=this.context.programs.length;
e.index=C;e.name="program"+C;this.context.programs[C]=g.compile(e,b,this.context)}},programExpression:function(a){if(a==null)return"self.noop";for(var b=this.environment.children[a],a=b.depths.list,b=[b.index,b.name,"data"],d=0,e=a.length;d<e;d++){depth=a[d];depth===1?b.push("depth0"):b.push("depth"+(depth-1))}if(a.length===0)return"self.program("+b.join(", ")+")";b.shift();return"self.programWithDepth("+b.join(", ")+")"},register:function(a,b){this.useRegister(a);this.source.push(a+" = "+b+";")},
useRegister:function(a){if(!this.context.registers[a]){this.context.registers[a]=true;this.context.registers.list.push(a)}},pushStack:function(a){this.source.push(this.nextStack()+" = "+a+";");return"stack"+this.stackSlot},nextStack:function(){this.stackSlot++;this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot);return"stack"+this.stackSlot},popStack:function(){return"stack"+this.stackSlot--},topStack:function(){return"stack"+this.stackSlot},quotedString:function(a){return'"'+
a.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r")+'"'}};d=["break","else","new","var","case","finally","return","void","catch","for","switch","while","continue","function","this","with","default","if","throw","delete","in","try","do","instanceof","typeof","abstract","enum","int","short","boolean","export","interface","static","byte","extends","long","super","char","final","native","synchronized","class","float","package","throws","const","goto","private","transient",
"debugger","implements","protected","volatile","double","import","public","let","yield"];for(var e=b.RESERVED_WORDS={},g=0,k=d.length;g<k;g++)e[d[g]]=true;b.isValidJavaScriptVariableName=function(a){return!b.RESERVED_WORDS[a]&&/^[a-zA-Z_$][0-9a-zA-Z_$]+$/.test(a)?true:false}})(Handlebars.Compiler,Handlebars.JavaScriptCompiler);Handlebars.precompile=function(a,b){var b=b||{},d=Handlebars.parse(a),d=(new Handlebars.Compiler).compile(d,b);return(new Handlebars.JavaScriptCompiler).compile(d,b)};
Handlebars.compile=function(a,b){var b=b||{},d;return function(e,g){if(!d){var k=Handlebars.parse(a),k=(new Handlebars.Compiler).compile(k,b),k=(new Handlebars.JavaScriptCompiler).compile(k,b,void 0,true);d=Handlebars.template(k)}return d.call(this,e,g)}};
Handlebars.VM={template:function(a){var b={escapeExpression:Handlebars.Utils.escapeExpression,invokePartial:Handlebars.VM.invokePartial,programs:[],program:function(a,b,g){var k=this.programs[a];if(g)return Handlebars.VM.program(b,g);k||(k=this.programs[a]=Handlebars.VM.program(b));return k},programWithDepth:Handlebars.VM.programWithDepth,noop:Handlebars.VM.noop};return function(d,e){e=e||{};return a.call(b,Handlebars,d,e.helpers,e.partials,e.data)}},programWithDepth:function(a,b,d){var e=Array.prototype.slice.call(arguments,
2);return function(d,k){k=k||{};return a.apply(this,[d,k.data||b].concat(e))}},program:function(a,b){return function(d,e){e=e||{};return a(d,e.data||b)}},noop:function(){return""},invokePartial:function(a,b,d,e,g,k){options={helpers:e,partials:g,data:k};if(a===void 0)throw new Handlebars.Exception("The partial "+b+" could not be found");if(a instanceof Function)return a(d,options);if(Handlebars.compile){g[b]=Handlebars.compile(a);return g[b](d,options)}throw new Handlebars.Exception("The partial "+
b+" could not be compiled when running in runtime-only mode");}};Handlebars.template=Handlebars.VM.template;define("lib/handlebars-1.0.0.beta.6",function(){});define("bridge/handlebars",["lib/handlebars-1.0.0.beta.6"]);
define("lib/ember-1.0.pre",["bridge/jquery","bridge/handlebars"],function(){if("undefined"===typeof Ember){Ember={};if("undefined"!==typeof window)window.Em=window.Ember=Em=Ember}Ember.ENV="undefined"===typeof ENV?{}:ENV;if(!("MANDATORY_SETTER"in Ember.ENV))Ember.ENV.MANDATORY_SETTER=true;Ember.assert=function(a,t){if(!t)throw Error("assertion failed: "+a);};Ember.warn=function(a,t){if(!t){Ember.Logger.warn("WARNING: "+a);"trace"in Ember.Logger&&Ember.Logger.trace()}};Ember.deprecate=function(a,t){if(!Ember||
!Ember.TESTING_DEPRECATION){arguments.length===1&&(t=false);if(!t){if(Ember&&Ember.ENV.RAISE_ON_DEPRECATION)throw Error(a);var b;try{__fail__.fail()}catch(c){b=c}if(Ember.LOG_STACKTRACE_ON_DEPRECATION&&b.stack){var d="";if(b.arguments){b=b.stack.replace(/^\s+at\s+/gm,"").replace(/^([^\(]+?)([\n$])/gm,"{anonymous}($1)$2").replace(/^Object.<anonymous>\s*\(([^\)]+)\)/gm,"{anonymous}($1)").split("\n");b.shift()}else b=b.stack.replace(/(?:\n@:0)?\s+$/m,"").replace(/^\(/gm,"{anonymous}(").split("\n");d=
"\n    "+b.slice(2).join("\n    ");a=a+d}Ember.Logger.warn("DEPRECATION: "+a)}}};Ember.deprecateFunc=function(a,t){return function(){Ember.deprecate(a);return t.apply(this,arguments)}};window.ember_assert=Ember.deprecateFunc("ember_assert is deprecated. Please use Ember.assert instead.",Ember.assert);window.ember_warn=Ember.deprecateFunc("ember_warn is deprecated. Please use Ember.warn instead.",Ember.warn);window.ember_deprecate=Ember.deprecateFunc("ember_deprecate is deprecated. Please use Ember.deprecate instead.",
Ember.deprecate);window.ember_deprecateFunc=Ember.deprecateFunc("ember_deprecateFunc is deprecated. Please use Ember.deprecateFunc instead.",Ember.deprecateFunc);"undefined"===typeof Ember&&(Ember={});if("undefined"!==typeof window)window.Em=window.Ember=Em=Ember;Ember.isNamespace=true;Ember.toString=function(){return"Ember"};Ember.VERSION="1.0.pre";Ember.ENV=Ember.ENV||("undefined"===typeof ENV?{}:ENV);Ember.config=Ember.config||{};Ember.EXTEND_PROTOTYPES=Ember.ENV.EXTEND_PROTOTYPES!==false;Ember.LOG_STACKTRACE_ON_DEPRECATION=
Ember.ENV.LOG_STACKTRACE_ON_DEPRECATION!==false;Ember.SHIM_ES5=Ember.ENV.SHIM_ES5===false?false:Ember.EXTEND_PROTOTYPES;Ember.CP_DEFAULT_CACHEABLE=Ember.ENV.CP_DEFAULT_CACHEABLE!==false;Ember.VIEW_PRESERVES_CONTEXT=Ember.ENV.VIEW_PRESERVES_CONTEXT!==false;Ember.K=function(){return this};if("undefined"===typeof Ember.assert)Ember.assert=Ember.K;if("undefined"===typeof Ember.warn)Ember.warn=Ember.K;if("undefined"===typeof Ember.deprecate)Ember.deprecate=Ember.K;if("undefined"===typeof Ember.deprecateFunc)Ember.deprecateFunc=
function(a,t){return t};if("undefined"===typeof ember_assert)window.ember_assert=Ember.K;if("undefined"===typeof ember_warn)window.ember_warn=Ember.K;if("undefined"===typeof ember_deprecate)window.ember_deprecate=Ember.K;if("undefined"===typeof ember_deprecateFunc)window.ember_deprecateFunc=function(a,t){return t};Ember.Logger=window.console||{log:Ember.K,warn:Ember.K,error:Ember.K,info:Ember.K,debug:Ember.K};var a=function(a){return a&&Function.prototype.toString.call(a).indexOf("[native code]")>
-1},b=a(Array.prototype.map)?Array.prototype.map:function(a,t){if(this===void 0||this===null)throw new TypeError;var b=Object(this),c=b.length>>>0;if(typeof a!=="function")throw new TypeError;for(var d=Array(c),e=0;e<c;e++)e in b&&(d[e]=a.call(t,b[e],e,b));return d},d=a(Array.prototype.forEach)?Array.prototype.forEach:function(a,t){if(this===void 0||this===null)throw new TypeError;var b=Object(this),c=b.length>>>0;if(typeof a!=="function")throw new TypeError;for(var d=0;d<c;d++)d in b&&a.call(t,b[d],
d,b)},e=a(Array.prototype.indexOf)?Array.prototype.indexOf:function(a,t){t===null||t===void 0?t=0:t<0&&(t=Math.max(0,this.length+t));for(var b=t,c=this.length;b<c;b++)if(this[b]===a)return b;return-1};Ember.ArrayPolyfills={map:b,forEach:d,indexOf:e};var g=Ember.EnumerableUtils={map:function(a,t,c){return a.map?a.map.call(a,t,c):b.call(a,t,c)},forEach:function(a,t,b){return a.forEach?a.forEach.call(a,t,b):d.call(a,t,b)},indexOf:function(a,t,b){return a.indexOf?a.indexOf.call(a,t,b):e.call(a,t,b)},
indexesOf:function(a,t){return t===void 0?[]:g.map(t,function(t){return g.indexOf(a,t)})},removeObject:function(a,t){var b=g.indexOf(a,t);b!==-1&&a.splice(b,1)}};if(Ember.SHIM_ES5){if(!Array.prototype.map)Array.prototype.map=b;if(!Array.prototype.forEach)Array.prototype.forEach=d;if(!Array.prototype.indexOf)Array.prototype.indexOf=e}var k=Ember.platform={};Ember.create=Object.create;if(!Ember.create){var j=function(){};Ember.create=function(a,t){j.prototype=a;a=new j;if(t){j.prototype=a;for(var b in t)j.prototype[b]=
t[b].value;a=new j}j.prototype=null;return a};Ember.create.isSimulated=true}var p=Object.defineProperty,o,z;if(p)try{p({},"a",{get:function(){}})}catch(B){p=null}if(p){var y={};p(y,"a",{configurable:true,enumerable:true,get:function(){},set:function(){}});p(y,"a",{configurable:true,enumerable:true,writable:true,value:true});o=y.a===true;a:{try{p(document.createElement("div"),"definePropertyOnDOM",{});z=true;break a}catch(F){}z=false}o?z||(p=function(a,t,b){return(typeof Node==="object"?a instanceof
Node:typeof a==="object"&&typeof a.nodeType==="number"&&typeof a.nodeName==="string")?a[t]=b.value:Object.defineProperty(a,t,b)}):p=null}k.defineProperty=p;k.hasPropertyAccessors=true;if(!k.defineProperty){k.hasPropertyAccessors=false;k.defineProperty=function(a,t,b){if(!b.get)a[t]=b.value};k.defineProperty.isSimulated=true}if(Ember.ENV.MANDATORY_SETTER&&!k.hasPropertyAccessors)Ember.ENV.MANDATORY_SETTER=false;var C=function(a){this.descs={};this.watching={};this.cache={};this.source=a},A=function(a,
t){return!!(a&&typeof a[t]==="function")},w=Ember.platform.defineProperty,K=Ember.create,W="__ember"+ +new Date,L=0,X=[],qa={},n=Ember.ENV.MANDATORY_SETTER;Ember.GUID_KEY=W;var E={writable:false,configurable:false,enumerable:false,value:null};Ember.generateGuid=function(a,t){t||(t="ember");var b=t+L++;if(a){E.value=b;w(a,W,E)}return b};Ember.guidFor=function(a){if(a===void 0)return"(undefined)";if(a===null)return"(null)";var t;switch(typeof a){case "number":(t=X[a])||(t=X[a]="nu"+a);return t;case "string":(t=
qa[a])||(t=qa[a]="st"+L++);return t;case "boolean":return a?"(true)":"(false)";default:if(a[W])return a[W];if(a===Object)return"(Object)";if(a===Array)return"(Array)";t="ember"+L++;E.value=t;w(a,W,E);return t}};var ma={writable:true,configurable:false,enumerable:false,value:null},v=Ember.GUID_KEY+"_meta";Ember.META_KEY=v;var s={descs:{},watching:{}};if(n)s.values={};Ember.EMPTY_META=s;Object.freeze&&Object.freeze(s);var M=Ember.platform.defineProperty.isSimulated;if(M)C.prototype.__preventPlainObject__=
true;Ember.meta=function(a,t){var b=a[v];if(t===false)return b||s;if(b){if(b.source!==a){M||w(a,v,ma);b=K(b);b.descs=K(b.descs);b.watching=K(b.watching);b.cache={};b.source=a;if(n)b.values=K(b.values);a[v]=b}}else{M||w(a,v,ma);b=new C(a);if(n)b.values={};a[v]=b;b.descs.constructor=null}return b};Ember.getMeta=function(a,t){return Ember.meta(a,false)[t]};Ember.setMeta=function(a,t,b){return Ember.meta(a,true)[t]=b};Ember.metaPath=function(a,t,b){for(var c=Ember.meta(a,b),d,e,f=0,g=t.length;f<g;f++){d=
t[f];if(e=c[d]){if(e.__ember_source__!==a){if(!b)return;e=c[d]=K(e);e.__ember_source__=a}}else{if(!b)return;e=c[d]={__ember_source__:a}}c=e}return e};Ember.wrap=function(a,t){function b(){}var c=function(){var c,d=this._super;this._super=t||b;c=a.apply(this,arguments);this._super=d;return c};c.base=a;return c};Ember.isArray=function(a){return!a||a.setInterval?false:Array.isArray&&Array.isArray(a)||Ember.Array&&Ember.Array.detect(a)||a.length!==void 0&&"object"===typeof a?true:false};Ember.makeArray=
function(a){return a===null||a===void 0?[]:Ember.isArray(a)?a:[a]};Ember.canInvoke=A;Ember.tryInvoke=function(a,t,b){if(A(a,t))return a[t].apply(a,b)};var f=Ember.guidFor,O=Ember.ArrayPolyfills.indexOf,u=function(a){var t={},b;for(b in a)a.hasOwnProperty(b)&&(t[b]=a[b]);return t},r=function(a,t){var b=a.keys.copy(),c=u(a.values);t.keys=b;t.values=c;return t},x=Ember.OrderedSet=function(){this.clear()};x.create=function(){return new x};x.prototype={clear:function(){this.presenceSet={};this.list=[]},
add:function(a){var t=f(a),b=this.presenceSet,c=this.list;if(!(t in b)){b[t]=true;c.push(a)}},remove:function(a){var t=f(a),b=this.list;delete this.presenceSet[t];a=O.call(b,a);a>-1&&b.splice(a,1)},isEmpty:function(){return this.list.length===0},forEach:function(a,t){for(var b=this.list.slice(),c=0,d=b.length;c<d;c++)a.call(t,b[c])},toArray:function(){return this.list.slice()},copy:function(){var a=new x;a.presenceSet=u(this.presenceSet);a.list=this.list.slice();return a}};var P=Ember.Map=function(){this.keys=
Ember.OrderedSet.create();this.values={}};P.create=function(){return new P};P.prototype={get:function(a){var t=this.values,a=f(a);return t[a]},set:function(a,t){var b=this.keys,c=this.values,d=f(a);b.add(a);c[d]=t},remove:function(a){var t=this.keys,b=this.values,c=f(a);if(b.hasOwnProperty(c)){t.remove(a);delete b[c];return true}return false},has:function(a){var t=this.values,a=f(a);return t.hasOwnProperty(a)},forEach:function(a,t){var b=this.values;this.keys.forEach(function(c){var d=f(c);a.call(t,
c,b[d])})},copy:function(){return r(this,new P)}};var ca=Ember.MapWithDefault=function(a){P.call(this);this.defaultValue=a.defaultValue};ca.create=function(a){return a?new ca(a):new P};ca.prototype=Ember.create(P.prototype);ca.prototype.get=function(a){if(this.has(a))return P.prototype.get.call(this,a);var t=this.defaultValue(a);this.set(a,t);return t};ca.prototype.copy=function(){return r(this,new ca({defaultValue:this.defaultValue}))};var aa=function(a,t){var b=fa.test(t),c=!b&&da.test(t);if(!a||
c)a=window;b&&(t=t.slice(5));if(a===window){b=t.match(Ja)[0];a=xa(a,b);t=t.slice(b.length+1)}if(!t||t.length===0)throw Error("Invalid Path");return[a,t]},l=function(a,b){var c,d,e;if(a===null&&b.indexOf(".")===-1)return xa(window,b);c=fa.test(b);if(!a||c){c=aa(a,b);a=c[0];b=c[1];c.length=0}c=b.split(".");e=c.length;for(d=0;a&&d<e;d++)if((a=xa(a,c[d],true))&&a.isDestroyed)return;return a},R=Ember.META_KEY,xa,Y,na=Ember.ENV.MANDATORY_SETTER,Oa=/^([A-Z$]|([0-9][A-Z$]))/,da=/^([A-Z$]|([0-9][A-Z$])).*[\.\*]/,
fa=/^this[\.\*]/,Ja=/^([^\.\*]+)/;xa=function(a,b){if(b==="")return a;if(!b&&"string"===typeof a){b=a;a=null}if(!a||b.indexOf(".")!==-1)return l(a,b);Ember.assert("You need to provide an object and key to `get`.",!!a&&b);var c=a[R],d=c&&c.descs[b];if(d)return d.get(a,b);c=na&&c&&c.watching[b]>0?c.values[b]:a[b];return c===void 0&&"object"===typeof a&&!(b in a)&&"function"===typeof a.unknownProperty?a.unknownProperty(b):c};Y=function(a,b,c,d){if(typeof a==="string"){Ember.assert("Path '"+a+"' must be global if no obj is given.",
Oa.test(a));c=b;b=a;a=null}if(!a||b.indexOf(".")!==-1){a:{var e;e=b.slice(b.lastIndexOf(".")+1);b=b.slice(0,b.length-(e.length+1));b!=="this"&&(a=l(a,b));if(!e||e.length===0)throw Error("You passed an empty path");if(!a)if(d){c=void 0;break a}else throw Error("Object in path "+b+" could not be found or was destroyed.");c=Y(a,e,c)}return c}Ember.assert("You need to provide an object and key to `set`.",!!a&&b!==void 0);Ember.assert("calling set on destroyed object",!a.isDestroyed);if(e=(d=a[R])&&d.descs[b])e.set(a,
b,c);else if("object"===typeof a&&!(b in a)&&"function"===typeof a.setUnknownProperty)a.setUnknownProperty(b,c);else if(d&&d.watching[b]>0){e=na?d.values[b]:a[b];if(c!==e){Ember.propertyWillChange(a,b);na?e===void 0&&!(b in a)?Ember.defineProperty(a,b,null,c):d.values[b]=c:a[b]=c;Ember.propertyDidChange(a,b)}}else a[b]=c;return c};Ember.normalizeTuple=function(a,b){return aa(a,b)};Ember.getWithDefault=function(a,b,c){a=xa(a,b);return a===void 0?c:a};Ember.get=xa;Ember.getPath=Ember.deprecateFunc("getPath is deprecated since get now supports paths",
Ember.get);Ember.set=Y;Ember.setPath=Ember.deprecateFunc("setPath is deprecated since set now supports paths",Ember.set);Ember.trySet=function(a,b,c){return Y(a,b,c,true)};Ember.trySetPath=Ember.deprecateFunc("trySetPath has been renamed to trySet",Ember.trySet);Ember.isGlobalPath=function(a){return Oa.test(a)};if(Ember.config.overrideAccessors){Ember.config.overrideAccessors();xa=Ember.get;Y=Ember.set}var Ka=Ember.META_KEY,oa=Ember.meta,ea=Ember.platform.defineProperty,Z=Ember.ENV.MANDATORY_SETTER;
Ember.Descriptor=function(){};Ember.defineProperty=function(a,b,c,d,e){var f,g,h;e||(e=oa(a));f=e.descs;g=e.descs[b];h=e.watching[b]>0;g instanceof Ember.Descriptor&&g.teardown(a,b);if(c instanceof Ember.Descriptor){g=c;f[b]=c;Z&&h?ea(a,b,{configurable:true,enumerable:true,writable:true,value:void 0}):a[b]=void 0;c.setup(a,b)}else{f[b]=void 0;if(c==null){g=d;if(Z&&h){e.values[b]=d;ea(a,b,{configurable:true,enumerable:true,set:function(){Ember.assert("Must use Ember.set() to access this property",
false)},get:function(){var a=this[Ka];return a&&a.values[b]}})}else a[b]=d}else{g=c;ea(a,b,c)}}h&&Ember.overrideChains(a,b,e);a.didDefineProperty&&a.didDefineProperty(a,b,g);return this};var Fa=0,Wa=function(){this.targetSet={}};Wa.prototype.add=function(a,b){var c=this.targetSet,d=Ember.guidFor(a),e=c[d];e||(c[d]=e={});return e[b]?false:e[b]=true};Wa.prototype.clear=function(){this.targetSet={}};var za=function(){this.targetSet={};this.queue=[]};za.prototype.push=function(a,b,c){var d=this.targetSet,
e=this.queue,f=Ember.guidFor(a),g=d[f];g||(d[f]=g={});d=g[b];d===void 0?g[b]=e.push(Ember.deferEvent(a,b,[a,c]))-1:e[d]=Ember.deferEvent(a,b,[a,c])};za.prototype.flush=function(){var a=this.queue;this.queue=[];this.targetSet={};for(var b=0,c=a.length;b<c;++b)a[b]()};var ua=new za,va=new Wa;Ember.beginPropertyChanges=function(){Fa++;return this};Ember.endPropertyChanges=function(){Fa--;if(Fa<=0){va.clear();ua.flush()}};Ember.changeProperties=function(a,b){Ember.beginPropertyChanges();try{a.call(b)}finally{Ember.endPropertyChanges()}};
Ember.setProperties=function(a,b){Ember.changeProperties(function(){for(var c in b)b.hasOwnProperty(c)&&Ember.set(a,c,b[c])});return a};Ember.addObserver=function(a,b,c,d){Ember.addListener(a,b+":change",c,d);Ember.watch(a,b);return this};Ember.observersFor=function(a,b){return Ember.listenersFor(a,b+":change")};Ember.removeObserver=function(a,b,c,d){Ember.unwatch(a,b);Ember.removeListener(a,b+":change",c,d);return this};Ember.addBeforeObserver=function(a,b,c,d){Ember.addListener(a,b+":before",c,
d);Ember.watch(a,b);return this};Ember._suspendBeforeObserver=function(a,b,c,d,e){return Ember._suspendListener(a,b+":before",c,d,e)};Ember._suspendObserver=function(a,b,c,d,e){return Ember._suspendListener(a,b+":change",c,d,e)};Ember.beforeObserversFor=function(a,b){return Ember.listenersFor(a,b+":before")};Ember.removeBeforeObserver=function(a,b,c,d){Ember.unwatch(a,b);Ember.removeListener(a,b+":before",c,d);return this};Ember.notifyObservers=function(a,b){if(!a.isDestroying){var c=b+":change";
Fa?ua.push(a,c,b):Ember.sendEvent(a,c,[a,b])}};Ember.notifyBeforeObservers=function(a,b){if(!a.isDestroying){var c=false;if(Fa)if(va.add(a,b))c=true;else return;var d=b+":before";Fa&&!c?ua.push(a,d,b):Ember.sendEvent(a,d,[a,b])}};var Pa=function(a,b,c,d,e){var f=Ba(b);d[f]||(d[f]={});if(!d[f][c]){d[f][c]=true;if(d=(d=e.deps)&&d[c])for(var g in d)Ca[g]||a(b,g)}},Aa=function(a,b,c){if(a&&"object"===typeof a){var d=ha(a),e=d.chainWatchers;if(!e||e.__emberproto__!==a)e=d.chainWatchers={__emberproto__:a};
e[b]||(e[b]={});e[b][Ba(c)]=c;Ember.watch(a,b)}},Ta=function(a,b,c){if(a&&"object"===typeof a){var d=ha(a,false).chainWatchers;if(d&&d.__emberproto__===a){d[b]&&delete d[b][Ba(c)];Ember.unwatch(a,b)}}},hb=function(a){var b=ha(a),c=b.chains;if(c){if(c.value()!==a)c=b.chains=c.copy(a)}else c=b.chains=new G(null,null,a);return c},Qa=function(a,b,c,d,e){if((b=b.chainWatchers)&&b.__emberproto__===a)if(b=b[c])for(var f in b)if(b.hasOwnProperty(f))b[f][d](e)},pb=function(a,b){var c=ha(a,false),d=c.proto,
e=c.descs[b];if((c.watching[b]>0||b==="length")&&d!==a){e&&e.willChange&&e.willChange(a,b);if(!a.isDestroying){d=Da;(e=!d)&&(d=Da={});Pa(pb,a,b,d,c);e&&(Da=null)}Qa(a,c,b,"willChange");Ember.notifyBeforeObservers(a,b)}},ib=function(a,b){var c=ha(a,false),d=c.watching[b]>0||b==="length",e=c.descs[b];if(c.proto!==a){e&&e.didChange&&e.didChange(a,b);if(d||b==="length"){if(!a.isDestroying){d=bb;(e=!d)&&(d=bb={});Pa(ib,a,b,d,c);e&&(bb=null)}Qa(a,c,b,"didChange");Ember.notifyObservers(a,b)}}},Ba=Ember.guidFor,
ha=Ember.meta,rb=Ember.get,ta=Ember.normalizeTuple,ia=Ember.GUID_KEY,T=Ember.META_KEY,J=Ember.ArrayPolyfills.forEach,ab=/^([^\.\*]+)/,U=/[\.\*]/,ja=Ember.ENV.MANDATORY_SETTER,Xa=Ember.platform.defineProperty,Ca={__emberproto__:true},Da,bb,la=[],G=function(a,b,c,d){this._parent=a;this._key=b;this._watching=c===void 0;this._value=c;this._separator=d||".";this._paths={};if(this._watching)(this._object=a.value())&&Aa(this._object,this._key,this);this._parent&&this._parent._key==="@each"&&this.value()},
Ra=G.prototype;Ra.value=function(){if(this._value===void 0&&this._watching){var a=this._parent.value();this._value=a&&ha(a,false).proto!==a?rb(a,this._key):void 0}return this._value};Ra.destroy=function(){if(this._watching){var a=this._object;a&&Ta(a,this._key,this);this._watching=false}};Ra.copy=function(a){var a=new G(null,null,a,this._separator),b=this._paths,c;for(c in b)b[c]<=0||a.add(c);return a};Ra.add=function(a){var b,c,d,e;c=this._paths;c[a]=(c[a]||0)+1;b=this.value();c=ta(b,a);if(c[0]&&
c[0]===b){a=c[1];b=a.match(ab)[0];a=a.slice(b.length+1)}else if(c[0]){d=c[0];b=a.slice(0,0-(c[1].length+1));e=a.slice(b.length,b.length+1);a=c[1]}else{la.push([this,a]);c.length=0;return}c.length=0;this.chain(b,a,d,e)};Ra.remove=function(a){var b,c;c=this._paths;c[a]>0&&c[a]--;b=this.value();c=ta(b,a);if(c[0]===b){a=c[1];b=a.match(ab)[0];a=a.slice(b.length+1)}else{b=a.slice(0,0-(c[1].length+1));a=c[1]}c.length=0;this.unchain(b,a)};Ra.count=0;Ra.chain=function(a,b,c,d){var e=this._chains,f;if(!e)e=
this._chains={};(f=e[a])||(f=e[a]=new G(this,a,c,d));f.count++;if(b&&b.length>0){a=b.match(ab)[0];b=b.slice(a.length+1);f.chain(a,b)}};Ra.unchain=function(a,b){var c=this._chains,d=c[a];if(b&&b.length>1){a=b.match(ab)[0];b=b.slice(a.length+1);d.unchain(a,b)}d.count--;if(d.count<=0){delete c[d._key];d.destroy()}};Ra.willChange=function(){var a=this._chains;if(a)for(var b in a)a.hasOwnProperty(b)&&a[b].willChange();this._parent&&this._parent.chainWillChange(this,this._key,1)};Ra.chainWillChange=function(a,
b,c){this._key&&(b=this._key+this._separator+b);if(this._parent)this._parent.chainWillChange(this,b,c+1);else{c>1&&Ember.propertyWillChange(this.value(),b);b="this."+b;this._paths[b]>0&&Ember.propertyWillChange(this.value(),b)}};Ra.chainDidChange=function(a,b,c){this._key&&(b=this._key+this._separator+b);if(this._parent)this._parent.chainDidChange(this,b,c+1);else{c>1&&Ember.propertyDidChange(this.value(),b);b="this."+b;this._paths[b]>0&&Ember.propertyDidChange(this.value(),b)}};Ra.didChange=function(a){if(this._watching){var b=
this._parent.value();if(b!==this._object){Ta(this._object,this._key,this);this._object=b;Aa(b,this._key,this)}this._value=void 0;this._parent&&this._parent._key==="@each"&&this.value()}if(b=this._chains)for(var c in b)b.hasOwnProperty(c)&&b[c].didChange(a);a||this._parent&&this._parent.chainDidChange(this,this._key,1)};Ember.overrideChains=function(a,b,c){Qa(a,c,b,"didChange",true)};Ember.watch=function(a,b){if(b==="length"&&Ember.typeOf(a)==="array")return this;var c=ha(a),d=c.watching;if(d[b])d[b]=
(d[b]||0)+1;else{d[b]=1;if(b==="*"||!U.test(b)){(d=c.descs[b])&&d.willWatch&&d.willWatch(a,b);"function"===typeof a.willWatchProperty&&a.willWatchProperty(b);if(ja&&b in a){c.values[b]=a[b];Xa(a,b,{configurable:true,enumerable:true,set:function(){Ember.assert("Must use Ember.set() to access this property",false)},get:function(){var a=this[T];return a&&a.values[b]}})}}else hb(a).add(b)}return this};Ember.isWatching=function(a,b){var c=a[T];return(c&&c.watching[b])>0};Ember.watch.flushPending=function(){if(la.length!==
0){var a=la;la=[];J.call(a,function(a){a[0].add(a[1])});Ember.warn("Watching an undefined global, Ember expects watched globals to be setup by the time the run loop is flushed, check for typos",la.length===0)}};Ember.unwatch=function(a,b){if(b==="length"&&Ember.typeOf(a)==="array")return this;var c=ha(a),d=c.watching;if(d[b]===1){d[b]=0;if(b==="*"||!U.test(b)){(d=c.descs[b])&&d.didUnwatch&&d.didUnwatch(a,b);"function"===typeof a.didUnwatchProperty&&a.didUnwatchProperty(b);if(ja&&b in a){Xa(a,b,{configurable:true,
enumerable:true,writable:true,value:c.values[b]});delete c.values[b]}}else hb(a).remove(b)}else d[b]>1&&d[b]--;return this};Ember.rewatch=function(a){var b=ha(a,false),c=b.chains;ia in a&&!a.hasOwnProperty(ia)&&Ember.generateGuid(a,"ember");if(c&&c.value()!==a)b.chains=c.copy(a);return this};Ember.finishChains=function(a){var b=ha(a,false),c=b.chains;if(c){if(c.value()!==a)b.chains=c=c.copy(a);c.didChange(true)}};Ember.propertyWillChange=pb;Ember.propertyDidChange=ib;var Gb=[];Ember.destroy=function(a){var b=
a[T],c;if(b){a[T]=null;if(a=b.chains)for(Gb.push(a);Gb.length>0;){a=Gb.pop();if(b=a._chains)for(c in b)b.hasOwnProperty(c)&&Gb.push(b[c]);if(a._watching)(b=a._object)&&Ta(b,a._key,a)}}};var wa=function(a,b,c){var d=b[c];if(d){if(d.__emberproto__!==a){d=b[c]=Ya(d);d.__emberproto__=a}}else d=b[c]={__emberproto__:a};return d},Ga=function(a,b){var c=b.deps;if(c){if(c.__emberproto__!==a){c=b.deps=Ya(c);c.__emberproto__=a}}else c=b.deps={__emberproto__:a};return c},ya=function(a,b,c,d){var a=a._dependentKeys,
e,f,g,h;if(a){d=Ga(b,d);e=0;for(f=a.length;e<f;e++){g=a[e];h=wa(b,d,g);h[c]=(h[c]||0)+1;sb(b,g)}}},Ua=function(a,b,c,d){var a=a._dependentKeys,e,f,g,h;if(a){d=Ga(b,d);e=0;for(f=a.length;e<f;e++){g=a[e];h=wa(b,d,g);h[c]=(h[c]||0)-1;m(b,g)}}},wb=function(a,b){this.func=a;this._cacheable=b&&b.cacheable!==void 0?b.cacheable:Ember.CP_DEFAULT_CACHEABLE;this._dependentKeys=b&&b.dependentKeys};Ember.warn("Computed properties will soon be cacheable by default. To enable this in your app, set `ENV.CP_DEFAULT_CACHEABLE = true`.",
Ember.CP_DEFAULT_CACHEABLE);var Sb=Ember.get,ra=Ember.meta,La=[].slice,Ya=Ember.create,Sa=Ember.META_KEY,sb=Ember.watch,m=Ember.unwatch;Ember.ComputedProperty=wb;wb.prototype=new Ember.Descriptor;var q=wb.prototype;q.cacheable=function(a){this._cacheable=a!==false;return this};q.safe_volatile=function(){return this.cacheable(false)};q.property=function(){for(var a=[],b=0,c=arguments.length;b<c;b++)a.push(arguments[b]);this._dependentKeys=a;return this};q.meta=function(a){if(arguments.length===0)return this._meta||
{};this._meta=a;return this};q.willWatch=function(a,b){var c=a[Sa];Ember.assert("watch should have setup meta to be writable",c.source===a);b in c.cache||ya(this,a,b,c)};q.didUnwatch=function(a,b){var c=a[Sa];Ember.assert("unwatch should have setup meta to be writable",c.source===a);b in c.cache||Ua(this,a,b,c)};q.didChange=function(a,b){if(this._cacheable&&this._suspended!==a){var c=ra(a);if(b in c.cache){delete c.cache[b];c.watching[b]||Ua(this,a,b,c)}}};q.get=function(a,b){var c,d;if(this._cacheable){d=
ra(a);c=d.cache;if(b in c)return c[b];c=c[b]=this.func.call(a,b);d.watching[b]||ya(this,a,b,d)}else c=this.func.call(a,b);return c};q.set=function(a,b,c){var d=this._cacheable,e=ra(a,d),f=e.watching[b],g=this._suspended,h;this._suspended=a;f&&Ember.propertyWillChange(a,b);if(d&&b in e.cache){delete e.cache[b];h=true}c=this.func.call(a,b,c);if(d){!f&&!h&&ya(this,a,b,e);e.cache[b]=c}f&&Ember.propertyDidChange(a,b);this._suspended=g;return c};q.setup=function(a,b){var c=a[Sa];c&&c.watching[b]&&ya(this,
a,b,ra(a))};q.teardown=function(a,b){var c=ra(a);(c.watching[b]||b in c.cache)&&Ua(this,a,b,c);this._cacheable&&delete c.cache[b];return null};Ember.computed=function(a){var b;if(arguments.length>1){b=La.call(arguments,0,-1);a=La.call(arguments,-1)[0]}var c=new wb(a);b&&c.property.apply(c,b);return c};Ember.cacheFor=function(a,b){var c=ra(a,false).cache;if(c&&b in c)return c[b]};Ember.computed.not=function(a){return Ember.computed(a,function(){return!Sb(this,a)}).cacheable()};Ember.computed.empty=
function(a){return Ember.computed(a,function(){var b=Sb(this,a);return b===void 0||b===null||b===""||Ember.isArray(b)&&Sb(b,"length")===0}).cacheable()};Ember.computed.bool=function(a){return Ember.computed(a,function(){return!!Sb(this,a)}).cacheable()};var Q=function(a,b,c,d){var e=S(a,false).listeners,b=e?e[b]||false:false;if(!b)return false;for(var f in b)if(!yc[f])if(e=b[f])for(var g in e)if(!yc[g]){var h=e[g];if(h&&c(h,d,a)===true)return true}return false},Ha=function(a,b,c){var d=a.method;(a=
a.target)||(a=c);"string"===typeof d&&(d=a[d]);b?d.apply(a,b):d.apply(a)},S=Ember.meta,Ia=Ember.metaPath,Ma=Ember.guidFor,yc={__ember_source__:true};Ember.addListener=function(a,b,c,d){Ember.assert("You must pass at least an object and event name to Ember.addListener",!!a&&!!b);if(!d&&"function"===typeof c){d=c;c=null}var e=Ia(a,["listeners",b,Ma(c)],true),f=Ma(d);e[f]||(e[f]={target:c,method:d});"function"===typeof a.didAddListener&&a.didAddListener(b,c,d)};Ember.removeListener=function(a,b,c,d){Ember.assert("You must pass at least an object and event name to Ember.removeListener",
!!a&&!!b);if(!d&&"function"===typeof c){d=c;c=null}var e=Ia(a,["listeners",b,Ma(c)],true),f=Ma(d);e&&e[f]&&(e[f]=null);"function"===typeof a.didRemoveListener&&a.didRemoveListener(b,c,d)};Ember._suspendListener=function(a,b,c,d,e){if(!d&&"function"===typeof c){d=c;c=null}a=Ia(a,["listeners",b,Ma(c)],true);d=Ma(d);b=a&&a[d];a[d]=null;try{return e.call(c)}finally{a[d]=b}};Ember.sendEvent=function(a,b,c){a!==Ember&&"function"===typeof a.sendEvent&&a.sendEvent(b,c);Q(a,b,Ha,c);return true};Ember.hasListeners=
function(a,b){if(Q(a,b,function(){return true}))return true;Ia(a,["listeners"],true)[b]=null;return false};Ember.watchedEvents=function(a){var a=S(a,false).listeners,b=[];if(a)for(var c in a)!yc[c]&&a[c]&&b.push(c);return b};Ember.listenersFor=function(a,b){var c=[];Q(a,b,function(a){c.push([a.target,a.method])});return c};Ember.deferEvent=function(a,b,c){var d=[];Q(a,b,function(a){d.push(a)});return function(){if(!a.isDestroyed){a!==Ember&&"function"===typeof a.sendEvent&&a.sendEvent(b,c);for(var e=
0,f=d.length;e<f;++e)Ha(d[e],c,a)}}};var ac=function(a,b,c,d){if(b===void 0){b=a;a=void 0}"string"===typeof b&&(b=a[b]);c&&d>0&&(c=c.length>d?jb.call(c,d):null);if("function"===typeof Ember.onerror)try{return b.apply(a||this,c||[])}catch(e){Ember.onerror(e)}else return b.apply(a||this,c||[])},Rc=function(){xb=null;sa.currentRunLoop&&sa.end()},zc=function(){Ub=null;var a=+new Date,b=-1,c;for(c in pa)if(pa.hasOwnProperty(c)){var d=pa[c];if(d&&d.expires)if(a>=d.expires){delete pa[c];ac(d.target,d.method,
d.args,2)}else if(b<0||d.expires<b)b=d.expires}b>0&&(Ub=setTimeout(zc,b-+new Date))},Sc=function(a,b){b[this.tguid]&&delete b[this.tguid][this.mguid];pa[a]&&ac(this.target,this.method,this.args,2);delete pa[a]},Ac=function(){mb=null;for(var a in pa)if(pa.hasOwnProperty(a)){var b=pa[a];if(b.next){delete pa[a];ac(b.target,b.method,b.args,2)}}},jb=[].slice,Tb=Ember.ArrayPolyfills.forEach,lc=function(a){this._prev=a||null;this.onceTimers={}};lc.prototype={end:function(){this.flush()},prev:function(){return this._prev},
schedule:function(a,b,c){var d=this._queues,e;if(!d)d=this._queues={};(e=d[a])||(e=d[a]=[]);d=arguments.length>3?jb.call(arguments,3):null;e.push({target:b,method:c,args:d});return this},flush:function(a){function b(a){ac(a.target,a.method,a.args)}var c,d,e,f,g;if(!this._queues)return this;Ember.watch.flushPending();if(a)for(;this._queues&&(f=this._queues[a]);){this._queues[a]=null;if(a==="sync"){(g=Ember.LOG_BINDINGS)&&Ember.Logger.log("Begin: Flush Sync Queue");Ember.beginPropertyChanges();try{Tb.call(f,
b)}finally{Ember.endPropertyChanges()}g&&Ember.Logger.log("End: Flush Sync Queue")}else Tb.call(f,b)}else{c=Ember.run.queues;e=c.length;d=0;a:for(;d<e;){a=c[d];f=this._queues&&this._queues[a];delete this._queues[a];if(f)if(a==="sync"){(g=Ember.LOG_BINDINGS)&&Ember.Logger.log("Begin: Flush Sync Queue");Ember.beginPropertyChanges();try{Tb.call(f,b)}finally{Ember.endPropertyChanges()}g&&Ember.Logger.log("End: Flush Sync Queue")}else Tb.call(f,b);for(a=0;a<=d;a++)if(this._queues&&this._queues[c[a]]){d=
a;continue a}d++}}return this}};Ember.RunLoop=lc;Ember.run=function(a,b){var c;sa.begin();try{if(a||b)c=ac(a,b,arguments,2)}finally{sa.end()}return c};var sa=Ember.run;Ember.run.begin=function(){sa.currentRunLoop=new lc(sa.currentRunLoop)};Ember.run.end=function(){Ember.assert("must have a current run loop",sa.currentRunLoop);try{sa.currentRunLoop.end()}finally{sa.currentRunLoop=sa.currentRunLoop.prev()}};Ember.run.queues=["sync","actions","destroy","timers"];Ember.run.schedule=function(a,b,c){var d=
sa.autorun();d.schedule.apply(d,arguments)};var xb;Ember.run.hasScheduledTimers=function(){return!(!xb&&!Ub&&!mb)};Ember.run.cancelTimers=function(){if(xb){clearTimeout(xb);xb=null}if(Ub){clearTimeout(Ub);Ub=null}if(mb){clearTimeout(mb);mb=null}pa={}};Ember.run.autorun=function(){if(!sa.currentRunLoop){Ember.assert("You have turned on testing mode, which disabled the run-loop's autorun. You will need to wrap any code with asynchronous side-effects in an Ember.run",!Ember.testing);sa.begin();xb||(xb=
setTimeout(Rc,1))}return sa.currentRunLoop};Ember.run.sync=function(){sa.autorun();sa.currentRunLoop.flush("sync")};var pa={},Ub;Ember.run.later=function(a,b){var c,d;if(arguments.length===2&&"function"===typeof a){d=b;b=a;a=void 0;c=[a,b]}else{c=jb.call(arguments);d=c.pop()}c={target:a,method:b,expires:+new Date+d,args:c};d=Ember.guidFor(c);pa[d]=c;sa.once(pa,zc);return d};Ember.run.once=function(a,b){var c=Ember.guidFor(a),d=Ember.guidFor(b),e=sa.autorun().onceTimers,f=e[c]&&e[c][d],g;if(f&&pa[f])pa[f].args=
jb.call(arguments);else{g={target:a,method:b,args:jb.call(arguments),tguid:c,mguid:d};f=Ember.guidFor(g);pa[f]=g;e[c]||(e[c]={});e[c][d]=f;sa.schedule("actions",g,Sc,f,e)}return f};var mb;Ember.run.next=function(a,b){var c,d={target:a,method:b,args:jb.call(arguments),next:true};c=Ember.guidFor(d);pa[c]=d;mb||(mb=setTimeout(Ac,1));return c};Ember.run.cancel=function(a){delete pa[a]};Ember.LOG_BINDINGS=!!Ember.ENV.LOG_BINDINGS;var I=Ember.get,Bc=Ember.guidFor,N=Ember.isGlobalPath,bc=function(a,b){this._direction=
"fwd";this._from=b;this._to=a;this._directionMap=Ember.Map.create()};bc.prototype={copy:function(){var a=new bc(this._to,this._from);if(this._oneWay)a._oneWay=true;return a},from:function(a){this._from=a;return this},to:function(a){this._to=a;return this},oneWay:function(){this._oneWay=true;return this},toString:function(){var a=this._oneWay?"[oneWay]":"";return"Ember.Binding<"+Bc(this)+">("+this._from+" -> "+this._to+")"+a},connect:function(a){Ember.assert("Must pass a valid object to Ember.Binding.connect()",
!!a);var b=this._from,c=this._to;Ember.trySet(a,c,I(N(b)?window:a,b));Ember.addObserver(a,b,this,this.fromDidChange);this._oneWay||Ember.addObserver(a,c,this,this.toDidChange);this._readyToSync=true;return this},disconnect:function(a){Ember.assert("Must pass a valid object to Ember.Binding.disconnect()",!!a);var b=!this._oneWay;Ember.removeObserver(a,this._from,this,this.fromDidChange);b&&Ember.removeObserver(a,this._to,this,this.toDidChange);this._readyToSync=false;return this},fromDidChange:function(a){this._scheduleSync(a,
"fwd")},toDidChange:function(a){this._scheduleSync(a,"back")},_scheduleSync:function(a,b){var c=this._directionMap,d=c.get(a);if(!d){Ember.run.schedule("sync",this,this._sync,a);c.set(a,b)}d==="back"&&b==="fwd"&&c.set(a,"fwd")},_sync:function(a){var b=Ember.LOG_BINDINGS;if(!a.isDestroyed&&this._readyToSync){var c=this._directionMap,d=c.get(a),e=this._from,f=this._to;c.remove(a);if(d==="fwd"){var g=I(N(this._from)?window:a,this._from);b&&Ember.Logger.log(" ",this.toString(),"->",g,a);this._oneWay?
Ember.trySet(a,f,g):Ember._suspendObserver(a,f,this,this.toDidChange,function(){Ember.trySet(a,f,g)})}else if(d==="back"){var h=I(a,this._to);b&&Ember.Logger.log(" ",this.toString(),"<-",h,a);Ember._suspendObserver(a,e,this,this.fromDidChange,function(){Ember.trySet(Ember.isGlobalPath(e)?window:a,e,h)})}}}};var Cc={from:function(){var a=new this;return a.from.apply(a,arguments)},to:function(){var a=new this;return a.to.apply(a,arguments)},oneWay:function(a,b){return(new this(null,a)).oneWay(b)}},
yb;for(yb in Cc)Cc.hasOwnProperty(yb)&&(bc[yb]=Cc[yb]);Ember.Binding=bc;Ember.bind=function(a,b,c){return(new Ember.Binding(b,c)).connect(a)};Ember.oneWay=function(a,b,c){return(new Ember.Binding(b,c)).oneWay().connect(a)};var cb=function(a,b){if(b&&b.length>0)a.mixins=Tc.call(b,function(a){if(a instanceof Ea)return a;var b=new Ea;b.properties=a;return b});return a},zd=function(a,b,c,d,e){function f(a){delete c[a];delete d[a]}var g=a.length,h,j,k,l,m,r;for(h=0;h<g;h++){j=a[h];Ember.assert("Expected hash or Mixin instance, got "+
Object.prototype.toString.call(j),typeof j==="object"&&j!==null&&Object.prototype.toString.call(j)!=="[object Array]");if(j instanceof Ea){k=Hb(j);if(b[k])continue;b[k]=j;k=j.properties}else k=j;if(k){r=d.concatenatedProperties||e.concatenatedProperties;k.concatenatedProperties&&(r=r?r.concat(k.concatenatedProperties):k.concatenatedProperties);for(l in k)if(k.hasOwnProperty(l)){j=k[l];if(j instanceof Ember.Descriptor){if(!(j===Kb&&c[l])){c[l]=j;d[l]=void 0}}else{if("function"===typeof j&&j.isMethod!==
false&&j!==Boolean&&j!==Object&&j!==Number&&j!==Array&&j!==Date&&j!==String){(m=c[l]===void 0&&d[l])||(m=e[l]);"function"!==typeof m&&(m=null);if(m){var x=j.__ember_observes__,o=j.__ember_observesBefore__;j=Ember.wrap(j,m);j.__ember_observes__=x;j.__ember_observesBefore__=o}}else if(r&&ee.call(r,l)>=0||l==="concatenatedProperties")j=(m=d[l]||e[l])?m.concat(j):Ember.makeArray(j);c[l]=void 0;d[l]=j}}if(k.hasOwnProperty("toString"))e.toString=k.toString}else if(j.mixins){zd(j.mixins,b,c,d,e);j._without&&
Mb.call(j._without,f)}}},cc=function(a){var b=Ember.meta(a),c=b.required;if(!c||c.__emberproto__!==a){c=b.required=c?Fc(c):{__ember_count__:0};c.__emberproto__=a}return c},Wb=function(a,b){var c=b||Ember.meta(a),d=c.bindings,e,f,g;if(d){for(e in d)if(f=e!=="__emberproto__"&&d[e]){g=e.slice(0,-7);if(f instanceof Ember.Binding){f=f.copy();f.to(g)}else f=new Ember.Binding(g,f);f.connect(a);a[e]=f}c.bindings={__emberproto__:a}}return a},zb=function(a,b,c){var d={},e={},f=Ember.meta(a),g=f.required,h,
j,k,l,m;j=zd;l=Ember.meta(a,true);if(k=l.mixins){if(k.__emberproto__!==a){k=l.mixins=Fc(k);k.__emberproto__=a}}else k=l.mixins={__emberproto__:a};j(b,k,d,e,a);for(h in e)if(h!=="contructor"&&e.hasOwnProperty(h)){j=d[h];b=e[h];if(j===Kb){if(!(h in a)){Ember.assert("Required property not defined: "+h,!!c);g=cc(a);g.__ember_count__++;g[h]=true}}else{for(;j&&j instanceof Lb;){l=j.methodName;if(d[l]||e[l]){b=e[l];j=d[l]}else if(f.descs[l]){j=f.descs[l];b=void 0}else{j=void 0;b=a[l]}}if(!(j===void 0&&b===
void 0)){k=a[h];if("function"===typeof k)if(l=k.__ember_observesBefore__){k=l.length;for(m=0;m<k;m++)Ember.removeBeforeObserver(a,l[m],null,h)}else if(l=k.__ember_observes__){k=l.length;for(m=0;m<k;m++)Ember.removeObserver(a,l[m],null,h)}l=a;k=h;m=b;var r=f;if(Bd.test(k)){var x=r.bindings;if(x){if(x.__emberproto__!==l){x=r.bindings=Fc(r.bindings);x.__emberproto__=l}}else x=r.bindings={__emberproto__:l};x[k]=m}Ad(a,h,j,b,f);if("function"===typeof b)if(l=b.__ember_observesBefore__){k=l.length;for(m=
0;m<k;m++)Ember.addBeforeObserver(a,l[m],null,h)}else if(l=b.__ember_observes__){k=l.length;for(m=0;m<k;m++)Ember.addObserver(a,l[m],null,h)}if(g&&g[h]){g=cc(a);g.__ember_count__--;g[h]=false}}}}c||Wb(a,f);if(!c&&g&&g.__ember_count__>0){c=[];for(h in g)Uc[h]||c.push(h);Ember.assert("Required properties not defined: "+c.join(","))}return a},Dc=function(a,b,c){var d=Hb(a);if(c[d])return false;c[d]=true;if(a===b)return true;for(d=(a=a.mixins)?a.length:0;--d>=0;)if(Dc(a[d],b,c))return true;return false},
dc=function(a,b,c){if(!c[Hb(b)]){c[Hb(b)]=true;if(b.properties){var b=b.properties,d;for(d in b)b.hasOwnProperty(d)&&(a[d]=true)}else b.mixins&&Mb.call(b.mixins,function(b){dc(a,b,c)})}},Ab=function(a,b,c){var d=a.length,e;for(e in b)if(b.hasOwnProperty&&b.hasOwnProperty(e)){var f=b[e];a[d]=e;if(f&&f.toString===tb)f[Nb]=a.join(".");else if(f&&uc(f,"isNamespace")&&!c[Hb(f)]){c[Hb(f)]=true;Ab(a,f,c)}}a.length=d},mc=function(){var a,b;if(!Ember.Namespace.PROCESSED)for(var c in window)if(!(c==="globalStorage"&&
window.StorageList&&window.globalStorage instanceof window.StorageList)&&(!window.hasOwnProperty||window.hasOwnProperty(c))){try{b=(a=window[c])&&uc(a,"isNamespace")}catch(d){continue}if(b){Ember.deprecate("Namespaces should not begin with lowercase.",/^[A-Z]/.test(c));a[Nb]=c}}},Ea,Kb,Lb,tb,Ec,Tc=Ember.ArrayPolyfills.map,ee=Ember.ArrayPolyfills.indexOf,Mb=Ember.ArrayPolyfills.forEach,Vb=[].slice,Uc={__emberproto__:true,__ember_count__:true},Fc=Ember.create,Ad=Ember.defineProperty,Hb=Ember.guidFor,
Bd=Ember.IS_BINDING=/^.+Binding$/;Ember.mixin=function(a){var b=Vb.call(arguments,1);zb(a,b,false);return a};Ember.Mixin=function(){return cb(this,arguments)};Ea=Ember.Mixin;Ea._apply=zb;Ea.applyPartial=function(a){var b=Vb.call(arguments,1);return zb(a,b,true)};Ea.finishPartial=Wb;Ea.create=function(){tb.processed=false;return cb(new this,arguments)};var Bb=Ea.prototype;Bb.reopen=function(){var a,b;if(this.properties){a=Ea.create();a.properties=this.properties;delete this.properties;this.mixins=
[a]}else if(!this.mixins)this.mixins=[];var c=arguments.length,d=this.mixins,e;for(e=0;e<c;e++){a=arguments[e];Ember.assert("Expected hash or Mixin instance, got "+Object.prototype.toString.call(a),typeof a==="object"&&a!==null&&Object.prototype.toString.call(a)!=="[object Array]");if(a instanceof Ea)d.push(a);else{b=Ea.create();b.properties=a;d.push(b)}}return this};Bb.apply=function(a){return zb(a,[this],false)};Bb.applyPartial=function(a){return zb(a,[this],true)};Bb.detect=function(a){if(!a)return false;
if(a instanceof Ea)return Dc(a,this,{});return(a=Ember.meta(a,false).mixins)?!!a[Hb(this)]:false};Bb.without=function(){var a=new Ea(this);a._without=Vb.call(arguments);return a};Bb.keys=function(){var a={},b=[];dc(a,this,{});for(var c in a)a.hasOwnProperty(c)&&b.push(c);return b};var Nb=Ember.GUID_KEY+"_name",uc=Ember.get;Ember.identifyNamespaces=mc;Ec=function(a){if(a=a.superclass)return a[Nb]?a[Nb]:Ec(a)};tb=function(){var a=Ember.Namespace;if(a&&!this[Nb]&&!tb.processed){if(!a.PROCESSED){mc();
a.PROCESSED=true}tb.processed=true;for(var b=a.NAMESPACES,c=0,d=b.length;c<d;c++){a=b[c];Ab([a.toString()],a,{})}}if(this[Nb])return this[Nb];return(a=Ec(this))?"(subclass of "+a+")":"(unknown mixin)"};Bb.toString=tb;Ea.mixins=function(a){var b=[],a=Ember.meta(a,false).mixins,c,d;if(a)for(c in a)if(!Uc[c]){d=a[c];d.properties||b.push(a[c])}return b};Kb=new Ember.Descriptor;Kb.toString=function(){return"(Required Property)"};Ember.required=function(){return Kb};Lb=function(a){this.methodName=a};Lb.prototype=
new Ember.Descriptor;Ember.alias=function(a){return new Lb(a)};Ember.observer=function(a){var b=Vb.call(arguments,1);a.__ember_observes__=b;return a};Ember.immediateObserver=function(){for(var a=0,b=arguments.length;a<b;a++){var c=arguments[a];Ember.assert("Immediate observers must observe internal properties only, not properties on other objects.",typeof c!=="string"||c.indexOf(".")===-1)}return Ember.observer.apply(this,arguments)};Ember.beforeObserver=function(a){var b=Vb.call(arguments,1);a.__ember_observesBefore__=
b;return a};var Gc=function(a,b,c,d){var e,f,g;if("object"!==typeof a||a===null)return a;if(b&&(f=Hc(c,a))>=0)return d[f];Ember.assert("Cannot clone an Ember.Object that does not implement Ember.Copyable",!(a instanceof Ember.Object)||Ember.Copyable&&Ember.Copyable.detect(a));if(Ember.typeOf(a)==="array"){e=a.slice();if(b)for(f=e.length;--f>=0;)e[f]=Gc(e[f],b,c,d)}else if(Ember.Copyable&&Ember.Copyable.detect(a))e=a.copy(b,c,d);else{e={};for(g in a)a.hasOwnProperty(g)&&(e[g]=b?Gc(a[g],b,c,d):a[g])}if(b){c.push(a);
d.push(e)}return e},Hc=Ember.EnumerableUtils.indexOf,Ic={};Ember.ArrayPolyfills.forEach.call(["Boolean","Number","String","Function","Array","Date","RegExp","Object"],function(a){Ic["[object "+a+"]"]=a.toLowerCase()});var Vc=Object.prototype.toString;Ember.typeOf=function(a){var b;b=a===null||a===void 0?String(a):Ic[Vc.call(a)]||"object";b==="function"?Ember.Object&&Ember.Object.detect(a)&&(b="class"):b==="object"&&(b=a instanceof Error?"error":Ember.Object&&a instanceof Ember.Object?"instance":"object");
return b};Ember.none=function(a){return a===null||a===void 0};Ember.empty=function(a){return a===null||a===void 0||a.length===0&&typeof a!=="function"};Ember.compare=function t(a,b){if(a===b)return 0;var c=Ember.typeOf(a),d=Ember.typeOf(b),e=Ember.Comparable;if(e){if(c==="instance"&&e.detect(a.constructor))return a.constructor.compare(a,b);if(d==="instance"&&e.detect(b.constructor))return 1-b.constructor.compare(b,a)}e=Ember.ORDER_DEFINITION_MAPPING;if(!e){var f=Ember.ORDER_DEFINITION,e=Ember.ORDER_DEFINITION_MAPPING=
{},g,h;g=0;for(h=f.length;g<h;++g)e[f[g]]=g;delete Ember.ORDER_DEFINITION}f=e[c];d=e[d];if(f<d)return-1;if(f>d)return 1;switch(c){case "boolean":case "number":return a<b?-1:a>b?1:0;case "string":c=a.localeCompare(b);return c<0?-1:c>0?1:0;case "array":c=a.length;d=b.length;e=Math.min(c,d);for(g=f=0;f===0&&g<e;){f=t(a[g],b[g]);g++}return f!==0?f:c<d?-1:c>d?1:0;case "instance":return Ember.Comparable&&Ember.Comparable.detect(a)?a.compare(a,b):0;case "date":c=a.getTime();d=b.getTime();return c<d?-1:c>
d?1:0;default:return 0}};Ember.copy=function(a,b){return"object"!==typeof a||a===null?a:Ember.Copyable&&Ember.Copyable.detect(a)?a.copy(b):Gc(a,b,b?[]:null,b?[]:null)};Ember.inspect=function(a){var b,c=[],d;for(d in a)if(a.hasOwnProperty(d)){b=a[d];if(b!=="toString"){Ember.typeOf(b)==="function"&&(b="function() { ... }");c.push(d+": "+b)}}return"{"+c.join(" , ")+"}"};Ember.isEqual=function(a,b){return a&&"function"===typeof a.isEqual?a.isEqual(b):a===b};Ember.ORDER_DEFINITION=Ember.ENV.ORDER_DEFINITION||
["undefined","null","boolean","number","string","array","object","instance","function","class","date"];Ember.keys=Object.keys;if(!Ember.keys)Ember.keys=function(a){var b=[],c;for(c in a)a.hasOwnProperty(c)&&b.push(c);return b};Ember.Error=function(){var a=Error.prototype.constructor.apply(this,arguments),b;for(b in a)a.hasOwnProperty(b)&&(this[b]=a[b]);this.message=a.message};Ember.Error.prototype=Ember.create(Error.prototype);var Cd=/[ _]/g,Wc={},Dd=/([a-z])([A-Z])/g,Ed=/(\-|_|\s)+(.)?/g,Xc=/([a-z\d])([A-Z]+)/g,
Yc=/\-|\s+/g;Ember.STRINGS={};Ember.String={fmt:function(a,b){var c=0;return a.replace(/%@([0-9]+)?/g,function(a,d){d=d?parseInt(d,0)-1:c++;a=b[d];return(a===null?"(null)":a===void 0?"":a).toString()})},loc:function(a,b){a=Ember.STRINGS[a]||a;return Ember.String.fmt(a,b)},w:function(a){return a.split(/\s+/)},decamelize:function(a){return a.replace(Dd,"$1_$2").toLowerCase()},dasherize:function(a){var b=Wc[a];if(!b){b=Ember.String.decamelize(a).replace(Cd,"-");Wc[a]=b}return b},camelize:function(a){return a.replace(Ed,
function(a,b,c){return c?c.toUpperCase():""})},classify:function(a){a=Ember.String.camelize(a);return a.charAt(0).toUpperCase()+a.substr(1)},underscore:function(a){return a.replace(Xc,"$1_$2").replace(Yc,"_").toLowerCase()}};var Zc=Ember.String.fmt,Fd=Ember.String.w,Za=Ember.String.loc,Jc=Ember.String.camelize,Kc=Ember.String.decamelize,Gd=Ember.String.dasherize,Hd=Ember.String.underscore;if(Ember.EXTEND_PROTOTYPES){String.prototype.fmt=function(){return Zc(this,arguments)};String.prototype.w=function(){return Fd(this)};
String.prototype.loc=function(){return Za(this,arguments)};String.prototype.camelize=function(){return Jc(this)};String.prototype.decamelize=function(){return Kc(this)};String.prototype.dasherize=function(){return Gd(this)};String.prototype.underscore=function(){return Hd(this)}}var $c=Array.prototype.slice;if(Ember.EXTEND_PROTOTYPES){Function.prototype.property=function(){var a=Ember.computed(this);return a.property.apply(a,arguments)};Function.prototype.observes=function(){this.__ember_observes__=
$c.call(arguments);return this};Function.prototype.observesBefore=function(){this.__ember_observesBefore__=$c.call(arguments);return this}}var Pb=function(){return pc.length===0?{}:pc.pop()},nc=function(a){pc.push(a);return null},oc=function(a,b){var c=arguments.length===2;return function(d){d=db(d,a);return c?b===d:!!d}},db=Ember.get,Ib=Ember.set,Ob=Array.prototype.slice,ad=Ember.EnumerableUtils.indexOf,pc=[];Ember.Enumerable=Ember.Mixin.create({isEnumerable:true,nextObject:Ember.required(Function),
firstObject:Ember.computed(function(){if(db(this,"length")!==0){var a=Pb(),b;b=this.nextObject(0,null,a);nc(a);return b}}).property("[]").cacheable(),lastObject:Ember.computed(function(){if(db(this,"length")!==0){var a=Pb(),b=0,c,d=null;do{d=c;c=this.nextObject(b++,d,a)}while(c!==void 0);nc(a);return d}}).property("[]").cacheable(),contains:function(a){return this.find(function(b){return b===a})!==void 0},forEach:function(a,b){if(typeof a!=="function")throw new TypeError;var c=db(this,"length"),d=
null,e=Pb();b===void 0&&(b=null);for(var f=0;f<c;f++){d=this.nextObject(f,d,e);a.call(b,d,f,this)}nc(e);return this},getEach:function(a){return this.mapProperty(a)},setEach:function(a,b){return this.forEach(function(c){Ib(c,a,b)})},map:function(a,b){var c=[];this.forEach(function(d,e,f){c[e]=a.call(b,d,e,f)});return c},mapProperty:function(a){return this.map(function(b){return db(b,a)})},filter:function(a,b){var c=[];this.forEach(function(d,e,f){a.call(b,d,e,f)&&c.push(d)});return c},filterProperty:function(a,
b){return this.filter(oc.apply(this,arguments))},find:function(a,b){var c=db(this,"length");b===void 0&&(b=null);for(var d=null,e=false,f,g=Pb(),h=0;h<c&&!e;h++){d=this.nextObject(h,d,g);if(e=a.call(b,d,h,this))f=d}nc(g);return f},findProperty:function(a,b){return this.find(oc.apply(this,arguments))},every:function(a,b){return!this.find(function(c,d,e){return!a.call(b,c,d,e)})},everyProperty:function(a,b){return this.every(oc.apply(this,arguments))},some:function(a,b){return!!this.find(function(c,
d,e){return!!a.call(b,c,d,e)})},someProperty:function(a,b){return this.some(oc.apply(this,arguments))},reduce:function(a,b,c){if(typeof a!=="function")throw new TypeError;var d=b;this.forEach(function(b,e){d=a.call(null,d,b,e,this,c)},this);return d},invoke:function(a){var b,c=[];arguments.length>1&&(b=Ob.call(arguments,1));this.forEach(function(d,e){var f=d&&d[a];"function"===typeof f&&(c[e]=b?f.apply(d,b):f.call(d))},this);return c},toArray:function(){var a=[];this.forEach(function(b,c){a[c]=b});
return a},compact:function(){return this.without(null)},without:function(a){if(!this.contains(a))return this;var b=[];this.forEach(function(c){c!==a&&(b[b.length]=c)});return b},uniq:function(){var a=[];this.forEach(function(b){ad(a,b)<0&&a.push(b)});return a},"[]":Ember.computed(function(){return this}).property().cacheable(),addEnumerableObserver:function(a,b){var c=b&&b.willChange||"enumerableWillChange",d=b&&b.didChange||"enumerableDidChange",e=db(this,"hasEnumerableObservers");e||Ember.propertyWillChange(this,
"hasEnumerableObservers");Ember.addListener(this,"@enumerable:before",a,c);Ember.addListener(this,"@enumerable:change",a,d);e||Ember.propertyDidChange(this,"hasEnumerableObservers");return this},removeEnumerableObserver:function(a,b){var c=b&&b.willChange||"enumerableWillChange",d=b&&b.didChange||"enumerableDidChange",e=db(this,"hasEnumerableObservers");e&&Ember.propertyWillChange(this,"hasEnumerableObservers");Ember.removeListener(this,"@enumerable:before",a,c);Ember.removeListener(this,"@enumerable:change",
a,d);e&&Ember.propertyDidChange(this,"hasEnumerableObservers");return this},hasEnumerableObservers:Ember.computed(function(){return Ember.hasListeners(this,"@enumerable:change")||Ember.hasListeners(this,"@enumerable:before")}).property().cacheable(),enumerableContentWillChange:function(a,b){var c,d;c="number"===typeof a?a:a?db(a,"length"):a=-1;d="number"===typeof b?b:b?db(b,"length"):b=-1;c=d<0||c<0||d-c!==0;a===-1&&(a=null);b===-1&&(b=null);Ember.propertyWillChange(this,"[]");c&&Ember.propertyWillChange(this,
"length");Ember.sendEvent(this,"@enumerable:before",[this,a,b]);return this},enumerableContentDidChange:function(a,b){var c,d;c="number"===typeof a?a:a?db(a,"length"):a=-1;d="number"===typeof b?b:b?db(b,"length"):b=-1;c=d<0||c<0||d-c!==0;a===-1&&(a=null);b===-1&&(b=null);Ember.sendEvent(this,"@enumerable:change",[this,a,b]);c&&Ember.propertyDidChange(this,"length");Ember.propertyDidChange(this,"[]");return this}});var $a=Ember.get,xd=Ember.EnumerableUtils.map,Lc=Ember.cacheFor;Ember.Array=Ember.Mixin.create(Ember.Enumerable,
{isSCArray:true,length:Ember.required(),objectAt:function(a){return a<0||a>=$a(this,"length")?void 0:$a(this,a)},objectsAt:function(a){var b=this;return xd(a,function(a){return b.objectAt(a)})},nextObject:function(a){return this.objectAt(a)},"[]":Ember.computed(function(a,b){b!==void 0&&this.replace(0,$a(this,"length"),b);return this}).property().cacheable(),firstObject:Ember.computed(function(){return this.objectAt(0)}).property().cacheable(),lastObject:Ember.computed(function(){return this.objectAt($a(this,
"length")-1)}).property().cacheable(),contains:function(a){return this.indexOf(a)>=0},slice:function(a,b){var c=[],d=$a(this,"length");if(a===null||a===void 0)a=0;if(b===null||b===void 0||b>d)b=d;for(;a<b;)c[c.length]=this.objectAt(a++);return c},indexOf:function(a,b){var c,d=$a(this,"length");b===void 0&&(b=0);b<0&&(b=b+d);for(c=b;c<d;c++)if(this.objectAt(c,true)===a)return c;return-1},lastIndexOf:function(a,b){var c;c=$a(this,"length");if(b===void 0||b>=c)b=c-1;b<0&&(b=b+c);for(c=b;c>=0;c--)if(this.objectAt(c)===
a)return c;return-1},addArrayObserver:function(a,b){var c=b&&b.willChange||"arrayWillChange",d=b&&b.didChange||"arrayDidChange",e=$a(this,"hasArrayObservers");e||Ember.propertyWillChange(this,"hasArrayObservers");Ember.addListener(this,"@array:before",a,c);Ember.addListener(this,"@array:change",a,d);e||Ember.propertyDidChange(this,"hasArrayObservers");return this},removeArrayObserver:function(a,b){var c=b&&b.willChange||"arrayWillChange",d=b&&b.didChange||"arrayDidChange",e=$a(this,"hasArrayObservers");
e&&Ember.propertyWillChange(this,"hasArrayObservers");Ember.removeListener(this,"@array:before",a,c);Ember.removeListener(this,"@array:change",a,d);e&&Ember.propertyDidChange(this,"hasArrayObservers");return this},hasArrayObservers:Ember.computed(function(){return Ember.hasListeners(this,"@array:change")||Ember.hasListeners(this,"@array:before")}).property().cacheable(),arrayContentWillChange:function(a,b,c){if(a===void 0){a=0;b=c=-1}else{b===void 0&&(b=-1);c===void 0&&(c=-1)}Ember.isWatching(this,
"@each")&&$a(this,"@each");Ember.sendEvent(this,"@array:before",[this,a,b,c]);var d;if(a>=0&&b>=0&&$a(this,"hasEnumerableObservers")){d=[];for(b=a+b;a<b;a++)d.push(this.objectAt(a))}else d=b;this.enumerableContentWillChange(d,c);return this},arrayContentDidChange:function(a,b,c){if(a===void 0){a=0;b=c=-1}else{b===void 0&&(b=-1);c===void 0&&(c=-1)}var d,e;if(a>=0&&c>=0&&$a(this,"hasEnumerableObservers")){d=[];e=a+c;for(var f=a;f<e;f++)d.push(this.objectAt(f))}else d=c;this.enumerableContentDidChange(b,
d);Ember.sendEvent(this,"@array:change",[this,a,b,c]);a=$a(this,"length");b=Lc(this,"firstObject");c=Lc(this,"lastObject");if(this.objectAt(0)!==b){Ember.propertyWillChange(this,"firstObject");Ember.propertyDidChange(this,"firstObject")}if(this.objectAt(a-1)!==c){Ember.propertyWillChange(this,"lastObject");Ember.propertyDidChange(this,"lastObject")}return this},"@each":Ember.computed(function(){if(!this.__each)this.__each=new Ember.EachProxy(this);return this.__each}).property().cacheable()});Ember.Comparable=
Ember.Mixin.create({isComparable:true,compare:Ember.required(Function)});var Id=Ember.get;Ember.Copyable=Ember.Mixin.create({copy:Ember.required(Function),frozenCopy:function(){if(Ember.Freezable&&Ember.Freezable.detect(this))return Id(this,"isFrozen")?this:this.copy().freeze();throw Error(Ember.String.fmt("%@ does not support freezing",[this]));}});var Jd=Ember.get,Kd=Ember.set;Ember.Freezable=Ember.Mixin.create({isFrozen:false,freeze:function(){if(Jd(this,"isFrozen"))return this;Kd(this,"isFrozen",
true);return this}});Ember.FROZEN_ERROR="Frozen object cannot be modified.";var bd=Ember.EnumerableUtils.forEach;Ember.MutableEnumerable=Ember.Mixin.create(Ember.Enumerable,{addObject:Ember.required(Function),addObjects:function(a){Ember.beginPropertyChanges(this);bd(a,function(a){this.addObject(a)},this);Ember.endPropertyChanges(this);return this},removeObject:Ember.required(Function),removeObjects:function(a){Ember.beginPropertyChanges(this);bd(a,function(a){this.removeObject(a)},this);Ember.endPropertyChanges(this);
return this}});var cd=[],nb=Ember.get;Ember.MutableArray=Ember.Mixin.create(Ember.Array,Ember.MutableEnumerable,{replace:Ember.required(),clear:function(){var a=nb(this,"length");if(a===0)return this;this.replace(0,a,cd);return this},insertAt:function(a,b){if(a>nb(this,"length"))throw Error("Index out of range");this.replace(a,0,[b]);return this},removeAt:function(a,b){if("number"===typeof a){if(a<0||a>=nb(this,"length"))throw Error("Index out of range");b===void 0&&(b=1);this.replace(a,b,cd)}return this},
pushObject:function(a){this.insertAt(nb(this,"length"),a);return a},pushObjects:function(a){this.replace(nb(this,"length"),0,a);return this},popObject:function(){var a=nb(this,"length");if(a===0)return null;var b=this.objectAt(a-1);this.removeAt(a-1,1);return b},shiftObject:function(){if(nb(this,"length")===0)return null;var a=this.objectAt(0);this.removeAt(0);return a},unshiftObject:function(a){this.insertAt(0,a);return a},unshiftObjects:function(a){this.replace(0,0,a);return this},reverseObjects:function(){var a=
nb(this,"length");if(a===0)return this;var b=this.toArray().reverse();this.replace(0,a,b);return this},removeObject:function(a){for(var b=nb(this,"length")||0;--b>=0;)this.objectAt(b)===a&&this.removeAt(b);return this},addObject:function(a){this.contains(a)||this.pushObject(a);return this}});var Cb=Ember.get,ec=Ember.set,Pc=Ember.defineProperty;Ember.Observable=Ember.Mixin.create({isObserverable:true,get:function(a){return Cb(this,a)},getProperties:function(){var a={},b=arguments;arguments.length===
1&&Ember.typeOf(arguments[0])==="array"&&(b=arguments[0]);for(var c=0;c<b.length;c++)a[b[c]]=Cb(this,b[c]);return a},set:function(a,b){ec(this,a,b);return this},setProperties:function(a){return Ember.setProperties(this,a)},beginPropertyChanges:function(){Ember.beginPropertyChanges();return this},endPropertyChanges:function(){Ember.endPropertyChanges();return this},propertyWillChange:function(a){Ember.propertyWillChange(this,a);return this},propertyDidChange:function(a){Ember.propertyDidChange(this,
a);return this},notifyPropertyChange:function(a){this.propertyWillChange(a);this.propertyDidChange(a);return this},addBeforeObserver:function(a,b,c){Ember.addBeforeObserver(this,a,b,c)},addObserver:function(a,b,c){Ember.addObserver(this,a,b,c)},removeObserver:function(a,b,c){Ember.removeObserver(this,a,b,c)},hasObserverFor:function(a){return Ember.hasListeners(this,a+":change")},unknownProperty:function(){},setUnknownProperty:function(a,b){Pc(this,a);ec(this,a,b)},getPath:function(a){Ember.deprecate("getPath is deprecated since get now supports paths");
return this.get(a)},setPath:function(a,b){Ember.deprecate("setPath is deprecated since set now supports paths");return this.set(a,b)},getWithDefault:function(a,b){return Ember.getWithDefault(this,a,b)},incrementProperty:function(a,b){b||(b=1);ec(this,a,(Cb(this,a)||0)+b);return Cb(this,a)},decrementProperty:function(a,b){b||(b=1);ec(this,a,(Cb(this,a)||0)-b);return Cb(this,a)},toggleProperty:function(a){ec(this,a,!Cb(this,a));return Cb(this,a)},cacheFor:function(a){return Ember.cacheFor(this,a)},
observersForKey:function(a){return Ember.observersFor(this,a)}});var fc=Ember.get;Ember.TargetActionSupport=Ember.Mixin.create({target:null,action:null,targetObject:Ember.computed(function(){var a=fc(this,"target");if(Ember.typeOf(a)==="string"){var b=fc(this,a);b===void 0&&(b=fc(window,a));return b}return a}).property("target").cacheable(),triggerAction:function(){var a=fc(this,"action"),b=fc(this,"targetObject");if(b&&a){if(typeof b.send==="function")a=b.send(a,this);else{typeof a==="string"&&(a=
b[a]);a=a.call(b,this)}a!==false&&(a=true);return a}return false}});Ember.Evented=Ember.Mixin.create({on:function(a,b,c){Ember.addListener(this,a,b,c)},one:function(a,b,c){if(!c){c=b;b=null}var d=this,e=function(){Ember.removeListener(d,a,b,e);"string"===typeof c&&(c=this[c]);c.apply(this,arguments)};this.on(a,b,e)},trigger:function(a){var b=[],c,d;c=1;for(d=arguments.length;c<d;c++)b.push(arguments[c]);Ember.sendEvent(this,a,b)},fire:function(a){Ember.deprecate("Ember.Evented#fire() has been deprecated in favor of trigger() for compatibility with jQuery. It will be removed in 1.0. Please update your code to call trigger() instead.");
this.trigger.apply(this,arguments)},off:function(a,b,c){Ember.removeListener(this,a,b,c)},has:function(a){return Ember.hasListeners(this,a)}});var Mc=function(){var a=false,b,c=function(){a||c.proto();var d=Ember.meta(this);d.proto=this;if(b){this.reopen.apply(this,b);b=null}Db(this,Ember.GUID_KEY,rc);Db(this,"_super",rc);Od(this,d);delete d.proto;fe(this);this.init.apply(this,arguments)};c.toString=dd;c.willReopen=function(){if(a)c.PrototypeMixin=Ember.Mixin.create(c.PrototypeMixin);a=false};c._initMixins=
function(a){b=a};c.proto=function(){var b=c.superclass;b&&b.proto();if(!a){a=true;c.PrototypeMixin.applyPartial(c.prototype);fd(c.prototype)}return this.prototype};return c},dd=Ember.Mixin.prototype.toString,vc=Ember.set,ed=Ember.create,Db=Ember.platform.defineProperty,ub=Ember.meta,fd=Ember.rewatch,fe=Ember.finishChains,Od=Ember.Mixin.finishPartial,Xb=Ember.Mixin.prototype.reopen,rc={configurable:true,writable:true,enumerable:false,value:void 0},Yb=Mc();Yb.PrototypeMixin=Ember.Mixin.create({reopen:function(){Ember.Mixin._apply(this,
arguments,true);return this},isInstance:true,init:function(){},isDestroyed:false,isDestroying:false,destroy:function(){if(!this.isDestroying){this.isDestroying=true;this.willDestroy&&this.willDestroy();vc(this,"isDestroyed",true);Ember.run.schedule("destroy",this,this._scheduledDestroy);return this}},_scheduledDestroy:function(){Ember.destroy(this);this.didDestroy&&this.didDestroy()},bind:function(a,b){b instanceof Ember.Binding||(b=Ember.Binding.from(b));b.to(a).connect(this);return b},toString:function(){return"<"+
this.constructor.toString()+":"+Ember.guidFor(this)+">"}});Ember.config.overridePrototypeMixin&&Ember.config.overridePrototypeMixin(Yb.PrototypeMixin);Yb.__super__=null;var Fb=Ember.Mixin.create({ClassMixin:Ember.required(),PrototypeMixin:Ember.required(),isClass:true,isMethod:false,extend:function(){var a=Mc(),b;a.ClassMixin=Ember.Mixin.create(this.ClassMixin);a.PrototypeMixin=Ember.Mixin.create(this.PrototypeMixin);a.ClassMixin.ownerConstructor=a;a.PrototypeMixin.ownerConstructor=a;Xb.apply(a.PrototypeMixin,
arguments);a.superclass=this;a.__super__=this.prototype;b=a.prototype=ed(this.prototype);b.constructor=a;Ember.generateGuid(b,"ember");ub(b).proto=b;a.ClassMixin.apply(a);return a},create:function(){arguments.length>0&&this._initMixins(arguments);return new this},reopen:function(){this.willReopen();Xb.apply(this.PrototypeMixin,arguments);return this},reopenClass:function(){Xb.apply(this.ClassMixin,arguments);Ember.Mixin._apply(this,arguments,false);return this},detect:function(a){if("function"!==
typeof a)return false;for(;a;){if(a===this)return true;a=a.superclass}return false},detectInstance:function(a){return a instanceof this},metaForProperty:function(a){var b=ub(this.proto(),false).descs[a];Ember.assert("metaForProperty() could not find a computed property with key '"+a+"'.",!!b&&b instanceof Ember.ComputedProperty);return b._meta||{}},eachComputedProperty:function(a,b){var c=this.proto(),c=ub(c).descs,d={},e,f;for(f in c){e=c[f];e instanceof Ember.ComputedProperty&&a.call(b||this,f,
e._meta||d)}}});Ember.config.overrideClassMixin&&Ember.config.overrideClassMixin(Fb);Yb.ClassMixin=Fb;Fb.apply(Yb);Ember.CoreObject=Yb;var eb=Ember.get,Rb=Ember.set,Na=Ember.guidFor,Jb=Ember.none;Ember.Set=Ember.CoreObject.extend(Ember.MutableEnumerable,Ember.Copyable,Ember.Freezable,{length:0,clear:function(){if(this.isFrozen)throw Error(Ember.FROZEN_ERROR);var a=eb(this,"length");if(a===0)return this;var b;this.enumerableContentWillChange(a,0);Ember.propertyWillChange(this,"firstObject");Ember.propertyWillChange(this,
"lastObject");for(var c=0;c<a;c++){b=Na(this[c]);delete this[b];delete this[c]}Rb(this,"length",0);Ember.propertyDidChange(this,"firstObject");Ember.propertyDidChange(this,"lastObject");this.enumerableContentDidChange(a,0);return this},isEqual:function(a){if(!Ember.Enumerable.detect(a))return false;var b=eb(this,"length");if(eb(a,"length")!==b)return false;for(;--b>=0;)if(!a.contains(this[b]))return false;return true},add:Ember.alias("addObject"),remove:Ember.alias("removeObject"),pop:function(){if(eb(this,
"isFrozen"))throw Error(Ember.FROZEN_ERROR);var a=this.length>0?this[this.length-1]:null;this.remove(a);return a},push:Ember.alias("addObject"),shift:Ember.alias("pop"),unshift:Ember.alias("push"),addEach:Ember.alias("addObjects"),removeEach:Ember.alias("removeObjects"),init:function(a){this._super();a&&this.addObjects(a)},nextObject:function(a){return this[a]},firstObject:Ember.computed(function(){return this.length>0?this[0]:void 0}).property().cacheable(),lastObject:Ember.computed(function(){return this.length>
0?this[this.length-1]:void 0}).property().cacheable(),addObject:function(a){if(eb(this,"isFrozen"))throw Error(Ember.FROZEN_ERROR);if(Jb(a))return this;var b=Na(a),c=this[b],d=eb(this,"length");if(c>=0&&c<d&&this[c]===a)return this;c=[a];this.enumerableContentWillChange(null,c);Ember.propertyWillChange(this,"lastObject");d=eb(this,"length");this[b]=d;this[d]=a;Rb(this,"length",d+1);Ember.propertyDidChange(this,"lastObject");this.enumerableContentDidChange(null,c);return this},removeObject:function(a){if(eb(this,
"isFrozen"))throw Error(Ember.FROZEN_ERROR);if(Jb(a))return this;var b=Na(a),c=this[b],d=eb(this,"length"),e=c===0,f=c===d-1,g;if(c>=0&&c<d&&this[c]===a){g=[a];this.enumerableContentWillChange(g,null);e&&Ember.propertyWillChange(this,"firstObject");f&&Ember.propertyWillChange(this,"lastObject");if(c<d-1){a=this[d-1];this[c]=a;this[Na(a)]=c}delete this[b];delete this[d-1];Rb(this,"length",d-1);e&&Ember.propertyDidChange(this,"firstObject");f&&Ember.propertyDidChange(this,"lastObject");this.enumerableContentDidChange(g,
null)}return this},contains:function(a){return this[Na(a)]>=0},copy:function(){var a=new this.constructor,b=eb(this,"length");for(Rb(a,"length",b);--b>=0;){a[b]=this[b];a[Na(this[b])]=b}return a},toString:function(){var a=this.length,b,c=[];for(b=0;b<a;b++)c[b]=this[b];return"Ember.Set<%@>".fmt(c.join(","))}});Ember.Object=Ember.CoreObject.extend(Ember.Observable);var Pd=Ember.ArrayPolyfills.indexOf;Ember.Namespace=Ember.Object.extend({isNamespace:true,init:function(){Ember.Namespace.NAMESPACES.push(this);
Ember.Namespace.PROCESSED=false},toString:function(){Ember.identifyNamespaces();return this[Ember.GUID_KEY+"_name"]},destroy:function(){var a=Ember.Namespace.NAMESPACES;window[this.toString()]=void 0;a.splice(Pd.call(a,this),1);this._super()}});Ember.Namespace.NAMESPACES=[Ember];Ember.Namespace.PROCESSED=false;Ember.Application=Ember.Namespace.extend();var Va=Ember.get;Ember.ArrayProxy=Ember.Object.extend(Ember.MutableArray,{content:null,arrangedContent:Ember.computed("content",function(){return Va(this,
"content")}).cacheable(),objectAtContent:function(a){return Va(this,"arrangedContent").objectAt(a)},replaceContent:function(a,b,c){Va(this,"arrangedContent").replace(a,b,c)},_contentWillChange:Ember.beforeObserver(function(){var a=Va(this,"content");a&&a.removeArrayObserver(this,{willChange:"contentArrayWillChange",didChange:"contentArrayDidChange"})},"content"),contentArrayWillChange:Ember.K,contentArrayDidChange:Ember.K,_contentDidChange:Ember.observer(function(){var a=Va(this,"content");a&&Va(a,
"length");Ember.assert("Can't set ArrayProxy's content to itself",a!==this);a&&a.addArrayObserver(this,{willChange:"contentArrayWillChange",didChange:"contentArrayDidChange"})},"content"),_arrangedContentWillChange:Ember.beforeObserver(function(){var a=Va(this,"arrangedContent"),b=a?Va(a,"length"):0;this.arrangedContentArrayWillChange(this,0,b,void 0);a&&a.removeArrayObserver(this,{willChange:"arrangedContentArrayWillChange",didChange:"arrangedContentArrayDidChange"})},"arrangedContent"),_arrangedContentDidChange:Ember.observer(function(){var a=
Va(this,"arrangedContent"),b=a?Va(a,"length"):0;Ember.assert("Can't set ArrayProxy's content to itself",a!==this);a&&a.addArrayObserver(this,{willChange:"arrangedContentArrayWillChange",didChange:"arrangedContentArrayDidChange"});this.arrangedContentArrayDidChange(this,0,void 0,b)},"arrangedContent"),objectAt:function(a){return Va(this,"content")&&this.objectAtContent(a)},length:Ember.computed(function(){var a=Va(this,"arrangedContent");return a?Va(a,"length"):0}).property().cacheable(),replace:function(a,
b,c){Va(this,"content")&&this.replaceContent(a,b,c);return this},arrangedContentArrayWillChange:function(a,b,c,d){this.arrayContentWillChange(b,c,d)},arrangedContentArrayDidChange:function(a,b,c,d){this.arrayContentDidChange(b,c,d)},init:function(){this._super();this._contentWillChange();this._contentDidChange();this._arrangedContentWillChange();this._arrangedContentDidChange()}});var gc=function(a,b){var c=b.slice(8);c in this||De(this,c)},$b=function(a,b){var c=b.slice(8);c in this||Ee(this,c)},
Qb=Ember.get,kd=Ember.set,Qd=Ember.String.fmt,ld=Ember.addBeforeObserver,c=Ember.addObserver,h=Ember.removeBeforeObserver,H=Ember.removeObserver,De=Ember.propertyWillChange,Ee=Ember.propertyDidChange;Ember.ObjectProxy=Ember.Object.extend({content:null,_contentDidChange:Ember.observer(function(){Ember.assert("Can't set ObjectProxy's content to itself",this.get("content")!==this)},"content"),willWatchProperty:function(a){a="content."+a;ld(this,a,null,gc);c(this,a,null,$b)},didUnwatchProperty:function(a){a=
"content."+a;h(this,a,null,gc);H(this,a,null,$b)},unknownProperty:function(a){var b=Qb(this,"content");if(b)return Qb(b,a)},setUnknownProperty:function(a,b){var c=Qb(this,"content");Ember.assert(Qd("Cannot delegate set('%@', %@) to the 'content' property of object proxy %@: its 'content' is undefined.",[a,b,this]),c);return kd(c,a,b)}});var $d=function(a,b,c,d,e){var f=c._objects,g;if(!f)f=c._objects={};for(;--e>=d;)if(g=a.objectAt(e)){Ember.addBeforeObserver(g,b,c,"contentKeyWillChange");Ember.addObserver(g,
b,c,"contentKeyDidChange");g=be(g);f[g]||(f[g]=[]);f[g].push(e)}},ae=function(a,b,c,d,e){var f=c._objects;if(!f)f=c._objects={};for(var g;--e>=d;)if(g=a.objectAt(e)){Ember.removeBeforeObserver(g,b,c,"contentKeyWillChange");Ember.removeObserver(g,b,c,"contentKeyDidChange");g=be(g);g=f[g];g[g.indexOf(e)]=null}},Qc=Ember.get,be=Ember.guidFor,Fe=Ember.EnumerableUtils.forEach,Ge=Ember.Object.extend(Ember.Array,{init:function(a,b,c){this._super();this._keyName=b;this._owner=c;this._content=a},objectAt:function(a){return(a=
this._content.objectAt(a))&&Qc(a,this._keyName)},length:Ember.computed(function(){var a=this._content;return a?Qc(a,"length"):0}).property().cacheable()}),ce=/^.+:(before|change)$/;Ember.EachProxy=Ember.Object.extend({init:function(a){this._super();this._content=a;a.addArrayObserver(this);Fe(Ember.watchedEvents(this),function(a){this.didAddListener(a)},this)},unknownProperty:function(a){var b;b=new Ge(this._content,a,this);Ember.defineProperty(this,a,null,b);this.beginObservingContentKey(a);return b},
arrayWillChange:function(a,b,c){var d=this._keys,e,c=c>0?b+c:-1;Ember.beginPropertyChanges(this);for(e in d)if(d.hasOwnProperty(e)){c>0&&ae(a,e,this,b,c);Ember.propertyWillChange(this,e)}Ember.propertyWillChange(this._content,"@each");Ember.endPropertyChanges(this)},arrayDidChange:function(a,b,c,d){var c=this._keys,e,d=d>0?b+d:-1;Ember.beginPropertyChanges(this);for(e in c)if(c.hasOwnProperty(e)){d>0&&$d(a,e,this,b,d);Ember.propertyDidChange(this,e)}Ember.propertyDidChange(this._content,"@each");
Ember.endPropertyChanges(this)},didAddListener:function(a){ce.test(a)&&this.beginObservingContentKey(a.slice(0,-7))},didRemoveListener:function(a){ce.test(a)&&this.stopObservingContentKey(a.slice(0,-7))},beginObservingContentKey:function(a){var b=this._keys;if(!b)b=this._keys={};if(b[a])b[a]++;else{b[a]=1;var b=this._content,c=Qc(b,"length");$d(b,a,this,0,c)}},stopObservingContentKey:function(a){var b=this._keys;if(b&&b[a]>0&&--b[a]<=0){var b=this._content,c=Qc(b,"length");ae(b,a,this,0,c)}},contentKeyWillChange:function(a,
b){Ember.propertyWillChange(this,b)},contentKeyDidChange:function(a,b){Ember.propertyDidChange(this,b)}});var He=Ember.get,kc=Ember.Mixin.create(Ember.MutableArray,Ember.Observable,Ember.Copyable,{get:function(a){return a==="length"?this.length:"number"===typeof a?this[a]:this._super(a)},objectAt:function(a){return this[a]},replace:function(a,b,c){if(this.isFrozen)throw Ember.FROZEN_ERROR;var d=c?He(c,"length"):0;this.arrayContentWillChange(a,b,d);if(!c||c.length===0)this.splice(a,b);else{c=[a,b].concat(c);
this.splice.apply(this,c)}this.arrayContentDidChange(a,b,d);return this},unknownProperty:function(a,b){var c;b!==void 0&&c===void 0&&(c=this[a]=b);return c},indexOf:function(a,b){var c,d=this.length,b=b===void 0?0:b<0?Math.ceil(b):Math.floor(b);b<0&&(b=b+d);for(c=b;c<d;c++)if(this[c]===a)return c;return-1},lastIndexOf:function(a,b){var c;c=this.length;b=b===void 0?c-1:b<0?Math.ceil(b):Math.floor(b);b<0&&(b=b+c);for(c=b;c>=0;c--)if(this[c]===a)return c;return-1},copy:function(){return this.slice()}}),
yd=["length"];Ember.EnumerableUtils.forEach(kc.keys(),function(a){Array.prototype[a]&&yd.push(a)});yd.length>0&&(kc=kc.without.apply(kc,yd));Ember.NativeArray=kc;Ember.A=function(a){a===void 0&&(a=[]);return Ember.NativeArray.apply(a)};Ember.NativeArray.activate=function(){kc.apply(Array.prototype);Ember.A=function(a){return a||[]}};Ember.EXTEND_PROTOTYPES&&Ember.NativeArray.activate();var xc=Ember.get,Ie=Ember.set;Ember._PromiseChain=Ember.Object.extend({promises:null,failureCallback:Ember.K,successCallback:Ember.K,
abortCallback:Ember.K,promiseSuccessCallback:Ember.K,runNextPromise:function(){if(!xc(this,"isDestroyed")){var a=xc(this,"promises").shiftObject();if(a){var b=xc(a,"promise")||a;Ember.assert("Cannot find promise to invoke",Ember.canInvoke(b,"then"));var c=this,d=xc(c,"failureCallback");b.then(function(){c.promiseSuccessCallback.call(this,a,arguments);c.runNextPromise()},d)}else this.successCallback()}},start:function(){this.runNextPromise();return this},abort:function(){this.abortCallback();this.destroy()},
init:function(){Ie(this,"promises",Ember.A(xc(this,"promises")));this._super()}});var wc={},de={};Ember.onLoad=function(a,b){var c;wc[a]=wc[a]||Ember.A();wc[a].pushObject(b);(c=de[a])&&b(c)};Ember.runLoadHooks=function(a,b){de[a]=b;wc[a]&&wc[a].forEach(function(a){a(b)})};Ember.ControllerMixin=Ember.Mixin.create({target:null,store:null});Ember.Controller=Ember.Object.extend(Ember.ControllerMixin);var ga=Ember.get,qb=Ember.EnumerableUtils.forEach;Ember.SortableMixin=Ember.Mixin.create(Ember.MutableEnumerable,
{sortProperties:null,sortAscending:true,addObject:function(a){ga(this,"content").pushObject(a)},removeObject:function(a){ga(this,"content").removeObject(a)},orderBy:function(a,b){var c=0,d=ga(this,"sortProperties"),e=ga(this,"sortAscending");Ember.assert("you need to define `sortProperties`",!!d);qb(d,function(d){if(c===0){c=Ember.compare(ga(a,d),ga(b,d));c!==0&&!e&&(c=-1*c)}});return c},destroy:function(){var a=ga(this,"content"),b=ga(this,"sortProperties");a&&b&&qb(a,function(a){qb(b,function(b){Ember.removeObserver(a,
b,this,"contentItemSortPropertyDidChange")},this)},this);return this._super()},isSorted:Ember.computed("sortProperties",function(){return!!ga(this,"sortProperties")}),arrangedContent:Ember.computed("content","sortProperties.@each",function(){var a=ga(this,"content"),b=ga(this,"isSorted"),c=ga(this,"sortProperties"),d=this;if(a&&b){a=a.slice();a.sort(function(a,b){return d.orderBy(a,b)});qb(a,function(a){qb(c,function(b){Ember.addObserver(a,b,this,"contentItemSortPropertyDidChange")},this)},this);
return Ember.A(a)}return a}).cacheable(),_contentWillChange:Ember.beforeObserver(function(){var a=ga(this,"content"),b=ga(this,"sortProperties");a&&b&&qb(a,function(a){qb(b,function(b){Ember.removeObserver(a,b,this,"contentItemSortPropertyDidChange")},this)},this);this._super()},"content"),sortAscendingWillChange:Ember.beforeObserver(function(){this._lastSortAscending=ga(this,"sortAscending")},"sortAscending"),sortAscendingDidChange:Ember.observer(function(){ga(this,"sortAscending")!==this._lastSortAscending&&
ga(this,"arrangedContent").reverseObjects()},"sortAscending"),contentArrayWillChange:function(a,b,c,d){if(ga(this,"isSorted")){var e=ga(this,"arrangedContent"),f=a.slice(b,b+c),g=ga(this,"sortProperties");qb(f,function(a){e.removeObject(a);qb(g,function(b){Ember.removeObserver(a,b,this,"contentItemSortPropertyDidChange")},this)})}return this._super(a,b,c,d)},contentArrayDidChange:function(a,b,c,d){var e=ga(this,"isSorted"),f=ga(this,"sortProperties");if(e){e=a.slice(b,b+d);ga(this,"arrangedContent");
qb(e,function(a){this.insertItemSorted(a);qb(f,function(b){Ember.addObserver(a,b,this,"contentItemSortPropertyDidChange")},this)},this)}return this._super(a,b,c,d)},insertItemSorted:function(a){var b=ga(this,"arrangedContent"),c=ga(b,"length"),c=this._binarySearch(a,0,c);b.insertAt(c,a)},contentItemSortPropertyDidChange:function(a){var b=ga(this,"arrangedContent");b.indexOf(a);b.removeObject(a);this.insertItemSorted(a)},_binarySearch:function(a,b,c){var d,e;if(b===c)return b;e=ga(this,"arrangedContent");
d=b+Math.floor((c-b)/2);e=e.objectAt(d);e=this.orderBy(e,a);return e<0?this._binarySearch(a,d+1,c):e>0?this._binarySearch(a,b,d):d}});Ember.ArrayController=Ember.ArrayProxy.extend(Ember.ControllerMixin,Ember.SortableMixin);Ember.ObjectController=Ember.ObjectProxy.extend(Ember.ControllerMixin);var Eb=Ember.get,Nd=Ember.set;Ember.Application=Ember.Namespace.extend({rootElement:"body",eventDispatcher:null,customEvents:null,init:function(){var a;a=Eb(this,"rootElement");this._super();a=Ember.EventDispatcher.create({rootElement:a});
Nd(this,"eventDispatcher",a);if(Ember.$.isReady)Ember.run.once(this,this.didBecomeReady);else{var b=this;Ember.$(document).ready(function(){Ember.run.once(b,b.didBecomeReady)})}},initialize:function(a){var b=Ember.A(Ember.keys(this)),c=Eb(this.constructor,"injections"),d=this;if(!a&&Ember.Router.detect(d.Router))this._createdRouter=a=d.Router.create();if(a){Nd(this,"router",a);Nd(a,"namespace",this)}Ember.runLoadHooks("application",this);c.forEach(function(c){b.forEach(function(b){c[1](d,a,b)})});
a&&a instanceof Ember.Router&&this.startRouting(a)},didBecomeReady:function(){var a=Eb(this,"eventDispatcher"),b=Eb(this,"customEvents");a.setup(b);this.ready()},startRouting:function(a){var b=Eb(a,"location"),c=Eb(this,"rootElement"),d=Eb(a,"applicationController");Ember.assert("ApplicationView and ApplicationController must be defined on your application",this.ApplicationView&&d);this._createdApplicationView=d=this.ApplicationView.create({controller:d});d.appendTo(c);a.route(b.getURL());b.onUpdateURL(function(b){a.route(b)})},
ready:Ember.K,willDestroy:function(){Eb(this,"eventDispatcher").destroy();this._createdRouter&&this._createdRouter.destroy();this._createdApplicationView&&this._createdApplicationView.destroy()},registerInjection:function(a){this.constructor.registerInjection(a)}});Ember.Application.reopenClass({concatenatedProperties:["injections"],injections:Ember.A(),registerInjection:function(a){var b=Eb(this,"injections"),c=a.before,d=a.name,a=a.injection,e;if(c){e=b.find(function(a){if(a[0]===c)return true});
e=b.indexOf(e)}else e=Eb(b,"length");b.splice(e,0,[d,a])}});Ember.Application.registerInjection({name:"controllers",injection:function(a,b,c){if(/^[A-Z].*Controller$/.test(c)){var d=c.charAt(0).toLowerCase()+c.substr(1),c=a[c].create();b.set(d,c);c.setProperties({target:b,controllers:b,namespace:a})}}});Ember.Location={create:function(a){var b=a&&a.implementation;Ember.assert("Ember.Location.create: you must specify a 'implementation' option",!!b);var c=this.implementations[b];Ember.assert("Ember.Location.create: "+
b+" is not a valid implementation",!!c);return c.create.apply(c,arguments)},registerImplementation:function(a,b){this.implementations[a]=b},implementations:{}};var gd=Ember.get,Ld=Ember.set;Ember.HashLocation=Ember.Object.extend({init:function(){Ld(this,"location",gd(this,"location")||window.location)},getURL:function(){return gd(this,"location").hash.substr(1)},setURL:function(a){gd(this,"location").hash=a;Ld(this,"lastSetURL",a)},onUpdateURL:function(a){var b=this,c=Ember.guidFor(this);Ember.$(window).bind("hashchange.ember-location-"+
c,function(){var c=location.hash.substr(1);if(gd(b,"lastSetURL")!==c){Ld(b,"lastSetURL",null);a(location.hash.substr(1))}})},formatURL:function(a){return"#"+a},willDestroy:function(){var a=Ember.guidFor(this);Ember.$(window).unbind("hashchange.ember-location-"+a)}});Ember.Location.registerImplementation("hash",Ember.HashLocation);var Nc=Ember.get,ge=Ember.set;Ember.HistoryLocation=Ember.Object.extend({init:function(){ge(this,"location",Nc(this,"location")||window.location);ge(this,"_initialURL",Nc(this,
"location").pathname)},rootURL:"/",_initialURL:null,getURL:function(){return Nc(this,"location").pathname},setURL:function(a){var b=window.history.state,c=Nc(this,"_initialURL"),a=this.formatPath(a);(c!==a&&!b||b&&b.path!==a)&&window.history.pushState({path:a},null,a)},onUpdateURL:function(a){var b=Ember.guidFor(this);Ember.$(window).bind("popstate.ember-location-"+b,function(){a(location.pathname)})},formatPath:function(a){var b=Nc(this,"rootURL");a!==""&&(b=b.replace(/\/$/,""));return b+a},formatURL:function(a){return a},
willDestroy:function(){var a=Ember.guidFor(this);Ember.$(window).unbind("popstate.ember-location-"+a)}});Ember.Location.registerImplementation("history",Ember.HistoryLocation);var Je=Ember.get,Ke=Ember.set;Ember.NoneLocation=Ember.Object.extend({path:"",getURL:function(){return Je(this,"path")},setURL:function(a){Ke(this,"path",a)},onUpdateURL:function(){},formatURL:function(a){return a}});Ember.Location.registerImplementation("none",Ember.NoneLocation);Ember.assert("Ember Views require jQuery 1.7",
window.jQuery&&(window.jQuery().jquery.match(/^1\.7(\.\d+)?(pre|rc\d?)?/)||Ember.ENV.FORCE_JQUERY));Ember.$=window.jQuery;var Le=Ember.String.w("dragstart drag dragenter dragleave dragover drop dragend");Ember.EnumerableUtils.forEach(Le,function(a){Ember.$.event.fixHooks[a]={props:["dataTransfer"]}});var Me=Ember.get,he=Ember.ArrayPolyfills.indexOf,ie=function(){this.seen={};this.list=[]};ie.prototype={add:function(a){if(!(a in this.seen)){this.seen[a]=true;this.list.push(a)}},toDOM:function(){return this.list.join(" ")}};
Ember.RenderBuffer=function(a){return new Ember._RenderBuffer(a)};Ember._RenderBuffer=function(a){this.elementTag=a;this.childBuffers=[]};Ember._RenderBuffer.prototype={elementClasses:null,elementId:null,elementAttributes:null,elementTag:null,elementStyle:null,parentBuffer:null,push:function(a){this.childBuffers.push(String(a));return this},addClass:function(a){this.elementClasses=this.elementClasses||new ie;this.elementClasses.add(a);return this},id:function(a){this.elementId=a;return this},attr:function(a,
b){var c=this.elementAttributes=this.elementAttributes||{};if(arguments.length===1)return c[a];c[a]=b;return this},removeAttr:function(a){var b=this.elementAttributes;b&&delete b[a];return this},style:function(a,b){this.elementStyle=this.elementStyle||{};this.elementStyle[a]=b;return this},newBuffer:function(a,b,c,d){a=new Ember._RenderBuffer(a);a.parentBuffer=b;d&&Ember.$.extend(a,d);c&&c.call(this,a);return a},replaceWithBuffer:function(a){var b=this.parentBuffer;if(b){var b=b.childBuffers,c=he.call(b,
this);a?b.splice(c,1,a):b.splice(c,1)}},begin:function(a){return this.newBuffer(a,this,function(a){this.childBuffers.push(a)})},prepend:function(a){return this.newBuffer(a,this,function(a){this.childBuffers.splice(0,0,a)})},replaceWith:function(a){return this.newBuffer(a,this.parentBuffer,function(a){this.replaceWithBuffer(a)})},insertAfter:function(a){var b=Me(this,"parentBuffer");return this.newBuffer(a,b,function(a){var c=b.childBuffers,d=he.call(c,this);c.splice(d+1,0,a)})},end:function(){return this.parentBuffer||
this},remove:function(){this.replaceWithBuffer(null)},element:function(){return Ember.$(this.string())[0]},string:function(){var a="",b=this.elementTag,c;if(b){var d=this.elementId,e=this.elementClasses,f=this.elementAttributes,g=this.elementStyle,h="",j;c=["<"+b];d&&c.push('id="'+this._escapeAttribute(d)+'"');e&&c.push('class="'+this._escapeAttribute(e.toDOM())+'"');if(g){for(j in g)g.hasOwnProperty(j)&&(h=h+(j+":"+this._escapeAttribute(g[j])+";"));c.push('style="'+h+'"')}if(f)for(j in f)f.hasOwnProperty(j)&&
c.push(j+'="'+this._escapeAttribute(f[j])+'"');c=c.join(" ")+">"}Ember.ArrayPolyfills.forEach.call(this.childBuffers,function(b){a=a+(typeof b==="string"?b:b.string())});return b?c+a+"</"+b+">":a},_escapeAttribute:function(a){var b={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},a=a.toString();return!/[&<>"'`]/.test(a)?a:a.replace(/&(?!\w+;)|[<>"'`]/g,function(a){return b[a]||"&amp;"})}};var hd=Ember.get,Ne=Ember.String.fmt;Ember.EventDispatcher=Ember.Object.extend({rootElement:"body",
setup:function(a){var b,c={touchstart:"touchStart",touchmove:"touchMove",touchend:"touchEnd",touchcancel:"touchCancel",keydown:"keyDown",keyup:"keyUp",keypress:"keyPress",mousedown:"mouseDown",mouseup:"mouseUp",contextmenu:"contextMenu",click:"click",dblclick:"doubleClick",mousemove:"mouseMove",focusin:"focusIn",focusout:"focusOut",mouseenter:"mouseEnter",mouseleave:"mouseLeave",submit:"submit",input:"input",change:"change",dragstart:"dragStart",drag:"drag",dragenter:"dragEnter",dragleave:"dragLeave",
dragover:"dragOver",drop:"drop",dragend:"dragEnd"};Ember.$.extend(c,a||{});a=Ember.$(hd(this,"rootElement"));Ember.assert(Ne("You cannot use the same root element (%@) multiple times in an Ember.Application",[a.selector||a[0].tagName]),!a.is(".ember-application"));Ember.assert("You cannot make a new Ember.Application using a root element that is a descendent of an existing Ember.Application",!a.closest(".ember-application").length);Ember.assert("You cannot make a new Ember.Application using a root element that is an ancestor of an existing Ember.Application",
!a.find(".ember-application").length);a.addClass("ember-application");Ember.assert('Unable to add "ember-application" class to rootElement. Make sure you set rootElement to the body or an element in the body.',a.is(".ember-application"));for(b in c)c.hasOwnProperty(b)&&this.setupHandler(a,b,c[b])},setupHandler:function(a,b,c){var d=this;a.delegate(".ember-view",b+".ember",function(a,b){var e=Ember.View.views[this.id],f=true,g=null;(g=d._findNearestEventManager(e,c))&&g!==b?f=d._dispatchEvent(g,a,
c,e):e?f=d._bubbleEvent(e,a,c):a.stopPropagation();return f});a.delegate("[data-ember-action]",b+".ember",function(a){var b=Ember.$(a.currentTarget).attr("data-ember-action"),b=Ember.Handlebars.ActionHelper.registeredActions[b],d=b.handler;if(b.eventName===c)return d(a)})},_findNearestEventManager:function(a,b){for(var c=null;a;){if((c=hd(a,"eventManager"))&&c[b])break;a=hd(a,"parentView")}return c},_dispatchEvent:function(a,b,c,d){var e=true,e=a[c];if(Ember.typeOf(e)==="function"){e=e.call(a,b,d);
b.stopPropagation()}else e=this._bubbleEvent(d,b,c);return e},_bubbleEvent:function(a,b,c){return Ember.run(function(){return a.handleEvent(c,b)})},destroy:function(){var a=hd(this,"rootElement");Ember.$(a).undelegate(".ember").removeClass("ember-application");return this._super()}});var je=Ember.run.queues;je.splice(Ember.$.inArray("actions",je)+1,0,"render");var qc=Ember.get,Md=Ember.set;Ember.ControllerMixin.reopen({target:null,controllers:null,namespace:null,view:null,connectOutlet:function(a,
b){var c,d,e,f;if(Ember.typeOf(b)==="string"){c=a;a=b;b=arguments[2]}if(arguments.length===1&&Ember.typeOf(a)==="object"){f=a;c=f.outletName;a=f.name;d=f.viewClass;e=f.controller;b=f.context}c=c||"view";Ember.assert("You must supply a name or a view class to connectOutlets, but not both",!!a&&!d&&!e||!a&&!!d);if(a){d=qc(this,"namespace");e=qc(this,"controllers");f=a.charAt(0).toUpperCase()+a.substr(1)+"View";d=qc(d,f);e=qc(e,a+"Controller");Ember.assert("The name you supplied "+a+" did not resolve to a view "+
f,!!d);Ember.assert("The name you supplied "+a+" did not resolve to a controller "+a+"Controller",!!e&&!!b||!b)}e&&b&&e.set("content",b);d=d.create();e&&Md(d,"controller",e);Md(this,c,d);return d},connectControllers:function(){for(var a=qc(this,"controllers"),b=Array.prototype.slice.apply(arguments),c,d=0,e=b.length;d<e;d++){c=b[d]+"Controller";Md(this,c,qc(a,c))}}});var D=Ember.get,ob=Ember.set,ke=Ember.addObserver,Oe=Ember.String.fmt,le=[].slice,id=Ember.EnumerableUtils.forEach,me=Ember.computed(function(){var a=
this._childViews,b=Ember.A();id(a,function(a){a.isVirtual?b.pushObjects(D(a,"childViews")):b.push(a)});return b}).property().cacheable(),ne=Ember.VIEW_PRESERVES_CONTEXT;Ember.warn("The way that the {{view}} helper affects templates is about to change. Previously, templates inside child views would use the new view as the context. Soon, views will preserve their parent context when rendering their template. You can opt-in early to the new behavior by setting `ENV.VIEW_PRESERVES_CONTEXT = true`. For more information, see https://gist.github.com/2494968. You should update your templates as soon as possible; this default will change soon, and the option will be eliminated entirely before the 1.0 release.",
ne);Ember.TEMPLATES={};var oe={preRender:{},inBuffer:{},hasElement:{},inDOM:{},destroyed:{}};Ember.View=Ember.Object.extend(Ember.Evented,{concatenatedProperties:["classNames","classNameBindings","attributeBindings"],isView:true,templateName:null,layoutName:null,templates:Ember.TEMPLATES,template:Ember.computed(function(a,b){if(b!==void 0)return b;var c=D(this,"templateName");return this.templateForName(c,"template")||D(this,"defaultTemplate")}).property("templateName").cacheable(),controller:Ember.computed(function(a,
b){var c;if(arguments.length===2)return b;return(c=D(this,"parentView"))?D(c,"controller"):null}).property().cacheable(),layout:Ember.computed(function(a,b){if(arguments.length===2)return b;var c=D(this,"layoutName");return this.templateForName(c,"layout")||D(this,"defaultLayout")}).property("layoutName").cacheable(),templateForName:function(a,b){if(a){var c=D(this,"templates"),c=D(c,a);if(!c)throw new Ember.Error(Oe('%@ - Unable to find %@ "%@".',[this,b,a]));return c}},context:Ember.computed(function(a,
b){if(arguments.length===2){ob(this,"_context",b);return b}return D(this,"_context")}).cacheable(),_context:Ember.computed(function(a,b){var c;if(arguments.length===2)return b;if(ne){if(c=D(this,"controller"))return c;if(c=D(this,"_parentView"))return D(c,"_context")}return this}).cacheable(),_displayPropertyDidChange:Ember.observer(function(){this.rerender()},"context","controller"),parentView:Ember.computed(function(){var a=D(this,"_parentView");return a&&a.isVirtual?D(a,"parentView"):a}).property("_parentView").safe_volatile(),
_parentView:null,concreteView:Ember.computed(function(){return this.isVirtual?D(this,"parentView"):this}).property("_parentView").safe_volatile(),isVisible:true,childViews:me,_childViews:[],_childViewsWillChange:Ember.beforeObserver(function(){if(this.isVirtual){var a=D(this,"parentView");a&&Ember.propertyWillChange(a,"childViews")}},"childViews"),_childViewsDidChange:Ember.observer(function(){if(this.isVirtual){var a=D(this,"parentView");a&&Ember.propertyDidChange(a,"childViews")}},"childViews"),
nearestInstanceOf:function(a){for(var b=D(this,"parentView");b;){if(b instanceof a)return b;b=D(b,"parentView")}},nearestWithProperty:function(a){for(var b=D(this,"parentView");b;){if(a in b)return b;b=D(b,"parentView")}},nearestChildOf:function(a){for(var b=D(this,"parentView");b;){if(D(b,"parentView")instanceof a)return b;b=D(b,"parentView")}},collectionView:Ember.computed(function(){return this.nearestInstanceOf(Ember.CollectionView)}).cacheable(),itemView:Ember.computed(function(){return this.nearestChildOf(Ember.CollectionView)}).cacheable(),
contentView:Ember.computed(function(){return this.nearestWithProperty("content")}).cacheable(),_parentViewDidChange:Ember.observer(function(){if(!this.isDestroying){this.invokeRecursively(function(a){a.propertyDidChange("collectionView");a.propertyDidChange("itemView");a.propertyDidChange("contentView")});D(this,"parentView.controller")&&!D(this,"controller")&&this.notifyPropertyChange("controller")}},"_parentView"),_controllerDidChange:Ember.observer(function(){this.isDestroying||this.forEachChildView(function(a){a.propertyDidChange("controller")})},
"controller"),cloneKeywords:function(){var a=D(this,"templateData"),a=a?Ember.copy(a.keywords):{};ob(a,"view",D(this,"concreteView"));ob(a,"controller",D(this,"controller"));return a},render:function(a){var b=D(this,"layout")||D(this,"template");if(b){var c=D(this,"_context"),d=this.cloneKeywords(),d={view:this,buffer:a,isRenderData:true,keywords:d};Ember.assert('template must be a function. Did you mean to call Ember.Handlebars.compile("...") or specify templateName instead?',typeof b==="function");
b=b(c,{data:d});b!==void 0&&a.push(b)}},invokeForState:function(a){var b=this.state,c;if(c=oe[b][a]){b=le.call(arguments);b[0]=this;return c.apply(this,b)}for(var d=this.states,e;d;){for(e=d[b];e;){if(c=e[a]){oe[b][a]=c;b=le.call(arguments,1);b.unshift(this);return c.apply(this,b)}e=e.parentState}d=d.parent}},rerender:function(){return this.invokeForState("rerender")},clearRenderedChildren:function(){for(var a=this.lengthBeforeRender,b=this._childViews,c=this.lengthAfterRender-1;c>=a;c--)b[c]&&b[c].destroy()},
_applyClassNameBindings:function(){var a=D(this,"classNameBindings"),b=D(this,"classNames"),c,d,e;a&&id(a,function(a){var f;if(e=this._classStringForProperty(a)){b.push(e);f=e}var g=Ember.View._parsePropertyPath(a);ke(this,g.path,function(){d=this._classStringForProperty(a);c=this.$();if(f){c.removeClass(f);b.removeObject(f)}if(d){c.addClass(d);f=d}else f=null})},this)},_applyAttributeBindings:function(a){var b=D(this,"attributeBindings"),c,d;b&&id(b,function(b){var b=b.split(":"),e=b[0],f=b[1]||
e;ke(this,e,function(){if(d=this.$()){c=D(this,e);Ember.View.applyAttributeBindings(d,f,c)}});c=D(this,e);Ember.View.applyAttributeBindings(a,f,c)},this)},_classStringForProperty:function(a){var a=Ember.View._parsePropertyPath(a),b=a.path,c=D(this,b);c===void 0&&Ember.isGlobalPath(b)&&(c=D(window,b));return Ember.View._classStringForValue(b,c,a.className,a.falsyClassName)},element:Ember.computed(function(a,b){return b!==void 0?this.invokeForState("setElement",b):this.invokeForState("getElement")}).property("_parentView").cacheable(),
$:function(a){return this.invokeForState("$",a)},mutateChildViews:function(a){for(var b=this._childViews,c=b.length,d;--c>=0;){d=b[c];a.call(this,d,c)}return this},forEachChildView:function(a){var b=this._childViews;if(!b)return this;var c=b.length,d,e;for(e=0;e<c;e++){d=b[e];a.call(this,d)}return this},appendTo:function(a){this._insertElementLater(function(){Ember.assert("You cannot append to an existing Ember.View. Consider using Ember.ContainerView instead.",!Ember.$(a).is(".ember-view")&&!Ember.$(a).parents().is(".ember-view"));
this.$().appendTo(a)});return this},replaceIn:function(a){Ember.assert("You cannot replace an existing Ember.View. Consider using Ember.ContainerView instead.",!Ember.$(a).is(".ember-view")&&!Ember.$(a).parents().is(".ember-view"));this._insertElementLater(function(){Ember.$(a).empty();this.$().appendTo(a)});return this},_insertElementLater:function(a){this._lastInsert=Ember.guidFor(a);Ember.run.schedule("render",this,this.invokeForState,"insertElement",a)},append:function(){return this.appendTo(document.body)},
remove:function(){this.destroyElement();this.invokeRecursively(function(a){a.clearRenderedChildren()})},elementId:Ember.computed(function(a,b){return b!==void 0?b:Ember.guidFor(this)}).cacheable(),_elementIdDidChange:Ember.beforeObserver(function(){throw"Changing a view's elementId after creation is not allowed.";},"elementId"),findElementInParentElement:function(a){var b="#"+D(this,"elementId");return Ember.$(b)[0]||Ember.$(b,a)[0]},renderBuffer:function(a){a=a||D(this,"tagName");if(a===null||a===
void 0)a="div";return Ember.RenderBuffer(a)},createElement:function(){if(D(this,"element"))return this;var a=this.renderToBuffer();ob(this,"element",a.element());return this},willInsertElement:Ember.K,didInsertElement:Ember.K,willRerender:Ember.K,invokeRecursively:function(a){a.call(this,this);this.forEachChildView(function(b){b.invokeRecursively(a)})},invalidateRecursively:function(a){this.forEachChildView(function(b){b.propertyDidChange(a)})},_notifyWillInsertElement:function(){this.invokeRecursively(function(a){a.trigger("willInsertElement")})},
_notifyDidInsertElement:function(){this.invokeRecursively(function(a){a.trigger("didInsertElement")})},_notifyWillRerender:function(){this.invokeRecursively(function(a){a.trigger("willRerender")})},destroyElement:function(){return this.invokeForState("destroyElement")},willDestroyElement:function(){},_notifyWillDestroyElement:function(){this.invokeRecursively(function(a){a.trigger("willDestroyElement")})},_elementWillChange:Ember.beforeObserver(function(){this.forEachChildView(function(a){Ember.propertyWillChange(a,
"element")})},"element"),_elementDidChange:Ember.observer(function(){this.forEachChildView(function(a){Ember.propertyDidChange(a,"element")})},"element"),parentViewDidChange:Ember.K,renderToBuffer:function(a,b){var c;Ember.run.sync();b=b||"begin";if(a){c=D(this,"tagName");if(c===null||c===void 0)c="div";c=a[b](c)}else c=this.renderBuffer();this.buffer=c;this.transitionTo("inBuffer",false);this.lengthBeforeRender=this._childViews.length;this.beforeRender(c);this.render(c);this.afterRender(c);this.lengthAfterRender=
this._childViews.length;return c},beforeRender:function(a){this.applyAttributesToBuffer(a)},afterRender:Ember.K,applyAttributesToBuffer:function(a){this._applyClassNameBindings();this._applyAttributeBindings(a);id(D(this,"classNames"),function(b){a.addClass(b)});a.id(D(this,"elementId"));var b=D(this,"ariaRole");b&&a.attr("role",b);D(this,"isVisible")===false&&a.style("display","none")},tagName:null,ariaRole:null,classNames:["ember-view"],classNameBindings:[],attributeBindings:[],state:"preRender",
init:function(){this._super();this.isVirtual||(Ember.View.views[D(this,"elementId")]=this);this._childViews=this._childViews.slice();Ember.assert("Only arrays are allowed for 'classNameBindings'",Ember.typeOf(this.classNameBindings)==="array");this.classNameBindings=Ember.A(this.classNameBindings.slice());Ember.assert("Only arrays are allowed for 'classNames'",Ember.typeOf(this.classNames)==="array");this.classNames=Ember.A(this.classNames.slice());var a=D(this,"viewController");if(a)(a=D(a))&&ob(a,
"view",this)},appendChild:function(a,b){return this.invokeForState("appendChild",a,b)},removeChild:function(a){if(!this.isDestroying){ob(a,"_parentView",null);Ember.EnumerableUtils.removeObject(this._childViews,a);this.propertyDidChange("childViews");return this}},removeAllChildren:function(){return this.mutateChildViews(function(a){this.removeChild(a)})},destroyAllChildren:function(){return this.mutateChildViews(function(a){a.destroy()})},removeFromParent:function(){var a=D(this,"_parentView");this.remove();
a&&a.removeChild(this);return this},willDestroy:function(){var a=this._childViews,b=D(this,"_parentView");this.removedFromDOM||this.destroyElement();if(this.viewName){var c=D(this,"parentView");c&&ob(c,this.viewName,null)}b&&b.removeChild(this);this.state="destroyed";for(b=a.length-1;b>=0;b--){a[b].removedFromDOM=true;a[b].destroy()}this.isVirtual||delete Ember.View.views[D(this,"elementId")]},createChildView:function(a,b){if(Ember.View.detect(a)){b=b||{};b._parentView=this;b.templateData=b.templateData||
D(this,"templateData");a=a.create(b);a.viewName&&ob(D(this,"concreteView"),a.viewName,a)}else{Ember.assert("You must pass instance or subclass of View",a instanceof Ember.View);Ember.assert("You can only pass attributes when a class is provided",!b);D(a,"templateData")||ob(a,"templateData",D(this,"templateData"));ob(a,"_parentView",this)}return a},becameVisible:Ember.K,becameHidden:Ember.K,_isVisibleDidChange:Ember.observer(function(){var a=this.$();if(a){var b=D(this,"isVisible");a.toggle(b);this._isAncestorHidden()||
(b?this._notifyBecameVisible():this._notifyBecameHidden())}},"isVisible"),_notifyBecameVisible:function(){this.trigger("becameVisible");this.forEachChildView(function(a){var b=D(a,"isVisible");(b||b===null)&&a._notifyBecameVisible()})},_notifyBecameHidden:function(){this.trigger("becameHidden");this.forEachChildView(function(a){var b=D(a,"isVisible");(b||b===null)&&a._notifyBecameHidden()})},_isAncestorHidden:function(){for(var a=D(this,"parentView");a;){if(D(a,"isVisible")===false)return true;a=
D(a,"parentView")}return false},clearBuffer:function(){this.invokeRecursively(function(){this.buffer=null})},transitionTo:function(a,b){this.state=a;b!==false&&this.forEachChildView(function(b){b.transitionTo(a)})},trigger:function(a){this._super.apply(this,arguments);var b=this[a];if(b){var c=[],d,e;d=1;for(e=arguments.length;d<e;d++)c.push(arguments[d]);return b.apply(this,c)}},has:function(a){return Ember.typeOf(this[a])==="function"||this._super(a)},handleEvent:function(a,b){return this.invokeForState("handleEvent",
a,b)}});Ember.View.reopen({states:Ember.View.states,domManager:{prepend:function(a,b){b._insertElementLater(function(){a.$().prepend(b.$())})},after:function(a,b){b._insertElementLater(function(){a.$().after(b.$())})},replace:function(a){var b=D(a,"element");ob(a,"element",null);a._insertElementLater(function(){Ember.$(b).replaceWith(D(a,"element"))})},remove:function(a){var b=D(a,"element");ob(a,"element",null);a._lastInsert=null;Ember.$(b).remove()},empty:function(a){a.$().empty()}}});Ember.View.reopenClass({_parsePropertyPath:function(a){var a=
a.split(/:/),b=a[0],c="",d,e;if(a.length>1){d=a[1];a.length===3&&(e=a[2]);c=":"+d;e&&(c=c+(":"+e))}return{path:b,classNames:c,className:d===""?void 0:d,falsyClassName:e}},_classStringForValue:function(a,b,c,d){if(b&&c)return c;if(b===true){if(b===true&&!c&&d)return null;a=a.split(".");return Ember.String.dasherize(a[a.length-1])}return b===false&&d?d:b!==false&&b!==void 0&&b!==null?b:null}});Ember.View.views={};Ember.View.childViewsProperty=me;Ember.View.applyAttributeBindings=function(a,b,c){var d=
Ember.typeOf(c),e=a.attr(b);(d==="string"||d==="number"&&!isNaN(c))&&c!==e?a.attr(b,c):c&&d==="boolean"?a.attr(b,b):c||a.removeAttr(b)};var Pe=Ember.set;Ember.View.states={_default:{appendChild:function(){throw"You can't use appendChild outside of the rendering process";},$:function(){},getElement:function(){return null},handleEvent:function(){return true},destroyElement:function(a){Pe(a,"element",null);a._lastInsert=null;return a}}};Ember.View.reopen({states:Ember.View.states});Ember.View.states.preRender=
{parentState:Ember.View.states._default,insertElement:function(a,b){if(a._lastInsert===Ember.guidFor(b)){a.createElement();a._notifyWillInsertElement();b.call(a);a.transitionTo("inDOM");a._notifyDidInsertElement()}},empty:Ember.K,setElement:function(a,b){b!==null&&a.transitionTo("hasElement");return b}};Ember.View.states.inBuffer={parentState:Ember.View.states._default,$:function(a){a.rerender();return Ember.$()},rerender:function(a){Ember.deprecate("Something you did caused a view to re-render after it rendered but before it was inserted into the DOM. Because this is avoidable and the cause of significant performance issues in applications, this behavior is deprecated. If you want to use the debugger to find out what caused this, you can set ENV.RAISE_ON_DEPRECATION to true.");
a._notifyWillRerender();a.clearRenderedChildren();a.renderToBuffer(a.buffer,"replaceWith")},appendChild:function(a,b,c){var d=a.buffer,b=this.createChildView(b,c);a._childViews.push(b);b.renderToBuffer(d);a.propertyDidChange("childViews");return b},destroyElement:function(a){a.clearBuffer();a._notifyWillDestroyElement();a.transitionTo("preRender");return a},empty:function(){Ember.assert("Emptying a view in the inBuffer state is not allowed and should not happen under normal circumstances. Most likely there is a bug in your application. This may be due to excessive property change notifications.")},
insertElement:function(){throw"You can't insert an element that has already been rendered";},setElement:function(a,b){if(b===null)a.transitionTo("preRender");else{a.clearBuffer();a.transitionTo("hasElement")}return b}};var jd=Ember.get;Ember.View.states.hasElement={parentState:Ember.View.states._default,$:function(a,b){var c=jd(a,"element");return b?Ember.$(b,c):Ember.$(c)},getElement:function(a){var b=jd(a,"parentView");b&&(b=jd(b,"element"));return b?a.findElementInParentElement(b):Ember.$("#"+
jd(a,"elementId"))[0]},setElement:function(a,b){if(b===null)a.transitionTo("preRender");else throw"You cannot set an element to a non-null value when the element is already in the DOM.";return b},rerender:function(a){a._notifyWillRerender();a.clearRenderedChildren();a.domManager.replace(a);return a},destroyElement:function(a){a._notifyWillDestroyElement();a.domManager.remove(a);return a},empty:function(a){var b=a._childViews,c,d;if(b){c=b.length;for(d=0;d<c;d++)b[d]._notifyWillDestroyElement()}a.domManager.empty(a)},
handleEvent:function(a,b,c){return a.has(b)?a.trigger(b,c):true}};Ember.View.states.inDOM={parentState:Ember.View.states.hasElement,insertElement:function(a,b){if(a._lastInsert===Ember.guidFor(b))throw"You can't insert an element into the DOM that has already been inserted";}};var Oc=Ember.String.fmt;Ember.View.states.destroyed={parentState:Ember.View.states._default,appendChild:function(){throw Oc("You can't call %@ on a destroyed view",["appendChild"]);},rerender:function(){throw Oc("You can't call %@ on a destroyed view",
["rerender"]);},destroyElement:function(){throw Oc("You can't call %@ on a destroyed view",["destroyElement"]);},empty:function(){throw Oc("You can't call %@ on a destroyed view",["empty"]);},setElement:function(){throw Oc("You can't call %@ on a destroyed view",["set('element', ...)"]);},insertElement:Ember.K};var kb=Ember.get,Rd=Ember.set,pe=Ember.EnumerableUtils.forEach,Qe=Ember.computed(function(){return kb(this,"_childViews")}).property("_childViews").cacheable();Ember.ContainerView=Ember.View.extend({init:function(){this._super();
var a=kb(this,"childViews");Ember.defineProperty(this,"childViews",Qe);var b=this._childViews;pe(a,function(a,c){var d;if("string"===typeof a){d=kb(this,a);d=this.createChildView(d);Rd(this,a,d)}else d=this.createChildView(a);b[c]=d},this);(a=kb(this,"currentView"))&&b.push(this.createChildView(a));Ember.A(b);kb(this,"childViews").addArrayObserver(this,{willChange:"childViewsWillChange",didChange:"childViewsDidChange"})},render:function(a){this.forEachChildView(function(b){b.renderToBuffer(a)})},
willDestroy:function(){kb(this,"childViews").removeArrayObserver(this,{willChange:"childViewsWillChange",didChange:"childViewsDidChange"});this._super()},childViewsWillChange:function(a,b,c){if(c!==0){var d=a.slice(b,b+c);this.initializeViews(d,null,null);this.invokeForState("childViewsWillChange",a,b,c)}},childViewsDidChange:function(a,b,c,d){kb(a,"length");if(d!==0){c=a.slice(b,b+d);this.initializeViews(c,this,kb(this,"templateData"));this.invokeForState("childViewsDidChange",a,b,d)}},initializeViews:function(a,
b,c){pe(a,function(a){Rd(a,"_parentView",b);kb(a,"templateData")||Rd(a,"templateData",c)})},_scheduleInsertion:function(a,b){b?b.domManager.after(b,a):this.domManager.prepend(this,a)},currentView:null,_currentViewWillChange:Ember.beforeObserver(function(){var a=kb(this,"childViews"),b=kb(this,"currentView");if(b){a.removeObject(b);b.destroy()}},"currentView"),_currentViewDidChange:Ember.observer(function(){var a=kb(this,"childViews"),b=kb(this,"currentView");b&&a.pushObject(b)},"currentView")});Ember.ContainerView.states=
{parent:Ember.View.states,inBuffer:{childViewsDidChange:function(a,b,c,d){var e=a.buffer,f;if(c===0){a=b[c];f=c+1;a.renderToBuffer(e,"prepend")}else{a=b[c-1];f=c}for(e=f;e<c+d;e++){f=a;a=b[e];f=f.buffer;a.renderToBuffer(f,"insertAfter")}}},hasElement:{childViewsWillChange:function(a,b,c,d){for(a=c;a<c+d;a++)b[a].remove()},childViewsDidChange:function(a,b,c,d){for(var e=c===0?null:b[c-1],f=c;f<c+d;f++){a=b[f];this._scheduleInsertion(a,e);e=a}}}};Ember.ContainerView.states.inDOM={parentState:Ember.ContainerView.states.hasElement};
Ember.ContainerView.reopen({states:Ember.ContainerView.states});var fb=Ember.get,qe=Ember.set,re=Ember.String.fmt;Ember.CollectionView=Ember.ContainerView.extend({content:null,emptyViewClass:Ember.View,emptyView:null,itemViewClass:Ember.View,init:function(){var a=this._super();this._contentDidChange();return a},_contentWillChange:Ember.beforeObserver(function(){var a=this.get("content");a&&a.removeArrayObserver(this);var b=a?fb(a,"length"):0;this.arrayWillChange(a,0,b)},"content"),_contentDidChange:Ember.observer(function(){var a=
fb(this,"content");if(a){Ember.assert(re("an Ember.CollectionView's content must implement Ember.Array. You passed %@",[a]),Ember.Array.detect(a));a.addArrayObserver(this)}var b=a?fb(a,"length"):0;this.arrayDidChange(a,0,null,b)},"content"),willDestroy:function(){var a=fb(this,"content");a&&a.removeArrayObserver(this);this._super()},arrayWillChange:function(a,b,c){(a=fb(this,"emptyView"))&&a instanceof Ember.View&&a.removeFromParent();var a=fb(this,"childViews"),d,e;e=fb(a,"length");(e=c===e)&&this.invokeForState("empty");
for(d=b+c-1;d>=b;d--){c=a[d];if(e)c.removedFromDOM=true;c.destroy()}},arrayDidChange:function(a,b,c,d){var e=fb(this,"itemViewClass"),c=fb(this,"childViews"),f=[],g,h;"string"===typeof e&&(e=fb(e));Ember.assert(re("itemViewClass must be a subclass of Ember.View, not %@",[e]),Ember.View.detect(e));if(a&&fb(a,"length"))for(h=b;h<b+d;h++){g=a.objectAt(h);g=this.createChildView(e,{content:g,contentIndex:h});f.push(g)}else{a=fb(this,"emptyView");if(!a)return;a=this.createChildView(a);f.push(a);qe(this,
"emptyView",a)}c.replace(b,0,f)},createChildView:function(a,b){var a=this._super(a,b),c=fb(a,"tagName"),c=c===null||c===void 0?Ember.CollectionView.CONTAINER_MAP[fb(this,"tagName")]:c;qe(a,"tagName",c);return a}});Ember.CollectionView.CONTAINER_MAP={ul:"li",ol:"li",table:"tr",thead:"tr",tbody:"tr",tfoot:"tr",tr:"td",select:"option"};var sc=Ember.get,hc=Ember.set;Ember.State=Ember.Object.extend(Ember.Evented,{isState:true,parentState:null,start:null,name:null,path:Ember.computed(function(){var a=sc(this,
"parentState.path"),b=sc(this,"name");a&&(b=a+"."+b);return b}).property().cacheable(),trigger:function(a){this[a]&&this[a].apply(this,[].slice.call(arguments,1));this._super.apply(this,arguments)},init:function(){var a=sc(this,"states");hc(this,"childStates",Ember.A());hc(this,"eventTransitions",sc(this,"eventTransitions")||{});var b,c,d;if(a)for(b in a)this.setupChild(a,b,a[b]);else{a={};for(b in this)if(b!=="constructor"&&(c=this[b])){if(d=c.transitionTarget)this.eventTransitions[b]=d;this.setupChild(a,
b,c)}hc(this,"states",a)}hc(this,"pathsCache",{});hc(this,"pathsCacheNoContext",{})},setupChild:function(a,b,c){if(!c)return false;c.isState?hc(c,"name",b):Ember.State.detect(c)&&(c=c.create({name:b}));if(c.isState){hc(c,"parentState",this);sc(this,"childStates").pushObject(c);a[b]=c}},lookupEventTransition:function(a){for(var b,c=this;c&&!b;){b=c.eventTransitions[a];c=c.get("parentState")}return b},isLeaf:Ember.computed(function(){return!sc(this,"childStates").length}).cacheable(),hasContext:true,
setup:Ember.K,enter:Ember.K,exit:Ember.K});var se=Ember.$&&Ember.$.Event;Ember.State.reopenClass({transitionTo:function(a){var b=function(b,c){if(se&&c instanceof se)if(c.hasOwnProperty("context"))c=c.context;else return b.transitionTo(a);b.transitionTo(a,c)};b.transitionTarget=a;return b}});var ka=Ember.get,Sd=Ember.set,Re=Ember.String.fmt,Td=Ember.ArrayPolyfills.forEach,te=function(a){this.enterStates=a.enterStates.slice();this.exitStates=a.exitStates.slice();this.resolveState=a.resolveState;this.finalState=
a.enterStates[a.enterStates.length-1]||a.resolveState};te.prototype={normalize:function(a,b){this.matchContextsToStates(b);this.addInitialStates();this.removeUnchangedContexts(a);return this},matchContextsToStates:function(a){for(var b=this.enterStates.length-1,c=[],d;a.length>0;){if(b>=0)d=this.enterStates[b--];else{if(this.enterStates.length){d=ka(this.enterStates[0],"parentState");if(!d)throw"Cannot match all contexts to states";}else d=this.resolveState;this.enterStates.unshift(d);this.exitStates.unshift(d)}d=
ka(d,"hasContext")?a.pop():null;c.unshift(d)}this.contexts=c},addInitialStates:function(){for(var a=this.finalState,b;;){b=ka(a,"initialState")||"start";a=ka(a,"states."+b);if(!a)break;this.finalState=a;this.enterStates.push(a);this.contexts.push(void 0)}},removeUnchangedContexts:function(a){for(;this.enterStates.length>0;){if(this.enterStates[0]!==this.exitStates[0])break;if(this.enterStates.length===this.contexts.length){if(a.getStateMeta(this.enterStates[0],"context")!==this.contexts[0])break;
this.contexts.shift()}this.resolveState=this.enterStates.shift();this.exitStates.shift()}}};Ember.StateManager=Ember.State.extend({init:function(){this._super();Sd(this,"stateMeta",Ember.Map.create());var a=ka(this,"initialState");!a&&ka(this,"states.start")&&(a="start");if(a){this.transitionTo(a);Ember.assert('Failed to transition to initial state "'+a+'"',!!ka(this,"currentState"))}},stateMetaFor:function(a){var b=ka(this,"stateMeta"),c=b.get(a);if(!c){c={};b.set(a,c)}return c},setStateMeta:function(a,
b,c){return Sd(this.stateMetaFor(a),b,c)},getStateMeta:function(a,b){return ka(this.stateMetaFor(a),b)},currentState:null,transitionEvent:"setup",errorOnUnhandledEvent:true,send:function(a,b){Ember.assert('Cannot send event "'+a+'" while currentState is '+ka(this,"currentState"),ka(this,"currentState"));return this.sendRecursively(a,ka(this,"currentState"),b)},sendRecursively:function(a,b,c){var d=this.enableLogging,e=b[a];if(typeof e==="function"){d&&Ember.Logger.log(Re("STATEMANAGER: Sending event '%@' to state %@.",
[a,ka(b,"path")]));return e.call(b,this,c)}if(b=ka(b,"parentState"))return this.sendRecursively(a,b,c);if(ka(this,"errorOnUnhandledEvent"))throw new Ember.Error(this.toString()+" could not respond to event "+a+" in state "+ka(this,"currentState.path")+".");},getStateByPath:function(a,b){for(var c=b.split("."),d=a,e=0,f=c.length;e<f;e++){d=ka(ka(d,"states"),c[e]);if(!d)break}return d},findStateByPath:function(a,b){for(var c;!c&&a;){c=this.getStateByPath(a,b);a=ka(a,"parentState")}return c},findStatesByPath:function(a,
b){if(b&&b!==""){for(var c=b.split("."),d=[],e=0,f=c.length;e<f;e++){var g=ka(a,"states");if(!g)return;if(g=ka(g,c[e])){a=g;d.push(g)}else return}return d}},goToState:function(){return this.transitionTo.apply(this,arguments)},transitionTo:function(a,b){if(!Ember.empty(a)){var c=b?Array.prototype.slice.call(arguments,1):[],d=ka(this,"currentState")||this,d=this.contextFreeTransition(d,a),c=(new te(d)).normalize(this,c);this.enterState(c);this.triggerSetupContext(c)}},contextFreeTransition:function(a,
b){var c=a.pathsCache[b];if(c)return c;for(var c=this.findStatesByPath(a,b),d=[],e=a;e&&!c;){d.unshift(e);e=ka(e,"parentState");if(!e){c=this.findStatesByPath(this,b);if(!c){Ember.assert('Could not find state for path: "'+b+'"');return}}c=this.findStatesByPath(e,b)}for(;c.length>0&&c[0]===d[0];){e=c.shift();d.shift()}return a.pathsCache[b]={exitStates:d,enterStates:c,resolveState:e}},triggerSetupContext:function(a){var b=a.contexts,c=a.enterStates.length-b.length,a=a.enterStates,d=ka(this,"transitionEvent");
Ember.assert("More contexts provided than states",c>=0);Td.call(a,function(a,e){a.trigger(d,this,b[e-c])},this)},getState:function(a){var b=ka(this,a),c=ka(this,"parentState");if(b)return b;if(c)return c.getState(a)},enterState:function(a){var b=this.enableLogging,c=a.exitStates.slice(0).reverse();Td.call(c,function(a){a.trigger("exit",this)},this);Td.call(a.enterStates,function(a){b&&Ember.Logger.log("STATEMANAGER: Entering "+ka(a,"path"));a.trigger("enter",this)},this);Sd(this,"currentState",a.finalState)}});
var Zb=Ember.get;Ember._ResolvedState=Ember.Object.extend({manager:null,state:null,match:null,object:Ember.computed(function(a,b){if(arguments.length===2)return this._object=b;if(this._object)return this._object;var c=Zb(this,"state"),d=Zb(this,"match"),e=Zb(this,"manager");return c.deserialize(e,d.hash)}).property(),hasPromise:Ember.computed(function(){return Ember.canInvoke(Zb(this,"object"),"then")}).property("object"),promise:Ember.computed(function(){var a=Zb(this,"object");return Ember.canInvoke(a,
"then")?a:{then:function(b){b(a)}}}).property("object"),transition:function(){var a=Zb(this,"manager"),b=Zb(this,"state.path"),c=Zb(this,"object");a.transitionTo(b,c)}});var V=Ember.get,ue=function(a){a=a.toString().split(".");return Ember.String.underscore(a[a.length-1])+"_id"};Ember.Routable=Ember.Mixin.create({init:function(){var a;this.on("connectOutlets",this,this.stashContext);if(a=V(this,"redirectsTo")){Ember.assert("You cannot use `redirectsTo` if you already have a `connectOutlets` method",
this.connectOutlets===Ember.K);this.connectOutlets=function(b){b.transitionTo(a)}}var b=V(this,"route");b===""&&(b="/");this._super();Ember.assert("You cannot use `redirectsTo` on a state that has child states",!a||!!a&&!!V(this,"isLeaf"))},stashContext:function(a,b){var c=this.serialize(a,b);Ember.assert("serialize must return a hash",!c||typeof c==="object");a.setStateMeta(this,"context",b);a.setStateMeta(this,"serialized",c);V(this,"isRoutable")&&!V(a,"isRouting")&&this.updateRoute(a,V(a,"location"))},
updateRoute:function(a,b){if(V(this,"isLeafRoute")){var c=this.absoluteRoute(a);b.setURL(c)}},absoluteRoute:function(a,b){var c=V(this,"parentState"),d="",e;V(c,"isRoutable")&&(d=c.absoluteRoute(a,b));var c=V(this,"routeMatcher"),f=a.getStateMeta(this,"serialized"),g=b=b||{};for(e in f)f.hasOwnProperty(e)&&(g.hasOwnProperty(e)||(g[e]=f[e]));(e=c&&c.generate(b))&&(d=d+"/"+e);return d},isRoutable:Ember.computed(function(){return typeof V(this,"route")==="string"}).cacheable(),isLeafRoute:Ember.computed(function(){return V(this,
"isLeaf")?true:!V(this,"childStates").findProperty("isRoutable")}).cacheable(),routeMatcher:Ember.computed(function(){var a=V(this,"route");if(a)return Ember._RouteMatcher.create({route:a})}).cacheable(),hasContext:Ember.computed(function(){var a=V(this,"routeMatcher");if(a)return a.identifiers.length>0}).cacheable(),modelClass:Ember.computed(function(){var a=V(this,"modelType");return typeof a==="string"?Ember.get(window,a):a}).cacheable(),modelClassFor:function(a){var b;if(b=V(this,"modelClass"))return b;
if(a)if(b=V(this,"routeMatcher")){b=b.identifiers;if(b.length===2)if(b=b[1].match(/^(.*)_id$/)){b=Ember.String.classify(b[1]);return V(a,b)}}},deserialize:function(a,b){var c;if(c=this.modelClassFor(V(a,"namespace"))){Ember.assert("Expected "+c.toString()+" to implement `find` for use in '"+this.get("path")+"' `deserialize`. Please implement the `find` method or overwrite `deserialize`.",c.find);return c.find(b[ue(c)])}return b},serialize:function(a,b){var c,d;if(Ember.empty(b))return"";if(c=this.modelClassFor(V(a,
"namespace"))){c=ue(c);d=V(b,"id");b={};b[c]=d}return b},resolvePath:function(a,b){if(V(this,"isLeafRoute"))return Ember.A();var c=V(this,"childStates"),d,c=Ember.A(c.filterProperty("isRoutable")),c=c.sort(function(a,b){var c=V(a,"routeMatcher.identifiers.length"),d=V(b,"routeMatcher.identifiers.length"),e=V(a,"route"),f=V(b,"route");return e.indexOf(f)===0?-1:f.indexOf(e)===0?1:c!==d?c-d:V(b,"route.length")-V(a,"route.length")}),e=c.find(function(a){if(d=V(a,"routeMatcher").match(b))return true});
Ember.assert("Could not find state for path "+b,!!e);c=Ember._ResolvedState.create({manager:a,state:e,match:d});e=e.resolvePath(a,d.remaining);return Ember.A([c]).pushObjects(e)},routePath:function(a,b){function c(){d.forEach(function(a){a.transition()})}if(!V(this,"isLeafRoute")){var d=this.resolvePath(a,b);if(d.some(function(a){return V(a,"hasPromise")})){a.transitionTo("loading");Ember.assert("Loading state should be the child of a route",Ember.Routable.detect(V(a,"currentState.parentState")));
Ember.assert("Loading state should not be a route",!Ember.Routable.detect(V(a,"currentState")));a.handleStatePromises(d,c)}else c()}},unroutePath:function(a,b){var c=V(this,"parentState");if(c!==a){var b=b.replace(/^(?=[^\/])/,"/"),d=this.absoluteRoute(a);if(V(this,"route")!=="/"){var e=b.indexOf(d),d=b.charAt(d.length);if(e===0&&(d==="/"||d===""))return}a.enterState({exitStates:[this],enterStates:[],finalState:c});a.send("unroutePath",b)}},connectOutlets:Ember.K,navigateAway:Ember.K});Ember.Route=
Ember.State.extend(Ember.Routable);Ember._RouteMatcher=Ember.Object.extend({state:null,init:function(){var a=this.route,b=[],c=1;if(a.charAt(0)==="/")a=this.route=a.substr(1);a=a.replace(/[\-\[\]{}()*+?.,\\\^\$|#\s]/g,"\\$&").replace(/:([a-z_]+)(?=$|\/)/gi,function(a,d){b[c++]=d;return"([^/]+)"});this.identifiers=b;this.regex=RegExp("^/?"+a)},match:function(a){var b=a.match(this.regex);if(b){for(var c=this.identifiers,d={},e=1,f=c.length;e<f;e++)d[c[e]]=b[e];return{remaining:a.substr(b[0].length),
hash:c.length>0?d:null}}},generate:function(a){for(var b=this.identifiers,c=this.route,d,e=1,f=b.length;e<f;e++){d=b[e];c=c.replace(RegExp(":"+d),a[d])}return c}});var gb=Ember.get,md=Ember.set;Ember.Router=Ember.StateManager.extend({initialState:"root",location:"hash",rootURL:"/",transitionEvent:"connectOutlets",transitionTo:function(){this.abortRoutingPromises();this._super.apply(this,arguments)},route:function(a){this.abortRoutingPromises();md(this,"isRouting",true);var b;try{a=a.replace(/^(?=[^\/])/,
"/");this.send("navigateAway");this.send("unroutePath",a);for(b=gb(this,"currentState");b&&!b.get("isRoutable");)b=gb(b,"parentState");var c=b?b.absoluteRoute(this):"",d=a.substr(c.length);this.send("routePath",d)}finally{md(this,"isRouting",false)}for(b=gb(this,"currentState");b&&!b.get("isRoutable");)b=gb(b,"parentState");b&&b.updateRoute(this,gb(this,"location"))},urlFor:function(a,b){var c=gb(this,"currentState")||this,d=this.findStateByPath(c,a);Ember.assert(Ember.String.fmt("Could not find route with path '%@'",
[a]),!!d);Ember.assert("To get a URL for a state, it must have a `route` property.",!!gb(d,"routeMatcher"));c=gb(this,"location");d=d.absoluteRoute(this,b);return c.formatURL(d)},urlForEvent:function(a){var b=Array.prototype.slice.call(arguments,1),c=gb(this,"currentState"),d=c.lookupEventTransition(a);Ember.assert(Ember.String.fmt("You must specify a target state for event '%@' in order to link to it in the current state '%@'.",[a,gb(c,"path")]),!!d);c=this.findStateByPath(c,d);Ember.assert("Your target state name "+
d+" for event "+a+" did not resolve to a state",!!c);b=this.serializeRecursively(c,b,{});return this.urlFor(d,b)},serializeRecursively:function(a,b,c){var d=gb(a,"hasContext")?b.pop():null,d=a.serialize(this,d),e;for(e in d)d.hasOwnProperty(e)&&(c.hasOwnProperty(e)||(c[e]=d[e]));return(a=a.get("parentState"))&&a instanceof Ember.Route?this.serializeRecursively(a,b,c):c},abortRoutingPromises:function(){if(this._routingPromises){this._routingPromises.abort();this._routingPromises=null}},handleStatePromises:function(a,
b){this.abortRoutingPromises();this.set("isLocked",true);var c=this;this._routingPromises=Ember._PromiseChain.create({promises:a.slice(),successCallback:function(){c.set("isLocked",false);b()},failureCallback:function(){throw"Unable to load object";},promiseSuccessCallback:function(a,b){md(a,"object",b[0])},abortCallback:function(){c.set("isLocked",false)}}).start()},init:function(){this._super();var a=gb(this,"location"),b=gb(this,"rootURL");"string"===typeof a&&md(this,"location",Ember.Location.create({implementation:a,
rootURL:b}))},willDestroy:function(){gb(this,"location").destroy()}});var nd=Ember.get;Ember.StateManager.reopen({currentView:Ember.computed(function(){for(var a=nd(this,"currentState"),b;a;){if(nd(a,"isViewState"))if(b=nd(a,"view"))return b;a=nd(a,"parentState")}return null}).property("currentState").cacheable()});var od=Ember.get,Se=Ember.set;Ember.ViewState=Ember.State.extend({isViewState:true,init:function(){Ember.deprecate("Ember.ViewState is deprecated and will be removed from future releases. Consider using the outlet pattern to display nested views instead. For more information, see http://emberjs.com/guides/outlets/.");
return this._super()},enter:function(a){var b=od(this,"view"),c;if(b){if(Ember.View.detect(b)){b=b.create();Se(this,"view",b)}Ember.assert("view must be an Ember.View",b instanceof Ember.View);if(c=a.get("rootView")){a=od(c,"childViews");a.pushObject(b)}else{c=a.get("rootElement")||"body";b.appendTo(c)}}},exit:function(){var a=od(this,"view");a&&(od(a,"parentView")?a.removeFromParent():a.remove())}});(function(){var a=function(){},b=0,c=this.document,d="createRange"in c&&typeof Range!=="undefined"&&
Range.prototype.createContextualFragment,e,f=c.createElement("div");f.innerHTML="<div></div>";f.firstChild.innerHTML="<script><\/script>";e=f.firstChild.innerHTML==="";var g=function(c){var d;d=this instanceof g?this:new a;d.innerHTML=c;c="metamorph-"+b++;d.start=c+"-start";d.end=c+"-end";return d};a.prototype=g.prototype;var h,j,k,l;if(d){h=function(a,b){var d=c.createRange(),e=c.getElementById(a.start),f=c.getElementById(a.end);if(b){d.setStartBefore(e);d.setEndAfter(f)}else{d.setStartAfter(e);
d.setEndBefore(f)}return d};j=function(a,b){var c=h(this,b);c.deleteContents();var d=c.createContextualFragment(a);c.insertNode(d)};d=function(){h(this,true).deleteContents()};f=function(a){var b=c.createRange();b.setStart(a);b.collapse(false);b=b.createContextualFragment(this.outerHTML());a.appendChild(b)};k=function(a){var b=c.createRange(),d=c.getElementById(this.end);b.setStartAfter(d);b.setEndAfter(d);a=b.createContextualFragment(a);b.insertNode(a)};l=function(a){var b=c.createRange(),d=c.getElementById(this.start);
b.setStartAfter(d);b.setEndAfter(d);a=b.createContextualFragment(a);b.insertNode(a)}}else{var m={select:[1,"<select multiple='multiple'>","</select>"],fieldset:[1,"<fieldset>","</fieldset>"],table:[1,"<table>","</table>"],tbody:[2,"<table><tbody>","</tbody></table>"],tr:[3,"<table><tbody><tr>","</tr></tbody></table>"],colgroup:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],map:[1,"<map>","</map>"],_default:[0,"",""]},r=function(a,b){var d=m[a.tagName.toLowerCase()]||m._default,f=d[0],
g=d[1],h=d[2];e&&(b="&shy;"+b);d=c.createElement("div");d.innerHTML=g+b+h;for(g=0;g<=f;g++)d=d.firstChild;if(e){for(f=d;f.nodeType===1&&!f.nodeName;)f=f.firstChild;if(f.nodeType===3&&f.nodeValue.charAt(0)==="\u00ad")f.nodeValue=f.nodeValue.slice(1)}return d},x=function(a){for(;a.parentNode.tagName==="";)a=a.parentNode;return a};j=function(a,b){var d=x(c.getElementById(this.start)),e=c.getElementById(this.end),f=e.parentNode,g,h,j;d.parentNode!==e.parentNode&&e.parentNode.insertBefore(d,e.parentNode.firstChild);
for(g=d.nextSibling;g;){h=g.nextSibling;if(j=g===e)if(b)e=g.nextSibling;else break;g.parentNode.removeChild(g);if(j)break;g=h}for(g=r(d.parentNode,a);g;){h=g.nextSibling;f.insertBefore(g,e);g=h}};d=function(){var a=x(c.getElementById(this.start)),b=c.getElementById(this.end);this.html("");a.parentNode.removeChild(a);b.parentNode.removeChild(b)};f=function(a){for(var b=r(a,this.outerHTML());b;){nextSibling=b.nextSibling;a.appendChild(b);b=nextSibling}};k=function(a){var b=c.getElementById(this.end),
d=b.nextSibling,b=b.parentNode,e;for(e=r(b,a);e;){a=e.nextSibling;b.insertBefore(e,d);e=a}};l=function(a){for(var b=c.getElementById(this.start),d=b.parentNode,a=r(d,a),e=b.nextSibling;a;){b=a.nextSibling;d.insertBefore(a,e);a=b}}}g.prototype.html=function(a){this.checkRemoved();if(a===void 0)return this.innerHTML;j.call(this,a);this.innerHTML=a};g.prototype.replaceWith=function(a){this.checkRemoved();j.call(this,a,true)};g.prototype.remove=d;g.prototype.outerHTML=function(){return this.startTag()+
this.innerHTML+this.endTag()};g.prototype.appendTo=f;g.prototype.after=k;g.prototype.prepend=l;g.prototype.startTag=function(){return"<script id='"+this.start+"' type='text/x-placeholder'><\/script>"};g.prototype.endTag=function(){return"<script id='"+this.end+"' type='text/x-placeholder'><\/script>"};g.prototype.isRemoved=function(){var a=c.getElementById(this.start),b=c.getElementById(this.end);return!a||!b};g.prototype.checkRemoved=function(){if(this.isRemoved())throw Error("Cannot perform operations on a Metamorph that is not in the DOM.");
};this.Metamorph=g})();var pd=Ember.create;Ember.assert("Ember Handlebars requires Handlebars 1.0.beta.5 or greater",window.Handlebars&&window.Handlebars.VERSION.match(/^1\.0\.beta\.[56789]$|^1\.0\.rc\.[123456789]+/));Ember.Handlebars=pd(Handlebars);Ember.Handlebars.helpers=pd(Handlebars.helpers);Ember.Handlebars.Compiler=function(){};Ember.Handlebars.Compiler.prototype=pd(Handlebars.Compiler.prototype);Ember.Handlebars.Compiler.prototype.compiler=Ember.Handlebars.Compiler;Ember.Handlebars.JavaScriptCompiler=
function(){};Ember.Handlebars.JavaScriptCompiler.prototype=pd(Handlebars.JavaScriptCompiler.prototype);Ember.Handlebars.JavaScriptCompiler.prototype.compiler=Ember.Handlebars.JavaScriptCompiler;Ember.Handlebars.JavaScriptCompiler.prototype.namespace="Ember.Handlebars";Ember.Handlebars.JavaScriptCompiler.prototype.initializeBuffer=function(){return"''"};Ember.Handlebars.JavaScriptCompiler.prototype.appendToBuffer=function(a){return"data.buffer.push("+a+");"};Ember.Handlebars.Compiler.prototype.mustache=
function(a){if(!a.params.length&&!a.hash){var b=new Handlebars.AST.IdNode(["_triageMustache"]);if(!a.escaped){a.hash=a.hash||new Handlebars.AST.HashNode([]);a.hash.pairs.push(["unescaped",new Handlebars.AST.StringNode("true")])}a=new Handlebars.AST.MustacheNode([b].concat([a.id]),a.hash,!a.escaped)}return Handlebars.Compiler.prototype.mustache.call(this,a)};Ember.Handlebars.precompile=function(a){var b=Handlebars.parse(a),a={knownHelpers:{action:true,unbound:true,bindAttr:true,template:true,view:true,
_triageMustache:true},data:true,stringParams:true},b=(new Ember.Handlebars.Compiler).compile(b,a);return(new Ember.Handlebars.JavaScriptCompiler).compile(b,a,void 0,true)};Ember.Handlebars.compile=function(a){var b=Handlebars.parse(a),a={data:true,stringParams:true},b=(new Ember.Handlebars.Compiler).compile(b,a),a=(new Ember.Handlebars.JavaScriptCompiler).compile(b,a,void 0,true);return Handlebars.template(a)};var Te=Ember.Handlebars.normalizePath=function(a,b,c){var c=c&&c.keywords||{},d,e;d=b.split(".",
1)[0];if(c.hasOwnProperty(d)){a=c[d];e=true;b=b===d?"":b.substr(d.length+1)}return{root:a,path:b,isKeyword:e}};Ember.Handlebars.getPath=function(a,b,c){b=Te(a,b,c&&c.data);a=b.root;b=b.path;c=Ember.get(a,b);c===void 0&&(a!==window&&Ember.isGlobalPath(b))&&(c=Ember.get(window,b));return c};Ember.Handlebars.registerHelper("helperMissing",function(a,b){var c="";if(b.data)c=b.data.view;throw new Ember.Error(Ember.String.fmt("%@ Handlebars error: Could not find property '%@' on object %@.",[c,a,this]));
});Ember.String.htmlSafe=function(a){return new Handlebars.SafeString(a)};var Ue=Ember.String.htmlSafe;if(Ember.EXTEND_PROTOTYPES)String.prototype.htmlSafe=function(){return Ue(this)};var Ve=Ember.set,We=Ember.get;Ember._Metamorph=Ember.Mixin.create({isVirtual:true,tagName:"",init:function(){this._super();this.morph=Metamorph()},beforeRender:function(a){a.push(this.morph.startTag())},afterRender:function(a){a.push(this.morph.endTag())},createElement:function(){this.outerHTML=this.renderToBuffer().string();
this.clearBuffer()},domManager:{remove:function(a){var b=a.morph;if(!b.isRemoved()){Ve(a,"element",null);a._lastInsert=null;b.remove()}},prepend:function(a,b){b._insertElementLater(function(){a.morph.prepend(b.outerHTML);b.outerHTML=null})},after:function(a,b){b._insertElementLater(function(){a.morph.after(b.outerHTML);b.outerHTML=null})},replace:function(a){var b=a.morph;a.transitionTo("preRender");a.clearRenderedChildren();var c=a.renderToBuffer();Ember.run.schedule("render",this,function(){if(!We(a,
"isDestroyed")){a.invalidateRecursively("element");a._notifyWillInsertElement();b.replaceWith(c.string());a.transitionTo("inDOM");a._notifyDidInsertElement()}})},empty:function(a){a.morph.html("")}}});Ember._MetamorphView=Ember.View.extend(Ember._Metamorph);var lb=Ember.get,ic=Ember.set,Xe=Ember.Handlebars.getPath;Ember._HandlebarsBoundView=Ember._MetamorphView.extend({shouldDisplayFunc:null,preserveContext:false,previousContext:null,displayTemplate:null,inverseTemplate:null,path:null,pathRoot:null,
normalizedValue:Ember.computed(function(){var a=lb(this,"path"),b=lb(this,"pathRoot"),c=lb(this,"valueNormalizerFunc"),d;if(a==="")a=b;else{d=lb(this,"templateData");a=Xe(b,a,{data:d})}return c?c(a):a}).property("path","pathRoot","valueNormalizerFunc").safe_volatile(),rerenderIfNeeded:function(){!lb(this,"isDestroyed")&&lb(this,"normalizedValue")!==this._lastNormalizedValue&&this.rerender()},render:function(a){var b=lb(this,"isEscaped"),c=lb(this,"shouldDisplayFunc"),d=lb(this,"preserveContext"),
e=lb(this,"previousContext"),f=lb(this,"inverseTemplate"),g=lb(this,"displayTemplate"),h=lb(this,"normalizedValue");this._lastNormalizedValue=h;if(c(h)){ic(this,"template",g);if(d)ic(this,"_context",e);else if(g)ic(this,"_context",h);else{h===null||h===void 0?h="":h instanceof Handlebars.SafeString||(h=String(h));b&&(h=Handlebars.Utils.escapeExpression(h));a.push(h);return}}else if(f){ic(this,"template",f);d?ic(this,"_context",e):ic(this,"_context",h)}else ic(this,"template",function(){return""});
return this._super(a)}});var Ud=function(a,b,c,d,e){var f=b.data,g=b.fn,h=b.inverse,j=f.view,k;k=qd(this,a,f);a=k.root;k=k.path;if("object"===typeof this){var l=j.createChildView(Ember._HandlebarsBoundView,{preserveContext:c,shouldDisplayFunc:d,valueNormalizerFunc:e,displayTemplate:g,inverseTemplate:h,path:k,pathRoot:a,previousContext:this,isEscaped:!b.hash.unescaped,templateData:b.data});j.appendChild(l);k!==""&&Ember.addObserver(a,k,function(){Ember.run.once(l,"rerenderIfNeeded")})}else f.buffer.push(rd(a,
k,b))},Ye=Ember.get,Vd=Ember.String.fmt,rd=Ember.Handlebars.getPath,qd=Ember.Handlebars.normalizePath,ve=Ember.ArrayPolyfills.forEach,vb=Ember.Handlebars,tc=vb.helpers;vb.registerHelper("_triageMustache",function(a,b){Ember.assert("You cannot pass more than one argument to the _triageMustache helper",arguments.length<=2);return tc[a]?tc[a].call(this,b):tc.bind.apply(this,arguments)});vb.registerHelper("bind",function(a,b){Ember.assert("You cannot pass more than one argument to the bind helper",arguments.length<=
2);return Ud.call(b.contexts&&b.contexts[0]||this,a,b,false,function(a){return!Ember.none(a)})});vb.registerHelper("boundIf",function(a,b){var c=function(a){return Ember.typeOf(a)==="array"?Ye(a,"length")!==0:!!a};return Ud.call(b.contexts&&b.contexts[0]||this,a,b,true,c,c)});vb.registerHelper("with",function(a,b){if(arguments.length===4){var c,d,e;Ember.assert("If you pass more than one argument to the with helper, it must be in the form #with foo as bar",arguments[1]==="as");b=arguments[3];c=arguments[2];
d=arguments[0];Ember.assert("You must pass a block to the with helper",b.fn&&b.fn!==Handlebars.VM.noop);if(Ember.isGlobalPath(d))Ember.bind(b.data.keywords,c,d);else{e=qd(this,d,b.data);d=e.path;e=e.root;var f=Ember.$.expando+Ember.guidFor(e);b.data.keywords[f]=e;Ember.bind(b.data.keywords,c,d?f+"."+d:f)}return Ud.call(this,d,b.fn,true,function(a){return!Ember.none(a)})}Ember.assert("You must pass exactly one argument to the with helper",arguments.length===2);Ember.assert("You must pass a block to the with helper",
b.fn&&b.fn!==Handlebars.VM.noop);return tc.bind.call(b.contexts[0],a,b)});vb.registerHelper("if",function(a,b){Ember.assert("You must pass exactly one argument to the if helper",arguments.length===2);Ember.assert("You must pass a block to the if helper",b.fn&&b.fn!==Handlebars.VM.noop);return tc.boundIf.call(b.contexts[0],a,b)});vb.registerHelper("unless",function(a,b){Ember.assert("You must pass exactly one argument to the unless helper",arguments.length===2);Ember.assert("You must pass a block to the unless helper",
b.fn&&b.fn!==Handlebars.VM.noop);var c=b.fn;b.fn=b.inverse;b.inverse=c;return tc.boundIf.call(b.contexts[0],a,b)});vb.registerHelper("bindAttr",function(a){var b=a.hash;Ember.assert("You must specify at least one hash argument to bindAttr",!!Ember.keys(b).length);var c=a.data.view,d=[],e=this,f=++Ember.$.uuid,g=b["class"];if(g!==null&&g!==void 0){g=vb.bindClasses(this,g,c,f,a);d.push('class="'+Handlebars.Utils.escapeExpression(g.join(" "))+'"');delete b["class"]}g=Ember.keys(b);ve.call(g,function(g){var h=
b[g],j,k;Ember.assert(Vd("You must provide a String for a bound attribute, not %@",[h]),typeof h==="string");k=qd(e,h,a.data);j=k.root;h=k.path;k=h==="this"?j:rd(j,h,a);var l=Ember.typeOf(k);Ember.assert(Vd("Attributes must be numbers, strings or booleans, not %@",[k]),k===null||k===void 0||l==="number"||l==="string"||l==="boolean");var m,r;m=function(){var b=rd(j,h,a);Ember.assert(Vd("Attributes must be numbers, strings or booleans, not %@",[b]),b===null||b===void 0||typeof b==="number"||typeof b===
"string"||typeof b==="boolean");var d=c.$("[data-bindattr-"+f+"='"+f+"']");d.length===0?Ember.removeObserver(j,h,r):Ember.View.applyAttributeBindings(d,g,b)};r=function(){Ember.run.once(m)};h!=="this"&&Ember.addObserver(j,h,r);l==="string"||l==="number"&&!isNaN(k)?d.push(g+'="'+Handlebars.Utils.escapeExpression(k)+'"'):k&&l==="boolean"&&d.push(g+'="'+g+'"')},this);d.push("data-bindattr-"+f+'="'+f+'"');return new vb.SafeString(d.join(" "))});vb.bindClasses=function(a,b,c,d,e){var f=[],g,h,j,k=function(a,
b,c){var d=b.path,a=d==="this"?a:d===""?true:rd(a,d,c);return Ember.View._classStringForValue(d,a,b.className,b.falsyClassName)};ve.call(b.split(" "),function(b){var l,m,r,x=Ember.View._parsePropertyPath(b),o=x.path,n=a;if(o!==""&&o!=="this"){b=qd(a,o,e.data);n=b.root;o=b.path}m=function(){g=k(n,x,e);j=d?c.$("[data-bindattr-"+d+"='"+d+"']"):c.$();if(j.length===0)Ember.removeObserver(n,o,r);else{l&&j.removeClass(l);if(g){j.addClass(g);l=g}else l=null}};r=function(){Ember.run.once(m)};o!==""&&o!=="this"&&
Ember.addObserver(n,o,r);if(h=k(n,x,e)){f.push(h);l=h}});return f};var we=Ember.get,sd=Ember.Handlebars,Ze=Ember.VIEW_PRESERVES_CONTEXT;sd.ViewHelper=Ember.Object.create({propertiesFromHTMLOptions:function(a,b){var c=a.hash,d=a.data,e={},f=c["class"],g=false;if(c.id){e.elementId=c.id;g=true}if(f){f=f.split(" ");e.classNames=f;g=true}if(c.classBinding){e.classNameBindings=c.classBinding.split(" ");g=true}if(c.classNameBindings){if(e.classNameBindings===void 0)e.classNameBindings=[];e.classNameBindings=
e.classNameBindings.concat(c.classNameBindings.split(" "));g=true}if(c.attributeBindings){Ember.assert("Setting 'attributeBindings' via Handlebars is not allowed. Please subclass Ember.View and set it there instead.");e.attributeBindings=null;g=true}if(g){c=Ember.$.extend({},c);delete c.id;delete c["class"];delete c.classBinding}for(var h in c)if(c.hasOwnProperty(h)&&Ember.IS_BINDING.test(h)&&typeof c[h]==="string")(f=this.contextualizeBindingPath(c[h],d))&&(c[h]=f);if(e.classNameBindings)for(var j in e.classNameBindings){h=
e.classNameBindings[j];if(typeof h==="string"){h=Ember.View._parsePropertyPath(h);(f=this.contextualizeBindingPath(h.path,d))&&(e.classNameBindings[j]=f+h.classNames)}}e.bindingContext=b;return Ember.$.extend(c,e)},contextualizeBindingPath:function(a,b){return Ember.Handlebars.normalizePath(null,a,b).isKeyword?"templateData.keywords."+a:Ember.isGlobalPath(a)?null:a==="this"?"bindingContext":"bindingContext."+a},helper:function(a,b,c){var d=c.data,e=c.fn,f;if("string"===typeof b){f=sd.getPath(a,b,
c);Ember.assert("Unable to find view at path '"+b+"'",!!f)}else f=b;Ember.assert(Ember.String.fmt("You must pass a view class to the #view helper, not %@ (%@)",[b,f]),Ember.View.detect(f));b=this.propertiesFromHTMLOptions(c,a);d=d.view;b.templateData=c.data;if(e){Ember.assert("You cannot provide a template block if you also specified a templateName",!we(b,"templateName")&&!we(f.proto(),"templateName"));b.template=e}if(Ze&&!f.proto().controller&&!f.proto().controllerBinding&&!b.controller&&!b.controllerBinding)b._context=
a;d.appendChild(f,b)}});sd.registerHelper("view",function(a,b){Ember.assert("The view helper only takes a single argument",arguments.length<=2);if(a&&a.data&&a.data.isRenderData){b=a;a="Ember.View"}return sd.ViewHelper.helper(this,a,b)});var xe=Ember.get,Wd=Ember.Handlebars.getPath,ye=Ember.String.fmt;Ember.Handlebars.registerHelper("collection",function(a,b){if(a&&a.data&&a.data.isRenderData){b=a;a=void 0;Ember.assert("You cannot pass more than one argument to the collection helper",arguments.length===
1)}else Ember.assert("You cannot pass more than one argument to the collection helper",arguments.length===2);var c=b.fn,d=b.data,e=b.inverse,f;f=a?Wd(this,a,b):Ember.CollectionView;Ember.assert(ye("%@ #collection: Could not find collection class %@",[d.view,a]),!!f);var g=b.hash,h={},j,k;j=g.itemViewClass;var l=f.proto();delete g.itemViewClass;k=j?Wd(l,j,b):l.itemViewClass;Ember.assert(ye("%@ #collection: Could not find itemViewClass %@",[d.view,j]),!!k);for(var m in g)if(g.hasOwnProperty(m))if(j=
m.match(/^item(.)(.*)$/)){h[j[1].toLowerCase()+j[2]]=g[m];delete g[m]}if(c){h.template=c;delete b.fn}var r;if(e&&e!==Handlebars.VM.noop){r=xe(l,"emptyViewClass");r=r.extend({template:e,tagName:h.tagName})}else g.emptyViewClass&&(r=Wd(this,g.emptyViewClass,b));g.emptyView=r;if(g.eachHelper==="each"){h._context=Ember.computed(function(){return xe(this,"content")}).property("content");delete g.eachHelper}c=Ember.Handlebars.ViewHelper.propertiesFromHTMLOptions({data:d,hash:h},this);g.itemViewClass=k.extend(c);
return Ember.Handlebars.helpers.view.call(this,f,b)});var $e=Ember.Handlebars.getPath;Ember.Handlebars.registerHelper("unbound",function(a,b){return $e(b.contexts&&b.contexts[0]||this,a,b)});var af=Ember.Handlebars.getPath,bf=Ember.Handlebars.normalizePath;Ember.Handlebars.registerHelper("log",function(a,b){var c=bf(b.contexts&&b.contexts[0]||this,a,b.data),d=c.root,c=c.path,d=c==="this"?d:af(d,c,b);Ember.Logger.log(d)});Ember.Handlebars.registerHelper("debugger",function(){debugger});var Xd=Ember.get,
cf=Ember.set;Ember.Handlebars.EachView=Ember.CollectionView.extend(Ember._Metamorph,{itemViewClass:Ember._MetamorphView,emptyViewClass:Ember._MetamorphView,createChildView:function(a,b){var a=this._super(a,b),c=Xd(this,"keyword");if(c){var d=Xd(a,"templateData"),d=Ember.copy(d);d.keywords=a.cloneKeywords();cf(a,"templateData",d);var e=Xd(a,"content");d.keywords[c]=e}return a}});Ember.Handlebars.registerHelper("each",function(a,b){if(arguments.length===4){Ember.assert("If you pass more than one argument to the each helper, it must be in the form #each foo in bar",
arguments[1]==="in");var c=arguments[0],b=arguments[3],a=arguments[2];a===""&&(a="this");b.hash.keyword=c}else b.hash.eachHelper="each";Ember.assert("You must pass a block to the each helper",b.fn&&b.fn!==Handlebars.VM.noop);b.hash.contentBinding=a;return Ember.Handlebars.helpers.collection.call(this,"Ember.Handlebars.EachView",b)});Ember.Handlebars.registerHelper("template",function(a,b){Ember.assert("Unable to find template with name '"+a+"'.",!!Ember.TEMPLATES[a]);Ember.TEMPLATES[a](this,{data:b.data})});
var td=Ember.Handlebars,ze=td.getPath,Ae=Ember.get,df=Array.prototype.slice,ud=td.ActionHelper={registeredActions:{}};ud.registerAction=function(a,b){var c=(++Ember.$.uuid).toString();ud.registeredActions[c]={eventName:b.eventName,handler:function(c){var d=c.which>1,d=c.shiftKey||(c.metaKey||c.altKey||c.ctrlKey)||d;if(!b.link||!d){c.preventDefault();c.view=b.view;if(b.hasOwnProperty("context"))c.context=b.context;if(b.hasOwnProperty("contexts"))c.contexts=b.contexts;d=b.target;if(d.isState&&typeof d.send===
"function")return d.send(a,c);Ember.assert(Ember.String.fmt("Target %@ does not have action %@",[d,a]),d[a]);return d[a].call(d,c)}}};b.view.on("willRerender",function(){delete ud.registeredActions[c]});return c};td.registerHelper("action",function(a){var b=arguments[arguments.length-1],c=df.call(arguments,1,-1),d=b.hash,e=b.data.view,f,g,h={eventName:d.on||"click"};h.view=e=Ae(e,"concreteView");if(d.target)f=ze(this,d.target,b);else if(g=b.data.keywords.controller)f=Ae(g,"target");h.target=f=f||
e;if(c.length){h.contexts=c=Ember.EnumerableUtils.map(c,function(a){return ze(this,a,b)},this);h.context=c[0]}e=[];if(d.href&&f.urlForEvent){c=f.urlForEvent.apply(f,[a].concat(c));e.push('href="'+c+'"');h.link=true}h=ud.registerAction(a,h);e.push('data-ember-action="'+h+'"');return new td.SafeString(e.join(" "))});var Yd=Ember.get;Ember.Handlebars.registerHelper("yield",function(a){for(var b=a.data.view;b&&!Yd(b,"layout");)b=Yd(b,"parentView");Ember.assert("You called yield in a template that was not a layout",
!!b);(b=Yd(b,"template"))&&b(this,a)});Ember.Handlebars.registerHelper("outlet",function(a,b){if(a&&a.data&&a.data.isRenderData){b=a;a="view"}b.hash.currentViewBinding="controller."+a;return Ember.Handlebars.helpers.view.call(this,Ember.ContainerView,b)});var ef=Ember.set;Ember.Checkbox=Ember.View.extend({classNames:["ember-checkbox"],tagName:"input",attributeBindings:["type","checked","disabled","tabindex"],type:"checkbox",checked:false,disabled:false,init:function(){this._super();this.on("change",
this,this._updateElementValue)},_updateElementValue:function(){ef(this,"checked",this.$().prop("checked"))}});var ff=Ember.set;Ember.TextSupport=Ember.Mixin.create({value:"",attributeBindings:["placeholder","disabled","maxlength","tabindex"],placeholder:null,disabled:false,maxlength:null,insertNewline:Ember.K,cancel:Ember.K,init:function(){this._super();this.on("focusOut",this,this._elementValueDidChange);this.on("change",this,this._elementValueDidChange);this.on("keyUp",this,this.interpretKeyEvents)},
interpretKeyEvents:function(a){var b=Ember.TextSupport.KEY_EVENTS[a.keyCode];this._elementValueDidChange();if(b)return this[b](a)},_elementValueDidChange:function(){ff(this,"value",this.$().val())}});Ember.TextSupport.KEY_EVENTS={13:"insertNewline",27:"cancel"};Ember.TextField=Ember.View.extend(Ember.TextSupport,{classNames:["ember-text-field"],tagName:"input",attributeBindings:["type","value","size"],value:"",type:"text",size:null});var jc=Ember.get,vd=Ember.set;Ember.Button=Ember.View.extend(Ember.TargetActionSupport,
{classNames:["ember-button"],classNameBindings:["isActive"],tagName:"button",propagateEvents:false,attributeBindings:["type","disabled","href","tabindex"],targetObject:Ember.computed(function(){var a=jc(this,"target"),b=jc(this,"context"),c=jc(this,"templateData");return typeof a!=="string"?a:Ember.Handlebars.getPath(b,a,{data:c})}).property("target").cacheable(),type:Ember.computed(function(a,b){var c=this.get("tagName");if(b!==void 0)this._type=b;if(this._type!==void 0)return this._type;if(c===
"input"||c==="button")return"button"}).property("tagName").cacheable(),disabled:false,href:Ember.computed(function(){return this.get("tagName")==="a"?"#":null}).property("tagName").cacheable(),mouseDown:function(){if(!jc(this,"disabled")){vd(this,"isActive",true);this._mouseEntered=this._mouseDown=true}return jc(this,"propagateEvents")},mouseLeave:function(){if(this._mouseDown){vd(this,"isActive",false);this._mouseEntered=false}},mouseEnter:function(){if(this._mouseDown){vd(this,"isActive",true);
this._mouseEntered=true}},mouseUp:function(){if(jc(this,"isActive")){this.triggerAction();vd(this,"isActive",false)}this._mouseEntered=this._mouseDown=false;return jc(this,"propagateEvents")},keyDown:function(a){(a.keyCode===13||a.keyCode===32)&&this.mouseDown()},keyUp:function(a){(a.keyCode===13||a.keyCode===32)&&this.mouseUp()},touchStart:function(a){return this.mouseDown(a)},touchEnd:function(a){return this.mouseUp(a)},init:function(){Ember.deprecate("Ember.Button is deprecated and will be removed from future releases. Consider using the `{{action}}` helper.");
this._super()}});var gf=Ember.get;Ember.TextArea=Ember.View.extend(Ember.TextSupport,{classNames:["ember-text-area"],tagName:"textarea",attributeBindings:["rows","cols"],rows:null,cols:null,_updateElementValue:Ember.observer(function(){var a=gf(this,"value"),b=this.$();b&&a!==b.val()&&b.val(a)},"value"),init:function(){this._super();this.on("didInsertElement",this,this._updateElementValue)}});Ember.TabContainerView=Ember.View.extend({init:function(){Ember.deprecate("Ember.TabContainerView is deprecated and will be removed from future releases.");
this._super()}});var Be=Ember.get;Ember.TabPaneView=Ember.View.extend({tabsContainer:Ember.computed(function(){return this.nearestInstanceOf(Ember.TabContainerView)}).property().safe_volatile(),isVisible:Ember.computed(function(){return Be(this,"viewName")===Be(this,"tabsContainer.currentView")}).property("tabsContainer.currentView").safe_volatile(),init:function(){Ember.deprecate("Ember.TabPaneView is deprecated and will be removed from future releases.");this._super()}});var hf=Ember.get,jf=Ember.setPath;
Ember.TabView=Ember.View.extend({tabsContainer:Ember.computed(function(){return this.nearestInstanceOf(Ember.TabContainerView)}).property().safe_volatile(),mouseUp:function(){jf(this,"tabsContainer.currentView",hf(this,"value"))},init:function(){Ember.deprecate("Ember.TabView is deprecated and will be removed from future releases.");this._super()}});var wd=Ember.set,ba=Ember.get,Zd=Ember.EnumerableUtils.indexOf,kf=Ember.EnumerableUtils.indexesOf;Ember.Select=Ember.View.extend({tagName:"select",classNames:["ember-select"],
defaultTemplate:Ember.Handlebars.compile('{{#if view.prompt}}<option value>{{view.prompt}}</option>{{/if}}{{#each view.content}}{{view Ember.SelectOption contentBinding="this"}}{{/each}}'),attributeBindings:["multiple","tabindex"],multiple:false,content:null,selection:null,value:Ember.computed(function(a,b){if(arguments.length===2)return b;var c=ba(this,"optionValuePath").replace(/^content\.?/,"");return c?ba(this,"selection."+c):ba(this,"selection")}).property("selection").cacheable(),prompt:null,
optionLabelPath:"content",optionValuePath:"content",_change:function(){ba(this,"multiple")?this._changeMultiple():this._changeSingle()},selectionDidChange:Ember.observer(function(){var a=ba(this,"selection"),b=Ember.isArray(a);ba(this,"multiple")?b?this._selectionDidChangeMultiple():wd(this,"selection",Ember.A([a])):this._selectionDidChangeSingle()},"selection"),valueDidChange:Ember.observer(function(){var a=ba(this,"content"),b=ba(this,"value"),c=ba(this,"optionValuePath").replace(/^content\.?/,
""),d=c?ba(this,"selection."+c):ba(this,"selection");if(b!==d){a=a.find(function(a){return b===(c?ba(a,c):a)});this.set("selection",a)}},"value"),_triggerChange:function(){ba(this,"selection")&&this.selectionDidChange();this._change()},_changeSingle:function(){var a=this.$()[0].selectedIndex,b=ba(this,"content"),c=ba(this,"prompt");if(b)if(c&&a===0)wd(this,"selection",null);else{c&&(a=a-1);wd(this,"selection",b.objectAt(a))}},_changeMultiple:function(){var a=this.$("option:selected"),b=ba(this,"prompt")?
1:0,c=ba(this,"content");if(c&&a){a=a.map(function(){return this.index-b}).toArray();wd(this,"selection",c.objectsAt(a))}},_selectionDidChangeSingle:function(){var a=this.get("element");if(a){var b=ba(this,"content"),c=ba(this,"selection"),b=b?Zd(b,c):-1;ba(this,"prompt")&&(b=b+1);if(a)a.selectedIndex=b}},_selectionDidChangeMultiple:function(){var a=ba(this,"content"),b=ba(this,"selection"),c=a?kf(a,b):[-1],d=ba(this,"prompt")?1:0,a=this.$("option"),e;a&&a.each(function(){e=this.index>-1?this.index+
d:-1;this.selected=Zd(c,e)>-1})},init:function(){this._super();this.on("didInsertElement",this,this._triggerChange);this.on("change",this,this._change)}});Ember.SelectOption=Ember.View.extend({tagName:"option",attributeBindings:["value","selected"],defaultTemplate:function(a,b){b={data:b.data,hash:{}};Ember.Handlebars.helpers.bind.call(a,"view.label",b)},init:function(){this.labelPathDidChange();this.valuePathDidChange();this._super()},selected:Ember.computed(function(){var a=ba(this,"content"),b=
ba(this,"parentView.selection");return ba(this,"parentView.multiple")?b&&Zd(b,a)>-1:a==b}).property("content","parentView.selection").safe_volatile(),labelPathDidChange:Ember.observer(function(){var a=ba(this,"parentView.optionLabelPath");a&&Ember.defineProperty(this,"label",Ember.computed(function(){return ba(this,a)}).property(a).cacheable())},"parentView.optionLabelPath"),valuePathDidChange:Ember.observer(function(){var a=ba(this,"parentView.optionValuePath");a&&Ember.defineProperty(this,"value",
Ember.computed(function(){return ba(this,a)}).property(a).cacheable())},"parentView.optionValuePath")});var Ce=function(){Ember.Handlebars.bootstrap(Ember.$(document))};Ember.Handlebars.bootstrap=function(a){Ember.$('script[type="text/x-handlebars"], script[type="text/x-raw-handlebars"]',a).each(function(){var a=Ember.$(this);a.attr("type");var b=a.attr("type")==="text/x-raw-handlebars"?Ember.$.proxy(Handlebars.compile,Handlebars):Ember.$.proxy(Ember.Handlebars.compile,Ember.Handlebars),c=a.attr("data-template-name")||
a.attr("id"),b=b(a.html()),d;if(c){Ember.TEMPLATES[c]=b;a.remove()}else{if(a.parents("head").length!==0)throw new Ember.Error("Template found in <head> without a name specified. Please provide a data-template-name attribute.\n"+a.html());c=(c=a.attr("data-view"))?Ember.get(c):Ember.View;d=a.attr("data-element-id");b={template:b};if(d)b.elementId=d;c=c.create(b);c._insertElementLater(function(){a.replaceWith(this.$());a=null})}})};Ember.$(document).ready(Ce);Ember.onLoad("application",Ce);return Ember});
define("bridge/ember",["lib/ember-1.0.pre"],function(a){return a});
define("util/tooltip",["bridge/jquery"],function(a){var b=function(b,e){this.elements=b;this.options=a.extend({},this.defaults,e);this.is_touch=navigator.userAgent.match(/(iPad|iPod|iPhone|Android)/)?true:false;this.init()};b.prototype={defaults:{arrow_css_class:"arrow",arrow_edge_margin:10,css_class:"gb-tooltip",fade_speed:"fast",horizontal_adjust_px:20,hover_delay:400,small_screen_max_width:600,vertical_adjust_px:24,width:null},build_tooltip:function(b){return a('<div class="'+this.options.css_class+
'">'+b+'<div class="arrow"></div></div>')},position_tooltip:function(b,e,g){var k=e,j=a(b).width(),p=a(window).width(),o=a(window).scrollLeft();e-o+j>=p&&(e=p-j-this.options.horizontal_adjust_px+o);e<o&&(e=o);p=a(b).height();b.css({left:e,top:g-p-this.options.vertical_adjust_px});b=a("."+this.options.css_class+" ."+this.options.arrow_css_class);e=k-e;e>j&&(e=j-this.options.arrow_edge_margin);if(e<=0)e=this.options.arrow_edge_margin;b.css({left:e})},show_tooltip:function(b,e,g){a("."+this.options.css_class).length>
0&&this.hide_tooltip(false);b=this.build_tooltip(this.options.content);this.options.width!==null&&b.css({width:this.options.width});a("body").append(b);this.position_tooltip(b,e,g);a(b).fadeIn(this.options.fade_speed)},hide_tooltip:function(b){var e;typeof b==="undefined"&&(e="true");var g="."+this.options.css_class;e?a(g).fadeOut(this.options.fade_speed,function(){a(g).remove()}):a(g).remove()},init:function(){var b=this,e=false;this.elements.each(function(g,k){b.is_touch?a(k).bind({"touchend.Tooltip":function(g){var p=
a(k).offset();b.show_tooltip(k,p.left,p.top);g.stopPropagation();e=false}}):a(k).bind({"mouseenter.Tooltip":function(){var e=a(k).offset();this.timeout_id=window.setTimeout(function(a){b.show_tooltip(a,e.left,e.top)},b.options.hover_delay,k)},"mouseleave.Tooltip":function(){if(typeof this.timeout_id==="number"){window.clearTimeout(this.timeout_id);delete this.timeout_id}b.hide_tooltip()}})});if(b.is_touch){a("body").bind({"touchend.Tooltip_dismiss":function(){e===false&&b.hide_tooltip();e=false},
"touchmove.Tooltip":function(){e=true}});a(window).bind({orientationchange:function(){b.hide_tooltip()}})}}};a.fn.tooltip=function(a){new b(this,a);return this}});
define("simplekey/Glossarizer",["bridge/ember","bridge/jquery","util/tooltip"],function(a,b){return a.Object.extend({_escape:function(a){return a.replace(/[-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},init:function(){this.n=0;var a=[],b=this.glossaryblob.definitions;for(term in b)_.has(b,term)&&a.push(this._escape(term));a="\\b("+a.join("|")+")([\\+\\-]|\\b)";this.regexp=RegExp(a,"gi")},markup:function(a){a.innerHTML=a.innerHTML.replace(this.regexp,'<span class="gloss">$1$2</span>');var e=this,g=this.glossaryblob.definitions,
k=this.glossaryblob.images;b(".gloss",a).each(function(a,d){e.n++;var o="gloss"+e.n,z=d.innerHTML.toLowerCase(),B=k[z];d.id=o;z=g[z];z===void 0&&(z=g[d.innerHTML]);b("#"+o).tooltip({content:'<p class="glosstip">'+(B?'<img src="'+B+'">':"")+z+"</p>"})})}})});
define("tools/underscore-min",[],function(){(function(){function a(b,d,e){if(b===d)return b!==0||1/b==1/d;if(b==null||d==null)return b===d;if(b._chain)b=b._wrapped;if(d._chain)d=d._wrapped;if(b.isEqual&&n.isFunction(b.isEqual))return b.isEqual(d);if(d.isEqual&&n.isFunction(d.isEqual))return d.isEqual(b);var f=o.call(b);if(f!=o.call(d))return false;switch(f){case "[object String]":return b==String(d);case "[object Number]":return b!=+b?d!=+d:b==0?1/b==1/d:b==+d;case "[object Date]":case "[object Boolean]":return+b==
+d;case "[object RegExp]":return b.source==d.source&&b.global==d.global&&b.multiline==d.multiline&&b.ignoreCase==d.ignoreCase}if(typeof b!="object"||typeof d!="object")return false;for(var g=e.length;g--;)if(e[g]==b)return true;e.push(b);var g=0,j=true;if(f=="[object Array]"){if(g=b.length,j=g==d.length)for(;g--;)if(!(j=g in b==g in d&&a(b[g],d[g],e)))break}else{if("constructor"in b!="constructor"in d||b.constructor!=d.constructor)return false;for(var k in b)if(n.has(b,k)&&(g++,!(j=n.has(d,k)&&a(b[k],
d[k],e))))break;if(j){for(k in d)if(n.has(d,k)&&!g--)break;j=!g}}e.pop();return j}var b=this,d=b._,e={},g=Array.prototype,k=Object.prototype,j=g.slice,p=g.unshift,o=k.toString,z=k.hasOwnProperty,B=g.forEach,y=g.map,F=g.reduce,C=g.reduceRight,A=g.filter,w=g.every,K=g.some,W=g.indexOf,L=g.lastIndexOf,k=Array.isArray,X=Object.keys,qa=Function.prototype.bind,n=function(a){return new O(a)};if(typeof exports!=="undefined"){if(typeof module!=="undefined"&&module.exports)exports=module.exports=n;exports._=
n}else b._=n;n.VERSION="1.3.1";var E=n.each=n.forEach=function(a,b,d){if(a!=null)if(B&&a.forEach===B)a.forEach(b,d);else if(a.length===+a.length)for(var f=0,g=a.length;f<g;f++){if(f in a&&b.call(d,a[f],f,a)===e)break}else for(f in a)if(n.has(a,f)&&b.call(d,a[f],f,a)===e)break};n.map=n.collect=function(a,b,d){var e=[];if(a==null)return e;if(y&&a.map===y)return a.map(b,d);E(a,function(a,f,g){e[e.length]=b.call(d,a,f,g)});if(a.length===+a.length)e.length=a.length;return e};n.reduce=n.foldl=n.inject=
function(a,b,d,e){var f=arguments.length>2;a==null&&(a=[]);if(F&&a.reduce===F)return e&&(b=n.bind(b,e)),f?a.reduce(b,d):a.reduce(b);E(a,function(a,g,j){f?d=b.call(e,d,a,g,j):(d=a,f=true)});if(!f)throw new TypeError("Reduce of empty array with no initial value");return d};n.reduceRight=n.foldr=function(a,b,d,e){var f=arguments.length>2;a==null&&(a=[]);if(C&&a.reduceRight===C)return e&&(b=n.bind(b,e)),f?a.reduceRight(b,d):a.reduceRight(b);var g=n.toArray(a).reverse();e&&!f&&(b=n.bind(b,e));return f?
n.reduce(g,b,d,e):n.reduce(g,b)};n.find=n.detect=function(a,b,d){var e;ma(a,function(a,f,g){if(b.call(d,a,f,g))return e=a,true});return e};n.filter=n.select=function(a,b,d){var e=[];if(a==null)return e;if(A&&a.filter===A)return a.filter(b,d);E(a,function(a,f,g){b.call(d,a,f,g)&&(e[e.length]=a)});return e};n.reject=function(a,b,d){var e=[];if(a==null)return e;E(a,function(a,f,g){b.call(d,a,f,g)||(e[e.length]=a)});return e};n.every=n.all=function(a,b,d){var f=true;if(a==null)return f;if(w&&a.every===
w)return a.every(b,d);E(a,function(a,g,j){if(!(f=f&&b.call(d,a,g,j)))return e});return f};var ma=n.some=n.any=function(a,b,d){b||(b=n.identity);var f=false;if(a==null)return f;if(K&&a.some===K)return a.some(b,d);E(a,function(a,g,j){if(f||(f=b.call(d,a,g,j)))return e});return!!f};n.include=n.contains=function(a,b){return a==null?false:W&&a.indexOf===W?a.indexOf(b)!=-1:ma(a,function(a){return a===b})};n.invoke=function(a,b){var d=j.call(arguments,2);return n.map(a,function(a){return(n.isFunction(b)?
b||a:a[b]).apply(a,d)})};n.pluck=function(a,b){return n.map(a,function(a){return a[b]})};n.max=function(a,b,d){if(!b&&n.isArray(a))return Math.max.apply(Math,a);if(!b&&n.isEmpty(a))return-Infinity;var e={computed:-Infinity};E(a,function(a,f,g){f=b?b.call(d,a,f,g):a;f>=e.computed&&(e={value:a,computed:f})});return e.value};n.min=function(a,b,d){if(!b&&n.isArray(a))return Math.min.apply(Math,a);if(!b&&n.isEmpty(a))return Infinity;var e={computed:Infinity};E(a,function(a,f,g){f=b?b.call(d,a,f,g):a;f<
e.computed&&(e={value:a,computed:f})});return e.value};n.shuffle=function(a){var b=[],d;E(a,function(a,e){e==0?b[0]=a:(d=Math.floor(Math.random()*(e+1)),b[e]=b[d],b[d]=a)});return b};n.sortBy=function(a,b,d){return n.pluck(n.map(a,function(a,e,f){return{value:a,criteria:b.call(d,a,e,f)}}).sort(function(a,b){var d=a.criteria,e=b.criteria;return d<e?-1:d>e?1:0}),"value")};n.groupBy=function(a,b){var d={},e=n.isFunction(b)?b:function(a){return a[b]};E(a,function(a,b){var f=e(a,b);(d[f]||(d[f]=[])).push(a)});
return d};n.sortedIndex=function(a,b,d){d||(d=n.identity);for(var e=0,f=a.length;e<f;){var g=e+f>>1;d(a[g])<d(b)?e=g+1:f=g}return e};n.toArray=function(a){return!a?[]:a.toArray?a.toArray():n.isArray(a)?j.call(a):n.isArguments(a)?j.call(a):n.values(a)};n.size=function(a){return n.toArray(a).length};n.first=n.head=function(a,b,d){return b!=null&&!d?j.call(a,0,b):a[0]};n.initial=function(a,b,d){return j.call(a,0,a.length-(b==null||d?1:b))};n.last=function(a,b,d){return b!=null&&!d?j.call(a,Math.max(a.length-
b,0)):a[a.length-1]};n.rest=n.tail=function(a,b,d){return j.call(a,b==null||d?1:b)};n.compact=function(a){return n.filter(a,function(a){return!!a})};n.flatten=function(a,b){return n.reduce(a,function(a,d){if(n.isArray(d))return a.concat(b?d:n.flatten(d));a[a.length]=d;return a},[])};n.without=function(a){return n.difference(a,j.call(arguments,1))};n.uniq=n.unique=function(a,b,d){var d=d?n.map(a,d):a,e=[];n.reduce(d,function(d,f,g){if(0==g||(b===true?n.last(d)!=f:!n.include(d,f))){d[d.length]=f;e[e.length]=
a[g]}return d},[]);return e};n.union=function(){return n.uniq(n.flatten(arguments,true))};n.intersection=n.intersect=function(a){var b=j.call(arguments,1);return n.filter(n.uniq(a),function(a){return n.every(b,function(b){return n.indexOf(b,a)>=0})})};n.difference=function(a){var b=n.flatten(j.call(arguments,1));return n.filter(a,function(a){return!n.include(b,a)})};n.zip=function(){for(var a=j.call(arguments),b=n.max(n.pluck(a,"length")),d=Array(b),e=0;e<b;e++)d[e]=n.pluck(a,""+e);return d};n.indexOf=
function(a,b,d){if(a==null)return-1;var e;if(d)return d=n.sortedIndex(a,b),a[d]===b?d:-1;if(W&&a.indexOf===W)return a.indexOf(b);d=0;for(e=a.length;d<e;d++)if(d in a&&a[d]===b)return d;return-1};n.lastIndexOf=function(a,b){if(a==null)return-1;if(L&&a.lastIndexOf===L)return a.lastIndexOf(b);for(var d=a.length;d--;)if(d in a&&a[d]===b)return d;return-1};n.range=function(a,b,d){arguments.length<=1&&(b=a||0,a=0);for(var d=arguments[2]||1,e=Math.max(Math.ceil((b-a)/d),0),f=0,g=Array(e);f<e;){g[f++]=a;
a=a+d}return g};var v=function(){};n.bind=function(a,b){var d,e;if(a.bind===qa&&qa)return qa.apply(a,j.call(arguments,1));if(!n.isFunction(a))throw new TypeError;e=j.call(arguments,2);return d=function(){if(!(this instanceof d))return a.apply(b,e.concat(j.call(arguments)));v.prototype=a.prototype;var f=new v,g=a.apply(f,e.concat(j.call(arguments)));return Object(g)===g?g:f}};n.bindAll=function(a){var b=j.call(arguments,1);b.length==0&&(b=n.functions(a));E(b,function(b){a[b]=n.bind(a[b],a)});return a};
n.memoize=function(a,b){var d={};b||(b=n.identity);return function(){var e=b.apply(this,arguments);return n.has(d,e)?d[e]:d[e]=a.apply(this,arguments)}};n.delay=function(a,b){var d=j.call(arguments,2);return setTimeout(function(){return a.apply(a,d)},b)};n.defer=function(a){return n.delay.apply(n,[a,1].concat(j.call(arguments,1)))};n.throttle=function(a,b){var d,e,f,g,j,k=n.debounce(function(){j=g=false},b);return function(){d=this;e=arguments;f||(f=setTimeout(function(){f=null;j&&a.apply(d,e);k()},
b));g?j=true:a.apply(d,e);k();g=true}};n.debounce=function(a,b){var d;return function(){var e=this,f=arguments;clearTimeout(d);d=setTimeout(function(){d=null;a.apply(e,f)},b)}};n.once=function(a){var b=false,d;return function(){if(b)return d;b=true;return d=a.apply(this,arguments)}};n.wrap=function(a,b){return function(){var d=[a].concat(j.call(arguments,0));return b.apply(this,d)}};n.compose=function(){var a=arguments;return function(){for(var b=arguments,d=a.length-1;d>=0;d--)b=[a[d].apply(this,
b)];return b[0]}};n.after=function(a,b){return a<=0?b():function(){if(--a<1)return b.apply(this,arguments)}};n.keys=X||function(a){if(a!==Object(a))throw new TypeError("Invalid object");var b=[],d;for(d in a)n.has(a,d)&&(b[b.length]=d);return b};n.values=function(a){return n.map(a,n.identity)};n.functions=n.methods=function(a){var b=[],d;for(d in a)n.isFunction(a[d])&&b.push(d);return b.sort()};n.extend=function(a){E(j.call(arguments,1),function(b){for(var d in b)a[d]=b[d]});return a};n.defaults=
function(a){E(j.call(arguments,1),function(b){for(var d in b)a[d]==null&&(a[d]=b[d])});return a};n.clone=function(a){return!n.isObject(a)?a:n.isArray(a)?a.slice():n.extend({},a)};n.tap=function(a,b){b(a);return a};n.isEqual=function(b,d){return a(b,d,[])};n.isEmpty=function(a){if(n.isArray(a)||n.isString(a))return a.length===0;for(var b in a)if(n.has(a,b))return false;return true};n.isElement=function(a){return!!(a&&a.nodeType==1)};n.isArray=k||function(a){return o.call(a)=="[object Array]"};n.isObject=
function(a){return a===Object(a)};n.isArguments=function(a){return o.call(a)=="[object Arguments]"};if(!n.isArguments(arguments))n.isArguments=function(a){return!(!a||!n.has(a,"callee"))};n.isFunction=function(a){return o.call(a)=="[object Function]"};n.isString=function(a){return o.call(a)=="[object String]"};n.isNumber=function(a){return o.call(a)=="[object Number]"};n.isNaN=function(a){return a!==a};n.isBoolean=function(a){return a===true||a===false||o.call(a)=="[object Boolean]"};n.isDate=function(a){return o.call(a)==
"[object Date]"};n.isRegExp=function(a){return o.call(a)=="[object RegExp]"};n.isNull=function(a){return a===null};n.isUndefined=function(a){return a===void 0};n.has=function(a,b){return z.call(a,b)};n.noConflict=function(){b._=d;return this};n.identity=function(a){return a};n.times=function(a,b,d){for(var e=0;e<a;e++)b.call(d,e)};n.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")};
n.mixin=function(a){E(n.functions(a),function(b){var d=n[b]=a[b];O.prototype[b]=function(){var a=j.call(arguments);p.call(a,this._wrapped);return u(d.apply(n,a),this._chain)}})};var s=0;n.uniqueId=function(a){var b=s++;return a?a+b:b};n.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var M=/.^/,f=function(a){return a.replace(/\\\\/g,"\\").replace(/\\'/g,"'")};n.template=function(a,b){var d=n.templateSettings,d="var __p=[],print=function(){__p.push.apply(__p,arguments);};with(obj||{}){__p.push('"+
a.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(d.escape||M,function(a,b){return"',_.escape("+f(b)+"),'"}).replace(d.interpolate||M,function(a,b){return"',"+f(b)+",'"}).replace(d.evaluate||M,function(a,b){return"');"+f(b).replace(/[\r\n\t]/g," ")+";__p.push('"}).replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/\t/g,"\\t")+"');}return __p.join('');",e=new Function("obj","_",d);return b?e(b,n):function(a){return e.call(this,a,n)}};n.chain=function(a){return n(a).chain()};var O=function(a){this._wrapped=
a};n.prototype=O.prototype;var u=function(a,b){return b?n(a).chain():a};n.mixin(n);E(["pop","push","reverse","shift","sort","splice","unshift"],function(a){var b=g[a];O.prototype[a]=function(){var d=this._wrapped;b.apply(d,arguments);var e=d.length;(a=="shift"||a=="splice")&&e===0&&delete d[0];return u(d,this._chain)}});E(["concat","join","slice"],function(a){var b=g[a];O.prototype[a]=function(){return u(b.apply(this._wrapped,arguments),this._chain)}});O.prototype.chain=function(){this._chain=true;
return this};O.prototype.value=function(){return this._wrapped}}).call(this)});define("bridge/underscore",["tools/underscore-min"],function(){return _});
define("simplekey/resources",["bridge/jquery","bridge/underscore"],function(a,b){var d={get:function(b,d){var k=a.Deferred();a.ajax({url:API_URL+b,data:d,traditional:true}).done(function(a){k.resolve(a)});return k}};d.glossaryblob=b.memoize(function(){return d.get("glossaryblob/")});d.pile=b.memoize(function(a){return d.get("piles/"+a+"/")});d.pile_characters=b.memoize(function(a){return d.get("piles/"+a+"/characters/")});d.more_questions=b.memoize(function(a){return d.get("piles/"+a.pile_slug+"/questions/",
{choose_best:3,species_ids:a.species_ids.join("_"),character_group_id:a.character_group_ids,exclude:a.exclude_characters})},function(a){return a.exclude_characters+a.character_group_ids+a.species_ids});d.pile_species=b.memoize(function(a){return d.get("species/"+a+"/")});d.taxon_info=function(a){save_name=a.replace(" ","%20");return d.get("taxon/"+save_name+"/")};d.character_vector=b.memoize(function(a){return d.get("vectors/character/"+a+"/")});d.key_vector=b.memoize(function(a){return d.get("vectors/key/"+
a+"/")});d.pile_vector=b.memoize(function(a){return d.get("vectors/pile/"+a+"/")});d.base_vector=b.memoize(function(e){var g=a.Deferred();a.when(d.key_vector(e.key_name),d.pile_vector(e.pile_slug)).done(function(a,d){g.resolve(b.intersect(a[0].species,d[0].species))});return g});return simplekey_resources=d});
define("simplekey/glossarize",["simplekey/Glossarizer","simplekey/resources"],function(a,b){var d=null,e=$.Deferred();b.glossaryblob().done(function(b){d=a.create({glossaryblob:b});e.resolve()});return function(a){e.done(function(){a.each(function(a,b){d.markup(b)})})}});require("util/activate_image_gallery bridge/shadowbox util/shadowbox_init util/sidebar util/activate_video_links simplekey/glossarize".split(" "),function(a,b,d,e,g,k){e.setup();$(document).ready(function(){k($(".key-char, .exceptions"))})});
define("simplekey/simple",function(){});define("util/document_is_ready",["bridge/jquery"],function(a){var b=a.Deferred();a(document).ready(function(){b.resolve()});return b});
define("jquery/jquery.cookie",["bridge/jquery"],function(){var a=jQuery;a.cookie=function(b,d,e){if(arguments.length>1&&(!/Object/.test(Object.prototype.toString.call(d))||d===null||d===void 0)){e=a.extend({},e);if(d===null||d===void 0)e.expires=-1;if(typeof e.expires==="number"){var g=e.expires,k=e.expires=new Date;k.setDate(k.getDate()+g)}d=String(d);return document.cookie=[encodeURIComponent(b),"=",e.raw?d:encodeURIComponent(d),e.expires?"; expires="+e.expires.toUTCString():"",e.path?"; path="+
e.path:"",e.domain?"; domain="+e.domain:"",e.secure?"; secure":""].join("")}for(var e=d||{},g=e.raw?function(a){return a}:decodeURIComponent,k=document.cookie.split("; "),j=0,p;p=k[j]&&k[j].split("=");j++)if(g(p[0])===b)return g(p[1]||"");return null}});define("bridge/jquery.cookie",["jquery/jquery.cookie"],function(){});
define("jquery/jquery.jscrollpane",["bridge/jquery"],function(){var a=jQuery,b=this,d=void 0;a.fn.jScrollPane=function(e){function g(e,g){function p(g){var j,ab,U,ja,Xa,Ca=false,Da=false;v=g;if(M===d){ja=e.scrollTop();Xa=e.scrollLeft();e.css({overflow:"hidden",padding:0});f=e.innerWidth()+Qa;O=e.innerHeight();e.width(f);M=a('<div class="jspPane" />').css("padding",hb).append(e.children());u=a('<div class="jspContainer" />').css({width:f+"px",height:O+"px"}).append(M).appendTo(e)}else{e.css("width",
"");if(Ca=v.stickToBottom){Ca=x-O;Ca=Ca>20&&Ca-E()<10}if(Da=v.stickToRight){Da=r-f;Da=Da>20&&Da-n()<10}if(U=e.innerWidth()+Qa!=f||e.outerHeight()!=O){f=e.innerWidth()+Qa;O=e.innerHeight();u.css({width:f+"px",height:O+"px"})}if(!U&&pb==r&&M.outerHeight()==x){e.width(f);return}pb=r;M.css("width","");e.width(f);u.find(">.jspVerticalBar,>.jspHorizontalBar").remove().end()}M.css("overflow","auto");r=g.contentWidth?g.contentWidth:M[0].scrollWidth;x=M[0].scrollHeight;M.css("overflow","");P=r/f;ca=x/O;aa=
ca>1;l=P>1;if(!l&&!aa){e.removeClass("jspScrollable");M.css({top:0,width:u.width()-Qa});u.unbind(ia);M.find(":input,a").unbind("focus.jsp");e.attr("tabindex","-1").removeAttr("tabindex").unbind("keydown.jsp keypress.jsp");F()}else{e.addClass("jspScrollable");if(g=v.maintainPosition&&(Y||da)){j=n();ab=E()}if(aa){u.append(a('<div class="jspVerticalBar" />').append(a('<div class="jspCap jspCapTop" />'),a('<div class="jspTrack" />').append(a('<div class="jspDrag" />').append(a('<div class="jspDragTop" />'),
a('<div class="jspDragBottom" />'))),a('<div class="jspCap jspCapBottom" />')));fa=u.find(">.jspVerticalBar");Ja=fa.find(">.jspTrack");R=Ja.find(">.jspDrag");if(v.showArrows){Z=a('<a class="jspArrow jspArrowUp" />').bind("mousedown.jsp",y(0,-1)).bind("click.jsp",ma);Fa=a('<a class="jspArrow jspArrowDown" />').bind("mousedown.jsp",y(0,1)).bind("click.jsp",ma);if(v.arrowScrollOnHover){Z.bind("mouseover.jsp",y(0,-1,Z));Fa.bind("mouseover.jsp",y(0,1,Fa))}B(Ja,v.verticalArrowPositions,Z,Fa)}oa=O;u.find(">.jspVerticalBar>.jspCap:visible,>.jspVerticalBar>.jspArrow").each(function(){oa=
oa-a(this).outerHeight()});R.hover(function(){R.addClass("jspHover")},function(){R.removeClass("jspHover")}).bind("mousedown.jsp",function(b){a("html").bind("dragstart.jsp selectstart.jsp",ma);R.addClass("jspActive");var d=b.pageY-R.position().top;a("html").bind("mousemove.jsp",function(a){A(a.pageY-d,false)}).bind("mouseup.jsp mouseleave.jsp",C);return false});o()}if(l){u.append(a('<div class="jspHorizontalBar" />').append(a('<div class="jspCap jspCapLeft" />'),a('<div class="jspTrack" />').append(a('<div class="jspDrag" />').append(a('<div class="jspDragLeft" />'),
a('<div class="jspDragRight" />'))),a('<div class="jspCap jspCapRight" />')));Wa=u.find(">.jspHorizontalBar");za=Wa.find(">.jspTrack");na=za.find(">.jspDrag");if(v.showArrows){Pa=a('<a class="jspArrow jspArrowLeft" />').bind("mousedown.jsp",y(-1,0)).bind("click.jsp",ma);Aa=a('<a class="jspArrow jspArrowRight" />').bind("mousedown.jsp",y(1,0)).bind("click.jsp",ma);if(v.arrowScrollOnHover){Pa.bind("mouseover.jsp",y(-1,0,Pa));Aa.bind("mouseover.jsp",y(1,0,Aa))}B(za,v.horizontalArrowPositions,Pa,Aa)}na.hover(function(){na.addClass("jspHover")},
function(){na.removeClass("jspHover")}).bind("mousedown.jsp",function(b){a("html").bind("dragstart.jsp selectstart.jsp",ma);na.addClass("jspActive");var d=b.pageX-na.position().left;a("html").bind("mousemove.jsp",function(a){K(a.pageX-d,false)}).bind("mouseup.jsp mouseleave.jsp",C);return false});ua=u.innerWidth();z()}if(l&&aa){U=za.outerHeight();var bb=Ja.outerWidth();oa=oa-U;a(Wa).find(">.jspCap:visible,>.jspArrow").each(function(){ua=ua+a(this).outerWidth()});ua=ua-bb;O=O-bb;f=f-U;za.parent().append(a('<div class="jspCorner" />').css("width",
U+"px"));o();z()}l&&M.width(u.outerWidth()-Qa+"px");x=M.outerHeight();ca=x/O;if(l){va=Math.ceil(1/P*ua);if(va>v.horizontalDragMaxWidth)va=v.horizontalDragMaxWidth;else if(va<v.horizontalDragMinWidth)va=v.horizontalDragMinWidth;na.width(va+"px");Oa=ua-va;W(da)}if(aa){ea=Math.ceil(1/ca*oa);if(ea>v.verticalDragMaxHeight)ea=v.verticalDragMaxHeight;else if(ea<v.verticalDragMinHeight)ea=v.verticalDragMinHeight;R.height(ea+"px");xa=oa-ea;w(Y)}if(g){X(Da?r-f:j,false);L(Ca?x-O:ab,false)}M.find(":input,a").unbind("focus.jsp").bind("focus.jsp",
function(a){qa(a.target,false)});u.unbind(ia).bind(ia,function(a,b,d,e){a=da;b=Y;s.scrollBy(d*v.mouseWheelSpeed,-e*v.mouseWheelSpeed,false);return a==da&&b==Y});var la,G,ha,ta,wa,Ga=false;u.unbind("touchstart.jsp touchmove.jsp touchend.jsp click.jsp-touchclick").bind("touchstart.jsp",function(a){a=a.originalEvent.touches[0];la=n();G=E();ha=a.pageX;ta=a.pageY;wa=false;Ga=true}).bind("touchmove.jsp",function(a){if(Ga){var a=a.originalEvent.touches[0],b=da,d=Y;s.scrollTo(la+ha-a.pageX,G+ta-a.pageY);
wa=wa||Math.abs(ha-a.pageX)>5||Math.abs(ta-a.pageY)>5;return b==da&&d==Y}}).bind("touchend.jsp",function(){Ga=false}).bind("click.jsp-touchclick",function(){if(wa)return wa=false});if(v.enableKeyboardNavigation){var ya=function(){var a=da,b=Y;switch(Ua){case 40:s.scrollByY(v.keyboardSpeed,false);break;case 38:s.scrollByY(-v.keyboardSpeed,false);break;case 34:case 32:s.scrollByY(O*v.scrollPagePercent,false);break;case 33:s.scrollByY(-O*v.scrollPagePercent,false);break;case 39:s.scrollByX(v.keyboardSpeed,
false);break;case 37:s.scrollByX(-v.keyboardSpeed,false)}return Ba=a!=da||b!=Y},Ua,Ba,Ka=[];l&&Ka.push(Wa[0]);aa&&Ka.push(fa[0]);M.focus(function(){e.focus()});e.attr("tabindex",0).unbind("keydown.jsp keypress.jsp").bind("keydown.jsp",function(b){if(!(b.target!==this&&(!Ka.length||!a(b.target).closest(Ka).length))){var d=da,e=Y;switch(b.keyCode){case 40:case 38:case 34:case 32:case 33:case 39:case 37:Ua=b.keyCode;ya();break;case 35:L(x-O);Ua=null;break;case 36:L(0);Ua=null}Ba=b.keyCode==Ua&&d!=da||
e!=Y;return!Ba}}).bind("keypress.jsp",function(a){a.keyCode==Ua&&ya();return!Ba});if(v.hideFocus){e.css("outline","none");"hideFocus"in u[0]&&e.attr("hideFocus",true)}else{e.css("outline","");"hideFocus"in u[0]&&e.attr("hideFocus",false)}}if(v.clickOnTrack){F();aa&&Ja.bind("mousedown.jsp",function(b){if(b.originalTarget===d||b.originalTarget==b.currentTarget){var e=a(this),f=e.offset(),g=b.pageY-f.top-Y,j,k=true,l=function(){var a=e.offset(),a=b.pageY-a.top-ea/2,d=O*v.scrollPagePercent,f=xa*d/(x-
O);if(g<0)Y-f>a?s.scrollByY(-d):A(a);else if(g>0)Y+f<a?s.scrollByY(d):A(a);else{o();return}j=setTimeout(l,k?v.initialDelay:v.trackClickRepeatFreq);k=false},o=function(){j&&clearTimeout(j);j=null;a(document).unbind("mouseup.jsp",o)};l();a(document).bind("mouseup.jsp",o);return false}});l&&za.bind("mousedown.jsp",function(b){if(b.originalTarget===d||b.originalTarget==b.currentTarget){var e=a(this),g=e.offset(),j=b.pageX-g.left-da,k,l=true,o=function(){var a=e.offset(),a=b.pageX-a.left-va/2,d=f*v.scrollPagePercent,
g=Oa*d/(r-f);if(j<0)da-g>a?s.scrollByX(-d):K(a);else if(j>0)da+g<a?s.scrollByX(d):K(a);else{n();return}k=setTimeout(o,l?v.initialDelay:v.trackClickRepeatFreq);l=false},n=function(){k&&clearTimeout(k);k=null;a(document).unbind("mouseup.jsp",n)};o();a(document).bind("mouseup.jsp",n);return false}})}a:if(location.hash&&location.hash.length>1){var ra,La;j=escape(location.hash.substr(1));try{ra=a("#"+j+', a[name="'+j+'"]')}catch(Ya){break a}if(ra.length&&M.find(j))if(u.scrollTop()===0)La=setInterval(function(){if(u.scrollTop()>
0){qa(ra,true);a(document).scrollTop(u.position().top);clearInterval(La)}},50);else{qa(ra,true);a(document).scrollTop(u.position().top)}}if(v.hijackInternalLinks&&!a(document.body).data("jspHijack")){a(document.body).data("jspHijack",true);a(document.body).delegate("a[href*=#]","click",function(d){var e=this.href.substr(0,this.href.indexOf("#")),f=location.href,g;location.href.indexOf("#")!==-1&&(f=location.href.substr(0,location.href.indexOf("#")));if(e===f){e=escape(this.href.substr(this.href.indexOf("#")+
1));g;try{g=a("#"+e+', a[name="'+e+'"]')}catch(j){return}if(g.length){e=g.closest(".jspScrollable");f=e.data("jsp");f.scrollToElement(g,true);if(e[0].scrollIntoView){f=a(b).scrollTop();g=g.offset().top;(g<f||g>f+a(b).height())&&e[0].scrollIntoView()}d.preventDefault()}}})}}v.autoReinitialise&&!Ta?Ta=setInterval(function(){p(v)},v.autoReinitialiseDelay):!v.autoReinitialise&&Ta&&clearInterval(Ta);ja&&e.scrollTop(0)&&L(ja,false);Xa&&e.scrollLeft(0)&&X(Xa,false);e.trigger("jsp-initialised",[l||aa])}function o(){Ja.height(oa+
"px");Y=0;Ka=v.verticalGutter+Ja.outerWidth();M.width(f-Ka-Qa);try{fa.position().left===0&&M.css("margin-left",Ka+"px")}catch(a){}}function z(){u.find(">.jspHorizontalBar>.jspCap:visible,>.jspHorizontalBar>.jspArrow").each(function(){ua=ua-a(this).outerWidth()});za.width(ua+"px");da=0}function B(a,b,d,e){var f="before",g="after";b=="os"&&(b=/Mac/.test(navigator.platform)?"after":"split");if(b==f)g=b;else if(b==g){f=b;b=d;d=e;e=b}a[f](d)[g](e)}function y(b,d,e){return function(){var f=this,g=e,f=a(f).addClass("jspActive"),
j,k,l=true,o=function(){b!==0&&s.scrollByX(b*v.arrowButtonSpeed);d!==0&&s.scrollByY(d*v.arrowButtonSpeed);k=setTimeout(o,l?v.initialDelay:v.arrowRepeatFreq);l=false};o();j=g?"mouseout.jsp":"mouseup.jsp";g=g||a("html");g.bind(j,function(){f.removeClass("jspActive");k&&clearTimeout(k);k=null;g.unbind(j)});this.blur();return false}}function F(){za&&za.unbind("mousedown.jsp");Ja&&Ja.unbind("mousedown.jsp")}function C(){a("html").unbind("dragstart.jsp selectstart.jsp mousemove.jsp mouseup.jsp mouseleave.jsp");
R&&R.removeClass("jspActive");na&&na.removeClass("jspActive")}function A(a,b){if(aa){a<0?a=0:a>xa&&(a=xa);if(b===d)b=v.animateScroll;if(b)s.animate(R,"top",a,w);else{R.css("top",a);w(a)}}}function w(a){if(a===d)a=R.position().top;u.scrollTop(0);Y=a;var b=Y===0,f=Y==xa,a=-(a/xa)*(x-O);if(ib!=b||ha!=f){ib=b;ha=f;e.trigger("jsp-arrow-change",[ib,ha,Ba,rb])}if(v.showArrows){Z[b?"addClass":"removeClass"]("jspDisabled");Fa[f?"addClass":"removeClass"]("jspDisabled")}M.css("top",a);e.trigger("jsp-scroll-y",
[-a,b,f]).trigger("scroll")}function K(a,b){if(l){a<0?a=0:a>Oa&&(a=Oa);if(b===d)b=v.animateScroll;if(b)s.animate(na,"left",a,W);else{na.css("left",a);W(a)}}}function W(a){if(a===d)a=na.position().left;u.scrollTop(0);da=a;var b=da===0,g=da==Oa,a=-(a/Oa)*(r-f);if(Ba!=b||rb!=g){Ba=b;rb=g;e.trigger("jsp-arrow-change",[ib,ha,Ba,rb])}if(v.showArrows){Pa[b?"addClass":"removeClass"]("jspDisabled");Aa[g?"addClass":"removeClass"]("jspDisabled")}M.css("left",a);e.trigger("jsp-scroll-x",[-a,b,g]).trigger("scroll")}
function L(a,b){A(a/(x-O)*xa,b)}function X(a,b){K(a/(r-f)*Oa,b)}function qa(b,d,e){var g,j,k=0,l=0,o,p,r;try{g=a(b)}catch(w){return}j=g.outerHeight();b=g.outerWidth();u.scrollTop(0);for(u.scrollLeft(0);!g.is(".jspPane");){k=k+g.position().top;l=l+g.position().left;g=g.offsetParent();if(/^body|html$/i.test(g[0].nodeName))return}g=E();o=g+O;k<g||d?p=k-v.verticalGutter:k+j>o&&(p=k-O+j+v.verticalGutter);p&&L(p,e);k=n();p=k+f;l<k||d?r=l-v.horizontalGutter:l+b>p&&(r=l-f+b+v.horizontalGutter);r&&X(r,e)}
function n(){return-M.position().left}function E(){return-M.position().top}function ma(){return false}var v,s=this,M,f,O,u,r,x,P,ca,aa,l,R,xa,Y,na,Oa,da,fa,Ja,Ka,oa,ea,Z,Fa,Wa,za,ua,va,Pa,Aa,Ta,hb,Qa,pb,ib=true,Ba=true,ha=false,rb=false,ta=e.clone(false,false).empty(),ia=a.fn.mwheelIntent?"mwheelIntent.jsp":"mousewheel.jsp";hb=e.css("paddingTop")+" "+e.css("paddingRight")+" "+e.css("paddingBottom")+" "+e.css("paddingLeft");Qa=(parseInt(e.css("paddingLeft"),10)||0)+(parseInt(e.css("paddingRight"),
10)||0);a.extend(s,{reinitialise:function(b){b=a.extend({},v,b);p(b)},scrollToElement:function(a,b,d){qa(a,b,d)},scrollTo:function(a,b,d){X(a,d);L(b,d)},scrollToX:function(a,b){X(a,b)},scrollToY:function(a,b){L(a,b)},scrollToPercentX:function(a,b){X(a*(r-f),b)},scrollToPercentY:function(a,b){L(a*(x-O),b)},scrollBy:function(a,b,d){s.scrollByX(a,d);s.scrollByY(b,d)},scrollByX:function(a,b){var d=(n()+Math[a<0?"floor":"ceil"](a))/(r-f);K(d*Oa,b)},scrollByY:function(a,b){var d=(E()+Math[a<0?"floor":"ceil"](a))/
(x-O);A(d*xa,b)},positionDragX:function(a,b){K(a,b)},positionDragY:function(a,b){A(a,b)},animate:function(a,b,d,e){var f={};f[b]=d;a.animate(f,{duration:v.animateDuration,easing:v.animateEase,queue:false,step:e})},getContentPositionX:function(){return n()},getContentPositionY:function(){return E()},getContentWidth:function(){return r},getContentHeight:function(){return x},getPercentScrolledX:function(){return n()/(r-f)},getPercentScrolledY:function(){return E()/(x-O)},getIsScrollableH:function(){return l},
getIsScrollableV:function(){return aa},getContentPane:function(){return M},scrollToBottom:function(a){A(xa,a)},hijackInternalLinks:a.noop,destroy:function(){var a=E(),b=n();e.removeClass("jspScrollable").unbind(".jsp");e.replaceWith(ta.append(M.children()));ta.scrollTop(a);ta.scrollLeft(b);Ta&&clearInterval(Ta)}});p(g)}e=a.extend({},a.fn.jScrollPane.defaults,e);a.each(["mouseWheelSpeed","arrowButtonSpeed","trackClickSpeed","keyboardSpeed"],function(){e[this]=e[this]||e.speed});return this.each(function(){var b=
a(this),d=b.data("jsp");if(d)d.reinitialise(e);else{d=new g(b,e);b.data("jsp",d)}})};a.fn.jScrollPane.defaults={showArrows:false,maintainPosition:true,stickToBottom:false,stickToRight:false,clickOnTrack:true,autoReinitialise:false,autoReinitialiseDelay:500,verticalDragMinHeight:0,verticalDragMaxHeight:99999,horizontalDragMinWidth:0,horizontalDragMaxWidth:99999,contentWidth:d,animateScroll:false,animateDuration:300,animateEase:"linear",hijackInternalLinks:false,verticalGutter:4,horizontalGutter:4,
mouseWheelSpeed:0,arrowButtonSpeed:0,arrowRepeatFreq:50,arrowScrollOnHover:false,trackClickSpeed:0,trackClickRepeatFreq:70,verticalArrowPositions:"split",horizontalArrowPositions:"split",enableKeyboardNavigation:true,hideFocus:false,keyboardSpeed:0,initialDelay:300,speed:30,scrollPagePercent:0.8}});define("bridge/jquery.jscrollpane",["jquery/jquery.jscrollpane"],function(){});define("simplekey/App3",["bridge/ember"],function(a){return App3=a.Application.create()});
define("simplekey/Filter",["bridge/ember","bridge/underscore"],function(a,b){return a.Object.extend({init:function(){var a=this.slug,a=a.indexOf("length")>-1||a.indexOf("width")>-1||a.indexOf("height")>-1||a.indexOf("thickness")>-1||a.indexOf("diameter")>-1;this.set("is_length",a);this.set("value",null);this.set("values",null);this.set("choicemap",{})},install_values:function(a){var e=b.filter(a.values,function(e){e.taxa=b.intersect(e.taxa,a.pile_taxa);return e.taxa.length}),g=[],k={};b.each(e,function(a){g=
b.union(g,a.taxa);a.choice&&(k[a.choice]=a)});this.set("values",e);this.set("choicemap",k);this.set("valueless_taxa",b.difference(a.pile_taxa,g))},taxa_matching:function(a){arguments.length==0&&(a=this.get("value"));if(this.value_type==="TEXT")return this.choicemap[a].taxa;if(this.value_type==="LENGTH"){var e=b.filter(this.values,function(b){return b.min==0&&b.max==0?false:a>=b.min&&a<=b.max});return b.uniq(b.flatten(b.pluck(e,"taxa")))}console.log("Error: unknown value_type",this.value_type)},allowed_ranges:function(a){var e=
[];b.each(this.values,function(g){var k=g.min,j=g.max;if(!(k===null||j===null)&&!(k===0&&j===0)&&b.intersect(a,g.taxa).length!=0){var p;for(p=0;p<e.length&&e[p].max<g.min;p++);for(;p<e.length&&k<=e[p].max&&e[p].min<=j;){k=Math.min(e[p].min,k);j=Math.max(e[p].max,j);e.splice(p,1)}e.splice(p,0,{min:k,max:j})}});return e}})});
define("simplekey/FilterController",["bridge/ember","bridge/jquery","bridge/underscore","simplekey/Filter"],function(a,b,d,e){return a.ArrayController.extend({init:function(){var a=this.taxadata;delete this.taxadata;this.set("content",[]);this.set("filtermap",{});this.set("pile_taxa",d.sortBy(d.pluck(a,"id"),this.numsort));this.build_classification_filter("family",a);this.build_classification_filter("genus",a);this.update()},build_classification_filter:function(a,b){var j=e.create({slug:a,value_type:"TEXT"}),
p=d.chain(b).groupBy(a).map(function(a,b){return{choice:b,taxa:d.pluck(a,"id")}}).value();j.install_values({pile_taxa:this.pile_taxa,values:p});this.add(j)},add:function(a){this.addObject(a);this.get("filtermap")[a.slug]=a},compute:function(a){var b=this.get("pile_taxa");this.forEach(function(e){if(e!==a&&e.value!==null&&e.value!=""){e=e.taxa_matching().concat(e.valueless_taxa);b=d.intersect(b,e)}});return d.sortBy(b,this.numsort)},update:function(){this.set("taxa",this.compute())}.observes("@each.value"),
numsort:function(a,b){return a-b}})});
define("jquery/jquery.animate-colors",["bridge/jquery"],function(){var a=jQuery,b=function(b,d,e){var p="rgb"+(a.support.rgba?"a":"")+"("+parseInt(b[0]+e*(d[0]-b[0]),10)+","+parseInt(b[1]+e*(d[1]-b[1]),10)+","+parseInt(b[2]+e*(d[2]-b[2]),10);a.support.rgba&&(p=p+(","+(b&&d?parseFloat(b[3]+e*(d[3]-b[3])):1)));return p+")"},d=function(a){var b,d;if(b=/#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})/.exec(a))d=[parseInt(b[1],16),parseInt(b[2],16),parseInt(b[3],16),1];else if(b=/#([0-9a-fA-F])([0-9a-fA-F])([0-9a-fA-F])/.exec(a))d=
[parseInt(b[1],16)*17,parseInt(b[2],16)*17,parseInt(b[3],16)*17,1];else if(b=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(a))d=[parseInt(b[1]),parseInt(b[2]),parseInt(b[3]),1];else if(b=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9\.]*)\s*\)/.exec(a))d=[parseInt(b[1],10),parseInt(b[2],10),parseInt(b[3],10),parseFloat(b[4])];return d};a.extend(true,a,{support:{rgba:function(){var b=a("script:first"),d=b.css("color"),e=false;if(/^rgba/.test(d))e=
true;else try{e=d!=b.css("color","rgba(0, 0, 0, 0.5)").css("color");b.css("color",d)}catch(p){}return e}()}});var e=["color","backgroundColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","outlineColor"];a.each(e,function(e,k){a.fx.step[k]=function(e){if(!e.init){e.begin=d(a(e.elem).css(k));e.end=d(e.end);e.init=true}e.elem.style[k]=b(e.begin,e.end,e.pos)}});a.fx.step.borderColor=function(g){if(!g.init)g.end=d(g.end);var k=e.slice(2,6);a.each(k,function(e,k){g.init||(g[k]=
{begin:d(a(g.elem).css(k))});g.elem.style[k]=b(g[k].begin,g.end,g.pos)});g.init=true}});define("bridge/jquery.animate-colors",["jquery/jquery.animate-colors"],function(){});define("simplekey/animation",["bridge/jquery","bridge/jquery.animate-colors"],function(){return{bright_change:function(a,b){var b=b||{},d=b.end_color||"#fff",e=b.duration||3E3;a.css("background-color",b.start_color||"#ff0");a.animate({backgroundColor:d},e,"linear",function(){a.attr("style","").removeAttr("style")})}}});
define("simplekey/ResultsPageState",["bridge/ember"],function(a){return a.Object.extend({init:function(){var a=this.hash||"",d=this.filter_names||[],e=this.filter_values||[],g=this.image_type||"",k=this.tab_view||"";delete this.hash;delete this.filter_names;delete this.filter_values;delete this.image_type;delete this.tab_view;a[0]==="#"&&(a=a.substr(1));this.set("_hash",a);this.set("_filter_names",d);this.set("_filter_values",e);this.set("_image_type",g);this.set("_tab_view",k)},hash_has_filters:function(){return this._hash.indexOf("_filters=")>
-1},filter_names:function(){var a=[],d,e,g=this._hash.split("&");for(e=0;e<g.length;e=e+1)if(g[e].indexOf("_filters=")>-1){d=g[e];break}if(d){d=d.split("=")[1];a=d.split(",")}return a},filter_values:function(){var a={},d,e=decodeURIComponent(this._hash).split("&"),g;for(d=0;d<e.length;d=d+1){g=e[d].split("=");g[0][0]!=="_"&&(a[g[0]]=g[1])}return a},_parameter_from_hash:function(a){var d,e,g=this._hash.split("&");d="_"+a;for(a=0;a<g.length;a=a+1)if(g[a].indexOf(d)>-1){e=g[a].split("=")[1];break}return e},
tab_view:function(){return this._parameter_from_hash("view")},image_type:function(){return this._parameter_from_hash("show")},hash:function(){var a="#_filters=",d,e;for(d=0;d<this._filter_names.length;d=d+1){d>0&&(a=a+",");a=a+this._filter_names[d]}for(e in this._filter_values)this._filter_values.hasOwnProperty(e)&&(a=a+("&"+e+"="+encodeURIComponent(this._filter_values[e])));a=a+("&_view="+this._tab_view);return a=a+("&_show="+this._image_type)}})});
define("simplekey/results_overlay",["util/document_is_ready","bridge/jquery","simplekey/resources"],function(a,b,d){return function(e,g,k){b.when(a,g,k).done(function(a,d,e){a=_.intersect(d[0].species,e);b(".number-of-species .number").html(a.length)});b.when(a,d.pile_characters(e,[])).done(function(a,d){b(".number-of-questions .number").html(d.length)});a.done(function(){if(!original_location_hash){b("#intro-overlay").overlay({mask:{color:b("body").css("background-color"),loadSpeed:500,opacity:0.5,
top:0},closeOnClick:true,load:true}).click(function(){b("#intro-overlay").data("overlay").close()});b("#exposeMask").css("position","fixed")}})}});
define("simplekey/results_photo_menu",[],function(){return{"woody-angiosperms":{"default":"plant form",omit:["additional features","comparison","stems"]},"woody-gymnosperms":{"default":"plant form",omit:["comparison"]},"non-thalloid-aquatic":{"default":"plant form",omit:["additional features","comparison","detail of leaf and/or divisions","flowers and fruits","leaf","leaves and auricles","ligules","shoots","sori","special features","spikelets","spore cones","spores","stems and sheaths","vegetative leaves"]},
"thalloid-aquatic":{"default":"plant form",omit:["comparison"]},carex:{"default":"plant form",omit:["comparison"]},poaceae:{"default":"plant form",omit:["comparison","flowers and fruits","stems"]},"remaining-graminoids":{"default":"plant form",omit:["comparison","leaves","special features","stems"]},"orchid-monocots":{"default":"flowers",omit:["comparison"]},"non-orchid-monocots":{"default":"flowers",omit:["comparison","flowers and fruits","special features","stems"]},monilophytes:{"default":"plant form",
omit:["comparison","flowers and fruits","inflorescences","stems"]},lycophytes:{"default":"plant form",omit:["comparison","flowers and fruits","inflorescences","leaves","stems"]},equisetaceae:{"default":"plant form",omit:["comparison"]},composites:{"default":"flowers",omit:["comparison"]},"remaining-non-monocots":{"default":"flowers",omit:["additional features","bark","comparison","flowers and fruits","inflorescences","special features","winter buds"]}}});
define("simplekey/utils",["bridge/jquery"],function(a){return Object.create({notify:function(b){var d=a("#notification-msg");d.length===0&&(d=a('<div class="hidden" id="notification-msg"></div>').appendTo("body"));d.html(b);var e=a(window),b=e.width()/2-d.width()/2,e=e.scrollTop();d.css({position:"absolute",top:e+"px",left:b+"px"});d.removeClass("hidden");d.fadeIn(1E3);setTimeout(function(){d.fadeOut()},5E3)},clone:function(a,d){var e=a instanceof Array?[]:{};for(i in a)e[i]=a[i];if(d!==void 0)for(var g in d)d.hasOwnProperty(g)&&
(e[g]=d[g]);return e},pretty_length:function(a,d,e){e===void 0&&(e=true);var g=parseFloat(d);isNaN(g)&&console.log("gobotany.utils.pretty_length: "+d+" is not a number");d="";if(a=="mm")d=g.toFixed(2);else if(a==="cm")d=(g/10).toFixed(2);else if(a==="m")d=(g/1E3).toFixed(2);else{a="in";inches=g/25.4;feet=Math.floor(inches/12);inches=inches%12;feet>0&&(d=d+(feet+"\u00a0ft\u00a0"));g=Math.floor(inches);g>0&&(d=d+g);var k=Math.floor(inches%1*8);k>0&&(d=d+" \u215b\u00bc\u215c\u00bd\u215d\u00be\u215e"[k]);
g===0&&k===0&&(d=d+"0")}d.indexOf(".00",d.length-3)!==-1?d=d.substring(0,d.length-3):d.indexOf(".0",d.length-2)!==-1?d=d.substring(0,d.length-2):/\d?\.\d+0/.test(d)&&(d=d.substring(0,d.length-1));e&&(d=d+("\u00a0"+a));return d},convert:function(a,d,e){a=parseFloat(a);isNaN(a)&&console.log("gobotany.utils.convert: "+a+" is not a number");d!==e&&(d==="cm"&&e==="mm"?a=a*10:d==="mm"&&e==="cm"?a=a/10:console.log("gobotany.utils.convert: unknown conversion, returning original value"));return a},click_link:function(a){if(document.createEvent){var d=
document.createEvent("MouseEvents");d.initMouseEvent("click",true,true,window,0,0,0,0,0,false,false,false,false,0,null);a.dispatchEvent(d)}else a.fireEvent&&a.fireEvent("onclick")}})});
define("util/lazy_images",["bridge/jquery","bridge/underscore"],function(a){var b={SCROLL_WAIT:0,RESIZE_WAIT:500,start:function(){var d;a(window).scroll(function(){var a=b.SCROLL_WAIT;window.clearTimeout(d);d=setTimeout(b.load,a)});a(window).resize(function(){var a=b.RESIZE_WAIT;window.clearTimeout(d);d=setTimeout(b.load,a)})},load:function(){var b=a(window).scrollTop(),e=b+a(window).height();a("img[data-lazy-img-src]").each(function(g,k){if(k.style.display!=="none"){$img=a(k);var j=$img.offset().top;
if(!(j>e)&&!(j+$img.height()<b)){$img.attr("src",$img.attr("data-lazy-img-src"));$img.removeAttr("data-lazy-img-src")}}})}};return b});
define("simplekey/SpeciesSection","bridge/jquery bridge/shadowbox bridge/underscore simplekey/App3 simplekey/glossarize simplekey/resources simplekey/results_photo_menu simplekey/utils util/lazy_images util/sidebar".split(" "),function(a,b,d,e,g,k,j,p,o,z){var B=function(){},y=B.prototype={};y.init=function(b,d){this.pile_slug=b;this.plant_list=a("#main .plant-list");this.plant_data=[];this.plant_divs=[];this.plant_divs_ready=d;k.pile_species(b).done(a.proxy(this,"create_plant_divs"))};y.default_image=
function(a){for(var b=0;b<a.images.length;b=b+1){var d=a.images[b];if(d.rank===1&&d.type==="habit")return d}return{}};y.connect_plant_preview_popup=function(d,e){a(d).click(a.proxy(function(j){j.preventDefault();var o=/^habitat|habitat_general|state_distribution$/,j=e.scientific_name+" <span>"+e.common_name+"</span>";a("#plant-detail-modal h3").html(j);a.when(k.taxon_info(e.scientific_name),k.pile(this.pile_slug)).done(function(j,k){a("#plant-detail-modal div.details p.facts").html(j.factoid);for(var w=
a("#plant-detail-modal .details .characteristics"),z=k.plant_preview_characters,n=0,y=0;y<z.length;y++){var B=z[y];if(B.partner_site===gobotany_sk_partner_site){var v="",s=j[B.character_short_name];if(s!==void 0&&s!==null){v=s;if(B.value_type==="LENGTH"){v=s[1];s=p.convert(s[0],B.unit,"mm");v=p.convert(v,B.unit,"mm");v=p.pretty_length(B.unit,s,false)+"&#8211;"+p.pretty_length(B.unit,v)}else if(typeof v!=="string"){s=o.test(B.character_short_name);v=F(v,s)}}if(v!==void 0&&v!==""){w.append(a("<dl>").append(a("<dt>",
{html:B.friendly_name}),a("<dd>").append(v)));n=n+1;if(n>=6)break}}}a("#plant-detail-modal a.go-to-species-page").attr("href",e.url);w="";z=a("img",d).attr("src");z!==void 0&&(z=z.substr(z.lastIndexOf("/")+1));n=a("div.missing-image",d).length?true:false;for(y=0;y<j.images.length;y++){B=j.images[y];v='<img src="'+B.large_thumb_url+'" alt="'+B.title+'">';B=B.large_thumb_url;B=B.substr(B.lastIndexOf("/")+1);w=z===B&&!n?v+w:w+v}a("#plant-detail-modal div.images").html(w);y=a("#plant-detail-modal")[0];
a(window).width()<=600?window.location.href=e.url:b.open({content:y.innerHTML,player:"html",height:520,width:935,options:{handleOversize:"resize",onFinish:function(){var b=a("#sb-container"),d=b.find("p, dt, dd, li");b.find(".img-container").scrollable();g(d)}}})})},this))};y.get_number_of_rows_to_span=function(a,b){var d=1,e;for(e=b;e<a.length;e=e+1)if(e===a.length-1||a[e].genus!==a[e+1].genus)break;else d=d+1;return d};y.get_image=function(a,b){for(var d=a.images,e=0;e<d.length;e++)if(d[e].type==
b)return d[e];return d[0]};y.display_in_list_view=function(d){a(".plant.in-results").removeClass("in-results");a(".plant-list table").remove();var e='<caption class="hidden">List of matching plants</caption><tr class="hidden"><th>Genus</th><th>Scientific Name</th><th>Common Name</th><th>Details</th></tr>',g;for(g=0;g<d.length;g=g+1){var e=g>0?e+"<tr>":e+'<tr class="first-visible">',j=d[g];if(g===0||j.genus!==d[g-1].genus)var k=this.get_number_of_rows_to_span(d,g),e=e+('<td class="genus" rowspan="'+
String(k)+'">Genus: '+j.genus+"</td>");e=e+'<td class="scientific-name">';k=this.get_image(j,"habit");k!==void 0&&(e=e+('<a href="'+k.large_thumb_url+'" title="Photo"><img src="/static/images/icons/icon-camera.png" alt=""></a>'));e=e+(j.scientific_name+"</td>");e=e+('<td class="common-name">'+j.common_name+"</td>");e=e+('<td class="details"><a href="'+j.url+'/">Details</a></td>');e=e+"</tr>"}a("<table>",{html:e}).appendTo(this.plant_list);a(".plant-list").removeAttr("style");z.set_height();b.setup(".plant-list table td.scientific-name a",
{title:""})};y.create_plant_divs=function(b){for(var b=b.sort(function(a,b){return a.scientific_name<b.scientific_name?-1:1}),d=0;d<b.length;d++){var e=b[d],g=a("<div>",{"class":"plant"}).appendTo(this.plant_list),j=a("<a>",{href:e.url}).appendTo(g);a("<div>",{"class":"frame"}).appendTo(j);var k=a("<div>",{"class":"plant-img-container"}).appendTo(j),k=a("<img>",{alt:""}).appendTo(k);k.attr("x-plant-id",e.scientific_name);var o=this.default_image(e).thumb_url;o&&k.attr("data-lazy-img-src",o);k='<span class="latin">'+
e.scientific_name+"</span>";e.common_name&&(k=k+(" "+e.common_name));a("<p>",{"class":"plant-name",html:k}).appendTo(j);this.connect_plant_preview_popup(j,e);this.plant_data.push(e);this.plant_divs.push(g)}this.plant_divs_ready.resolve()};y.display_in_grid_view=function(b){a(".plant-list table").remove();for(var d={},e=0;e<b.length;e++)d[b[e].id]=1;for(var g=[],j=[],e=b=0;e<this.plant_divs.length;e++){var k=this.plant_data[e],p=this.plant_divs[e];if(d[k.id]===1){g.push(k);j.push(p);var k=178*(b%4),
B=232*Math.floor(b/4),b=b+1;p.removeClass("genus_alt");p.removeClass("genus_join_left");p.removeClass("genus_join_right");if(p.hasClass("in-results"))p.animate({left:k,top:B});else{p.addClass("in-results");p.css({left:2800,top:B});p.animate({left:k})}}else p.removeClass("in-results")}this.plant_list.animate({height:B+232},function(){z.set_height();o.load();for(var a=false,b=g[0],d=0;d<g.length;d++){var e=j[d];a&&e.addClass("genus_alt");if(d<g.length-1){var k=b.genus,b=g[d+1];if(b.genus===k){if(d%
4!=3){e.addClass("genus_join_right");j[d+1].addClass("genus_join_left")}}else a=!a}}})};y.display_results=function(){query_results=e.filtered_sorted_taxadata;this.plant_list.find(".wait").remove();if(e.show_list)this.display_in_list_view(query_results);else if(e.show_grid){this.display_in_grid_view(query_results);this.populate_image_types(query_results);o.load()}a(".list-all").removeClass("hidden")};y.populate_image_types=function(a){var b=j[this.pile_slug],a=d.flatten(d.pluck(a,"images")),a=d.uniq(d.pluck(a,
"type")),a=d.difference(a,b.omit);a.sort();if(!d.isEqual(e.image_types.get("content"),a)){e.image_types.set("content",a);var g=e.get("image_type");if(a.indexOf(g)===-1){b=b["default"];a.indexOf(b)===-1&&(b=a[0]);e.set("image_type",b)}}};var F=function(b,e){if(typeof b==="string")return b;var g=a("<ul>");e&&g.addClass("compact");var j=null;d.each(b,function(b){j=a("<li>",{html:b}).appendTo(g)});j!==null&&j.addClass("last");return g};return B});
define("simplekey/Choice","bridge/jquery bridge/underscore simplekey/App3 simplekey/glossarize simplekey/utils util/tooltip".split(" "),function(a,b,d,e,g){var k=function(a){return a===void 0?"don't know":a.friendly_text?a.friendly_text:a.choice==="NA"?"doesn't apply":a.choice?a.choice:"don't know"},j=function(a,b){var d=a.friendly_text.toLowerCase(),e=b.friendly_text.toLowerCase(),g=a.choice.toLowerCase(),j=b.choice.toLowerCase(),k=parseInt(d,10),p=parseInt(e,10);if(!isNaN(k)&&!isNaN(p))return k-
p;k=parseInt(g,10);p=parseInt(j,10);return!isNaN(k)&&!isNaN(p)?k-p:g==="na"?1:j==="na"||d<e?-1:d>e?1:g<j?-1:g>j?1:0},p=function(){};p.prototype={};p.prototype.init=function(a){this.div=a.div;this.div_map=null;this.filter=a.filter;this._draw_basics(a.y);this._draw_specifics();this._on_filter_change()};p.prototype.clear=function(){a("input",this.div_map[""]).prop("checked",true)};p.prototype.dismiss=function(b){b&&b.preventDefault();a(".close",this.div).unbind();a(".apply-btn",this.div).unbind();a(this.div).hide();
a(".option-list li").removeClass("active")};p.prototype._draw_basics=function(b){var d=a(this.div),g=this.filter;e(a("h4").html(g.info.question));a("h4").css("display","block");e(a(".hint").html(g.info.hint?"<p>"+g.info.hint+"</p>":g.info.hint));a(".info").css("display","block");if(g.info.image_url){g='<img id="'+this._get_image_id_from_path(g.info.image_url)+'" src="'+g.info.image_url+'" alt="character illustration">';d.find(".dld").html(g).css({display:"block"})}else d.find(".dld").html("").css({display:"none"});
d.css("top",b+"px").slideDown("fast");a(".close",this.div).bind("click",a.proxy(this,"dismiss"));a(".apply-btn",this.div).bind("click",a.proxy(this,"_apply_button_clicked"))};p.prototype._draw_specifics=function(){var b=this.filter,d=a("div.working-area .values");d.empty().addClass("multiple").removeClass("numeric");var p=g.clone(b.values);p.sort(j);var y=a("<div>",{"class":"choices"}).appendTo(d),F=a("<div>",{"class":"row"}).appendTo(y),C='<div><label><input name="char_name"'+(b.value===null?" checked":
"")+' type="radio" value=""> '+k()+"</label></div>";this.div_map={};this.div_map[""]=a(C).appendTo(F)[0];var A=1;for(i=0;i<p.length;i++){var w=p[i],C='<div><label><input name="char_name" type="radio"'+(b.value===w.choice?" checked":"")+' value="'+w.choice+'">',K=w.image_url;if(K.length>0)var W=this._get_image_id_from_path(K),C=C+('<img id="'+W+'" src="'+K+'" alt="drawing showing '+w.friendly_text+'"><br>');C=C+(' <span class="label">'+k(w)+'</span> <span class="count">(n)</span></label></div>');A%
5===0&&(F=a("<div>",{"class":"row"}).appendTo(y));A=A+1;C=a(C).appendTo(F)[0];this.div_map[w.choice]=C;if(K.length>0){w='<img class="char-value-larger" id="'+W+'" src="'+K+'" alt="drawing showing '+w.friendly_text+'">';a("#"+W).tooltip({content:w,width:"auto"})}e(a("span.label",C))}d.find("input").bind("click",a.proxy(this,"_on_choice_change"));this._on_choice_change()};p.prototype._current_value=function(){return a("input:checked",this.div).attr("value")||null};p.prototype._on_choice_change=function(){var b=
a(".apply-btn",this.div);this._current_value()===this.filter.value?b.addClass("disabled"):b.removeClass("disabled")};p.prototype._get_image_id_from_path=function(a){var b=a.lastIndexOf("/"),d=a.indexOf(".",b);return a.substring(b+1,d)};p.prototype._on_filter_change=function(){var e=d.filter_controller.compute(this.filter),g=this.div_map;b.map(this.filter.values,function(d){var j=b.intersect(d.taxa,e).length,d=g[d.choice];a(".count",d).html("("+j+")");var k=a("input",d);if(j===0){a(d).addClass("disabled");
k.attr("disabled","disabled")}else{a(d).removeClass("disabled");k.attr("disabled",false)}})};p.prototype._apply_button_clicked=function(){var b=a(".apply-btn");if(b.hasClass("disabled"))return false;b.removeClass("disabled");this._apply_filter_value();this.dismiss();return false};p.prototype._apply_filter_value=function(){var a=this._current_value();a!==null&&this.filter.taxa_matching(a).length==0||this.filter.set("value",a)};return p});
define("util/slider",["bridge/jquery"],function(a){var b=function(b,e){this.container_element=b;this.options=a.extend({},this.defaults,e);this.is_pressed=false;this.is_touch=navigator.userAgent.match(/(iPad|iPod|iPhone|Android)/)?true:false;this.value=this.thumb_width=this.pixels_per_value=this.number_of_segments=this.bar_width=this.bar_min_left=this.bar_max_left=this.bar_left_offset=null;this.init()};b.prototype={defaults:{bar_left_offset_adjust:3,id:"gb-slider",initial_value:0,maximum:100,minimum:0,
orientation:"horizontal",thumb_adjust:15},build_slider:function(){var b=a('<div id="'+this.options.id+'"><div class="bar"><div></div></div><div class="thumb"><div class="label"></div></div></div>');a(this.container_element).append(b)},position_for_value:function(a){return Math.floor(a*this.pixels_per_value)+this.options.bar_left_offset_adjust},value_for_position:function(a){return Math.floor((a+this.thumb_width/2)/this.pixels_per_value)},set_thumb:function(b,e){if(b<this.bar_min_left&&b>=this.bar_min_left-
this.options.thumb_adjust)b=this.bar_min_left;else if(b>this.bar_max_left&&b<=this.bar_max_left+this.options.thumb_adjust)b=this.bar_max_left;if(b>=this.bar_min_left&&b<=this.bar_max_left){a(e).css({left:b});this.set_label(this.value_for_position(b))}},handle_press:function(a){this.is_pressed=true;a.preventDefault();a.stopPropagation()},handle_move:function(a,b){var g=a.pageX-this.bar_left_offset-this.thumb_width/2;if(this.is_pressed){this.set_thumb(g,b);a.stopPropagation();if(this.options.on_move&&
typeof this.options.on_move==="function")this.options.on_move()}},handle_release:function(){this.is_pressed=false},id_selector:function(){return"#"+this.options.id},set_label:function(b){var e=a(this.container_element).find(this.id_selector()+" .label")[0];a(e).html(b)},init:function(){var b=this;b.build_slider();this.value=this.options.initial_value;b.set_label(this.value);var e=a(this.container_element).find(b.id_selector()+" .bar")[0];this.bar_left_offset=a(e).offset().left;this.bar_width=a(e).width();
var g=a(this.container_element).find(b.id_selector()+" .thumb")[0];this.thumb_width=a(g).width();this.bar_min_left=0+this.options.bar_left_offset_adjust;this.bar_max_left=this.bar_width-this.thumb_width+this.options.bar_left_offset_adjust;this.number_of_segments=this.options.maximum-this.options.minimum+1;this.pixels_per_value=this.bar_width/this.number_of_segments;var k=b.position_for_value(this.value);b.set_thumb(k,g);if(this.is_touch)a(g).bind({"touchstart.Slider":function(){b.handle_press()},
"touchmove.Slider":function(a){a.preventDefault();b.handle_move(a.originalEvent,g)},"touchend.Slider":function(){b.handle_release()}});else{a(g).bind({"mousedown.Slider":function(a){b.handle_press(a)},"mousemove.Slider":function(a){a.preventDefault();b.handle_move(a.originalEvent,g)},"mouseup.Slider":function(){b.handle_release()}});a(e).bind({"mousedown.Slider.bar":function(a){b.handle_press(a);b.handle_move(a,g)},"mouseup.Slider.bar":function(){b.handle_release()}});a("body").unbind("mousemove.Slider");
a("body").unbind("mouseup.Slider");a("body").bind({"mousemove.Slider":function(a){b.handle_move(a,g)},"mouseup.Slider":function(){b.handle_release()}})}}};a.fn.slider=function(a){new b(this,a);return this}});
define("simplekey/Slider",["bridge/jquery","util/slider","simplekey/App3","simplekey/Choice"],function(a,b,d,e){b=function(){};b.prototype=new e;b.prototype.init=function(a){this.horizontal_slider=this.slider_container_node=null;e.prototype.init.call(this,a)};b.clear=function(){};b.dismiss=function(){this.slider_container_node&&a(this.slider_container_node).empty();this.horizontal_slider=this.slider_container_node=null;this.inherited(arguments)};b._compute_min_and_max=function(){var a=d.filter_controller.compute(this.filter),
a=this.filter.allowed_ranges(a);this.min=a[0].min;this.max=a[a.length-1].max};b._draw_specifics=function(){this._compute_min_and_max();var b=this.filter,d=Math.ceil((this.max-this.min+1)/2);b.value!==null&&(d=b.get("value"));b=a("div.working-area .values");b.addClass("multiple").removeClass("numeric").html("<label>Select a number between<br>"+this.min+" and "+this.max+"</label>");this.slider_container_node=b.append("<div></div>");this.horizontal_slider=a(this.slider_container_node).slider({id:"slider",
initial_value:d,maximum:this.max,minimum:this.min,on_move:a.proxy(this,"_value_changed")});this._value_changed()};b._current_value=function(){var b=a("#slider .label")[0];return a(b).html()};b._value_changed=function(){this._compute_min_and_max();var b=a(".apply-btn",this.div),d=this._current_value(),e=this.filter.get("value");d==e?b.addClass("disabled"):b.removeClass("disabled")};b._on_filter_change=function(){};return b});
define("simplekey/Length",["bridge/jquery","bridge/underscore","simplekey/App3","simplekey/Choice"],function(a,b,d,e){var g={mm:1,cm:10,m:1E3,"in":25.4,ft:304.8},k=function(){};k.prototype=new e;k.prototype.init=function(a){this.permitted_ranges=[];this.species_vector=[];this.unit="mm";this.is_metric=true;this.factor=1;e.prototype.init.call(this,a)};k.prototype.clear=function(){};k.prototype._draw_specifics=function(){var b=a("div.working-area .values");this._set_unit(this.filter.display_units||"mm");
var d=this.unit,e=this.filter.get("value"),e=e===null?"":e/this.factor,g=function(a){return'<label><input name="units" type="radio" value="'+a+'"'+(a===d?" checked":"")+">"+a+"</label>"},k=function(a,b){return'<input class="'+a+'" name="'+a+'" type="text"'+(b?' value="'+e+'"':" disabled")+">"};b.empty().addClass("numeric").removeClass("multiple").html('<div class="permitted_ranges"></div><div class="current_length"></div><div class="measurement">Metric length: '+k("measure_metric",this.is_metric)+
g("mm")+g("cm")+g("m")+'</div><div class="measurement">English length: '+k("measure_english",!this.is_metric)+g("in")+g("ft")+'</div><div class="instructions"></div>');b.find('[name="units"]').bind("change",a.proxy(this,"_unit_changed"));b.find('[type="text"]').bind("change",a.proxy(this,"_measure_changed"));b.find('[type="text"]').bind("keyup",a.proxy(this,"_key_pressed"))};k.prototype._key_pressed=function(a){a.keyCode==10||a.keyCode==13?this._apply_filter_value():this._measure_changed()};k.prototype._parse_value=
function(a){a=parseFloat(a);return isNaN(a)?null:a};k.prototype._current_value=function(){var b=a(this.is_metric?'[name="measure_metric"]':'[name="measure_english"]',this.div).attr("value"),b=this._parse_value(b);return b===null?null:b*this.factor};k.prototype._set_unit=function(a){this.unit=a;this.factor=g[this.unit];this.is_metric=/m$/.test(this.unit)};k.prototype._unit_changed=function(b){this._set_unit(b.target.value);a(".measure_metric").prop("disabled",!this.is_metric);a(".measure_english").prop("disabled",
this.is_metric);this._redraw_permitted_ranges();this._measure_changed()};k.prototype._measure_changed=function(){var d=this._current_value(),e=this._parse_value(this.filter.get("value")),g=this.filter.taxa_matching(d),g=b.intersect(g,this.species_vector),k=a(".instructions",this.div),B=a(".apply-btn",this.div);if(e===d){instructions="Change the value to narrow your selection to a new set of matching species.";B.addClass("disabled")}else if(g.length>0){instructions="Press \u201cApply\u201d to narrow your selection to the "+
g.length+" matching species.";B.removeClass("disabled")}else{instructions="";B.addClass("disabled")}k.html(instructions);this.filter.display_units=this.unit};k.prototype._redraw_permitted_ranges=function(){for(var b="Please enter a measurement in the range ",d=function(a,b){var d=Math.pow(10,b||0);return String(Math.round(a*d)/d)},e=0;e<this.permitted_ranges.length;e++){var g=this.permitted_ranges[e];e&&(b=b+" or ");b=b+(d(g.min/this.factor,2)+"&nbsp;"+this.unit+"&nbsp;\u2013&nbsp;"+d(g.max/this.factor,
2)+"&nbsp;"+this.unit)}a(".permitted_ranges",this.div).html(b)};k.prototype._on_filter_change=function(){var a=d.filter_controller.compute(this.filter);this.species_vector=a;this.permitted_ranges=this.filter.allowed_ranges(a);this._redraw_permitted_ranges();this._measure_changed()};return k});define("simplekey/working_area",["simplekey/Choice","simplekey/Slider","simplekey/Length"],function(a,b,d){return{select_working_area:function(e){return e.value_type=="TEXT"?a:e.is_length?d:b}}});
define("simplekey/results","util/document_is_ready bridge/jquery bridge/jquery.cookie bridge/jquery.jscrollpane bridge/ember bridge/shadowbox util/shadowbox_init bridge/underscore simplekey/App3 simplekey/Filter simplekey/FilterController simplekey/animation simplekey/glossarize simplekey/resources simplekey/ResultsPageState simplekey/results_overlay simplekey/SpeciesSection simplekey/working_area simplekey/utils util/activate_image_gallery util/lazy_images util/sidebar".split(" "),function(a,b,d,
e,g,k,j,p,o,z,B,y,F,C,A,w,K,W,L,X,qa,n){return{results_page_init:function(d){var e=d.pile_slug;n.setup();var j=new K,s=b.Deferred();b.when(a,O,ca).done(function(){j.init(e,P);s.resolve()});o.set("show_grid",true);o.set("show_list",false);o.set("matching_species_count","Loading");o.image_types=g.ArrayProxy.create({content:[]});var M=b.Deferred(),f=b.Deferred(),O=b.Deferred(),u=b.Deferred(),r=b.Deferred(),x=C.pile_species(e),P=b.Deferred(),ca=b.Deferred();if(d.key=="simple")var aa=C.key_vector("simple");
else{aa=b.Deferred();r.done(function(a){aa.resolve([{species:a}])})}x.done(function(a){r.resolve(p.pluck(a,"id"))});o.addObserver("image_type",function(){u.resolve()});w(e,aa,r);o.taxa_by_sciname={};x.done(function(a){p.each(a,function(a){o.taxa_by_sciname[a.scientific_name]=a;ca.resolve()})});C.pile(e).done(function(a){var d=b("ul.char-groups").empty();p.each(a.character_groups,function(a){d.append(b("<li>").append(b("<label>").append(b("<input>",{type:"checkbox",value:a.id})," "+a.name)))})});b.when(M,
aa,x).done(function(a,d,e){var g=d[0].species,e=p.filter(e,function(a){return p.indexOf(g,a.id)!=-1});o.set("taxadata",e);d=B.create({taxadata:e,plain_filters:[],add:function(a){this._super(a);a.slug!="family"&&a.slug!="genus"&&this.plain_filters.addObject(a)}});o.set("family_filter",d.filtermap.family);o.set("genus_filter",d.filtermap.genus);d.filtermap.family.set("value",a.family_name);d.filtermap.genus.set("value",a.genus_name);p.each(a.other_filters,b.proxy(d.add,d));o.set("filter_controller",
d);f.resolve()});b.when(f,a).done(function(){b(".loading").hide()});var l=function(a){var b=o.filter_controller.compute(a),a=p.filter(a.values,function(a){return p.intersect(a.taxa,b).length}),a=p.pluck(a,"choice");a.sort();a.splice(0,0,"");return a};o.reopen({family_choices:function(){var a=[];o.family_filter&&(a=l(o.family_filter));return a}.property("filter_controller.taxa"),genus_choices:function(){var a=[];o.genus_filter&&(a=l(o.genus_filter));return a}.property("filter_controller.taxa"),family_value:function(a,
b){if(!o.family_filter)return"";if(arguments.length===1)return o.family_filter.get("value")||"";o.family_filter.set("value",b||null)}.property("family_filter.value"),genus_value:function(a,b){if(!o.genus_filter)return"";if(arguments.length===1)return o.genus_filter.get("value")||"";o.genus_filter.set("value",b||null)}.property("genus_filter.value")});b("#family_clear").live("click",function(){o.set("family_value","")});b("#genus_clear").live("click",function(){o.set("genus_value","")});var R=null,
X=function(){if(R!==null){R.dismiss();R=null}};b(document).keydown(function(){if(event.which===27){event.preventDefault();X()}});o.FilterView=g.View.extend({templateName:"filter-view",filterBinding:"content",classNameBindings:["answered"],elementId:function(){return this.content.slug}.property("content"),didInsertElement:function(){var a=this.get("elementId");F(b("#"+a+" span.name"))},answered:function(){return!!this.filter.value}.property("filter.value"),display_value:function(){var a=this.get("filter"),
b=a.get("value");return b===null?"":b==="NA"?"does not apply":a.value_type==="TEXT"?a.choicemap[b].friendly_text||b:a.is_length?L.pretty_length(a.display_units||"mm",b):b+""}.property("filter.value"),clear:function(){X();this.filter.set("value",null)},click:function(a){if(!b(a.target).hasClass("clear-filter")){var d=this.get("filter"),a=b(a.target).closest("li");b(".option-list li .active").removeClass("active");a.addClass("active");var e=a.offset().top-15,a=C.character_vector(this.filter.slug);b.when(r,
a).done(function(a,f){d.install_values({pile_taxa:a,values:f});X();R=new (W.select_working_area(d));R.init({div:b("div.working-area")[0],filter:d,y:e});n.set_height()})}}});b.when(a,f,s).done(function(){o.filters_view=g.CollectionView.create({tagName:"ul",classNames:["option-list"],contentBinding:"App3.filter_controller.plain_filters",itemViewClass:o.FilterView});o.filters_view.appendTo("#questions-go-here");o.species_view_tabs=g.View.create({templateName:"species-view-tabs",tagName:"ul",choose_grid_view:function(){if(!o.show_grid){o.set("show_grid",
true);o.set("show_list",false);j.display_results()}},choose_list_view:function(){if(!o.show_list){o.set("show_list",true);o.set("show_grid",false);j.display_results()}}});o.species_view_tabs.appendTo("#results-tabs");o.species_view_toggle=g.View.create({templateName:"species-view-toggle",tagName:"p",classNames:["list-all"],switch_species_view:function(){o.show_grid?o.species_view_tabs.choose_list_view():o.species_view_tabs.choose_grid_view()}});o.species_view_toggle.appendTo("#main")});var Y=null;
b.when(a).done(function(){Y=b(".scroll").bind("jsp-scroll-y",function(){X()}).jScrollPane({maintainPosition:true,stickToBottom:true,verticalGutter:0,showArrows:true});setInterval(function(){R===null&&Y.data("jsp").reinitialise()},500)});b.when(f,a).done(function(){b("#sidebar a.clear-all-btn").click(function(){X();var a=o.filter_controller.get("plain_filters");p.each(a,function(a){a.set("value",null)});o.set("family_value","");o.set("genus_value","")})});var na=function(){var a=o.show_list?"list":
"photos",d=o.get("image_type");if(d){var e=Object.keys(o.filter_controller.filtermap),f={},g;for(key in o.filter_controller.filtermap)if(o.filter_controller.filtermap.hasOwnProperty(key)){g=o.filter_controller.filtermap[key];if(g.value&&g.value.toString().length>0)f[key]=g.value}d=A.create({filter_names:e,filter_values:f,image_type:d,tab_view:a}).hash();a=true;window.location.hash===""&&(a=false);d=window.location.href.split("#")[0]+d;a?window.location.assign(d):window.location.replace(d);b.cookie("last_plant_id_url",
window.location.href,{path:"/"})}};f.done(function(){na();o.addObserver("filter_controller.@each.value",function(){na()});o.addObserver("image_type",function(){na()});o.addObserver("show_list",function(){na()})});if(window.location.hash!==""){var d=A.create({hash:window.location.hash}),Oa=d.filter_names(),da=d.filter_values(),x=d.image_type();if(x!==""){o.image_types.get("content").length===0&&o.image_types.set("content",[x]);o.set("image_type",x)}d=d.tab_view()==="list"?true:false;o.set("show_grid",
!d);o.set("show_list",d);b.when(C.pile(e),C.pile_characters(e)).done(function(a,d){var e={},f=d.concat(a.default_filters);p.each(f,function(a){e[a.short_name]=a});var f=p.pluck(a.default_filters,"short_name"),g=p.difference(Oa,f),f=f.concat(g),j=[],k={family_name:da.family||null,genus_name:da.genus||null,other_filters:[]};p.each(f,function(a){var d=e[a];if(typeof d!=="undefined"){var f=z.create({slug:d.short_name,value_type:d.value_type,info:d});k.other_filters.push(f);if(p.has(da,a)){f.set("value",
da[a]);var g=b.Deferred();j.push(g);b.when(r,C.character_vector(a)).done(function(a,b){f.install_values({pile_taxa:a,values:b});g.resolve()})}}});b.when.apply(this,j).done(function(){M.resolve(k)})})}else C.pile(e).done(function(a){var b={family_name:null,genus_name:null,other_filters:[]};p.each(a.default_filters,function(a){a=z.create({slug:a.short_name,value_type:a.value_type,info:a});b.other_filters.push(a)});M.resolve(b)});var fa=[];b.when(a).done(function(){b("#sidebar .get-choices").click(function(){X();
k.open({content:b("#modal").html(),player:"html",height:450,options:{fadeDuration:0.1,onFinish:function(){b("#sb-container input").each(function(a,d){var e=b(d).val(),e=p.indexOf(fa,e)!=-1;b(d).prop("checked",e)});b("#sb-container a.get-choices").addClass("get-choices-ready")}}})})});b("#sb-container a.get-choices").live("click",function(){fa=[];b("#sb-container input").each(function(a,d){b(d).prop("checked")&&fa.push(b(d).val())});var a=[];p.each(o.filter_controller.content,function(b){a.push(b.slug)});
simplekey_resources.more_questions({pile_slug:e,species_ids:o.filter_controller.taxa,character_group_ids:fa,exclude_characters:a}).done(Ja);k.close()});var Ja=function(a){if(a.length===0)L.notify("No more questions left for the boxes checked");else{p.each(a,function(a){o.filter_controller.add(z.create({slug:a.short_name,value_type:a.value_type,info:a}))});g.run.next(function(){var d=b("#sidebar ul li"),d=d.slice(d.length-a.length);y.bright_change(d);Y.data("jsp").reinitialise();Y.data("jsp").scrollToPercentY(100,
true)});L.notify("More questions added")}};b(window).bind("hashchange",function(){var a=window.location.href,d=b.cookie("last_plant_id_url");if(d!==null){d===void 0&&(d="");a!==d&&window.location.reload()}});var Ka=function(a){o.set("matching_species_count",a.length);a=b(".species-count-heading > span");a.stop();y.bright_change(a,{end_color:"#F0F0C0",duration:2E3})},oa=function(){var a=o.get("image_type");a&&b("div.plant img").each(function(d,e){var f=b(e),g=f.attr("x-plant-id");if(g=p.find(o.taxa_by_sciname[g].images,
function(b){return b.type===a})){f.attr("data-lazy-img-src",g.thumb_url);f.attr("alt",g.title);f.find("+ div.missing-image").remove();f.css("display","inline")}else if(f.css("display")!=="none"){f.css("display","none");f.parent().append(b("<div>",{"class":"missing-image",html:"<p>Image not available yet</p>"}))}})};qa.start();o.reopen({run_filtered_sorted_taxadata:function(){var a=o.filter_controller.taxa,b=p.filter(o.taxadata,function(b){return p.indexOf(a,b.id)!=-1});b.sort(function(a,b){return a.scientific_name<
b.scientific_name?-1:1});o.set("filtered_sorted_taxadata",b);O.resolve();O.resolve()}.observes("filter_controller.taxa")});b.when(s,O,P).done(function(){Ka(o.filtered_sorted_taxadata);j.display_results(o.filtered_sorted_taxadata);oa();qa.load();o.addObserver("filtered_sorted_taxadata",function(){Ka(o.filtered_sorted_taxadata);j.display_results(o.filtered_sorted_taxadata)});o.addObserver("image_type",function(){oa();qa.load()})})}}});
define("jquery/jquery-ui-1.8.16.custom.min",["bridge/jquery"],function(){var a=jQuery;if(a.cleanData){var b=a.cleanData;a.cleanData=function(d){for(var g=0,k;(k=d[g])!=null;g++)try{a(k).triggerHandler("remove")}catch(j){}b(d)}}else{var d=a.fn.remove;a.fn.remove=function(b,g){return this.each(function(){g||(!b||a.filter(b,[this]).length)&&a("*",this).add([this]).each(function(){try{a(this).triggerHandler("remove")}catch(b){}});return d.call(a(this),b,g)})}}a.widget=function(b,d,k){var j=b.split(".")[0],
p,b=b.split(".")[1];p=j+"-"+b;if(!k){k=d;d=a.Widget}a.expr[":"][p]=function(d){return!!a.data(d,b)};a[j]=a[j]||{};a[j][b]=function(a,b){arguments.length&&this._createWidget(a,b)};d=new d;d.options=a.extend(true,{},d.options);a[j][b].prototype=a.extend(true,d,{namespace:j,widgetName:b,widgetEventPrefix:a[j][b].prototype.widgetEventPrefix||b,widgetBaseClass:p},k);a.widget.bridge(b,a[j][b])};a.widget.bridge=function(b,d){a.fn[b]=function(k){var j=typeof k==="string",p=Array.prototype.slice.call(arguments,
1),o=this,k=!j&&p.length?a.extend.apply(null,[true,k].concat(p)):k;if(j&&k.charAt(0)==="_")return o;j?this.each(function(){var d=a.data(this,b),g=d&&a.isFunction(d[k])?d[k].apply(d,p):d;if(g!==d&&g!==void 0){o=g;return false}}):this.each(function(){var j=a.data(this,b);j?j.option(k||{})._init():a.data(this,b,new d(k,this))});return o}};a.Widget=function(a,b){arguments.length&&this._createWidget(a,b)};a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:false},_createWidget:function(b,
d){a.data(d,this.widgetName,this);this.element=a(d);this.options=a.extend(true,{},this.options,this._getCreateOptions(),b);var k=this;this.element.bind("remove."+this.widgetName,function(){k.destroy()});this._create();this._trigger("create");this._init()},_getCreateOptions:function(){return a.metadata&&a.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName);this.widget().unbind("."+
this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled ui-state-disabled")},widget:function(){return this.element},option:function(b,d){var k=b;if(arguments.length===0)return a.extend({},this.options);if(typeof b==="string"){if(d===void 0)return this.options[b];k={};k[b]=d}this._setOptions(k);return this},_setOptions:function(b){var d=this;a.each(b,function(a,b){d._setOption(a,b)});return this},_setOption:function(a,b){this.options[a]=b;a==="disabled"&&this.widget()[b?
"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",b);return this},enable:function(){return this._setOption("disabled",false)},disable:function(){return this._setOption("disabled",true)},_trigger:function(b,d,k){var j=this.options[b],d=a.Event(d);d.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase();k=k||{};if(d.originalEvent)for(var b=a.event.props.length,p;b;){p=a.event.props[--b];d[p]=d.originalEvent[p]}this.element.trigger(d,
k);return!(a.isFunction(j)&&j.call(this.element[0],d,k)===false||d.isDefaultPrevented())}}});define("bridge/jquery-ui",["jquery/jquery-ui-1.8.16.custom.min"],function(){});
define("jquery/jquery.easing.1.3",["bridge/jquery"],function(){jQuery.easing.jswing=jQuery.easing.swing;jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(a,b,d,e,g){return jQuery.easing[jQuery.easing.def](a,b,d,e,g)},easeInQuad:function(a,b,d,e,g){return e*(b=b/g)*b+d},easeOutQuad:function(a,b,d,e,g){return-e*(b=b/g)*(b-2)+d},easeInOutQuad:function(a,b,d,e,g){return(b=b/(g/2))<1?e/2*b*b+d:-e/2*(--b*(b-2)-1)+d},easeInCubic:function(a,b,d,e,g){return e*(b=b/g)*b*b+d},easeOutCubic:function(a,
b,d,e,g){return e*((b=b/g-1)*b*b+1)+d},easeInOutCubic:function(a,b,d,e,g){return(b=b/(g/2))<1?e/2*b*b*b+d:e/2*((b=b-2)*b*b+2)+d},easeInQuart:function(a,b,d,e,g){return e*(b=b/g)*b*b*b+d},easeOutQuart:function(a,b,d,e,g){return-e*((b=b/g-1)*b*b*b-1)+d},easeInOutQuart:function(a,b,d,e,g){return(b=b/(g/2))<1?e/2*b*b*b*b+d:-e/2*((b=b-2)*b*b*b-2)+d},easeInQuint:function(a,b,d,e,g){return e*(b=b/g)*b*b*b*b+d},easeOutQuint:function(a,b,d,e,g){return e*((b=b/g-1)*b*b*b*b+1)+d},easeInOutQuint:function(a,b,
d,e,g){return(b=b/(g/2))<1?e/2*b*b*b*b*b+d:e/2*((b=b-2)*b*b*b*b+2)+d},easeInSine:function(a,b,d,e,g){return-e*Math.cos(b/g*(Math.PI/2))+e+d},easeOutSine:function(a,b,d,e,g){return e*Math.sin(b/g*(Math.PI/2))+d},easeInOutSine:function(a,b,d,e,g){return-e/2*(Math.cos(Math.PI*b/g)-1)+d},easeInExpo:function(a,b,d,e,g){return b==0?d:e*Math.pow(2,10*(b/g-1))+d},easeOutExpo:function(a,b,d,e,g){return b==g?d+e:e*(-Math.pow(2,-10*b/g)+1)+d},easeInOutExpo:function(a,b,d,e,g){return b==0?d:b==g?d+e:(b=b/(g/
2))<1?e/2*Math.pow(2,10*(b-1))+d:e/2*(-Math.pow(2,-10*--b)+2)+d},easeInCirc:function(a,b,d,e,g){return-e*(Math.sqrt(1-(b=b/g)*b)-1)+d},easeOutCirc:function(a,b,d,e,g){return e*Math.sqrt(1-(b=b/g-1)*b)+d},easeInOutCirc:function(a,b,d,e,g){return(b=b/(g/2))<1?-e/2*(Math.sqrt(1-b*b)-1)+d:e/2*(Math.sqrt(1-(b=b-2)*b)+1)+d},easeInElastic:function(a,b,d,e,g){var a=1.70158,k=0,j=e;if(b==0)return d;if((b=b/g)==1)return d+e;k||(k=g*0.3);if(j<Math.abs(e)){j=e;a=k/4}else a=k/(2*Math.PI)*Math.asin(e/j);return-(j*
Math.pow(2,10*(b=b-1))*Math.sin((b*g-a)*2*Math.PI/k))+d},easeOutElastic:function(a,b,d,e,g){var a=1.70158,k=0,j=e;if(b==0)return d;if((b=b/g)==1)return d+e;k||(k=g*0.3);if(j<Math.abs(e)){j=e;a=k/4}else a=k/(2*Math.PI)*Math.asin(e/j);return j*Math.pow(2,-10*b)*Math.sin((b*g-a)*2*Math.PI/k)+e+d},easeInOutElastic:function(a,b,d,e,g){var a=1.70158,k=0,j=e;if(b==0)return d;if((b=b/(g/2))==2)return d+e;k||(k=g*0.3*1.5);if(j<Math.abs(e)){j=e;a=k/4}else a=k/(2*Math.PI)*Math.asin(e/j);return b<1?-0.5*j*Math.pow(2,
10*(b=b-1))*Math.sin((b*g-a)*2*Math.PI/k)+d:j*Math.pow(2,-10*(b=b-1))*Math.sin((b*g-a)*2*Math.PI/k)*0.5+e+d},easeInBack:function(a,b,d,e,g,k){k==void 0&&(k=1.70158);return e*(b=b/g)*b*((k+1)*b-k)+d},easeOutBack:function(a,b,d,e,g,k){k==void 0&&(k=1.70158);return e*((b=b/g-1)*b*((k+1)*b+k)+1)+d},easeInOutBack:function(a,b,d,e,g,k){k==void 0&&(k=1.70158);return(b=b/(g/2))<1?e/2*b*b*(((k=k*1.525)+1)*b-k)+d:e/2*((b=b-2)*b*(((k=k*1.525)+1)*b+k)+2)+d},easeInBounce:function(a,b,d,e,g){return e-jQuery.easing.easeOutBounce(a,
g-b,0,e,g)+d},easeOutBounce:function(a,b,d,e,g){return(b=b/g)<1/2.75?e*7.5625*b*b+d:b<2/2.75?e*(7.5625*(b=b-1.5/2.75)*b+0.75)+d:b<2.5/2.75?e*(7.5625*(b=b-2.25/2.75)*b+0.9375)+d:e*(7.5625*(b=b-2.625/2.75)*b+0.984375)+d},easeInOutBounce:function(a,b,d,e,g){return b<g/2?jQuery.easing.easeInBounce(a,b*2,0,e,g)*0.5+d:jQuery.easing.easeOutBounce(a,b*2-g,0,e,g)*0.5+e*0.5+d}})});define("bridge/jquery.easing",["jquery/jquery.easing.1.3"],function(){});
define("jquery/jquery.smoothDivScroll-1.2-mod",["bridge/jquery","bridge/jquery-ui","bridge/jquery.mousewheel"],function(){var a=jQuery;a.widget("thomaskahn.smoothDivScroll",{options:{scrollingHotSpotLeftClass:"scrollingHotSpotLeft",scrollingHotSpotRightClass:"scrollingHotSpotRight",scrollableAreaClass:"scrollableArea",scrollWrapperClass:"scrollWrapper",hiddenOnStart:false,ajaxContentURL:"",countOnlyClass:"",startAtElementId:"",hotSpotScrolling:true,hotSpotScrollingStep:15,hotSpotScrollingInterval:10,
hotSpotMouseDownSpeedBooster:3,visibleHotSpotBackgrounds:"onstart",hotSpotsVisibleTime:5E3,easingAfterHotSpotScrolling:true,easingAfterHotSpotScrollingDistance:10,easingAfterHotSpotScrollingDuration:300,easingAfterHotSpotScrollingFunction:"easeOutQuart",mousewheelScrolling:false,mousewheelScrollingStep:70,easingAfterMouseWheelScrolling:true,easingAfterMouseWheelScrollingDuration:300,easingAfterMouseWheelScrollingFunction:"easeOutQuart",manualContinuousScrolling:false,autoScrollingMode:"",autoScrollingDirection:"endlessloopright",
autoScrollingStep:1,autoScrollingInterval:10,scrollToAnimationDuration:1E3,scrollToEasingFunction:"easeOutQuart"},_create:function(){var b=this,d=this.options,e=this.element;e.wrapInner("<div class='"+d.scrollableAreaClass+"'>").wrapInner("<div class='"+d.scrollWrapperClass+"'>");e.prepend("<div class='"+d.scrollingHotSpotLeftClass+"'></div><div class='"+d.scrollingHotSpotRightClass+"'></div>");e.data("scrollWrapper",e.find("."+d.scrollWrapperClass));e.data("scrollingHotSpotRight",e.find("."+d.scrollingHotSpotRightClass));
e.data("scrollingHotSpotLeft",e.find("."+d.scrollingHotSpotLeftClass));e.data("scrollableArea",e.find("."+d.scrollableAreaClass));e.data("speedBooster",1);e.data("scrollXPos",0);e.data("hotSpotWidth",e.data("scrollingHotSpotLeft").innerWidth());e.data("scrollableAreaWidth",0);e.data("startingPosition",0);e.data("rightScrollingInterval",null);e.data("leftScrollingInterval",null);e.data("autoScrollingInterval",null);e.data("hideHotSpotBackgroundsInterval",null);e.data("previousScrollLeft",0);e.data("pingPongDirection",
"right");e.data("getNextElementWidth",true);e.data("swapAt",null);e.data("startAtElementHasNotPassed",true);e.data("swappedElement",null);e.data("originalElements",e.data("scrollableArea").children(d.countOnlyClass));e.data("visible",true);e.data("enabled",true);e.data("scrollableAreaHeight",e.data("scrollableArea").height());e.data("scrollerOffset",e.offset());e.data("initialAjaxContentLoaded",false);e.data("scrollingHotSpotRight").bind("mousemove",function(a){a=a.pageX-(this.offsetLeft+e.data("scrollerOffset").left);
e.data("scrollXPos",Math.round(a/e.data("hotSpotWidth")*d.hotSpotScrollingStep));e.data("scrollXPos")===Infinity&&e.data("scrollXPos",0)});e.data("scrollingHotSpotRight").bind("mouseover",function(){e.data("scrollWrapper").stop(true,false);b.stopAutoScrolling();e.data("rightScrollingInterval",setInterval(function(){if(e.data("scrollXPos")>0&&e.data("enabled")){e.data("scrollWrapper").scrollLeft(e.data("scrollWrapper").scrollLeft()+e.data("scrollXPos")*e.data("speedBooster"));d.manualContinuousScrolling&&
b._checkContinuousSwapRight();b._showHideHotSpots()}},d.hotSpotScrollingInterval));b._trigger("mouseOverRightHotSpot")});e.data("scrollingHotSpotRight").bind("mouseout",function(){clearInterval(e.data("rightScrollingInterval"));e.data("scrollXPos",0);d.easingAfterHotSpotScrolling&&e.data("enabled")&&e.data("scrollWrapper").animate({scrollLeft:e.data("scrollWrapper").scrollLeft()+d.easingAfterHotSpotScrollingDistance},{duration:d.easingAfterHotSpotScrollingDuration,easing:d.easingAfterHotSpotScrollingFunction})});
e.data("scrollingHotSpotRight").bind("mousedown",function(){e.data("speedBooster",d.hotSpotMouseDownSpeedBooster)});a("body").bind("mouseup",function(){e.data("speedBooster",1)});e.data("scrollingHotSpotLeft").bind("mousemove",function(a){a=this.offsetLeft+e.data("scrollerOffset").left+e.data("hotSpotWidth")-a.pageX;e.data("scrollXPos",Math.round(a/e.data("hotSpotWidth")*d.hotSpotScrollingStep));e.data("scrollXPos")===Infinity&&e.data("scrollXPos",0)});e.data("scrollingHotSpotLeft").bind("mouseover",
function(){e.data("scrollWrapper").stop(true,false);b.stopAutoScrolling();e.data("leftScrollingInterval",setInterval(function(){if(e.data("scrollXPos")>0&&e.data("enabled")){e.data("scrollWrapper").scrollLeft(e.data("scrollWrapper").scrollLeft()-e.data("scrollXPos")*e.data("speedBooster"));d.manualContinuousScrolling&&b._checkContinuousSwapLeft();b._showHideHotSpots()}},d.hotSpotScrollingInterval));b._trigger("mouseOverLeftHotSpot")});e.data("scrollingHotSpotLeft").bind("mouseout",function(){clearInterval(e.data("leftScrollingInterval"));
e.data("scrollXPos",0);d.easingAfterHotSpotScrolling&&e.data("enabled")&&e.data("scrollWrapper").animate({scrollLeft:e.data("scrollWrapper").scrollLeft()-d.easingAfterHotSpotScrollingDistance},{duration:d.easingAfterHotSpotScrollingDuration,easing:d.easingAfterHotSpotScrollingFunction})});e.data("scrollingHotSpotLeft").bind("mousedown",function(){e.data("speedBooster",d.hotSpotMouseDownSpeedBooster)});e.data("scrollableArea").mousewheel(function(a,k){if(e.data("enabled")&&d.mousewheelScrolling){a.preventDefault();
b.stopAutoScrolling();var j=Math.round(d.mousewheelScrollingStep*k);b.move(j)}});d.mousewheelScrolling&&e.data("scrollingHotSpotLeft").add(e.data("scrollingHotSpotRight")).mousewheel(function(a){a.preventDefault()});a(window).bind("resize",function(){b._showHideHotSpots();b._trigger("windowResized")});d.ajaxContentURL.length>0?b.changeContent(d.ajaxContentURL,"","html","replace"):b.recalculateScrollableArea();if(d.autoScrollingMode!=="always")switch(d.visibleHotSpotBackgrounds){case "always":b.showHotSpotBackgrounds();
break;case "onstart":b.showHotSpotBackgrounds();e.data("hideHotSpotBackgroundsInterval",setTimeout(function(){b.hideHotSpotBackgrounds("slow")},d.hotSpotsVisibleTime))}d.hiddenOnStart&&b.hide();a(window).load(function(){d.hiddenOnStart||b.recalculateScrollableArea();d.autoScrollingMode.length>0&&!d.hiddenOnStart&&b.startAutoScrolling()})},_setOption:function(a,d){var e=this.options,g=this.element;e[a]=d;if(a==="hotSpotScrolling")if(d===true)this._showHideHotSpots();else{g.data("scrollingHotSpotLeft").hide();
g.data("scrollingHotSpotRight").hide()}else if(a==="autoScrollingStep"||a==="easingAfterHotSpotScrollingDistance"||a==="easingAfterHotSpotScrollingDuration"||a==="easingAfterMouseWheelScrollingDuration")e[a]=parseInt(d,10);else if(a==="autoScrollingInterval"){e[a]=parseInt(d,10);this.startAutoScrolling()}},showHotSpotBackgrounds:function(a){var d=this.element;if(a!==void 0){d.data("scrollingHotSpotLeft").add(d.data("scrollingHotSpotRight")).css("opacity","0.0");d.data("scrollingHotSpotLeft").addClass("scrollingHotSpotLeftVisible");
d.data("scrollingHotSpotRight").addClass("scrollingHotSpotRightVisible");d.data("scrollingHotSpotLeft").add(d.data("scrollingHotSpotRight")).fadeTo(a,0.35)}else{d.data("scrollingHotSpotLeft").addClass("scrollingHotSpotLeftVisible");d.data("scrollingHotSpotLeft").removeAttr("style");d.data("scrollingHotSpotRight").addClass("scrollingHotSpotRightVisible");d.data("scrollingHotSpotRight").removeAttr("style")}this._showHideHotSpots()},hideHotSpotBackgrounds:function(a){var d=this.element;if(a!==void 0){d.data("scrollingHotSpotLeft").fadeTo(a,
0,function(){d.data("scrollingHotSpotLeft").removeClass("scrollingHotSpotLeftVisible")});d.data("scrollingHotSpotRight").fadeTo(a,0,function(){d.data("scrollingHotSpotRight").removeClass("scrollingHotSpotRightVisible")})}else{d.data("scrollingHotSpotLeft").removeClass("scrollingHotSpotLeftVisible").removeAttr("style");d.data("scrollingHotSpotRight").removeClass("scrollingHotSpotRightVisible").removeAttr("style")}},_showHideHotSpots:function(){var a=this.element,d=this.options;if(d.manualContinuousScrolling&&
d.hotSpotScrolling){a.data("scrollingHotSpotLeft").show();a.data("scrollingHotSpotRight").show()}else if(d.autoScrollingMode!=="always"&&d.hotSpotScrolling)if(a.data("scrollableAreaWidth")<=a.data("scrollWrapper").innerWidth()){a.data("scrollingHotSpotLeft").hide();a.data("scrollingHotSpotRight").hide()}else if(a.data("scrollWrapper").scrollLeft()===0){a.data("scrollingHotSpotLeft").hide();a.data("scrollingHotSpotRight").show();this._trigger("scrollerLeftLimitReached");clearInterval(a.data("leftScrollingInterval"));
a.data("leftScrollingInterval",null)}else if(a.data("scrollableAreaWidth")<=a.data("scrollWrapper").innerWidth()+a.data("scrollWrapper").scrollLeft()){a.data("scrollingHotSpotLeft").show();a.data("scrollingHotSpotRight").hide();this._trigger("scrollerRightLimitReached");clearInterval(a.data("rightScrollingInterval"));a.data("rightScrollingInterval",null)}else{a.data("scrollingHotSpotLeft").show();a.data("scrollingHotSpotRight").show()}else{a.data("scrollingHotSpotLeft").hide();a.data("scrollingHotSpotRight").hide()}},
_setElementScrollPosition:function(b,d){var e=this.element,g=this.options,k=0;switch(b){case "first":e.data("scrollXPos",0);return true;case "start":if(g.startAtElementId!==""&&e.data("scrollableArea").has("#"+g.startAtElementId)){k=a("#"+g.startAtElementId).position().left;e.data("scrollXPos",k);return true}return false;case "last":e.data("scrollXPos",e.data("scrollableAreaWidth")-e.data("scrollWrapper").innerWidth());return true;case "number":if(!isNaN(d)){k=e.data("scrollableArea").children(g.countOnlyClass).eq(d-
1).position().left;e.data("scrollXPos",k);return true}return false;case "id":if(d.length>0&&e.data("scrollableArea").has("#"+d)){k=a("#"+d).position().left;e.data("scrollXPos",k);return true}return false;default:return false}},jumpToElement:function(a,d){var e=this.element;if(e.data("enabled")&&this._setElementScrollPosition(a,d)){e.data("scrollWrapper").scrollLeft(e.data("scrollXPos"));this._showHideHotSpots();switch(a){case "first":this._trigger("jumpedToFirstElement");break;case "start":this._trigger("jumpedToStartElement");
break;case "last":this._trigger("jumpedToLastElement");break;case "number":this._trigger("jumpedToElementNumber",null,{elementNumber:d});break;case "id":this._trigger("jumpedToElementId",null,{elementId:d})}}},scrollToElement:function(a,d){var e=this,g=this.element,k=this.options,j=false;if(g.data("enabled")&&e._setElementScrollPosition(a,d)){if(g.data("autoScrollingInterval")!==null){e.stopAutoScrolling();j=true}g.data("scrollWrapper").stop(true,false);g.data("scrollWrapper").animate({scrollLeft:g.data("scrollXPos")},
{duration:k.scrollToAnimationDuration,easing:k.scrollToEasingFunction,complete:function(){j&&e.startAutoScrolling();e._showHideHotSpots();switch(a){case "first":e._trigger("scrolledToFirstElement");break;case "start":e._trigger("scrolledToStartElement");break;case "last":e._trigger("scrolledToLastElement");break;case "number":e._trigger("scrolledToElementNumber",null,{elementNumber:d});break;case "id":e._trigger("scrolledToElementId",null,{elementId:d})}}})}},move:function(a){var d=this,e=this.element,
g=this.options;e.data("scrollWrapper").stop(true,true);if(a<0&&e.data("scrollWrapper").scrollLeft()>0||a>0&&e.data("scrollableAreaWidth")>e.data("scrollWrapper").innerWidth()+e.data("scrollWrapper").scrollLeft())if(g.easingAfterMouseWheelScrolling)e.data("scrollWrapper").animate({scrollLeft:e.data("scrollWrapper").scrollLeft()+a},{duration:g.easingAfterMouseWheelScrollingDuration,easing:g.easingAfterMouseWheelFunction,complete:function(){d._showHideHotSpots();g.manualContinuousScrolling&&(a>0?d._checkContinuousSwapRight():
d._checkContinuousSwapLeft())}});else{e.data("scrollWrapper").scrollLeft(e.data("scrollWrapper").scrollLeft()+a);d._showHideHotSpots();g.manualContinuousScrolling&&(a>0?d._checkContinuousSwapRight():d._checkContinuousSwapLeft())}},changeContent:function(b,d,e,g){var k=this,j=this.element;switch(d){case "flickrFeed":a.getJSON(b,function(b){function d(b,p){var C=b.media.m.replace("_m",B[p].letter);a("<img />").attr("src",C).load(function(){this.height<j.data("scrollableAreaHeight")?p+1<B.length?d(b,
p+1):z(this):z(this);if(w===A){switch(e){case "add":g==="first"?j.data("scrollableArea").children(":first").before(y):j.data("scrollableArea").children(":last").after(y);break;default:j.data("scrollableArea").html(y)}j.data("initialAjaxContentLoaded")?k.recalculateScrollableArea():j.data("initialAjaxContentLoaded",true);k._showHideHotSpots();k._trigger("addedFlickrContent",null,{addedElementIds:F})}})}function z(b){var d=j.data("scrollableAreaHeight")/b.height,d=Math.round(b.width*d),e=a(b).attr("src").split("/"),
e=e[e.length-1].split(".");a(b).attr("id",e[0]);a(b).css({height:j.data("scrollableAreaHeight"),width:d});F.push(e[0]);y.push(b);w++}var B=[{size:"small square",pixels:75,letter:"_s"},{size:"thumbnail",pixels:100,letter:"_t"},{size:"small",pixels:240,letter:"_m"},{size:"medium",pixels:500,letter:""},{size:"medium 640",pixels:640,letter:"_z"},{size:"large",pixels:1024,letter:"_b"}],y=[],F=[],C,A=b.items.length,w=0;C=j.data("scrollableAreaHeight")<=75?0:j.data("scrollableAreaHeight")<=100?1:j.data("scrollableAreaHeight")<=
240?2:j.data("scrollableAreaHeight")<=500?3:j.data("scrollableAreaHeight")<=640?4:5;a.each(b.items,function(a,b){d(b,C)})});break;default:a.get(b,function(a){switch(e){case "add":g==="first"?j.data("scrollableArea").children(":first").before(a):j.data("scrollableArea").children(":last").after(a);break;default:j.data("scrollableArea").html(a)}j.data("initialAjaxContentLoaded")?k.recalculateScrollableArea():j.data("initialAjaxContentLoaded",true);k._showHideHotSpots();k._trigger("addedHtmlContent")})}},
recalculateScrollableArea:function(){var b=0,d=false,e=this.options,g=this.element;g.data("scrollableArea").children(e.countOnlyClass).each(function(){if(e.startAtElementId.length>0&&a(this).attr("id")===e.startAtElementId){g.data("startingPosition",b);d=true}b=b+a(this).outerWidth(true)});d||g.data("startAtElementId","");g.data("scrollableAreaWidth",b);g.data("scrollableArea").width(g.data("scrollableAreaWidth"));g.data("scrollWrapper").scrollLeft(g.data("startingPosition"));g.data("scrollXPos",
g.data("startingPosition"))},stopAutoScrolling:function(){var a=this.element;if(a.data("autoScrollingInterval")!==null){clearInterval(a.data("autoScrollingInterval"));a.data("autoScrollingInterval",null);this._showHideHotSpots();this._trigger("autoScrollingStopped")}},startAutoScrolling:function(){var a=this,d=this.element,e=this.options;if(d.data("enabled")){a._showHideHotSpots();clearInterval(d.data("autoScrollingInterval"));d.data("autoScrollingInterval",null);a._trigger("autoScrollingStarted");
d.data("autoScrollingInterval",setInterval(function(){a._showHideHotSpots();if(!d.data("visible")||d.data("scrollableAreaWidth")<=d.data("scrollWrapper").innerWidth()){clearInterval(d.data("autoScrollingInterval"));d.data("autoScrollingInterval",null)}else{d.data("previousScrollLeft",d.data("scrollWrapper").scrollLeft());switch(e.autoScrollingDirection){case "right":d.data("scrollWrapper").scrollLeft(d.data("scrollWrapper").scrollLeft()+e.autoScrollingStep);if(d.data("previousScrollLeft")===d.data("scrollWrapper").scrollLeft()){a._trigger("autoScrollingRightLimitReached");
clearInterval(d.data("autoScrollingInterval"));d.data("autoScrollingInterval",null);a._trigger("autoScrollingIntervalStopped")}break;case "left":d.data("scrollWrapper").scrollLeft(d.data("scrollWrapper").scrollLeft()-e.autoScrollingStep);if(d.data("previousScrollLeft")===d.data("scrollWrapper").scrollLeft()){a._trigger("autoScrollingLeftLimitReached");clearInterval(d.data("autoScrollingInterval"));d.data("autoScrollingInterval",null);a._trigger("autoScrollingIntervalStopped")}break;case "backandforth":d.data("pingPongDirection")===
"right"?d.data("scrollWrapper").scrollLeft(d.data("scrollWrapper").scrollLeft()+e.autoScrollingStep):d.data("scrollWrapper").scrollLeft(d.data("scrollWrapper").scrollLeft()-e.autoScrollingStep);if(d.data("previousScrollLeft")===d.data("scrollWrapper").scrollLeft())if(d.data("pingPongDirection")==="right"){d.data("pingPongDirection","left");a._trigger("autoScrollingRightLimitReached")}else{d.data("pingPongDirection","right");a._trigger("autoScrollingLeftLimitReached")}break;case "endlessloopright":d.data("scrollWrapper").scrollLeft(d.data("scrollWrapper").scrollLeft()+
e.autoScrollingStep);a._checkContinuousSwapRight();break;case "endlessloopleft":d.data("scrollWrapper").scrollLeft(d.data("scrollWrapper").scrollLeft()-e.autoScrollingStep);a._checkContinuousSwapLeft()}}},e.autoScrollingInterval))}},_checkContinuousSwapRight:function(){var b=this.element,d=this.options;if(b.data("getNextElementWidth")){if(d.startAtElementId.length>0&&b.data("startAtElementHasNotPassed")){b.data("swapAt",a("#"+d.startAtElementId).outerWidth(true));b.data("startAtElementHasNotPassed",
false)}else b.data("swapAt",b.data("scrollableArea").children(":first").outerWidth(true));b.data("getNextElementWidth",false)}if(b.data("swapAt")<=b.data("scrollWrapper").scrollLeft()){b.data("swappedElement",b.data("scrollableArea").children(":first").detach());b.data("scrollableArea").append(b.data("swappedElement"));d=b.data("scrollWrapper").scrollLeft();b.data("scrollWrapper").scrollLeft(d-b.data("swappedElement").outerWidth(true));b.data("getNextElementWidth",true)}},_checkContinuousSwapLeft:function(){var b=
this.element,d=this.options;if(b.data("getNextElementWidth")){if(d.startAtElementId.length>0&&b.data("startAtElementHasNotPassed")){b.data("swapAt",a("#"+d.startAtElementId).outerWidth(true));b.data("startAtElementHasNotPassed",false)}else b.data("swapAt",b.data("scrollableArea").children(":first").outerWidth(true));b.data("getNextElementWidth",false)}if(b.data("scrollWrapper").scrollLeft()===0){b.data("swappedElement",b.data("scrollableArea").children(":last").detach());b.data("scrollableArea").prepend(b.data("swappedElement"));
b.data("scrollWrapper").scrollLeft(b.data("scrollWrapper").scrollLeft()+b.data("swappedElement").outerWidth(true));b.data("getNextElementWidth",true)}},restoreOriginalElements:function(){var a=this.element;a.data("scrollableArea").html(a.data("originalElements"));this.recalculateScrollableArea();this.jumpToElement("first")},show:function(){var a=this.element;a.data("visible",true);a.show()},hide:function(){var a=this.element;a.data("visible",false);a.hide()},enable:function(){this.element.data("enabled",
true)},disable:function(){var a=this.element;this.stopAutoScrolling();clearInterval(a.data("rightScrollingInterval"));clearInterval(a.data("leftScrollingInterval"));clearInterval(a.data("hideHotSpotBackgroundsInterval"));a.data("enabled",false)},destroy:function(){var b=this.element;this.stopAutoScrolling();clearInterval(b.data("rightScrollingInterval"));clearInterval(b.data("leftScrollingInterval"));clearInterval(b.data("hideHotSpotBackgroundsInterval"));b.data("scrollingHotSpotRight").unbind("mouseover");
b.data("scrollingHotSpotRight").unbind("mouseout");b.data("scrollingHotSpotRight").unbind("mousedown");b.data("scrollingHotSpotLeft").unbind("mouseover");b.data("scrollingHotSpotLeft").unbind("mouseout");b.data("scrollingHotSpotLeft").unbind("mousedown");b.data("scrollingHotSpotRight").remove();b.data("scrollingHotSpotLeft").remove();b.data("scrollableArea").remove();b.data("scrollWrapper").remove();b.html(b.data("originalElements"));a.Widget.prototype.destroy.apply(this,arguments)}})});
define("bridge/jquery.smoothdivscroll",["jquery/jquery.smoothDivScroll-1.2-mod"],function(){});require(["bridge/jquery","bridge/jquery-ui","bridge/jquery.easing","bridge/jquery.smoothdivscroll"],function(a){a(document).ready(function(){a("#species-images").smoothDivScroll({autoScrollingMode:"onstart",autoScrollingDirection:"backandforth",autoScrollingStep:1,autoScrollingInterval:75,visibleHotSpotBackgrounds:"always"});a(window).load()})});define("util/activate_smooth_div_scroll",function(){});
define("simplekey/SpeciesPageHelper",["bridge/jquery","bridge/shadowbox","util/sidebar","simplekey/PhotoHelper","simplekey/glossarize"],function(a,b,d,e,g){var k={init:function(){this.photo_helper=e()},toggle_character_group:function(){a("ul.full-description li h5").toggle(function(){a(this).siblings("div").show();a(this).css("background-image",'url("/static/images/icons/minus.png")');d.set_height();return false},function(){a(this).siblings("div").hide();a(this).css("background-image",'url("/static/images/icons/plus.png")');
d.set_height();return false})},toggle_characters_full_list:function(){var b=this;a("a.description-control").toggle(function(){a("ul.full-description").show();a(this).text("Hide "+a(this).text().substr(a(this).text().indexOf(" ")));a(this).css("background-image",'url("/static/images/icons/minus.png")');b.toggle_character_group();d.set_height();return false},function(){a("ul.full-description").hide();a(this).text("Show "+a(this).text().substr(a(this).text().indexOf(" ")));a(this).css("background-image",
'url("/static/images/icons/plus.png")');d.set_height();return false})},wire_up_image_links:function(){var d=this;a("#species-images a").each(function(e,g){a(g).click(a.proxy(function(a){a.preventDefault();b.open({content:g.href,player:"img",title:g.title,options:{onOpen:d.photo_helper.prepare_to_enlarge,onFinish:d.photo_helper.process_credit}})},this))})},wire_up_us_map_link:function(){a("#sidebar .section.namap div.trans").first().click(a.proxy(function(d){d.preventDefault();d=a("#sidebar .section.namap div").first();
b.open({content:d.html(),player:"html",height:582,width:1E3})},this))},setup:function(){this.toggle_characters_full_list();g(a("#sidebar dd, #main p:not(.nogloss), #main dt, #main dd, #main li, #main th, #main td"));this.wire_up_image_links();this.wire_up_us_map_link();d.setup()}};return function(){var a=Object.create(k);a.init();return a}});define("simplekey/species",["bridge/jquery","util/shadowbox_init","util/activate_smooth_div_scroll","simplekey/SpeciesPageHelper"],function(a,b,d,e){a(document).ready(function(){e().setup()})});
define("simplekey/family",["bridge/jquery","util/sidebar","util/shadowbox_init","simplekey/PhotoHelper","simplekey/glossarize"],function(a,b,d,e,g){return{init:function(){a(document).ready(function(){g(a(".description"));b.setup();var d=e();a(".pics .plant").each(function(b,e){var g=a(e).children(".frame"),z=a(e).children("a"),B=a(z).attr("href"),y=a(z).attr("title");a(g).click(function(){Shadowbox.open({content:B,player:"img",title:y,options:{onOpen:d.prepare_to_enlarge,onFinish:d.process_credit}})})})})}}});
define("simplekey/genus",["bridge/jquery","util/sidebar","util/shadowbox_init","simplekey/PhotoHelper","simplekey/glossarize"],function(a,b,d,e,g){return{init:function(){a(document).ready(function(){g(a(".description"));b.setup();var d=e();a(".pics .plant").each(function(b,e){var g=a(e).children(".frame"),z=a(e).children("a"),B=a(z).attr("href"),y=a(z).attr("title");a(g).click(function(){Shadowbox.open({content:B,player:"img",title:y,options:{onOpen:d.prepare_to_enlarge,onFinish:d.process_credit}})})})})}}});
require(["util/sidebar"],function(a){a.setup()});define("simplekey/search",function(){});define("util/fade",["bridge/jquery"],function(a){return fade_next_banner_image=function(){var b=a("#banner > img"),d,e=a(b[0]);for(d=0;d<b.length;d++)if(a(b[d]).is(":visible")){e=a(b[d]);break}b=d<b.length-1?a(b[d+1]):a(b[0]);e.fadeOut(2E3);b.fadeIn(2E3)}});require(["util/fade"],function(a){setInterval(a,6E3)});define("site/home",function(){});
define("simplekey/SearchSuggest",["bridge/jquery"],function(a){var b=function(){};b.prototype={};b.prototype.init=function(b){this.stored_search_box_value=b;this.search_box=a("#search-suggest input").first();this.search_box.length==0&&console.error("SearchSuggest.js: Search box not found.");this.menu=a("#search-suggest .menu").first();this.menu.length==0&&console.error("SearchSuggest.js: Menu not found.");this.menu_list=a("#search-suggest .menu ul").first();this.menu_list.length==0&&console.error("SearchSuggest.js: Menu list not found.");
this.result_cache={}};b.prototype.setup=function(){this.set_timer();this.search_box.keyup(a.proxy(this.handle_keys,this));a(window).resize(a.proxy(this.set_horizontal_position,this))};b.prototype.get_highlighted_menu_item_index=function(){return this.menu.find("li.highlighted").index()};b.prototype.get_text_from_item_html=function(a){var b=a.indexOf("q=")+2,g=a.indexOf('">');return a.slice(b,g)};b.prototype.highlight_menu_item=function(a){var b=this.menu.find("li").eq(a);if(b!==void 0){a=this.get_highlighted_menu_item_index();
a>=0&&this.menu.find("li").eq(a).removeClass("highlighted");b.addClass("highlighted");this.stored_search_box_value=b=unescape(this.get_text_from_item_html(b.html()));this.search_box.val(b)}else console.log("menu item "+a+" undefined")};b.prototype.highlight_next_menu_item=function(){var a=this.get_highlighted_menu_item_index()+1,b=this.menu.find("li").length;a>=b&&(a=0);this.highlight_menu_item(a)};b.prototype.highlight_previous_menu_item=function(){var a=this.get_highlighted_menu_item_index()-1,
b=this.menu.find("li").length;a<0&&(a=b-1);this.highlight_menu_item(a)};b.prototype.handle_keys=function(a){switch(a.which){case 40:this.highlight_next_menu_item();break;case 38:this.highlight_previous_menu_item();break;case 9:case 27:this.show_menu(false)}};b.prototype.set_timer=function(){setTimeout(a.proxy(this.check_for_change,this),200)};b.prototype.check_for_change=function(){this.has_search_box_changed()&&this.handle_search_query();this.set_timer()};b.prototype.has_search_box_changed=function(){var a=
false;if(this.search_box.val()!==this.stored_search_box_value){a=true;this.stored_search_box_value=this.search_box.val()}return a};b.prototype.set_horizontal_position=function(){var a=this.search_box.offset();this.menu.css("left",a.left-3+"px")};b.prototype.show_menu=function(a){a?this.menu.removeClass("hidden"):this.menu.addClass("hidden");this.set_horizontal_position()};b.prototype.format_suggestion=function(a,b){return a.replace(RegExp(b,"i"),"<span>$&</span>").toLowerCase()};b.prototype.display_suggestions=
function(b,e){this.menu_list.empty();if(b.length>0){this.show_menu(true);var g;for(g=0;g<b.length;g=g+1){var k=b[g],j=k.toLowerCase().replace(/\-/g," "),j=SEARCH_URL+"?q="+j,k=this.format_suggestion(k,e),p=a(document.createElement("li")),o=a(document.createElement("a"));o.attr("href",j);o.html(k);p.append(o);p.bind("click",{item:p},a.proxy(function(a){this.select_suggestion(a.data.item)},this));this.menu_list.append(p)}}else this.show_menu(false)};b.prototype.get_cached_suggestions=function(a){return this.result_cache[a]};
b.prototype.get_suggestions=function(b){a.ajax({url:SUGGEST_URL,data:{q:b},context:this}).done(function(a){this.result_cache[b]=a;this.display_suggestions(a,b)})};b.prototype.handle_search_query=function(){var a=this.stored_search_box_value;if(a.length>0){var b=this.get_cached_suggestions(a);b===void 0?this.get_suggestions(a):this.display_suggestions(b,a)}else this.show_menu(false)};b.prototype.select_suggestion=function(a){a=a.find("a").first();if(a!==void 0){a=a.attr("href");if(a!==void 0){var b=
unescape(a.substring(a.indexOf("=")+1));this.stored_search_box_value=b;this.search_box.val(b);this.show_menu(false);window.location.href=a}}};return b});require(["bridge/jquery","simplekey/SearchSuggest"],function(a,b){return a(document).ready(function(){var d=a("#search input").val(),e=new b;e.init(d);e.setup()})});define("util/activate_search_suggest",function(){});